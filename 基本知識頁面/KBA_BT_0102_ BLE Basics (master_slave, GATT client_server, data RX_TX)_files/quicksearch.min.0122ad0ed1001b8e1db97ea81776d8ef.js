$CQ(document).ready(function(){var h=function(a){$(a).autocomplete({source:function(k,b){$.get(g("*"+$CQ(a).val()+"*"),function(a){b(a.items)})},minLength:3,appendTo:".scf-quicksearch-form-group",position:{my:"right top",at:"right bottom"},focus:function(a,b){a.preventDefault();$(this).val(d(b.item))},change:function(a,b){},select:function(a,b){13===(a.keyCode?a.keyCode:a.which)&&window.location.replace(b.item.friendlyUrl)},setvalue:function(a){}}).data("uiAutocomplete")._renderItem=function(a,b){return $CQ("\x3cli class\x3d'scf-quicksearch-item-container'\x3e\x3c/li\x3e").append("\x3ca href\x3d'"+
b.friendlyUrl+"'\x3e\x3cspan class\x3d'glyphicon scf-icon-"+b.resourceType.replace(/\//g,"-")+"' aria-hidden\x3d'true'\x3e\x3c/span\x3e\x3cspan class\x3d'scf-quicksearch-item'\x3e"+d(b)+"\x3c/span\x3e\x3cspan class\x3d'small scf-quicksearch-item-url'\x3e"+b.friendlyUrl+"\x3c/span\x3e\x3c/a\x3e").data("item.autocomplete",b).appendTo(a)};$("#scf-js-quicksearch-input-inline").keypress(function(a){if(13===(a.keyCode?a.keyCode:a.which)){a.preventDefault();SCF.Router.navigate(window.location.href,{trigger:!1});
a=$("#form-search-input-inline").find(".scf-js-seach-resultPage").val();var b=f($CQ(this).val(),!0);CQ.shared.HTTP.getContextPath();a=a+".html?tzOffset\x3d"+(new Date).getTimezoneOffset()+"\x26"+b;window.location.replace(a)}})},d=function(a){return a.subject&&0<a.subject.length?a.subject:a.name&&0<a.name.length?a.name:a.resourceType.split("/")[a.resourceType.split("/").length-1]},g=function(a){return $CQ(".scf-js-search-endpoint").val()+".social.json?"+f(a)},f=function(a,d){var b="",c=$CQ(".scf-js-searchform").data("paths");
if("undefined"!==typeof c&&null!==c&&0<c.length){c=c.substring(1,c.length-1);var e=c.split(",")}(a=a.trim())&&0<a.length&&(b="filter\x3djcr:title like '"+encodeURIComponent(a)+"'",b+=0<b.length?", ":"filter\x3d",b+="author_display_name like '"+encodeURIComponent(a)+"'",d&&(b+=", jcr:description like '"+encodeURIComponent(a)+"'",b+=", tag like '"+encodeURIComponent(a)+"'"),b=b+"\x26expLanguage\x3ddefault"+("\x26searchText\x3d"+encodeURIComponent(a)));if("undefined"!=typeof e)for(i=0;i<e.length;i++)b+=
"\x26path\x3d"+e[i].trim();a=CQ.shared.HTTP.getContextPath();null!==a&&0<a.length||CQ.shared.HTTP.getPath();return b+"\x26_charset_\x3dutf-8"};0!==$CQ("#scf-js-quicksearch-input-inline").length&&h($CQ("#scf-js-quicksearch-input-inline"))});