/*
 imagesLoaded PACKAGED v4.1.1
 JavaScript is all like "You images are done yet or what?"
 MIT License
 imagesLoaded v4.1.1
 JavaScript is all like "You images are done yet or what?"
 MIT License
*/
(function(g,d){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",d):"object"==typeof module&&module.exports?module.exports=d():g.EvEmitter=d()})("undefined"!=typeof window?window:this,function(){function g(){}var d=g.prototype;d.on=function(b,e){if(b&&e){var c=this._events=this._events||{};b=c[b]=c[b]||[];-1==b.indexOf(e)&&b.push(e);return this}};d.once=function(b,e){if(b&&e){this.on(b,e);var c=this._onceEvents=this._onceEvents||{};(c[b]=c[b]||{})[e]=!0;return this}};d.off=function(b,
e){if((b=this._events&&this._events[b])&&b.length)return e=b.indexOf(e),-1!=e&&b.splice(e,1),this};d.emitEvent=function(b,e){var c=this._events&&this._events[b];if(c&&c.length){var d=0,g=c[d];e=e||[];for(var n=this._onceEvents&&this._onceEvents[b];g;){var k=n&&n[g];k&&(this.off(b,g),delete n[g]);g.apply(this,e);d+=k?0:1;g=c[d]}return this}};return g});
(function(g,d){"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(b){return d(g,b)}):"object"==typeof module&&module.exports?module.exports=d(g,require("ev-emitter")):g.imagesLoaded=d(g,g.EvEmitter)})(window,function(g,d){function b(a,f){for(var b in f)a[b]=f[b];return a}function e(a){var f=[];if(Array.isArray(a))f=a;else if("number"==typeof a.length)for(var b=0;b<a.length;b++)f.push(a[b]);else f.push(a);return f}function c(a,f,d){if(!(this instanceof c))return new c(a,
f,d);"string"==typeof a&&(a=document.querySelectorAll(a));this.elements=e(a);this.options=b({},this.options);"function"==typeof f?d=f:b(this.options,f);if(d)this.on("always",d);this.getImages();n&&(this.jqDeferred=new n.Deferred);setTimeout(function(){this.check()}.bind(this))}function h(a){this.img=a}function m(a,f){this.url=a;this.element=f;this.img=new Image}var n=g.jQuery,k=g.console;c.prototype=Object.create(d.prototype);c.prototype.options={};c.prototype.getImages=function(){this.images=[];
this.elements.forEach(this.addElementImages,this)};c.prototype.addElementImages=function(a){"IMG"==a.nodeName&&this.addImage(a);!0===this.options.background&&this.addElementBackgroundImages(a);var f=a.nodeType;if(f&&l[f]){var b=a.querySelectorAll("img");for(f=0;f<b.length;f++)this.addImage(b[f]);if("string"==typeof this.options.background)for(a=a.querySelectorAll(this.options.background),f=0;f<a.length;f++)this.addElementBackgroundImages(a[f])}};var l={1:!0,9:!0,11:!0};c.prototype.addElementBackgroundImages=
function(a){var b=getComputedStyle(a);if(b)for(var d=/url\((['"])?(.*?)\1\)/gi,c=d.exec(b.backgroundImage);null!==c;)(c=c&&c[2])&&this.addBackground(c,a),c=d.exec(b.backgroundImage)};c.prototype.addImage=function(a){a=new h(a);this.images.push(a)};c.prototype.addBackground=function(a,b){a=new m(a,b);this.images.push(a)};c.prototype.check=function(){function a(a,c,f){setTimeout(function(){b.progress(a,c,f)})}var b=this;this.progressedCount=0;this.hasAnyBroken=!1;this.images.length?this.images.forEach(function(b){b.once("progress",
a);b.check()}):this.complete()};c.prototype.progress=function(a,b,c){this.progressedCount++;this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;this.emitEvent("progress",[this,a,b]);this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,a);this.progressedCount==this.images.length&&this.complete();this.options.debug&&k&&k.log("progress: "+c,a,b)};c.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;this.emitEvent(a,[this]);this.emitEvent("always",[this]);
if(this.jqDeferred)this.jqDeferred[this.hasAnyBroken?"reject":"resolve"](this)};h.prototype=Object.create(d.prototype);h.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)};h.prototype.getIsImageComplete=function(){return this.img.complete&&
void 0!==this.img.naturalWidth};h.prototype.confirm=function(a,b){this.isLoaded=a;this.emitEvent("progress",[this,this.img,b])};h.prototype.handleEvent=function(a){var b="on"+a.type;if(this[b])this[b](a)};h.prototype.onload=function(){this.confirm(!0,"onload");this.unbindEvents()};h.prototype.onerror=function(){this.confirm(!1,"onerror");this.unbindEvents()};h.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this);this.proxyImage.removeEventListener("error",this);this.img.removeEventListener("load",
this);this.img.removeEventListener("error",this)};m.prototype=Object.create(h.prototype);m.prototype.check=function(){this.img.addEventListener("load",this);this.img.addEventListener("error",this);this.img.src=this.url;this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())};m.prototype.unbindEvents=function(){this.img.removeEventListener("load",this);this.img.removeEventListener("error",this)};m.prototype.confirm=function(a,b){this.isLoaded=a;this.emitEvent("progress",
[this,this.element,b])};c.makeJQueryPlugin=function(a){if(a=a||g.jQuery)n=a,n.fn.imagesLoaded=function(a,b){return(new c(this,a,b)).jqDeferred.promise(n(this))}};c.makeJQueryPlugin();return c});
(function(g){window.SCFCards=function(d,b){this.container=g(d);d=b||{};this.cardMargin=d.cardMargin||10;this.containerPadding=d.containerPadding||0;this.cardWidth=d.cardWidth||154;var e=this;g(window).resize(function(){e.redraw(!0)});this.redraw(!1)};SCFCards.prototype.redraw=function(d){this.containerWidth=this.container.outerWidth(!0);this.cards=this.container.find(".scf-card");this.columns=Math.floor((this.containerWidth-2*this.containerPadding)/(this.cardWidth+2*this.cardMargin));this.occupiedWidth=
Math.ceil(this.columns*(this.cardWidth+2*this.cardMargin));this.newSidePadding=Math.floor((this.containerWidth-this.occupiedWidth)/2);this.container.css({"padding-left":this.newSidePadding,"padding-right":this.newSidePadding,position:"relative"});for(var b=this,e=[],c=0;c<this.columns;c++)e[c]=b.newSidePadding;var h=0,m=b.newSidePadding;this.cards.each(function(c,k){k=g(k);for(var l=0,a=0;a<b.columns&&!(e[a]<=m&&(m=e[a],l=a,c<=b.columns&&a>=c));a++);c=e[l];a=l*(b.cardWidth+2*b.cardMargin)+b.newSidePadding;
d?k.animate({position:"absolute",left:a,top:c},500):k.css({position:"absolute",left:a,top:c});e[l]+=k.outerHeight(!0);e[l]>h&&(h=e[l]);m=e[l]});this.container.css({display:"block",height:h+this.newSidePadding})}})($CQ);