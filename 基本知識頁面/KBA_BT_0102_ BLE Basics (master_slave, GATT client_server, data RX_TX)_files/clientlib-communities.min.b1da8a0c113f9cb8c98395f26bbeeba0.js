//     Underscore.js 1.5.2
//     http://underscorejs.org
//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

(function() {

  // Baseline setup
  // --------------

  // Establish the root object, `window` in the browser, or `exports` on the server.
  var root = this;

  // Save the previous value of the `_` variable.
  var previousUnderscore = root._;

  // Establish the object that gets returned to break out of a loop iteration.
  var breaker = {};

  // Save bytes in the minified (but not gzipped) version:
  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;

  // Create quick reference variables for speed access to core prototypes.
  var
    push             = ArrayProto.push,
    slice            = ArrayProto.slice,
    concat           = ArrayProto.concat,
    toString         = ObjProto.toString,
    hasOwnProperty   = ObjProto.hasOwnProperty;

  // All **ECMAScript 5** native function implementations that we hope to use
  // are declared here.
  var
    nativeForEach      = ArrayProto.forEach,
    nativeMap          = ArrayProto.map,
    nativeReduce       = ArrayProto.reduce,
    nativeReduceRight  = ArrayProto.reduceRight,
    nativeFilter       = ArrayProto.filter,
    nativeEvery        = ArrayProto.every,
    nativeSome         = ArrayProto.some,
    nativeIndexOf      = ArrayProto.indexOf,
    nativeLastIndexOf  = ArrayProto.lastIndexOf,
    nativeIsArray      = Array.isArray,
    nativeKeys         = Object.keys,
    nativeBind         = FuncProto.bind;

  // Create a safe reference to the Underscore object for use below.
  var _ = function(obj) {
    if (obj instanceof _) return obj;
    if (!(this instanceof _)) return new _(obj);
    this._wrapped = obj;
  };

  // Export the Underscore object for **Node.js**, with
  // backwards-compatibility for the old `require()` API. If we're in
  // the browser, add `_` as a global object via a string identifier,
  // for Closure Compiler "advanced" mode.
  if (typeof exports !== 'undefined') {
    if (typeof module !== 'undefined' && module.exports) {
      exports = module.exports = _;
    }
    exports._ = _;
  } else {
    root._ = _;
  }

  // Current version.
  _.VERSION = '1.5.2';

  // Collection Functions
  // --------------------

  // The cornerstone, an `each` implementation, aka `forEach`.
  // Handles objects with the built-in `forEach`, arrays, and raw objects.
  // Delegates to **ECMAScript 5**'s native `forEach` if available.
  var each = _.each = _.forEach = function(obj, iterator, context) {
    if (obj == null) return;
    if (nativeForEach && obj.forEach === nativeForEach) {
      obj.forEach(iterator, context);
    } else if (obj.length === +obj.length) {
      for (var i = 0, length = obj.length; i < length; i++) {
        if (iterator.call(context, obj[i], i, obj) === breaker) return;
      }
    } else {
      var keys = _.keys(obj);
      for (var i = 0, length = keys.length; i < length; i++) {
        if (iterator.call(context, obj[keys[i]], keys[i], obj) === breaker) return;
      }
    }
  };

  // Return the results of applying the iterator to each element.
  // Delegates to **ECMAScript 5**'s native `map` if available.
  _.map = _.collect = function(obj, iterator, context) {
    var results = [];
    if (obj == null) return results;
    if (nativeMap && obj.map === nativeMap) return obj.map(iterator, context);
    each(obj, function(value, index, list) {
      results.push(iterator.call(context, value, index, list));
    });
    return results;
  };

  var reduceError = 'Reduce of empty array with no initial value';

  // **Reduce** builds up a single result from a list of values, aka `inject`,
  // or `foldl`. Delegates to **ECMAScript 5**'s native `reduce` if available.
  _.reduce = _.foldl = _.inject = function(obj, iterator, memo, context) {
    var initial = arguments.length > 2;
    if (obj == null) obj = [];
    if (nativeReduce && obj.reduce === nativeReduce) {
      if (context) iterator = _.bind(iterator, context);
      return initial ? obj.reduce(iterator, memo) : obj.reduce(iterator);
    }
    each(obj, function(value, index, list) {
      if (!initial) {
        memo = value;
        initial = true;
      } else {
        memo = iterator.call(context, memo, value, index, list);
      }
    });
    if (!initial) throw new TypeError(reduceError);
    return memo;
  };

  // The right-associative version of reduce, also known as `foldr`.
  // Delegates to **ECMAScript 5**'s native `reduceRight` if available.
  _.reduceRight = _.foldr = function(obj, iterator, memo, context) {
    var initial = arguments.length > 2;
    if (obj == null) obj = [];
    if (nativeReduceRight && obj.reduceRight === nativeReduceRight) {
      if (context) iterator = _.bind(iterator, context);
      return initial ? obj.reduceRight(iterator, memo) : obj.reduceRight(iterator);
    }
    var length = obj.length;
    if (length !== +length) {
      var keys = _.keys(obj);
      length = keys.length;
    }
    each(obj, function(value, index, list) {
      index = keys ? keys[--length] : --length;
      if (!initial) {
        memo = obj[index];
        initial = true;
      } else {
        memo = iterator.call(context, memo, obj[index], index, list);
      }
    });
    if (!initial) throw new TypeError(reduceError);
    return memo;
  };

  // Return the first value which passes a truth test. Aliased as `detect`.
  _.find = _.detect = function(obj, iterator, context) {
    var result;
    any(obj, function(value, index, list) {
      if (iterator.call(context, value, index, list)) {
        result = value;
        return true;
      }
    });
    return result;
  };

  // Return all the elements that pass a truth test.
  // Delegates to **ECMAScript 5**'s native `filter` if available.
  // Aliased as `select`.
  _.filter = _.select = function(obj, iterator, context) {
    var results = [];
    if (obj == null) return results;
    if (nativeFilter && obj.filter === nativeFilter) return obj.filter(iterator, context);
    each(obj, function(value, index, list) {
      if (iterator.call(context, value, index, list)) results.push(value);
    });
    return results;
  };

  // Return all the elements for which a truth test fails.
  _.reject = function(obj, iterator, context) {
    return _.filter(obj, function(value, index, list) {
      return !iterator.call(context, value, index, list);
    }, context);
  };

  // Determine whether all of the elements match a truth test.
  // Delegates to **ECMAScript 5**'s native `every` if available.
  // Aliased as `all`.
  _.every = _.all = function(obj, iterator, context) {
    iterator || (iterator = _.identity);
    var result = true;
    if (obj == null) return result;
    if (nativeEvery && obj.every === nativeEvery) return obj.every(iterator, context);
    each(obj, function(value, index, list) {
      if (!(result = result && iterator.call(context, value, index, list))) return breaker;
    });
    return !!result;
  };

  // Determine if at least one element in the object matches a truth test.
  // Delegates to **ECMAScript 5**'s native `some` if available.
  // Aliased as `any`.
  var any = _.some = _.any = function(obj, iterator, context) {
    iterator || (iterator = _.identity);
    var result = false;
    if (obj == null) return result;
    if (nativeSome && obj.some === nativeSome) return obj.some(iterator, context);
    each(obj, function(value, index, list) {
      if (result || (result = iterator.call(context, value, index, list))) return breaker;
    });
    return !!result;
  };

  // Determine if the array or object contains a given value (using `===`).
  // Aliased as `include`.
  _.contains = _.include = function(obj, target) {
    if (obj == null) return false;
    if (nativeIndexOf && obj.indexOf === nativeIndexOf) return obj.indexOf(target) != -1;
    return any(obj, function(value) {
      return value === target;
    });
  };

  // Invoke a method (with arguments) on every item in a collection.
  _.invoke = function(obj, method) {
    var args = slice.call(arguments, 2);
    var isFunc = _.isFunction(method);
    return _.map(obj, function(value) {
      return (isFunc ? method : value[method]).apply(value, args);
    });
  };

  // Convenience version of a common use case of `map`: fetching a property.
  _.pluck = function(obj, key) {
    return _.map(obj, function(value){ return value[key]; });
  };

  // Convenience version of a common use case of `filter`: selecting only objects
  // containing specific `key:value` pairs.
  _.where = function(obj, attrs, first) {
    if (_.isEmpty(attrs)) return first ? void 0 : [];
    return _[first ? 'find' : 'filter'](obj, function(value) {
      for (var key in attrs) {
        if (attrs[key] !== value[key]) return false;
      }
      return true;
    });
  };

  // Convenience version of a common use case of `find`: getting the first object
  // containing specific `key:value` pairs.
  _.findWhere = function(obj, attrs) {
    return _.where(obj, attrs, true);
  };

  // Return the maximum element or (element-based computation).
  // Can't optimize arrays of integers longer than 65,535 elements.
  // See [WebKit Bug 80797](https://bugs.webkit.org/show_bug.cgi?id=80797)
  _.max = function(obj, iterator, context) {
    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {
      return Math.max.apply(Math, obj);
    }
    if (!iterator && _.isEmpty(obj)) return -Infinity;
    var result = {computed : -Infinity, value: -Infinity};
    each(obj, function(value, index, list) {
      var computed = iterator ? iterator.call(context, value, index, list) : value;
      computed > result.computed && (result = {value : value, computed : computed});
    });
    return result.value;
  };

  // Return the minimum element (or element-based computation).
  _.min = function(obj, iterator, context) {
    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {
      return Math.min.apply(Math, obj);
    }
    if (!iterator && _.isEmpty(obj)) return Infinity;
    var result = {computed : Infinity, value: Infinity};
    each(obj, function(value, index, list) {
      var computed = iterator ? iterator.call(context, value, index, list) : value;
      computed < result.computed && (result = {value : value, computed : computed});
    });
    return result.value;
  };

  // Shuffle an array, using the modern version of the 
  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisherâ€“Yates_shuffle).
  _.shuffle = function(obj) {
    var rand;
    var index = 0;
    var shuffled = [];
    each(obj, function(value) {
      rand = _.random(index++);
      shuffled[index - 1] = shuffled[rand];
      shuffled[rand] = value;
    });
    return shuffled;
  };

  // Sample **n** random values from an array.
  // If **n** is not specified, returns a single random element from the array.
  // The internal `guard` argument allows it to work with `map`.
  _.sample = function(obj, n, guard) {
    if (arguments.length < 2 || guard) {
      return obj[_.random(obj.length - 1)];
    }
    return _.shuffle(obj).slice(0, Math.max(0, n));
  };

  // An internal function to generate lookup iterators.
  var lookupIterator = function(value) {
    return _.isFunction(value) ? value : function(obj){ return obj[value]; };
  };

  // Sort the object's values by a criterion produced by an iterator.
  _.sortBy = function(obj, value, context) {
    var iterator = lookupIterator(value);
    return _.pluck(_.map(obj, function(value, index, list) {
      return {
        value: value,
        index: index,
        criteria: iterator.call(context, value, index, list)
      };
    }).sort(function(left, right) {
      var a = left.criteria;
      var b = right.criteria;
      if (a !== b) {
        if (a > b || a === void 0) return 1;
        if (a < b || b === void 0) return -1;
      }
      return left.index - right.index;
    }), 'value');
  };

  // An internal function used for aggregate "group by" operations.
  var group = function(behavior) {
    return function(obj, value, context) {
      var result = {};
      var iterator = value == null ? _.identity : lookupIterator(value);
      each(obj, function(value, index) {
        var key = iterator.call(context, value, index, obj);
        behavior(result, key, value);
      });
      return result;
    };
  };

  // Groups the object's values by a criterion. Pass either a string attribute
  // to group by, or a function that returns the criterion.
  _.groupBy = group(function(result, key, value) {
    (_.has(result, key) ? result[key] : (result[key] = [])).push(value);
  });

  // Indexes the object's values by a criterion, similar to `groupBy`, but for
  // when you know that your index values will be unique.
  _.indexBy = group(function(result, key, value) {
    result[key] = value;
  });

  // Counts instances of an object that group by a certain criterion. Pass
  // either a string attribute to count by, or a function that returns the
  // criterion.
  _.countBy = group(function(result, key) {
    _.has(result, key) ? result[key]++ : result[key] = 1;
  });

  // Use a comparator function to figure out the smallest index at which
  // an object should be inserted so as to maintain order. Uses binary search.
  _.sortedIndex = function(array, obj, iterator, context) {
    iterator = iterator == null ? _.identity : lookupIterator(iterator);
    var value = iterator.call(context, obj);
    var low = 0, high = array.length;
    while (low < high) {
      var mid = (low + high) >>> 1;
      iterator.call(context, array[mid]) < value ? low = mid + 1 : high = mid;
    }
    return low;
  };

  // Safely create a real, live array from anything iterable.
  _.toArray = function(obj) {
    if (!obj) return [];
    if (_.isArray(obj)) return slice.call(obj);
    if (obj.length === +obj.length) return _.map(obj, _.identity);
    return _.values(obj);
  };

  // Return the number of elements in an object.
  _.size = function(obj) {
    if (obj == null) return 0;
    return (obj.length === +obj.length) ? obj.length : _.keys(obj).length;
  };

  // Array Functions
  // ---------------

  // Get the first element of an array. Passing **n** will return the first N
  // values in the array. Aliased as `head` and `take`. The **guard** check
  // allows it to work with `_.map`.
  _.first = _.head = _.take = function(array, n, guard) {
    if (array == null) return void 0;
    return (n == null) || guard ? array[0] : slice.call(array, 0, n);
  };

  // Returns everything but the last entry of the array. Especially useful on
  // the arguments object. Passing **n** will return all the values in
  // the array, excluding the last N. The **guard** check allows it to work with
  // `_.map`.
  _.initial = function(array, n, guard) {
    return slice.call(array, 0, array.length - ((n == null) || guard ? 1 : n));
  };

  // Get the last element of an array. Passing **n** will return the last N
  // values in the array. The **guard** check allows it to work with `_.map`.
  _.last = function(array, n, guard) {
    if (array == null) return void 0;
    if ((n == null) || guard) {
      return array[array.length - 1];
    } else {
      return slice.call(array, Math.max(array.length - n, 0));
    }
  };

  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.
  // Especially useful on the arguments object. Passing an **n** will return
  // the rest N values in the array. The **guard**
  // check allows it to work with `_.map`.
  _.rest = _.tail = _.drop = function(array, n, guard) {
    return slice.call(array, (n == null) || guard ? 1 : n);
  };

  // Trim out all falsy values from an array.
  _.compact = function(array) {
    return _.filter(array, _.identity);
  };

  // Internal implementation of a recursive `flatten` function.
  var flatten = function(input, shallow, output) {
    if (shallow && _.every(input, _.isArray)) {
      return concat.apply(output, input);
    }
    each(input, function(value) {
      if (_.isArray(value) || _.isArguments(value)) {
        shallow ? push.apply(output, value) : flatten(value, shallow, output);
      } else {
        output.push(value);
      }
    });
    return output;
  };

  // Flatten out an array, either recursively (by default), or just one level.
  _.flatten = function(array, shallow) {
    return flatten(array, shallow, []);
  };

  // Return a version of the array that does not contain the specified value(s).
  _.without = function(array) {
    return _.difference(array, slice.call(arguments, 1));
  };

  // Produce a duplicate-free version of the array. If the array has already
  // been sorted, you have the option of using a faster algorithm.
  // Aliased as `unique`.
  _.uniq = _.unique = function(array, isSorted, iterator, context) {
    if (_.isFunction(isSorted)) {
      context = iterator;
      iterator = isSorted;
      isSorted = false;
    }
    var initial = iterator ? _.map(array, iterator, context) : array;
    var results = [];
    var seen = [];
    each(initial, function(value, index) {
      if (isSorted ? (!index || seen[seen.length - 1] !== value) : !_.contains(seen, value)) {
        seen.push(value);
        results.push(array[index]);
      }
    });
    return results;
  };

  // Produce an array that contains the union: each distinct element from all of
  // the passed-in arrays.
  _.union = function() {
    return _.uniq(_.flatten(arguments, true));
  };

  // Produce an array that contains every item shared between all the
  // passed-in arrays.
  _.intersection = function(array) {
    var rest = slice.call(arguments, 1);
    return _.filter(_.uniq(array), function(item) {
      return _.every(rest, function(other) {
        return _.indexOf(other, item) >= 0;
      });
    });
  };

  // Take the difference between one array and a number of other arrays.
  // Only the elements present in just the first array will remain.
  _.difference = function(array) {
    var rest = concat.apply(ArrayProto, slice.call(arguments, 1));
    return _.filter(array, function(value){ return !_.contains(rest, value); });
  };

  // Zip together multiple lists into a single array -- elements that share
  // an index go together.
  _.zip = function() {
    var length = _.max(_.pluck(arguments, "length").concat(0));
    var results = new Array(length);
    for (var i = 0; i < length; i++) {
      results[i] = _.pluck(arguments, '' + i);
    }
    return results;
  };

  // Converts lists into objects. Pass either a single array of `[key, value]`
  // pairs, or two parallel arrays of the same length -- one of keys, and one of
  // the corresponding values.
  _.object = function(list, values) {
    if (list == null) return {};
    var result = {};
    for (var i = 0, length = list.length; i < length; i++) {
      if (values) {
        result[list[i]] = values[i];
      } else {
        result[list[i][0]] = list[i][1];
      }
    }
    return result;
  };

  // If the browser doesn't supply us with indexOf (I'm looking at you, **MSIE**),
  // we need this function. Return the position of the first occurrence of an
  // item in an array, or -1 if the item is not included in the array.
  // Delegates to **ECMAScript 5**'s native `indexOf` if available.
  // If the array is large and already in sort order, pass `true`
  // for **isSorted** to use binary search.
  _.indexOf = function(array, item, isSorted) {
    if (array == null) return -1;
    var i = 0, length = array.length;
    if (isSorted) {
      if (typeof isSorted == 'number') {
        i = (isSorted < 0 ? Math.max(0, length + isSorted) : isSorted);
      } else {
        i = _.sortedIndex(array, item);
        return array[i] === item ? i : -1;
      }
    }
    if (nativeIndexOf && array.indexOf === nativeIndexOf) return array.indexOf(item, isSorted);
    for (; i < length; i++) if (array[i] === item) return i;
    return -1;
  };

  // Delegates to **ECMAScript 5**'s native `lastIndexOf` if available.
  _.lastIndexOf = function(array, item, from) {
    if (array == null) return -1;
    var hasIndex = from != null;
    if (nativeLastIndexOf && array.lastIndexOf === nativeLastIndexOf) {
      return hasIndex ? array.lastIndexOf(item, from) : array.lastIndexOf(item);
    }
    var i = (hasIndex ? from : array.length);
    while (i--) if (array[i] === item) return i;
    return -1;
  };

  // Generate an integer Array containing an arithmetic progression. A port of
  // the native Python `range()` function. See
  // [the Python documentation](http://docs.python.org/library/functions.html#range).
  _.range = function(start, stop, step) {
    if (arguments.length <= 1) {
      stop = start || 0;
      start = 0;
    }
    step = arguments[2] || 1;

    var length = Math.max(Math.ceil((stop - start) / step), 0);
    var idx = 0;
    var range = new Array(length);

    while(idx < length) {
      range[idx++] = start;
      start += step;
    }

    return range;
  };

  // Function (ahem) Functions
  // ------------------

  // Reusable constructor function for prototype setting.
  var ctor = function(){};

  // Create a function bound to a given object (assigning `this`, and arguments,
  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if
  // available.
  _.bind = function(func, context) {
    var args, bound;
    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));
    if (!_.isFunction(func)) throw new TypeError;
    args = slice.call(arguments, 2);
    return bound = function() {
      if (!(this instanceof bound)) return func.apply(context, args.concat(slice.call(arguments)));
      ctor.prototype = func.prototype;
      var self = new ctor;
      ctor.prototype = null;
      var result = func.apply(self, args.concat(slice.call(arguments)));
      if (Object(result) === result) return result;
      return self;
    };
  };

  // Partially apply a function by creating a version that has had some of its
  // arguments pre-filled, without changing its dynamic `this` context.
  _.partial = function(func) {
    var args = slice.call(arguments, 1);
    return function() {
      return func.apply(this, args.concat(slice.call(arguments)));
    };
  };

  // Bind all of an object's methods to that object. Useful for ensuring that
  // all callbacks defined on an object belong to it.
  _.bindAll = function(obj) {
    var funcs = slice.call(arguments, 1);
    if (funcs.length === 0) throw new Error("bindAll must be passed function names");
    each(funcs, function(f) { obj[f] = _.bind(obj[f], obj); });
    return obj;
  };

  // Memoize an expensive function by storing its results.
  _.memoize = function(func, hasher) {
    var memo = {};
    hasher || (hasher = _.identity);
    return function() {
      var key = hasher.apply(this, arguments);
      return _.has(memo, key) ? memo[key] : (memo[key] = func.apply(this, arguments));
    };
  };

  // Delays a function for the given number of milliseconds, and then calls
  // it with the arguments supplied.
  _.delay = function(func, wait) {
    var args = slice.call(arguments, 2);
    return setTimeout(function(){ return func.apply(null, args); }, wait);
  };

  // Defers a function, scheduling it to run after the current call stack has
  // cleared.
  _.defer = function(func) {
    return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));
  };

  // Returns a function, that, when invoked, will only be triggered at most once
  // during a given window of time. Normally, the throttled function will run
  // as much as it can, without ever going more than once per `wait` duration;
  // but if you'd like to disable the execution on the leading edge, pass
  // `{leading: false}`. To disable execution on the trailing edge, ditto.
  _.throttle = function(func, wait, options) {
    var context, args, result;
    var timeout = null;
    var previous = 0;
    options || (options = {});
    var later = function() {
      previous = options.leading === false ? 0 : new Date;
      timeout = null;
      result = func.apply(context, args);
    };
    return function() {
      var now = new Date;
      if (!previous && options.leading === false) previous = now;
      var remaining = wait - (now - previous);
      context = this;
      args = arguments;
      if (remaining <= 0) {
        clearTimeout(timeout);
        timeout = null;
        previous = now;
        result = func.apply(context, args);
      } else if (!timeout && options.trailing !== false) {
        timeout = setTimeout(later, remaining);
      }
      return result;
    };
  };

  // Returns a function, that, as long as it continues to be invoked, will not
  // be triggered. The function will be called after it stops being called for
  // N milliseconds. If `immediate` is passed, trigger the function on the
  // leading edge, instead of the trailing.
  _.debounce = function(func, wait, immediate) {
    var timeout, args, context, timestamp, result;
    return function() {
      context = this;
      args = arguments;
      timestamp = new Date();
      var later = function() {
        var last = (new Date()) - timestamp;
        if (last < wait) {
          timeout = setTimeout(later, wait - last);
        } else {
          timeout = null;
          if (!immediate) result = func.apply(context, args);
        }
      };
      var callNow = immediate && !timeout;
      if (!timeout) {
        timeout = setTimeout(later, wait);
      }
      if (callNow) result = func.apply(context, args);
      return result;
    };
  };

  // Returns a function that will be executed at most one time, no matter how
  // often you call it. Useful for lazy initialization.
  _.once = function(func) {
    var ran = false, memo;
    return function() {
      if (ran) return memo;
      ran = true;
      memo = func.apply(this, arguments);
      func = null;
      return memo;
    };
  };

  // Returns the first function passed as an argument to the second,
  // allowing you to adjust arguments, run code before and after, and
  // conditionally execute the original function.
  _.wrap = function(func, wrapper) {
    return function() {
      var args = [func];
      push.apply(args, arguments);
      return wrapper.apply(this, args);
    };
  };

  // Returns a function that is the composition of a list of functions, each
  // consuming the return value of the function that follows.
  _.compose = function() {
    var funcs = arguments;
    return function() {
      var args = arguments;
      for (var i = funcs.length - 1; i >= 0; i--) {
        args = [funcs[i].apply(this, args)];
      }
      return args[0];
    };
  };

  // Returns a function that will only be executed after being called N times.
  _.after = function(times, func) {
    return function() {
      if (--times < 1) {
        return func.apply(this, arguments);
      }
    };
  };

  // Object Functions
  // ----------------

  // Retrieve the names of an object's properties.
  // Delegates to **ECMAScript 5**'s native `Object.keys`
  _.keys = nativeKeys || function(obj) {
    if (obj !== Object(obj)) throw new TypeError('Invalid object');
    var keys = [];
    for (var key in obj) if (_.has(obj, key)) keys.push(key);
    return keys;
  };

  // Retrieve the values of an object's properties.
  _.values = function(obj) {
    var keys = _.keys(obj);
    var length = keys.length;
    var values = new Array(length);
    for (var i = 0; i < length; i++) {
      values[i] = obj[keys[i]];
    }
    return values;
  };

  // Convert an object into a list of `[key, value]` pairs.
  _.pairs = function(obj) {
    var keys = _.keys(obj);
    var length = keys.length;
    var pairs = new Array(length);
    for (var i = 0; i < length; i++) {
      pairs[i] = [keys[i], obj[keys[i]]];
    }
    return pairs;
  };

  // Invert the keys and values of an object. The values must be serializable.
  _.invert = function(obj) {
    var result = {};
    var keys = _.keys(obj);
    for (var i = 0, length = keys.length; i < length; i++) {
      result[obj[keys[i]]] = keys[i];
    }
    return result;
  };

  // Return a sorted list of the function names available on the object.
  // Aliased as `methods`
  _.functions = _.methods = function(obj) {
    var names = [];
    for (var key in obj) {
      if (_.isFunction(obj[key])) names.push(key);
    }
    return names.sort();
  };

  // Extend a given object with all the properties in passed-in object(s).
  _.extend = function(obj) {
    each(slice.call(arguments, 1), function(source) {
      if (source) {
        for (var prop in source) {
          obj[prop] = source[prop];
        }
      }
    });
    return obj;
  };

  // Return a copy of the object only containing the whitelisted properties.
  _.pick = function(obj) {
    var copy = {};
    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));
    each(keys, function(key) {
      if (key in obj) copy[key] = obj[key];
    });
    return copy;
  };

   // Return a copy of the object without the blacklisted properties.
  _.omit = function(obj) {
    var copy = {};
    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));
    for (var key in obj) {
      if (!_.contains(keys, key)) copy[key] = obj[key];
    }
    return copy;
  };

  // Fill in a given object with default properties.
  _.defaults = function(obj) {
    each(slice.call(arguments, 1), function(source) {
      if (source) {
        for (var prop in source) {
          if (obj[prop] === void 0) obj[prop] = source[prop];
        }
      }
    });
    return obj;
  };

  // Create a (shallow-cloned) duplicate of an object.
  _.clone = function(obj) {
    if (!_.isObject(obj)) return obj;
    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);
  };

  // Invokes interceptor with the obj, and then returns obj.
  // The primary purpose of this method is to "tap into" a method chain, in
  // order to perform operations on intermediate results within the chain.
  _.tap = function(obj, interceptor) {
    interceptor(obj);
    return obj;
  };

  // Internal recursive comparison function for `isEqual`.
  var eq = function(a, b, aStack, bStack) {
    // Identical objects are equal. `0 === -0`, but they aren't identical.
    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).
    if (a === b) return a !== 0 || 1 / a == 1 / b;
    // A strict comparison is necessary because `null == undefined`.
    if (a == null || b == null) return a === b;
    // Unwrap any wrapped objects.
    if (a instanceof _) a = a._wrapped;
    if (b instanceof _) b = b._wrapped;
    // Compare `[[Class]]` names.
    var className = toString.call(a);
    if (className != toString.call(b)) return false;
    switch (className) {
      // Strings, numbers, dates, and booleans are compared by value.
      case '[object String]':
        // Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is
        // equivalent to `new String("5")`.
        return a == String(b);
      case '[object Number]':
        // `NaN`s are equivalent, but non-reflexive. An `egal` comparison is performed for
        // other numeric values.
        return a != +a ? b != +b : (a == 0 ? 1 / a == 1 / b : a == +b);
      case '[object Date]':
      case '[object Boolean]':
        // Coerce dates and booleans to numeric primitive values. Dates are compared by their
        // millisecond representations. Note that invalid dates with millisecond representations
        // of `NaN` are not equivalent.
        return +a == +b;
      // RegExps are compared by their source patterns and flags.
      case '[object RegExp]':
        return a.source == b.source &&
               a.global == b.global &&
               a.multiline == b.multiline &&
               a.ignoreCase == b.ignoreCase;
    }
    if (typeof a != 'object' || typeof b != 'object') return false;
    // Assume equality for cyclic structures. The algorithm for detecting cyclic
    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.
    var length = aStack.length;
    while (length--) {
      // Linear search. Performance is inversely proportional to the number of
      // unique nested structures.
      if (aStack[length] == a) return bStack[length] == b;
    }
    // Objects with different constructors are not equivalent, but `Object`s
    // from different frames are.
    var aCtor = a.constructor, bCtor = b.constructor;
    if (aCtor !== bCtor && !(_.isFunction(aCtor) && (aCtor instanceof aCtor) &&
                             _.isFunction(bCtor) && (bCtor instanceof bCtor))) {
      return false;
    }
    // Add the first object to the stack of traversed objects.
    aStack.push(a);
    bStack.push(b);
    var size = 0, result = true;
    // Recursively compare objects and arrays.
    if (className == '[object Array]') {
      // Compare array lengths to determine if a deep comparison is necessary.
      size = a.length;
      result = size == b.length;
      if (result) {
        // Deep compare the contents, ignoring non-numeric properties.
        while (size--) {
          if (!(result = eq(a[size], b[size], aStack, bStack))) break;
        }
      }
    } else {
      // Deep compare objects.
      for (var key in a) {
        if (_.has(a, key)) {
          // Count the expected number of properties.
          size++;
          // Deep compare each member.
          if (!(result = _.has(b, key) && eq(a[key], b[key], aStack, bStack))) break;
        }
      }
      // Ensure that both objects contain the same number of properties.
      if (result) {
        for (key in b) {
          if (_.has(b, key) && !(size--)) break;
        }
        result = !size;
      }
    }
    // Remove the first object from the stack of traversed objects.
    aStack.pop();
    bStack.pop();
    return result;
  };

  // Perform a deep comparison to check if two objects are equal.
  _.isEqual = function(a, b) {
    return eq(a, b, [], []);
  };

  // Is a given array, string, or object empty?
  // An "empty" object has no enumerable own-properties.
  _.isEmpty = function(obj) {
    if (obj == null) return true;
    if (_.isArray(obj) || _.isString(obj)) return obj.length === 0;
    for (var key in obj) if (_.has(obj, key)) return false;
    return true;
  };

  // Is a given value a DOM element?
  _.isElement = function(obj) {
    return !!(obj && obj.nodeType === 1);
  };

  // Is a given value an array?
  // Delegates to ECMA5's native Array.isArray
  _.isArray = nativeIsArray || function(obj) {
    return toString.call(obj) == '[object Array]';
  };

  // Is a given variable an object?
  _.isObject = function(obj) {
    return obj === Object(obj);
  };

  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp.
  each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp'], function(name) {
    _['is' + name] = function(obj) {
      return toString.call(obj) == '[object ' + name + ']';
    };
  });

  // Define a fallback version of the method in browsers (ahem, IE), where
  // there isn't any inspectable "Arguments" type.
  if (!_.isArguments(arguments)) {
    _.isArguments = function(obj) {
      return !!(obj && _.has(obj, 'callee'));
    };
  }

  // Optimize `isFunction` if appropriate.
  if (typeof (/./) !== 'function') {
    _.isFunction = function(obj) {
      return typeof obj === 'function';
    };
  }

  // Is a given object a finite number?
  _.isFinite = function(obj) {
    return isFinite(obj) && !isNaN(parseFloat(obj));
  };

  // Is the given value `NaN`? (NaN is the only number which does not equal itself).
  _.isNaN = function(obj) {
    return _.isNumber(obj) && obj != +obj;
  };

  // Is a given value a boolean?
  _.isBoolean = function(obj) {
    return obj === true || obj === false || toString.call(obj) == '[object Boolean]';
  };

  // Is a given value equal to null?
  _.isNull = function(obj) {
    return obj === null;
  };

  // Is a given variable undefined?
  _.isUndefined = function(obj) {
    return obj === void 0;
  };

  // Shortcut function for checking if an object has a given property directly
  // on itself (in other words, not on a prototype).
  _.has = function(obj, key) {
    return hasOwnProperty.call(obj, key);
  };

  // Utility Functions
  // -----------------

  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its
  // previous owner. Returns a reference to the Underscore object.
  _.noConflict = function() {
    root._ = previousUnderscore;
    return this;
  };

  // Keep the identity function around for default iterators.
  _.identity = function(value) {
    return value;
  };

  // Run a function **n** times.
  _.times = function(n, iterator, context) {
    var accum = Array(Math.max(0, n));
    for (var i = 0; i < n; i++) accum[i] = iterator.call(context, i);
    return accum;
  };

  // Return a random integer between min and max (inclusive).
  _.random = function(min, max) {
    if (max == null) {
      max = min;
      min = 0;
    }
    return min + Math.floor(Math.random() * (max - min + 1));
  };

  // List of HTML entities for escaping.
  var entityMap = {
    escape: {
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#x27;'
    }
  };
  entityMap.unescape = _.invert(entityMap.escape);

  // Regexes containing the keys and values listed immediately above.
  var entityRegexes = {
    escape:   new RegExp('[' + _.keys(entityMap.escape).join('') + ']', 'g'),
    unescape: new RegExp('(' + _.keys(entityMap.unescape).join('|') + ')', 'g')
  };

  // Functions for escaping and unescaping strings to/from HTML interpolation.
  _.each(['escape', 'unescape'], function(method) {
    _[method] = function(string) {
      if (string == null) return '';
      return ('' + string).replace(entityRegexes[method], function(match) {
        return entityMap[method][match];
      });
    };
  });

  // If the value of the named `property` is a function then invoke it with the
  // `object` as context; otherwise, return it.
  _.result = function(object, property) {
    if (object == null) return void 0;
    var value = object[property];
    return _.isFunction(value) ? value.call(object) : value;
  };

  // Add your own custom functions to the Underscore object.
  _.mixin = function(obj) {
    each(_.functions(obj), function(name) {
      var func = _[name] = obj[name];
      _.prototype[name] = function() {
        var args = [this._wrapped];
        push.apply(args, arguments);
        return result.call(this, func.apply(_, args));
      };
    });
  };

  // Generate a unique integer id (unique within the entire client session).
  // Useful for temporary DOM ids.
  var idCounter = 0;
  _.uniqueId = function(prefix) {
    var id = ++idCounter + '';
    return prefix ? prefix + id : id;
  };

  // By default, Underscore uses ERB-style template delimiters, change the
  // following template settings to use alternative delimiters.
  _.templateSettings = {
    evaluate    : /<%([\s\S]+?)%>/g,
    interpolate : /<%=([\s\S]+?)%>/g,
    escape      : /<%-([\s\S]+?)%>/g
  };

  // When customizing `templateSettings`, if you don't want to define an
  // interpolation, evaluation or escaping regex, we need one that is
  // guaranteed not to match.
  var noMatch = /(.)^/;

  // Certain characters need to be escaped so that they can be put into a
  // string literal.
  var escapes = {
    "'":      "'",
    '\\':     '\\',
    '\r':     'r',
    '\n':     'n',
    '\t':     't',
    '\u2028': 'u2028',
    '\u2029': 'u2029'
  };

  var escaper = /\\|'|\r|\n|\t|\u2028|\u2029/g;

  // JavaScript micro-templating, similar to John Resig's implementation.
  // Underscore templating handles arbitrary delimiters, preserves whitespace,
  // and correctly escapes quotes within interpolated code.
  _.template = function(text, data, settings) {
    var render;
    settings = _.defaults({}, settings, _.templateSettings);

    // Combine delimiters into one regular expression via alternation.
    var matcher = new RegExp([
      (settings.escape || noMatch).source,
      (settings.interpolate || noMatch).source,
      (settings.evaluate || noMatch).source
    ].join('|') + '|$', 'g');

    // Compile the template source, escaping string literals appropriately.
    var index = 0;
    var source = "__p+='";
    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {
      source += text.slice(index, offset)
        .replace(escaper, function(match) { return '\\' + escapes[match]; });

      if (escape) {
        source += "'+\n((__t=(" + escape + "))==null?'':_.escape(__t))+\n'";
      }
      if (interpolate) {
        source += "'+\n((__t=(" + interpolate + "))==null?'':__t)+\n'";
      }
      if (evaluate) {
        source += "';\n" + evaluate + "\n__p+='";
      }
      index = offset + match.length;
      return match;
    });
    source += "';\n";

    // If a variable is not specified, place data values in local scope.
    if (!settings.variable) source = 'with(obj||{}){\n' + source + '}\n';

    source = "var __t,__p='',__j=Array.prototype.join," +
      "print=function(){__p+=__j.call(arguments,'');};\n" +
      source + "return __p;\n";

    try {
      render = new Function(settings.variable || 'obj', '_', source);
    } catch (e) {
      e.source = source;
      throw e;
    }

    if (data) return render(data, _);
    var template = function(data) {
      return render.call(this, data, _);
    };

    // Provide the compiled function source as a convenience for precompilation.
    template.source = 'function(' + (settings.variable || 'obj') + '){\n' + source + '}';

    return template;
  };

  // Add a "chain" function, which will delegate to the wrapper.
  _.chain = function(obj) {
    return _(obj).chain();
  };

  // OOP
  // ---------------
  // If Underscore is called as a function, it returns a wrapped object that
  // can be used OO-style. This wrapper holds altered versions of all the
  // underscore functions. Wrapped objects may be chained.

  // Helper function to continue chaining intermediate results.
  var result = function(obj) {
    return this._chain ? _(obj).chain() : obj;
  };

  // Add all of the Underscore functions to the wrapper object.
  _.mixin(_);

  // Add all mutator Array functions to the wrapper.
  each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {
    var method = ArrayProto[name];
    _.prototype[name] = function() {
      var obj = this._wrapped;
      method.apply(obj, arguments);
      if ((name == 'shift' || name == 'splice') && obj.length === 0) delete obj[0];
      return result.call(this, obj);
    };
  });

  // Add all accessor Array functions to the wrapper.
  each(['concat', 'join', 'slice'], function(name) {
    var method = ArrayProto[name];
    _.prototype[name] = function() {
      return result.call(this, method.apply(this._wrapped, arguments));
    };
  });

  _.extend(_.prototype, {

    // Start chaining a wrapped Underscore object.
    chain: function() {
      this._chain = true;
      return this;
    },

    // Extracts the result from a wrapped and chained object.
    value: function() {
      return this._wrapped;
    }

  });

}).call(this);
/**!

 @license
 handlebars v4.0.11

Copyright (C) 2011-2017 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
(function webpackUniversalModuleDefinition(root, factory) {
  if(typeof exports === 'object' && typeof module === 'object')
    module.exports = factory();
  else if(typeof define === 'function' && define.amd)
    define([], factory);
  else if(typeof exports === 'object')
    exports["Handlebars"] = factory();
  else
    root["Handlebars"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/  // The module cache
/******/  var installedModules = {};

/******/  // The require function
/******/  function __webpack_require__(moduleId) {

/******/    // Check if module is in cache
/******/    if(installedModules[moduleId])
/******/      return installedModules[moduleId].exports;

/******/    // Create a new module (and put it into the cache)
/******/    var module = installedModules[moduleId] = {
/******/      exports: {},
/******/      id: moduleId,
/******/      loaded: false
/******/    };

/******/    // Execute the module function
/******/    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/    // Flag the module as loaded
/******/    module.loaded = true;

/******/    // Return the exports of the module
/******/    return module.exports;
/******/  }


/******/  // expose the modules object (__webpack_modules__)
/******/  __webpack_require__.m = modules;

/******/  // expose the module cache
/******/  __webpack_require__.c = installedModules;

/******/  // __webpack_public_path__
/******/  __webpack_require__.p = "";

/******/  // Load entry module and return exports
/******/  return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  var _interopRequireDefault = __webpack_require__(1)['default'];

  exports.__esModule = true;

  var _handlebarsRuntime = __webpack_require__(2);

  var _handlebarsRuntime2 = _interopRequireDefault(_handlebarsRuntime);

  // Compiler imports

  var _handlebarsCompilerAst = __webpack_require__(35);

  var _handlebarsCompilerAst2 = _interopRequireDefault(_handlebarsCompilerAst);

  var _handlebarsCompilerBase = __webpack_require__(36);

  var _handlebarsCompilerCompiler = __webpack_require__(41);

  var _handlebarsCompilerJavascriptCompiler = __webpack_require__(42);

  var _handlebarsCompilerJavascriptCompiler2 = _interopRequireDefault(_handlebarsCompilerJavascriptCompiler);

  var _handlebarsCompilerVisitor = __webpack_require__(39);

  var _handlebarsCompilerVisitor2 = _interopRequireDefault(_handlebarsCompilerVisitor);

  var _handlebarsNoConflict = __webpack_require__(34);

  var _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);

  var _create = _handlebarsRuntime2['default'].create;
  function create() {
    var hb = _create();

    hb.compile = function (input, options) {
      return _handlebarsCompilerCompiler.compile(input, options, hb);
    };
    hb.precompile = function (input, options) {
      return _handlebarsCompilerCompiler.precompile(input, options, hb);
    };

    hb.AST = _handlebarsCompilerAst2['default'];
    hb.Compiler = _handlebarsCompilerCompiler.Compiler;
    hb.JavaScriptCompiler = _handlebarsCompilerJavascriptCompiler2['default'];
    hb.Parser = _handlebarsCompilerBase.parser;
    hb.parse = _handlebarsCompilerBase.parse;

    return hb;
  }

  var inst = create();
  inst.create = create;

  _handlebarsNoConflict2['default'](inst);

  inst.Visitor = _handlebarsCompilerVisitor2['default'];

  inst['default'] = inst;

  exports['default'] = inst;
  module.exports = exports['default'];

/***/ }),
/* 1 */
/***/ (function(module, exports) {

  "use strict";

  exports["default"] = function (obj) {
    return obj && obj.__esModule ? obj : {
      "default": obj
    };
  };

  exports.__esModule = true;

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  var _interopRequireWildcard = __webpack_require__(3)['default'];

  var _interopRequireDefault = __webpack_require__(1)['default'];

  exports.__esModule = true;

  var _handlebarsBase = __webpack_require__(4);

  var base = _interopRequireWildcard(_handlebarsBase);

  // Each of these augment the Handlebars object. No need to setup here.
  // (This is done to easily share code between commonjs and browse envs)

  var _handlebarsSafeString = __webpack_require__(21);

  var _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);

  var _handlebarsException = __webpack_require__(6);

  var _handlebarsException2 = _interopRequireDefault(_handlebarsException);

  var _handlebarsUtils = __webpack_require__(5);

  var Utils = _interopRequireWildcard(_handlebarsUtils);

  var _handlebarsRuntime = __webpack_require__(22);

  var runtime = _interopRequireWildcard(_handlebarsRuntime);

  var _handlebarsNoConflict = __webpack_require__(34);

  var _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);

  // For compatibility and usage outside of module systems, make the Handlebars object a namespace
  function create() {
    var hb = new base.HandlebarsEnvironment();

    Utils.extend(hb, base);
    hb.SafeString = _handlebarsSafeString2['default'];
    hb.Exception = _handlebarsException2['default'];
    hb.Utils = Utils;
    hb.escapeExpression = Utils.escapeExpression;

    hb.VM = runtime;
    hb.template = function (spec) {
      return runtime.template(spec, hb);
    };

    return hb;
  }

  var inst = create();
  inst.create = create;

  _handlebarsNoConflict2['default'](inst);

  inst['default'] = inst;

  exports['default'] = inst;
  module.exports = exports['default'];

/***/ }),
/* 3 */
/***/ (function(module, exports) {

  "use strict";

  exports["default"] = function (obj) {
    if (obj && obj.__esModule) {
      return obj;
    } else {
      var newObj = {};

      if (obj != null) {
        for (var key in obj) {
          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
        }
      }

      newObj["default"] = obj;
      return newObj;
    }
  };

  exports.__esModule = true;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  var _interopRequireDefault = __webpack_require__(1)['default'];

  exports.__esModule = true;
  exports.HandlebarsEnvironment = HandlebarsEnvironment;

  var _utils = __webpack_require__(5);

  var _exception = __webpack_require__(6);

  var _exception2 = _interopRequireDefault(_exception);

  var _helpers = __webpack_require__(10);

  var _decorators = __webpack_require__(18);

  var _logger = __webpack_require__(20);

  var _logger2 = _interopRequireDefault(_logger);

  var VERSION = '4.0.11';
  exports.VERSION = VERSION;
  var COMPILER_REVISION = 7;

  exports.COMPILER_REVISION = COMPILER_REVISION;
  var REVISION_CHANGES = {
    1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it
    2: '== 1.0.0-rc.3',
    3: '== 1.0.0-rc.4',
    4: '== 1.x.x',
    5: '== 2.0.0-alpha.x',
    6: '>= 2.0.0-beta.1',
    7: '>= 4.0.0'
  };

  exports.REVISION_CHANGES = REVISION_CHANGES;
  var objectType = '[object Object]';

  function HandlebarsEnvironment(helpers, partials, decorators) {
    this.helpers = helpers || {};
    this.partials = partials || {};
    this.decorators = decorators || {};

    _helpers.registerDefaultHelpers(this);
    _decorators.registerDefaultDecorators(this);
  }

  HandlebarsEnvironment.prototype = {
    constructor: HandlebarsEnvironment,

    logger: _logger2['default'],
    log: _logger2['default'].log,

    registerHelper: function registerHelper(name, fn) {
      if (_utils.toString.call(name) === objectType) {
        if (fn) {
          throw new _exception2['default']('Arg not supported with multiple helpers');
        }
        _utils.extend(this.helpers, name);
      } else {
        this.helpers[name] = fn;
      }
    },
    unregisterHelper: function unregisterHelper(name) {
      delete this.helpers[name];
    },

    registerPartial: function registerPartial(name, partial) {
      if (_utils.toString.call(name) === objectType) {
        _utils.extend(this.partials, name);
      } else {
        if (typeof partial === 'undefined') {
          throw new _exception2['default']('Attempting to register a partial called "' + name + '" as undefined');
        }
        this.partials[name] = partial;
      }
    },
    unregisterPartial: function unregisterPartial(name) {
      delete this.partials[name];
    },

    registerDecorator: function registerDecorator(name, fn) {
      if (_utils.toString.call(name) === objectType) {
        if (fn) {
          throw new _exception2['default']('Arg not supported with multiple decorators');
        }
        _utils.extend(this.decorators, name);
      } else {
        this.decorators[name] = fn;
      }
    },
    unregisterDecorator: function unregisterDecorator(name) {
      delete this.decorators[name];
    }
  };

  var log = _logger2['default'].log;

  exports.log = log;
  exports.createFrame = _utils.createFrame;
  exports.logger = _logger2['default'];

/***/ }),
/* 5 */
/***/ (function(module, exports) {

  'use strict';

  exports.__esModule = true;
  exports.extend = extend;
  exports.indexOf = indexOf;
  exports.escapeExpression = escapeExpression;
  exports.isEmpty = isEmpty;
  exports.createFrame = createFrame;
  exports.blockParams = blockParams;
  exports.appendContextPath = appendContextPath;
  var escape = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    "'": '&#x27;',
    '`': '&#x60;',
    '=': '&#x3D;'
  };

  var badChars = /[&<>"'`=]/g,
      possible = /[&<>"'`=]/;

  function escapeChar(chr) {
    return escape[chr];
  }

  function extend(obj /* , ...source */) {
    for (var i = 1; i < arguments.length; i++) {
      for (var key in arguments[i]) {
        if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {
          obj[key] = arguments[i][key];
        }
      }
    }

    return obj;
  }

  var toString = Object.prototype.toString;

  exports.toString = toString;
  // Sourced from lodash
  // https://github.com/bestiejs/lodash/blob/master/LICENSE.txt
  /* eslint-disable func-style */
  var isFunction = function isFunction(value) {
    return typeof value === 'function';
  };
  // fallback for older versions of Chrome and Safari
  /* istanbul ignore next */
  if (isFunction(/x/)) {
    exports.isFunction = isFunction = function (value) {
      return typeof value === 'function' && toString.call(value) === '[object Function]';
    };
  }
  exports.isFunction = isFunction;

  /* eslint-enable func-style */

  /* istanbul ignore next */
  var isArray = Array.isArray || function (value) {
    return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;
  };

  exports.isArray = isArray;
  // Older IE versions do not directly support indexOf so we must implement our own, sadly.

  function indexOf(array, value) {
    for (var i = 0, len = array.length; i < len; i++) {
      if (array[i] === value) {
        return i;
      }
    }
    return -1;
  }

  function escapeExpression(string) {
    if (typeof string !== 'string') {
      // don't escape SafeStrings, since they're already safe
      if (string && string.toHTML) {
        return string.toHTML();
      } else if (string == null) {
        return '';
      } else if (!string) {
        return string + '';
      }

      // Force a string conversion as this will be done by the append regardless and
      // the regex test will do this transparently behind the scenes, causing issues if
      // an object's to string has escaped characters in it.
      string = '' + string;
    }

    if (!possible.test(string)) {
      return string;
    }
    return string.replace(badChars, escapeChar);
  }

  function isEmpty(value) {
    if (!value && value !== 0) {
      return true;
    } else if (isArray(value) && value.length === 0) {
      return true;
    } else {
      return false;
    }
  }

  function createFrame(object) {
    var frame = extend({}, object);
    frame._parent = object;
    return frame;
  }

  function blockParams(params, ids) {
    params.path = ids;
    return params;
  }

  function appendContextPath(contextPath, id) {
    return (contextPath ? contextPath + '.' : '') + id;
  }

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  var _Object$defineProperty = __webpack_require__(7)['default'];

  exports.__esModule = true;

  var errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];

  function Exception(message, node) {
    var loc = node && node.loc,
        line = undefined,
        column = undefined;
    if (loc) {
      line = loc.start.line;
      column = loc.start.column;

      message += ' - ' + line + ':' + column;
    }

    var tmp = Error.prototype.constructor.call(this, message);

    // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.
    for (var idx = 0; idx < errorProps.length; idx++) {
      this[errorProps[idx]] = tmp[errorProps[idx]];
    }

    /* istanbul ignore else */
    if (Error.captureStackTrace) {
      Error.captureStackTrace(this, Exception);
    }

    try {
      if (loc) {
        this.lineNumber = line;

        // Work around issue under safari where we can't directly set the column value
        /* istanbul ignore next */
        if (_Object$defineProperty) {
          Object.defineProperty(this, 'column', {
            value: column,
            enumerable: true
          });
        } else {
          this.column = column;
        }
      }
    } catch (nop) {
      /* Ignore if the browser is very particular */
    }
  }

  Exception.prototype = new Error();

  exports['default'] = Exception;
  module.exports = exports['default'];

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

  module.exports = { "default": __webpack_require__(8), __esModule: true };

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

  var $ = __webpack_require__(9);
  module.exports = function defineProperty(it, key, desc){
    return $.setDesc(it, key, desc);
  };

/***/ }),
/* 9 */
/***/ (function(module, exports) {

  var $Object = Object;
  module.exports = {
    create:     $Object.create,
    getProto:   $Object.getPrototypeOf,
    isEnum:     {}.propertyIsEnumerable,
    getDesc:    $Object.getOwnPropertyDescriptor,
    setDesc:    $Object.defineProperty,
    setDescs:   $Object.defineProperties,
    getKeys:    $Object.keys,
    getNames:   $Object.getOwnPropertyNames,
    getSymbols: $Object.getOwnPropertySymbols,
    each:       [].forEach
  };

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  var _interopRequireDefault = __webpack_require__(1)['default'];

  exports.__esModule = true;
  exports.registerDefaultHelpers = registerDefaultHelpers;

  var _helpersBlockHelperMissing = __webpack_require__(11);

  var _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);

  var _helpersEach = __webpack_require__(12);

  var _helpersEach2 = _interopRequireDefault(_helpersEach);

  var _helpersHelperMissing = __webpack_require__(13);

  var _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);

  var _helpersIf = __webpack_require__(14);

  var _helpersIf2 = _interopRequireDefault(_helpersIf);

  var _helpersLog = __webpack_require__(15);

  var _helpersLog2 = _interopRequireDefault(_helpersLog);

  var _helpersLookup = __webpack_require__(16);

  var _helpersLookup2 = _interopRequireDefault(_helpersLookup);

  var _helpersWith = __webpack_require__(17);

  var _helpersWith2 = _interopRequireDefault(_helpersWith);

  function registerDefaultHelpers(instance) {
    _helpersBlockHelperMissing2['default'](instance);
    _helpersEach2['default'](instance);
    _helpersHelperMissing2['default'](instance);
    _helpersIf2['default'](instance);
    _helpersLog2['default'](instance);
    _helpersLookup2['default'](instance);
    _helpersWith2['default'](instance);
  }

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  exports.__esModule = true;

  var _utils = __webpack_require__(5);

  exports['default'] = function (instance) {
    instance.registerHelper('blockHelperMissing', function (context, options) {
      var inverse = options.inverse,
          fn = options.fn;

      if (context === true) {
        return fn(this);
      } else if (context === false || context == null) {
        return inverse(this);
      } else if (_utils.isArray(context)) {
        if (context.length > 0) {
          if (options.ids) {
            options.ids = [options.name];
          }

          return instance.helpers.each(context, options);
        } else {
          return inverse(this);
        }
      } else {
        if (options.data && options.ids) {
          var data = _utils.createFrame(options.data);
          data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);
          options = { data: data };
        }

        return fn(context, options);
      }
    });
  };

  module.exports = exports['default'];

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  var _interopRequireDefault = __webpack_require__(1)['default'];

  exports.__esModule = true;

  var _utils = __webpack_require__(5);

  var _exception = __webpack_require__(6);

  var _exception2 = _interopRequireDefault(_exception);

  exports['default'] = function (instance) {
    instance.registerHelper('each', function (context, options) {
      if (!options) {
        throw new _exception2['default']('Must pass iterator to #each');
      }

      var fn = options.fn,
          inverse = options.inverse,
          i = 0,
          ret = '',
          data = undefined,
          contextPath = undefined;

      if (options.data && options.ids) {
        contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';
      }

      if (_utils.isFunction(context)) {
        context = context.call(this);
      }

      if (options.data) {
        data = _utils.createFrame(options.data);
      }

      function execIteration(field, index, last) {
        if (data) {
          data.key = field;
          data.index = index;
          data.first = index === 0;
          data.last = !!last;

          if (contextPath) {
            data.contextPath = contextPath + field;
          }
        }

        ret = ret + fn(context[field], {
          data: data,
          blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])
        });
      }

      if (context && typeof context === 'object') {
        if (_utils.isArray(context)) {
          for (var j = context.length; i < j; i++) {
            if (i in context) {
              execIteration(i, i, i === context.length - 1);
            }
          }
        } else {
          var priorKey = undefined;

          for (var key in context) {
            if (context.hasOwnProperty(key)) {
              // We're running the iterations one step out of sync so we can detect
              // the last iteration without have to scan the object twice and create
              // an itermediate keys array.
              if (priorKey !== undefined) {
                execIteration(priorKey, i - 1);
              }
              priorKey = key;
              i++;
            }
          }
          if (priorKey !== undefined) {
            execIteration(priorKey, i - 1, true);
          }
        }
      }

      if (i === 0) {
        ret = inverse(this);
      }

      return ret;
    });
  };

  module.exports = exports['default'];

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  var _interopRequireDefault = __webpack_require__(1)['default'];

  exports.__esModule = true;

  var _exception = __webpack_require__(6);

  var _exception2 = _interopRequireDefault(_exception);

  exports['default'] = function (instance) {
    instance.registerHelper('helperMissing', function () /* [args, ]options */{
      if (arguments.length === 1) {
        // A missing field in a {{foo}} construct.
        return undefined;
      } else {
        // Someone is actually trying to call something, blow up.
        throw new _exception2['default']('Missing helper: "' + arguments[arguments.length - 1].name + '"');
      }
    });
  };

  module.exports = exports['default'];

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  exports.__esModule = true;

  var _utils = __webpack_require__(5);

  exports['default'] = function (instance) {
    instance.registerHelper('if', function (conditional, options) {
      if (_utils.isFunction(conditional)) {
        conditional = conditional.call(this);
      }

      // Default behavior is to render the positive path if the value is truthy and not empty.
      // The `includeZero` option may be set to treat the condtional as purely not empty based on the
      // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.
      if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {
        return options.inverse(this);
      } else {
        return options.fn(this);
      }
    });

    instance.registerHelper('unless', function (conditional, options) {
      return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });
    });
  };

  module.exports = exports['default'];

/***/ }),
/* 15 */
/***/ (function(module, exports) {

  'use strict';

  exports.__esModule = true;

  exports['default'] = function (instance) {
    instance.registerHelper('log', function () /* message, options */{
      var args = [undefined],
          options = arguments[arguments.length - 1];
      for (var i = 0; i < arguments.length - 1; i++) {
        args.push(arguments[i]);
      }

      var level = 1;
      if (options.hash.level != null) {
        level = options.hash.level;
      } else if (options.data && options.data.level != null) {
        level = options.data.level;
      }
      args[0] = level;

      instance.log.apply(instance, args);
    });
  };

  module.exports = exports['default'];

/***/ }),
/* 16 */
/***/ (function(module, exports) {

  'use strict';

  exports.__esModule = true;

  exports['default'] = function (instance) {
    instance.registerHelper('lookup', function (obj, field) {
      return obj && obj[field];
    });
  };

  module.exports = exports['default'];

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  exports.__esModule = true;

  var _utils = __webpack_require__(5);

  exports['default'] = function (instance) {
    instance.registerHelper('with', function (context, options) {
      if (_utils.isFunction(context)) {
        context = context.call(this);
      }

      var fn = options.fn;

      if (!_utils.isEmpty(context)) {
        var data = options.data;
        if (options.data && options.ids) {
          data = _utils.createFrame(options.data);
          data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);
        }

        return fn(context, {
          data: data,
          blockParams: _utils.blockParams([context], [data && data.contextPath])
        });
      } else {
        return options.inverse(this);
      }
    });
  };

  module.exports = exports['default'];

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  var _interopRequireDefault = __webpack_require__(1)['default'];

  exports.__esModule = true;
  exports.registerDefaultDecorators = registerDefaultDecorators;

  var _decoratorsInline = __webpack_require__(19);

  var _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);

  function registerDefaultDecorators(instance) {
    _decoratorsInline2['default'](instance);
  }

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  exports.__esModule = true;

  var _utils = __webpack_require__(5);

  exports['default'] = function (instance) {
    instance.registerDecorator('inline', function (fn, props, container, options) {
      var ret = fn;
      if (!props.partials) {
        props.partials = {};
        ret = function (context, options) {
          // Create a new partials stack frame prior to exec.
          var original = container.partials;
          container.partials = _utils.extend({}, original, props.partials);
          var ret = fn(context, options);
          container.partials = original;
          return ret;
        };
      }

      props.partials[options.args[0]] = options.fn;

      return ret;
    });
  };

  module.exports = exports['default'];

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  exports.__esModule = true;

  var _utils = __webpack_require__(5);

  var logger = {
    methodMap: ['debug', 'info', 'warn', 'error'],
    level: 'info',

    // Maps a given level value to the `methodMap` indexes above.
    lookupLevel: function lookupLevel(level) {
      if (typeof level === 'string') {
        var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());
        if (levelMap >= 0) {
          level = levelMap;
        } else {
          level = parseInt(level, 10);
        }
      }

      return level;
    },

    // Can be overridden in the host environment
    log: function log(level) {
      level = logger.lookupLevel(level);

      if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {
        var method = logger.methodMap[level];
        if (!console[method]) {
          // eslint-disable-line no-console
          method = 'log';
        }

        for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          message[_key - 1] = arguments[_key];
        }

        console[method].apply(console, message); // eslint-disable-line no-console
      }
    }
  };

  exports['default'] = logger;
  module.exports = exports['default'];

/***/ }),
/* 21 */
/***/ (function(module, exports) {

  // Build out our basic SafeString type
  'use strict';

  exports.__esModule = true;
  function SafeString(string) {
    this.string = string;
  }

  SafeString.prototype.toString = SafeString.prototype.toHTML = function () {
    return '' + this.string;
  };

  exports['default'] = SafeString;
  module.exports = exports['default'];

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  var _Object$seal = __webpack_require__(23)['default'];

  var _interopRequireWildcard = __webpack_require__(3)['default'];

  var _interopRequireDefault = __webpack_require__(1)['default'];

  exports.__esModule = true;
  exports.checkRevision = checkRevision;
  exports.template = template;
  exports.wrapProgram = wrapProgram;
  exports.resolvePartial = resolvePartial;
  exports.invokePartial = invokePartial;
  exports.noop = noop;

  var _utils = __webpack_require__(5);

  var Utils = _interopRequireWildcard(_utils);

  var _exception = __webpack_require__(6);

  var _exception2 = _interopRequireDefault(_exception);

  var _base = __webpack_require__(4);

  function checkRevision(compilerInfo) {
    var compilerRevision = compilerInfo && compilerInfo[0] || 1,
        currentRevision = _base.COMPILER_REVISION;

    if (compilerRevision !== currentRevision) {
      if (compilerRevision < currentRevision) {
        var runtimeVersions = _base.REVISION_CHANGES[currentRevision],
            compilerVersions = _base.REVISION_CHANGES[compilerRevision];
        throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');
      } else {
        // Use the embedded version info since the runtime doesn't know about this revision yet
        throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');
      }
    }
  }

  function template(templateSpec, env) {
    /* istanbul ignore next */
    if (!env) {
      throw new _exception2['default']('No environment passed to template');
    }
    if (!templateSpec || !templateSpec.main) {
      throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);
    }

    templateSpec.main.decorator = templateSpec.main_d;

    // Note: Using env.VM references rather than local var references throughout this section to allow
    // for external users to override these as psuedo-supported APIs.
    env.VM.checkRevision(templateSpec.compiler);

    function invokePartialWrapper(partial, context, options) {
      if (options.hash) {
        context = Utils.extend({}, context, options.hash);
        if (options.ids) {
          options.ids[0] = true;
        }
      }

      partial = env.VM.resolvePartial.call(this, partial, context, options);
      var result = env.VM.invokePartial.call(this, partial, context, options);

      if (result == null && env.compile) {
        options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);
        result = options.partials[options.name](context, options);
      }
      if (result != null) {
        if (options.indent) {
          var lines = result.split('\n');
          for (var i = 0, l = lines.length; i < l; i++) {
            if (!lines[i] && i + 1 === l) {
              break;
            }

            lines[i] = options.indent + lines[i];
          }
          result = lines.join('\n');
        }
        return result;
      } else {
        throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');
      }
    }

    // Just add water
    var container = {
      strict: function strict(obj, name) {
        if (!(name in obj)) {
          throw new _exception2['default']('"' + name + '" not defined in ' + obj);
        }
        return obj[name];
      },
      lookup: function lookup(depths, name) {
        var len = depths.length;
        for (var i = 0; i < len; i++) {
          if (depths[i] && depths[i][name] != null) {
            return depths[i][name];
          }
        }
      },
      lambda: function lambda(current, context) {
        return typeof current === 'function' ? current.call(context) : current;
      },

      escapeExpression: Utils.escapeExpression,
      invokePartial: invokePartialWrapper,

      fn: function fn(i) {
        var ret = templateSpec[i];
        ret.decorator = templateSpec[i + '_d'];
        return ret;
      },

      programs: [],
      program: function program(i, data, declaredBlockParams, blockParams, depths) {
        var programWrapper = this.programs[i],
            fn = this.fn(i);
        if (data || depths || blockParams || declaredBlockParams) {
          programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);
        } else if (!programWrapper) {
          programWrapper = this.programs[i] = wrapProgram(this, i, fn);
        }
        return programWrapper;
      },

      data: function data(value, depth) {
        while (value && depth--) {
          value = value._parent;
        }
        return value;
      },
      merge: function merge(param, common) {
        var obj = param || common;

        if (param && common && param !== common) {
          obj = Utils.extend({}, common, param);
        }

        return obj;
      },
      // An empty object to use as replacement for null-contexts
      nullContext: _Object$seal({}),

      noop: env.VM.noop,
      compilerInfo: templateSpec.compiler
    };

    function ret(context) {
      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

      var data = options.data;

      ret._setup(options);
      if (!options.partial && templateSpec.useData) {
        data = initData(context, data);
      }
      var depths = undefined,
          blockParams = templateSpec.useBlockParams ? [] : undefined;
      if (templateSpec.useDepths) {
        if (options.depths) {
          depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;
        } else {
          depths = [context];
        }
      }

      function main(context /*, options*/) {
        return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);
      }
      main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);
      return main(context, options);
    }
    ret.isTop = true;

    ret._setup = function (options) {
      if (!options.partial) {
        container.helpers = container.merge(options.helpers, env.helpers);

        if (templateSpec.usePartial) {
          container.partials = container.merge(options.partials, env.partials);
        }
        if (templateSpec.usePartial || templateSpec.useDecorators) {
          container.decorators = container.merge(options.decorators, env.decorators);
        }
      } else {
        container.helpers = options.helpers;
        container.partials = options.partials;
        container.decorators = options.decorators;
      }
    };

    ret._child = function (i, data, blockParams, depths) {
      if (templateSpec.useBlockParams && !blockParams) {
        throw new _exception2['default']('must pass block params');
      }
      if (templateSpec.useDepths && !depths) {
        throw new _exception2['default']('must pass parent depths');
      }

      return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);
    };
    return ret;
  }

  function wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {
    function prog(context) {
      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

      var currentDepths = depths;
      if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {
        currentDepths = [context].concat(depths);
      }

      return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);
    }

    prog = executeDecorators(fn, prog, container, depths, data, blockParams);

    prog.program = i;
    prog.depth = depths ? depths.length : 0;
    prog.blockParams = declaredBlockParams || 0;
    return prog;
  }

  function resolvePartial(partial, context, options) {
    if (!partial) {
      if (options.name === '@partial-block') {
        partial = options.data['partial-block'];
      } else {
        partial = options.partials[options.name];
      }
    } else if (!partial.call && !options.name) {
      // This is a dynamic partial that returned a string
      options.name = partial;
      partial = options.partials[partial];
    }
    return partial;
  }

  function invokePartial(partial, context, options) {
    // Use the current closure context to save the partial-block if this partial
    var currentPartialBlock = options.data && options.data['partial-block'];
    options.partial = true;
    if (options.ids) {
      options.data.contextPath = options.ids[0] || options.data.contextPath;
    }

    var partialBlock = undefined;
    if (options.fn && options.fn !== noop) {
      (function () {
        options.data = _base.createFrame(options.data);
        // Wrapper function to get access to currentPartialBlock from the closure
        var fn = options.fn;
        partialBlock = options.data['partial-block'] = function partialBlockWrapper(context) {
          var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

          // Restore the partial-block from the closure for the execution of the block
          // i.e. the part inside the block of the partial call.
          options.data = _base.createFrame(options.data);
          options.data['partial-block'] = currentPartialBlock;
          return fn(context, options);
        };
        if (fn.partials) {
          options.partials = Utils.extend({}, options.partials, fn.partials);
        }
      })();
    }

    if (partial === undefined && partialBlock) {
      partial = partialBlock;
    }

    if (partial === undefined) {
      throw new _exception2['default']('The partial ' + options.name + ' could not be found');
    } else if (partial instanceof Function) {
      return partial(context, options);
    }
  }

  function noop() {
    return '';
  }

  function initData(context, data) {
    if (!data || !('root' in data)) {
      data = data ? _base.createFrame(data) : {};
      data.root = context;
    }
    return data;
  }

  function executeDecorators(fn, prog, container, depths, data, blockParams) {
    if (fn.decorator) {
      var props = {};
      prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);
      Utils.extend(prog, props);
    }
    return prog;
  }

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

  module.exports = { "default": __webpack_require__(24), __esModule: true };

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

  __webpack_require__(25);
  module.exports = __webpack_require__(30).Object.seal;

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

  // 19.1.2.17 Object.seal(O)
  var isObject = __webpack_require__(26);

  __webpack_require__(27)('seal', function($seal){
    return function seal(it){
      return $seal && isObject(it) ? $seal(it) : it;
    };
  });

/***/ }),
/* 26 */
/***/ (function(module, exports) {

  module.exports = function(it){
    return typeof it === 'object' ? it !== null : typeof it === 'function';
  };

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

  // most Object methods by ES6 should accept primitives
  var $export = __webpack_require__(28)
    , core    = __webpack_require__(30)
    , fails   = __webpack_require__(33);
  module.exports = function(KEY, exec){
    var fn  = (core.Object || {})[KEY] || Object[KEY]
      , exp = {};
    exp[KEY] = exec(fn);
    $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);
  };

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

  var global    = __webpack_require__(29)
    , core      = __webpack_require__(30)
    , ctx       = __webpack_require__(31)
    , PROTOTYPE = 'prototype';

  var $export = function(type, name, source){
    var IS_FORCED = type & $export.F
      , IS_GLOBAL = type & $export.G
      , IS_STATIC = type & $export.S
      , IS_PROTO  = type & $export.P
      , IS_BIND   = type & $export.B
      , IS_WRAP   = type & $export.W
      , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})
      , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]
      , key, own, out;
    if(IS_GLOBAL)source = name;
    for(key in source){
      // contains in native
      own = !IS_FORCED && target && key in target;
      if(own && key in exports)continue;
      // export native or passed
      out = own ? target[key] : source[key];
      // prevent global pollution for namespaces
      exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]
      // bind timers to global for call from export context
      : IS_BIND && own ? ctx(out, global)
      // wrap global constructors for prevent change them in library
      : IS_WRAP && target[key] == out ? (function(C){
        var F = function(param){
          return this instanceof C ? new C(param) : C(param);
        };
        F[PROTOTYPE] = C[PROTOTYPE];
        return F;
      // make static versions for prototype methods
      })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
      if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;
    }
  };
  // type bitmap
  $export.F = 1;  // forced
  $export.G = 2;  // global
  $export.S = 4;  // static
  $export.P = 8;  // proto
  $export.B = 16; // bind
  $export.W = 32; // wrap
  module.exports = $export;

/***/ }),
/* 29 */
/***/ (function(module, exports) {

  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
  var global = module.exports = typeof window != 'undefined' && window.Math == Math
    ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();
  if(typeof __g == 'number')__g = global; // eslint-disable-line no-undef

/***/ }),
/* 30 */
/***/ (function(module, exports) {

  var core = module.exports = {version: '1.2.6'};
  if(typeof __e == 'number')__e = core; // eslint-disable-line no-undef

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

  // optional / simple context binding
  var aFunction = __webpack_require__(32);
  module.exports = function(fn, that, length){
    aFunction(fn);
    if(that === undefined)return fn;
    switch(length){
      case 1: return function(a){
        return fn.call(that, a);
      };
      case 2: return function(a, b){
        return fn.call(that, a, b);
      };
      case 3: return function(a, b, c){
        return fn.call(that, a, b, c);
      };
    }
    return function(/* ...args */){
      return fn.apply(that, arguments);
    };
  };

/***/ }),
/* 32 */
/***/ (function(module, exports) {

  module.exports = function(it){
    if(typeof it != 'function')throw TypeError(it + ' is not a function!');
    return it;
  };

/***/ }),
/* 33 */
/***/ (function(module, exports) {

  module.exports = function(exec){
    try {
      return !!exec();
    } catch(e){
      return true;
    }
  };

/***/ }),
/* 34 */
/***/ (function(module, exports) {

  /* WEBPACK VAR INJECTION */(function(global) {/* global window */
  'use strict';

  exports.__esModule = true;

  exports['default'] = function (Handlebars) {
    /* istanbul ignore next */
    var root = typeof global !== 'undefined' ? global : window,
        $Handlebars = root.Handlebars;
    /* istanbul ignore next */
    Handlebars.noConflict = function () {
      if (root.Handlebars === Handlebars) {
        root.Handlebars = $Handlebars;
      }
      return Handlebars;
    };
  };

  module.exports = exports['default'];
  /* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))

/***/ }),
/* 35 */
/***/ (function(module, exports) {

  'use strict';

  exports.__esModule = true;
  var AST = {
    // Public API used to evaluate derived attributes regarding AST nodes
    helpers: {
      // a mustache is definitely a helper if:
      // * it is an eligible helper, and
      // * it has at least one parameter or hash segment
      helperExpression: function helperExpression(node) {
        return node.type === 'SubExpression' || (node.type === 'MustacheStatement' || node.type === 'BlockStatement') && !!(node.params && node.params.length || node.hash);
      },

      scopedId: function scopedId(path) {
        return (/^\.|this\b/.test(path.original)
        );
      },

      // an ID is simple if it only has one part, and that part is not
      // `..` or `this`.
      simpleId: function simpleId(path) {
        return path.parts.length === 1 && !AST.helpers.scopedId(path) && !path.depth;
      }
    }
  };

  // Must be exported as an object rather than the root of the module as the jison lexer
  // must modify the object to operate properly.
  exports['default'] = AST;
  module.exports = exports['default'];

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  var _interopRequireDefault = __webpack_require__(1)['default'];

  var _interopRequireWildcard = __webpack_require__(3)['default'];

  exports.__esModule = true;
  exports.parse = parse;

  var _parser = __webpack_require__(37);

  var _parser2 = _interopRequireDefault(_parser);

  var _whitespaceControl = __webpack_require__(38);

  var _whitespaceControl2 = _interopRequireDefault(_whitespaceControl);

  var _helpers = __webpack_require__(40);

  var Helpers = _interopRequireWildcard(_helpers);

  var _utils = __webpack_require__(5);

  exports.parser = _parser2['default'];

  var yy = {};
  _utils.extend(yy, Helpers);

  function parse(input, options) {
    // Just return if an already-compiled AST was passed in.
    if (input.type === 'Program') {
      return input;
    }

    _parser2['default'].yy = yy;

    // Altering the shared object here, but this is ok as parser is a sync operation
    yy.locInfo = function (locInfo) {
      return new yy.SourceLocation(options && options.srcName, locInfo);
    };

    var strip = new _whitespaceControl2['default'](options);
    return strip.accept(_parser2['default'].parse(input));
  }

/***/ }),
/* 37 */
/***/ (function(module, exports) {

  // File ignored in coverage tests via setting in .istanbul.yml
  /* Jison generated parser */
  "use strict";

  exports.__esModule = true;
  var handlebars = (function () {
      var parser = { trace: function trace() {},
          yy: {},
          symbols_: { "error": 2, "root": 3, "program": 4, "EOF": 5, "program_repetition0": 6, "statement": 7, "mustache": 8, "block": 9, "rawBlock": 10, "partial": 11, "partialBlock": 12, "content": 13, "COMMENT": 14, "CONTENT": 15, "openRawBlock": 16, "rawBlock_repetition_plus0": 17, "END_RAW_BLOCK": 18, "OPEN_RAW_BLOCK": 19, "helperName": 20, "openRawBlock_repetition0": 21, "openRawBlock_option0": 22, "CLOSE_RAW_BLOCK": 23, "openBlock": 24, "block_option0": 25, "closeBlock": 26, "openInverse": 27, "block_option1": 28, "OPEN_BLOCK": 29, "openBlock_repetition0": 30, "openBlock_option0": 31, "openBlock_option1": 32, "CLOSE": 33, "OPEN_INVERSE": 34, "openInverse_repetition0": 35, "openInverse_option0": 36, "openInverse_option1": 37, "openInverseChain": 38, "OPEN_INVERSE_CHAIN": 39, "openInverseChain_repetition0": 40, "openInverseChain_option0": 41, "openInverseChain_option1": 42, "inverseAndProgram": 43, "INVERSE": 44, "inverseChain": 45, "inverseChain_option0": 46, "OPEN_ENDBLOCK": 47, "OPEN": 48, "mustache_repetition0": 49, "mustache_option0": 50, "OPEN_UNESCAPED": 51, "mustache_repetition1": 52, "mustache_option1": 53, "CLOSE_UNESCAPED": 54, "OPEN_PARTIAL": 55, "partialName": 56, "partial_repetition0": 57, "partial_option0": 58, "openPartialBlock": 59, "OPEN_PARTIAL_BLOCK": 60, "openPartialBlock_repetition0": 61, "openPartialBlock_option0": 62, "param": 63, "sexpr": 64, "OPEN_SEXPR": 65, "sexpr_repetition0": 66, "sexpr_option0": 67, "CLOSE_SEXPR": 68, "hash": 69, "hash_repetition_plus0": 70, "hashSegment": 71, "ID": 72, "EQUALS": 73, "blockParams": 74, "OPEN_BLOCK_PARAMS": 75, "blockParams_repetition_plus0": 76, "CLOSE_BLOCK_PARAMS": 77, "path": 78, "dataName": 79, "STRING": 80, "NUMBER": 81, "BOOLEAN": 82, "UNDEFINED": 83, "NULL": 84, "DATA": 85, "pathSegments": 86, "SEP": 87, "$accept": 0, "$end": 1 },
          terminals_: { 2: "error", 5: "EOF", 14: "COMMENT", 15: "CONTENT", 18: "END_RAW_BLOCK", 19: "OPEN_RAW_BLOCK", 23: "CLOSE_RAW_BLOCK", 29: "OPEN_BLOCK", 33: "CLOSE", 34: "OPEN_INVERSE", 39: "OPEN_INVERSE_CHAIN", 44: "INVERSE", 47: "OPEN_ENDBLOCK", 48: "OPEN", 51: "OPEN_UNESCAPED", 54: "CLOSE_UNESCAPED", 55: "OPEN_PARTIAL", 60: "OPEN_PARTIAL_BLOCK", 65: "OPEN_SEXPR", 68: "CLOSE_SEXPR", 72: "ID", 73: "EQUALS", 75: "OPEN_BLOCK_PARAMS", 77: "CLOSE_BLOCK_PARAMS", 80: "STRING", 81: "NUMBER", 82: "BOOLEAN", 83: "UNDEFINED", 84: "NULL", 85: "DATA", 87: "SEP" },
          productions_: [0, [3, 2], [4, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [13, 1], [10, 3], [16, 5], [9, 4], [9, 4], [24, 6], [27, 6], [38, 6], [43, 2], [45, 3], [45, 1], [26, 3], [8, 5], [8, 5], [11, 5], [12, 3], [59, 5], [63, 1], [63, 1], [64, 5], [69, 1], [71, 3], [74, 3], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [56, 1], [56, 1], [79, 2], [78, 1], [86, 3], [86, 1], [6, 0], [6, 2], [17, 1], [17, 2], [21, 0], [21, 2], [22, 0], [22, 1], [25, 0], [25, 1], [28, 0], [28, 1], [30, 0], [30, 2], [31, 0], [31, 1], [32, 0], [32, 1], [35, 0], [35, 2], [36, 0], [36, 1], [37, 0], [37, 1], [40, 0], [40, 2], [41, 0], [41, 1], [42, 0], [42, 1], [46, 0], [46, 1], [49, 0], [49, 2], [50, 0], [50, 1], [52, 0], [52, 2], [53, 0], [53, 1], [57, 0], [57, 2], [58, 0], [58, 1], [61, 0], [61, 2], [62, 0], [62, 1], [66, 0], [66, 2], [67, 0], [67, 1], [70, 1], [70, 2], [76, 1], [76, 2]],
          performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$
          /**/) {

              var $0 = $$.length - 1;
              switch (yystate) {
                  case 1:
                      return $$[$0 - 1];
                      break;
                  case 2:
                      this.$ = yy.prepareProgram($$[$0]);
                      break;
                  case 3:
                      this.$ = $$[$0];
                      break;
                  case 4:
                      this.$ = $$[$0];
                      break;
                  case 5:
                      this.$ = $$[$0];
                      break;
                  case 6:
                      this.$ = $$[$0];
                      break;
                  case 7:
                      this.$ = $$[$0];
                      break;
                  case 8:
                      this.$ = $$[$0];
                      break;
                  case 9:
                      this.$ = {
                          type: 'CommentStatement',
                          value: yy.stripComment($$[$0]),
                          strip: yy.stripFlags($$[$0], $$[$0]),
                          loc: yy.locInfo(this._$)
                      };

                      break;
                  case 10:
                      this.$ = {
                          type: 'ContentStatement',
                          original: $$[$0],
                          value: $$[$0],
                          loc: yy.locInfo(this._$)
                      };

                      break;
                  case 11:
                      this.$ = yy.prepareRawBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$);
                      break;
                  case 12:
                      this.$ = { path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1] };
                      break;
                  case 13:
                      this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], false, this._$);
                      break;
                  case 14:
                      this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], true, this._$);
                      break;
                  case 15:
                      this.$ = { open: $$[$0 - 5], path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };
                      break;
                  case 16:
                      this.$ = { path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };
                      break;
                  case 17:
                      this.$ = { path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };
                      break;
                  case 18:
                      this.$ = { strip: yy.stripFlags($$[$0 - 1], $$[$0 - 1]), program: $$[$0] };
                      break;
                  case 19:
                      var inverse = yy.prepareBlock($$[$0 - 2], $$[$0 - 1], $$[$0], $$[$0], false, this._$),
                          program = yy.prepareProgram([inverse], $$[$0 - 1].loc);
                      program.chained = true;

                      this.$ = { strip: $$[$0 - 2].strip, program: program, chain: true };

                      break;
                  case 20:
                      this.$ = $$[$0];
                      break;
                  case 21:
                      this.$ = { path: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 2], $$[$0]) };
                      break;
                  case 22:
                      this.$ = yy.prepareMustache($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0 - 4], yy.stripFlags($$[$0 - 4], $$[$0]), this._$);
                      break;
                  case 23:
                      this.$ = yy.prepareMustache($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0 - 4], yy.stripFlags($$[$0 - 4], $$[$0]), this._$);
                      break;
                  case 24:
                      this.$ = {
                          type: 'PartialStatement',
                          name: $$[$0 - 3],
                          params: $$[$0 - 2],
                          hash: $$[$0 - 1],
                          indent: '',
                          strip: yy.stripFlags($$[$0 - 4], $$[$0]),
                          loc: yy.locInfo(this._$)
                      };

                      break;
                  case 25:
                      this.$ = yy.preparePartialBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$);
                      break;
                  case 26:
                      this.$ = { path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 4], $$[$0]) };
                      break;
                  case 27:
                      this.$ = $$[$0];
                      break;
                  case 28:
                      this.$ = $$[$0];
                      break;
                  case 29:
                      this.$ = {
                          type: 'SubExpression',
                          path: $$[$0 - 3],
                          params: $$[$0 - 2],
                          hash: $$[$0 - 1],
                          loc: yy.locInfo(this._$)
                      };

                      break;
                  case 30:
                      this.$ = { type: 'Hash', pairs: $$[$0], loc: yy.locInfo(this._$) };
                      break;
                  case 31:
                      this.$ = { type: 'HashPair', key: yy.id($$[$0 - 2]), value: $$[$0], loc: yy.locInfo(this._$) };
                      break;
                  case 32:
                      this.$ = yy.id($$[$0 - 1]);
                      break;
                  case 33:
                      this.$ = $$[$0];
                      break;
                  case 34:
                      this.$ = $$[$0];
                      break;
                  case 35:
                      this.$ = { type: 'StringLiteral', value: $$[$0], original: $$[$0], loc: yy.locInfo(this._$) };
                      break;
                  case 36:
                      this.$ = { type: 'NumberLiteral', value: Number($$[$0]), original: Number($$[$0]), loc: yy.locInfo(this._$) };
                      break;
                  case 37:
                      this.$ = { type: 'BooleanLiteral', value: $$[$0] === 'true', original: $$[$0] === 'true', loc: yy.locInfo(this._$) };
                      break;
                  case 38:
                      this.$ = { type: 'UndefinedLiteral', original: undefined, value: undefined, loc: yy.locInfo(this._$) };
                      break;
                  case 39:
                      this.$ = { type: 'NullLiteral', original: null, value: null, loc: yy.locInfo(this._$) };
                      break;
                  case 40:
                      this.$ = $$[$0];
                      break;
                  case 41:
                      this.$ = $$[$0];
                      break;
                  case 42:
                      this.$ = yy.preparePath(true, $$[$0], this._$);
                      break;
                  case 43:
                      this.$ = yy.preparePath(false, $$[$0], this._$);
                      break;
                  case 44:
                      $$[$0 - 2].push({ part: yy.id($$[$0]), original: $$[$0], separator: $$[$0 - 1] });this.$ = $$[$0 - 2];
                      break;
                  case 45:
                      this.$ = [{ part: yy.id($$[$0]), original: $$[$0] }];
                      break;
                  case 46:
                      this.$ = [];
                      break;
                  case 47:
                      $$[$0 - 1].push($$[$0]);
                      break;
                  case 48:
                      this.$ = [$$[$0]];
                      break;
                  case 49:
                      $$[$0 - 1].push($$[$0]);
                      break;
                  case 50:
                      this.$ = [];
                      break;
                  case 51:
                      $$[$0 - 1].push($$[$0]);
                      break;
                  case 58:
                      this.$ = [];
                      break;
                  case 59:
                      $$[$0 - 1].push($$[$0]);
                      break;
                  case 64:
                      this.$ = [];
                      break;
                  case 65:
                      $$[$0 - 1].push($$[$0]);
                      break;
                  case 70:
                      this.$ = [];
                      break;
                  case 71:
                      $$[$0 - 1].push($$[$0]);
                      break;
                  case 78:
                      this.$ = [];
                      break;
                  case 79:
                      $$[$0 - 1].push($$[$0]);
                      break;
                  case 82:
                      this.$ = [];
                      break;
                  case 83:
                      $$[$0 - 1].push($$[$0]);
                      break;
                  case 86:
                      this.$ = [];
                      break;
                  case 87:
                      $$[$0 - 1].push($$[$0]);
                      break;
                  case 90:
                      this.$ = [];
                      break;
                  case 91:
                      $$[$0 - 1].push($$[$0]);
                      break;
                  case 94:
                      this.$ = [];
                      break;
                  case 95:
                      $$[$0 - 1].push($$[$0]);
                      break;
                  case 98:
                      this.$ = [$$[$0]];
                      break;
                  case 99:
                      $$[$0 - 1].push($$[$0]);
                      break;
                  case 100:
                      this.$ = [$$[$0]];
                      break;
                  case 101:
                      $$[$0 - 1].push($$[$0]);
                      break;
              }
          },
          table: [{ 3: 1, 4: 2, 5: [2, 46], 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 1: [3] }, { 5: [1, 4] }, { 5: [2, 2], 7: 5, 8: 6, 9: 7, 10: 8, 11: 9, 12: 10, 13: 11, 14: [1, 12], 15: [1, 20], 16: 17, 19: [1, 23], 24: 15, 27: 16, 29: [1, 21], 34: [1, 22], 39: [2, 2], 44: [2, 2], 47: [2, 2], 48: [1, 13], 51: [1, 14], 55: [1, 18], 59: 19, 60: [1, 24] }, { 1: [2, 1] }, { 5: [2, 47], 14: [2, 47], 15: [2, 47], 19: [2, 47], 29: [2, 47], 34: [2, 47], 39: [2, 47], 44: [2, 47], 47: [2, 47], 48: [2, 47], 51: [2, 47], 55: [2, 47], 60: [2, 47] }, { 5: [2, 3], 14: [2, 3], 15: [2, 3], 19: [2, 3], 29: [2, 3], 34: [2, 3], 39: [2, 3], 44: [2, 3], 47: [2, 3], 48: [2, 3], 51: [2, 3], 55: [2, 3], 60: [2, 3] }, { 5: [2, 4], 14: [2, 4], 15: [2, 4], 19: [2, 4], 29: [2, 4], 34: [2, 4], 39: [2, 4], 44: [2, 4], 47: [2, 4], 48: [2, 4], 51: [2, 4], 55: [2, 4], 60: [2, 4] }, { 5: [2, 5], 14: [2, 5], 15: [2, 5], 19: [2, 5], 29: [2, 5], 34: [2, 5], 39: [2, 5], 44: [2, 5], 47: [2, 5], 48: [2, 5], 51: [2, 5], 55: [2, 5], 60: [2, 5] }, { 5: [2, 6], 14: [2, 6], 15: [2, 6], 19: [2, 6], 29: [2, 6], 34: [2, 6], 39: [2, 6], 44: [2, 6], 47: [2, 6], 48: [2, 6], 51: [2, 6], 55: [2, 6], 60: [2, 6] }, { 5: [2, 7], 14: [2, 7], 15: [2, 7], 19: [2, 7], 29: [2, 7], 34: [2, 7], 39: [2, 7], 44: [2, 7], 47: [2, 7], 48: [2, 7], 51: [2, 7], 55: [2, 7], 60: [2, 7] }, { 5: [2, 8], 14: [2, 8], 15: [2, 8], 19: [2, 8], 29: [2, 8], 34: [2, 8], 39: [2, 8], 44: [2, 8], 47: [2, 8], 48: [2, 8], 51: [2, 8], 55: [2, 8], 60: [2, 8] }, { 5: [2, 9], 14: [2, 9], 15: [2, 9], 19: [2, 9], 29: [2, 9], 34: [2, 9], 39: [2, 9], 44: [2, 9], 47: [2, 9], 48: [2, 9], 51: [2, 9], 55: [2, 9], 60: [2, 9] }, { 20: 25, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 36, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 37, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 4: 38, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 13: 40, 15: [1, 20], 17: 39 }, { 20: 42, 56: 41, 64: 43, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 45, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 5: [2, 10], 14: [2, 10], 15: [2, 10], 18: [2, 10], 19: [2, 10], 29: [2, 10], 34: [2, 10], 39: [2, 10], 44: [2, 10], 47: [2, 10], 48: [2, 10], 51: [2, 10], 55: [2, 10], 60: [2, 10] }, { 20: 46, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 47, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 48, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 42, 56: 49, 64: 43, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [2, 78], 49: 50, 65: [2, 78], 72: [2, 78], 80: [2, 78], 81: [2, 78], 82: [2, 78], 83: [2, 78], 84: [2, 78], 85: [2, 78] }, { 23: [2, 33], 33: [2, 33], 54: [2, 33], 65: [2, 33], 68: [2, 33], 72: [2, 33], 75: [2, 33], 80: [2, 33], 81: [2, 33], 82: [2, 33], 83: [2, 33], 84: [2, 33], 85: [2, 33] }, { 23: [2, 34], 33: [2, 34], 54: [2, 34], 65: [2, 34], 68: [2, 34], 72: [2, 34], 75: [2, 34], 80: [2, 34], 81: [2, 34], 82: [2, 34], 83: [2, 34], 84: [2, 34], 85: [2, 34] }, { 23: [2, 35], 33: [2, 35], 54: [2, 35], 65: [2, 35], 68: [2, 35], 72: [2, 35], 75: [2, 35], 80: [2, 35], 81: [2, 35], 82: [2, 35], 83: [2, 35], 84: [2, 35], 85: [2, 35] }, { 23: [2, 36], 33: [2, 36], 54: [2, 36], 65: [2, 36], 68: [2, 36], 72: [2, 36], 75: [2, 36], 80: [2, 36], 81: [2, 36], 82: [2, 36], 83: [2, 36], 84: [2, 36], 85: [2, 36] }, { 23: [2, 37], 33: [2, 37], 54: [2, 37], 65: [2, 37], 68: [2, 37], 72: [2, 37], 75: [2, 37], 80: [2, 37], 81: [2, 37], 82: [2, 37], 83: [2, 37], 84: [2, 37], 85: [2, 37] }, { 23: [2, 38], 33: [2, 38], 54: [2, 38], 65: [2, 38], 68: [2, 38], 72: [2, 38], 75: [2, 38], 80: [2, 38], 81: [2, 38], 82: [2, 38], 83: [2, 38], 84: [2, 38], 85: [2, 38] }, { 23: [2, 39], 33: [2, 39], 54: [2, 39], 65: [2, 39], 68: [2, 39], 72: [2, 39], 75: [2, 39], 80: [2, 39], 81: [2, 39], 82: [2, 39], 83: [2, 39], 84: [2, 39], 85: [2, 39] }, { 23: [2, 43], 33: [2, 43], 54: [2, 43], 65: [2, 43], 68: [2, 43], 72: [2, 43], 75: [2, 43], 80: [2, 43], 81: [2, 43], 82: [2, 43], 83: [2, 43], 84: [2, 43], 85: [2, 43], 87: [1, 51] }, { 72: [1, 35], 86: 52 }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 52: 53, 54: [2, 82], 65: [2, 82], 72: [2, 82], 80: [2, 82], 81: [2, 82], 82: [2, 82], 83: [2, 82], 84: [2, 82], 85: [2, 82] }, { 25: 54, 38: 56, 39: [1, 58], 43: 57, 44: [1, 59], 45: 55, 47: [2, 54] }, { 28: 60, 43: 61, 44: [1, 59], 47: [2, 56] }, { 13: 63, 15: [1, 20], 18: [1, 62] }, { 15: [2, 48], 18: [2, 48] }, { 33: [2, 86], 57: 64, 65: [2, 86], 72: [2, 86], 80: [2, 86], 81: [2, 86], 82: [2, 86], 83: [2, 86], 84: [2, 86], 85: [2, 86] }, { 33: [2, 40], 65: [2, 40], 72: [2, 40], 80: [2, 40], 81: [2, 40], 82: [2, 40], 83: [2, 40], 84: [2, 40], 85: [2, 40] }, { 33: [2, 41], 65: [2, 41], 72: [2, 41], 80: [2, 41], 81: [2, 41], 82: [2, 41], 83: [2, 41], 84: [2, 41], 85: [2, 41] }, { 20: 65, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 66, 47: [1, 67] }, { 30: 68, 33: [2, 58], 65: [2, 58], 72: [2, 58], 75: [2, 58], 80: [2, 58], 81: [2, 58], 82: [2, 58], 83: [2, 58], 84: [2, 58], 85: [2, 58] }, { 33: [2, 64], 35: 69, 65: [2, 64], 72: [2, 64], 75: [2, 64], 80: [2, 64], 81: [2, 64], 82: [2, 64], 83: [2, 64], 84: [2, 64], 85: [2, 64] }, { 21: 70, 23: [2, 50], 65: [2, 50], 72: [2, 50], 80: [2, 50], 81: [2, 50], 82: [2, 50], 83: [2, 50], 84: [2, 50], 85: [2, 50] }, { 33: [2, 90], 61: 71, 65: [2, 90], 72: [2, 90], 80: [2, 90], 81: [2, 90], 82: [2, 90], 83: [2, 90], 84: [2, 90], 85: [2, 90] }, { 20: 75, 33: [2, 80], 50: 72, 63: 73, 64: 76, 65: [1, 44], 69: 74, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 72: [1, 80] }, { 23: [2, 42], 33: [2, 42], 54: [2, 42], 65: [2, 42], 68: [2, 42], 72: [2, 42], 75: [2, 42], 80: [2, 42], 81: [2, 42], 82: [2, 42], 83: [2, 42], 84: [2, 42], 85: [2, 42], 87: [1, 51] }, { 20: 75, 53: 81, 54: [2, 84], 63: 82, 64: 76, 65: [1, 44], 69: 83, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 84, 47: [1, 67] }, { 47: [2, 55] }, { 4: 85, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 47: [2, 20] }, { 20: 86, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 87, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 26: 88, 47: [1, 67] }, { 47: [2, 57] }, { 5: [2, 11], 14: [2, 11], 15: [2, 11], 19: [2, 11], 29: [2, 11], 34: [2, 11], 39: [2, 11], 44: [2, 11], 47: [2, 11], 48: [2, 11], 51: [2, 11], 55: [2, 11], 60: [2, 11] }, { 15: [2, 49], 18: [2, 49] }, { 20: 75, 33: [2, 88], 58: 89, 63: 90, 64: 76, 65: [1, 44], 69: 91, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 65: [2, 94], 66: 92, 68: [2, 94], 72: [2, 94], 80: [2, 94], 81: [2, 94], 82: [2, 94], 83: [2, 94], 84: [2, 94], 85: [2, 94] }, { 5: [2, 25], 14: [2, 25], 15: [2, 25], 19: [2, 25], 29: [2, 25], 34: [2, 25], 39: [2, 25], 44: [2, 25], 47: [2, 25], 48: [2, 25], 51: [2, 25], 55: [2, 25], 60: [2, 25] }, { 20: 93, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 31: 94, 33: [2, 60], 63: 95, 64: 76, 65: [1, 44], 69: 96, 70: 77, 71: 78, 72: [1, 79], 75: [2, 60], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 33: [2, 66], 36: 97, 63: 98, 64: 76, 65: [1, 44], 69: 99, 70: 77, 71: 78, 72: [1, 79], 75: [2, 66], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 22: 100, 23: [2, 52], 63: 101, 64: 76, 65: [1, 44], 69: 102, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 33: [2, 92], 62: 103, 63: 104, 64: 76, 65: [1, 44], 69: 105, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 106] }, { 33: [2, 79], 65: [2, 79], 72: [2, 79], 80: [2, 79], 81: [2, 79], 82: [2, 79], 83: [2, 79], 84: [2, 79], 85: [2, 79] }, { 33: [2, 81] }, { 23: [2, 27], 33: [2, 27], 54: [2, 27], 65: [2, 27], 68: [2, 27], 72: [2, 27], 75: [2, 27], 80: [2, 27], 81: [2, 27], 82: [2, 27], 83: [2, 27], 84: [2, 27], 85: [2, 27] }, { 23: [2, 28], 33: [2, 28], 54: [2, 28], 65: [2, 28], 68: [2, 28], 72: [2, 28], 75: [2, 28], 80: [2, 28], 81: [2, 28], 82: [2, 28], 83: [2, 28], 84: [2, 28], 85: [2, 28] }, { 23: [2, 30], 33: [2, 30], 54: [2, 30], 68: [2, 30], 71: 107, 72: [1, 108], 75: [2, 30] }, { 23: [2, 98], 33: [2, 98], 54: [2, 98], 68: [2, 98], 72: [2, 98], 75: [2, 98] }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 73: [1, 109], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 23: [2, 44], 33: [2, 44], 54: [2, 44], 65: [2, 44], 68: [2, 44], 72: [2, 44], 75: [2, 44], 80: [2, 44], 81: [2, 44], 82: [2, 44], 83: [2, 44], 84: [2, 44], 85: [2, 44], 87: [2, 44] }, { 54: [1, 110] }, { 54: [2, 83], 65: [2, 83], 72: [2, 83], 80: [2, 83], 81: [2, 83], 82: [2, 83], 83: [2, 83], 84: [2, 83], 85: [2, 83] }, { 54: [2, 85] }, { 5: [2, 13], 14: [2, 13], 15: [2, 13], 19: [2, 13], 29: [2, 13], 34: [2, 13], 39: [2, 13], 44: [2, 13], 47: [2, 13], 48: [2, 13], 51: [2, 13], 55: [2, 13], 60: [2, 13] }, { 38: 56, 39: [1, 58], 43: 57, 44: [1, 59], 45: 112, 46: 111, 47: [2, 76] }, { 33: [2, 70], 40: 113, 65: [2, 70], 72: [2, 70], 75: [2, 70], 80: [2, 70], 81: [2, 70], 82: [2, 70], 83: [2, 70], 84: [2, 70], 85: [2, 70] }, { 47: [2, 18] }, { 5: [2, 14], 14: [2, 14], 15: [2, 14], 19: [2, 14], 29: [2, 14], 34: [2, 14], 39: [2, 14], 44: [2, 14], 47: [2, 14], 48: [2, 14], 51: [2, 14], 55: [2, 14], 60: [2, 14] }, { 33: [1, 114] }, { 33: [2, 87], 65: [2, 87], 72: [2, 87], 80: [2, 87], 81: [2, 87], 82: [2, 87], 83: [2, 87], 84: [2, 87], 85: [2, 87] }, { 33: [2, 89] }, { 20: 75, 63: 116, 64: 76, 65: [1, 44], 67: 115, 68: [2, 96], 69: 117, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 118] }, { 32: 119, 33: [2, 62], 74: 120, 75: [1, 121] }, { 33: [2, 59], 65: [2, 59], 72: [2, 59], 75: [2, 59], 80: [2, 59], 81: [2, 59], 82: [2, 59], 83: [2, 59], 84: [2, 59], 85: [2, 59] }, { 33: [2, 61], 75: [2, 61] }, { 33: [2, 68], 37: 122, 74: 123, 75: [1, 121] }, { 33: [2, 65], 65: [2, 65], 72: [2, 65], 75: [2, 65], 80: [2, 65], 81: [2, 65], 82: [2, 65], 83: [2, 65], 84: [2, 65], 85: [2, 65] }, { 33: [2, 67], 75: [2, 67] }, { 23: [1, 124] }, { 23: [2, 51], 65: [2, 51], 72: [2, 51], 80: [2, 51], 81: [2, 51], 82: [2, 51], 83: [2, 51], 84: [2, 51], 85: [2, 51] }, { 23: [2, 53] }, { 33: [1, 125] }, { 33: [2, 91], 65: [2, 91], 72: [2, 91], 80: [2, 91], 81: [2, 91], 82: [2, 91], 83: [2, 91], 84: [2, 91], 85: [2, 91] }, { 33: [2, 93] }, { 5: [2, 22], 14: [2, 22], 15: [2, 22], 19: [2, 22], 29: [2, 22], 34: [2, 22], 39: [2, 22], 44: [2, 22], 47: [2, 22], 48: [2, 22], 51: [2, 22], 55: [2, 22], 60: [2, 22] }, { 23: [2, 99], 33: [2, 99], 54: [2, 99], 68: [2, 99], 72: [2, 99], 75: [2, 99] }, { 73: [1, 109] }, { 20: 75, 63: 126, 64: 76, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 23], 14: [2, 23], 15: [2, 23], 19: [2, 23], 29: [2, 23], 34: [2, 23], 39: [2, 23], 44: [2, 23], 47: [2, 23], 48: [2, 23], 51: [2, 23], 55: [2, 23], 60: [2, 23] }, { 47: [2, 19] }, { 47: [2, 77] }, { 20: 75, 33: [2, 72], 41: 127, 63: 128, 64: 76, 65: [1, 44], 69: 129, 70: 77, 71: 78, 72: [1, 79], 75: [2, 72], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 24], 14: [2, 24], 15: [2, 24], 19: [2, 24], 29: [2, 24], 34: [2, 24], 39: [2, 24], 44: [2, 24], 47: [2, 24], 48: [2, 24], 51: [2, 24], 55: [2, 24], 60: [2, 24] }, { 68: [1, 130] }, { 65: [2, 95], 68: [2, 95], 72: [2, 95], 80: [2, 95], 81: [2, 95], 82: [2, 95], 83: [2, 95], 84: [2, 95], 85: [2, 95] }, { 68: [2, 97] }, { 5: [2, 21], 14: [2, 21], 15: [2, 21], 19: [2, 21], 29: [2, 21], 34: [2, 21], 39: [2, 21], 44: [2, 21], 47: [2, 21], 48: [2, 21], 51: [2, 21], 55: [2, 21], 60: [2, 21] }, { 33: [1, 131] }, { 33: [2, 63] }, { 72: [1, 133], 76: 132 }, { 33: [1, 134] }, { 33: [2, 69] }, { 15: [2, 12] }, { 14: [2, 26], 15: [2, 26], 19: [2, 26], 29: [2, 26], 34: [2, 26], 47: [2, 26], 48: [2, 26], 51: [2, 26], 55: [2, 26], 60: [2, 26] }, { 23: [2, 31], 33: [2, 31], 54: [2, 31], 68: [2, 31], 72: [2, 31], 75: [2, 31] }, { 33: [2, 74], 42: 135, 74: 136, 75: [1, 121] }, { 33: [2, 71], 65: [2, 71], 72: [2, 71], 75: [2, 71], 80: [2, 71], 81: [2, 71], 82: [2, 71], 83: [2, 71], 84: [2, 71], 85: [2, 71] }, { 33: [2, 73], 75: [2, 73] }, { 23: [2, 29], 33: [2, 29], 54: [2, 29], 65: [2, 29], 68: [2, 29], 72: [2, 29], 75: [2, 29], 80: [2, 29], 81: [2, 29], 82: [2, 29], 83: [2, 29], 84: [2, 29], 85: [2, 29] }, { 14: [2, 15], 15: [2, 15], 19: [2, 15], 29: [2, 15], 34: [2, 15], 39: [2, 15], 44: [2, 15], 47: [2, 15], 48: [2, 15], 51: [2, 15], 55: [2, 15], 60: [2, 15] }, { 72: [1, 138], 77: [1, 137] }, { 72: [2, 100], 77: [2, 100] }, { 14: [2, 16], 15: [2, 16], 19: [2, 16], 29: [2, 16], 34: [2, 16], 44: [2, 16], 47: [2, 16], 48: [2, 16], 51: [2, 16], 55: [2, 16], 60: [2, 16] }, { 33: [1, 139] }, { 33: [2, 75] }, { 33: [2, 32] }, { 72: [2, 101], 77: [2, 101] }, { 14: [2, 17], 15: [2, 17], 19: [2, 17], 29: [2, 17], 34: [2, 17], 39: [2, 17], 44: [2, 17], 47: [2, 17], 48: [2, 17], 51: [2, 17], 55: [2, 17], 60: [2, 17] }],
          defaultActions: { 4: [2, 1], 55: [2, 55], 57: [2, 20], 61: [2, 57], 74: [2, 81], 83: [2, 85], 87: [2, 18], 91: [2, 89], 102: [2, 53], 105: [2, 93], 111: [2, 19], 112: [2, 77], 117: [2, 97], 120: [2, 63], 123: [2, 69], 124: [2, 12], 136: [2, 75], 137: [2, 32] },
          parseError: function parseError(str, hash) {
              throw new Error(str);
          },
          parse: function parse(input) {
              var self = this,
                  stack = [0],
                  vstack = [null],
                  lstack = [],
                  table = this.table,
                  yytext = "",
                  yylineno = 0,
                  yyleng = 0,
                  recovering = 0,
                  TERROR = 2,
                  EOF = 1;
              this.lexer.setInput(input);
              this.lexer.yy = this.yy;
              this.yy.lexer = this.lexer;
              this.yy.parser = this;
              if (typeof this.lexer.yylloc == "undefined") this.lexer.yylloc = {};
              var yyloc = this.lexer.yylloc;
              lstack.push(yyloc);
              var ranges = this.lexer.options && this.lexer.options.ranges;
              if (typeof this.yy.parseError === "function") this.parseError = this.yy.parseError;
              function popStack(n) {
                  stack.length = stack.length - 2 * n;
                  vstack.length = vstack.length - n;
                  lstack.length = lstack.length - n;
              }
              function lex() {
                  var token;
                  token = self.lexer.lex() || 1;
                  if (typeof token !== "number") {
                      token = self.symbols_[token] || token;
                  }
                  return token;
              }
              var symbol,
                  preErrorSymbol,
                  state,
                  action,
                  a,
                  r,
                  yyval = {},
                  p,
                  len,
                  newState,
                  expected;
              while (true) {
                  state = stack[stack.length - 1];
                  if (this.defaultActions[state]) {
                      action = this.defaultActions[state];
                  } else {
                      if (symbol === null || typeof symbol == "undefined") {
                          symbol = lex();
                      }
                      action = table[state] && table[state][symbol];
                  }
                  if (typeof action === "undefined" || !action.length || !action[0]) {
                      var errStr = "";
                      if (!recovering) {
                          expected = [];
                          for (p in table[state]) if (this.terminals_[p] && p > 2) {
                              expected.push("'" + this.terminals_[p] + "'");
                          }
                          if (this.lexer.showPosition) {
                              errStr = "Parse error on line " + (yylineno + 1) + ":\n" + this.lexer.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
                          } else {
                              errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == 1 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
                          }
                          this.parseError(errStr, { text: this.lexer.match, token: this.terminals_[symbol] || symbol, line: this.lexer.yylineno, loc: yyloc, expected: expected });
                      }
                  }
                  if (action[0] instanceof Array && action.length > 1) {
                      throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
                  }
                  switch (action[0]) {
                      case 1:
                          stack.push(symbol);
                          vstack.push(this.lexer.yytext);
                          lstack.push(this.lexer.yylloc);
                          stack.push(action[1]);
                          symbol = null;
                          if (!preErrorSymbol) {
                              yyleng = this.lexer.yyleng;
                              yytext = this.lexer.yytext;
                              yylineno = this.lexer.yylineno;
                              yyloc = this.lexer.yylloc;
                              if (recovering > 0) recovering--;
                          } else {
                              symbol = preErrorSymbol;
                              preErrorSymbol = null;
                          }
                          break;
                      case 2:
                          len = this.productions_[action[1]][1];
                          yyval.$ = vstack[vstack.length - len];
                          yyval._$ = { first_line: lstack[lstack.length - (len || 1)].first_line, last_line: lstack[lstack.length - 1].last_line, first_column: lstack[lstack.length - (len || 1)].first_column, last_column: lstack[lstack.length - 1].last_column };
                          if (ranges) {
                              yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];
                          }
                          r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);
                          if (typeof r !== "undefined") {
                              return r;
                          }
                          if (len) {
                              stack = stack.slice(0, -1 * len * 2);
                              vstack = vstack.slice(0, -1 * len);
                              lstack = lstack.slice(0, -1 * len);
                          }
                          stack.push(this.productions_[action[1]][0]);
                          vstack.push(yyval.$);
                          lstack.push(yyval._$);
                          newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
                          stack.push(newState);
                          break;
                      case 3:
                          return true;
                  }
              }
              return true;
          }
      };
      /* Jison generated lexer */
      var lexer = (function () {
          var lexer = { EOF: 1,
              parseError: function parseError(str, hash) {
                  if (this.yy.parser) {
                      this.yy.parser.parseError(str, hash);
                  } else {
                      throw new Error(str);
                  }
              },
              setInput: function setInput(input) {
                  this._input = input;
                  this._more = this._less = this.done = false;
                  this.yylineno = this.yyleng = 0;
                  this.yytext = this.matched = this.match = '';
                  this.conditionStack = ['INITIAL'];
                  this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 };
                  if (this.options.ranges) this.yylloc.range = [0, 0];
                  this.offset = 0;
                  return this;
              },
              input: function input() {
                  var ch = this._input[0];
                  this.yytext += ch;
                  this.yyleng++;
                  this.offset++;
                  this.match += ch;
                  this.matched += ch;
                  var lines = ch.match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                      this.yylineno++;
                      this.yylloc.last_line++;
                  } else {
                      this.yylloc.last_column++;
                  }
                  if (this.options.ranges) this.yylloc.range[1]++;

                  this._input = this._input.slice(1);
                  return ch;
              },
              unput: function unput(ch) {
                  var len = ch.length;
                  var lines = ch.split(/(?:\r\n?|\n)/g);

                  this._input = ch + this._input;
                  this.yytext = this.yytext.substr(0, this.yytext.length - len - 1);
                  //this.yyleng -= len;
                  this.offset -= len;
                  var oldLines = this.match.split(/(?:\r\n?|\n)/g);
                  this.match = this.match.substr(0, this.match.length - 1);
                  this.matched = this.matched.substr(0, this.matched.length - 1);

                  if (lines.length - 1) this.yylineno -= lines.length - 1;
                  var r = this.yylloc.range;

                  this.yylloc = { first_line: this.yylloc.first_line,
                      last_line: this.yylineno + 1,
                      first_column: this.yylloc.first_column,
                      last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
                  };

                  if (this.options.ranges) {
                      this.yylloc.range = [r[0], r[0] + this.yyleng - len];
                  }
                  return this;
              },
              more: function more() {
                  this._more = true;
                  return this;
              },
              less: function less(n) {
                  this.unput(this.match.slice(n));
              },
              pastInput: function pastInput() {
                  var past = this.matched.substr(0, this.matched.length - this.match.length);
                  return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\n/g, "");
              },
              upcomingInput: function upcomingInput() {
                  var next = this.match;
                  if (next.length < 20) {
                      next += this._input.substr(0, 20 - next.length);
                  }
                  return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\n/g, "");
              },
              showPosition: function showPosition() {
                  var pre = this.pastInput();
                  var c = new Array(pre.length + 1).join("-");
                  return pre + this.upcomingInput() + "\n" + c + "^";
              },
              next: function next() {
                  if (this.done) {
                      return this.EOF;
                  }
                  if (!this._input) this.done = true;

                  var token, match, tempMatch, index, col, lines;
                  if (!this._more) {
                      this.yytext = '';
                      this.match = '';
                  }
                  var rules = this._currentRules();
                  for (var i = 0; i < rules.length; i++) {
                      tempMatch = this._input.match(this.rules[rules[i]]);
                      if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
                          match = tempMatch;
                          index = i;
                          if (!this.options.flex) break;
                      }
                  }
                  if (match) {
                      lines = match[0].match(/(?:\r\n?|\n).*/g);
                      if (lines) this.yylineno += lines.length;
                      this.yylloc = { first_line: this.yylloc.last_line,
                          last_line: this.yylineno + 1,
                          first_column: this.yylloc.last_column,
                          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length };
                      this.yytext += match[0];
                      this.match += match[0];
                      this.matches = match;
                      this.yyleng = this.yytext.length;
                      if (this.options.ranges) {
                          this.yylloc.range = [this.offset, this.offset += this.yyleng];
                      }
                      this._more = false;
                      this._input = this._input.slice(match[0].length);
                      this.matched += match[0];
                      token = this.performAction.call(this, this.yy, this, rules[index], this.conditionStack[this.conditionStack.length - 1]);
                      if (this.done && this._input) this.done = false;
                      if (token) return token;else return;
                  }
                  if (this._input === "") {
                      return this.EOF;
                  } else {
                      return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\n' + this.showPosition(), { text: "", token: null, line: this.yylineno });
                  }
              },
              lex: function lex() {
                  var r = this.next();
                  if (typeof r !== 'undefined') {
                      return r;
                  } else {
                      return this.lex();
                  }
              },
              begin: function begin(condition) {
                  this.conditionStack.push(condition);
              },
              popState: function popState() {
                  return this.conditionStack.pop();
              },
              _currentRules: function _currentRules() {
                  return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
              },
              topState: function topState() {
                  return this.conditionStack[this.conditionStack.length - 2];
              },
              pushState: function begin(condition) {
                  this.begin(condition);
              } };
          lexer.options = {};
          lexer.performAction = function anonymous(yy, yy_, $avoiding_name_collisions, YY_START
          /**/) {

              function strip(start, end) {
                  return yy_.yytext = yy_.yytext.substr(start, yy_.yyleng - end);
              }

              var YYSTATE = YY_START;
              switch ($avoiding_name_collisions) {
                  case 0:
                      if (yy_.yytext.slice(-2) === "\\\\") {
                          strip(0, 1);
                          this.begin("mu");
                      } else if (yy_.yytext.slice(-1) === "\\") {
                          strip(0, 1);
                          this.begin("emu");
                      } else {
                          this.begin("mu");
                      }
                      if (yy_.yytext) return 15;

                      break;
                  case 1:
                      return 15;
                      break;
                  case 2:
                      this.popState();
                      return 15;

                      break;
                  case 3:
                      this.begin('raw');return 15;
                      break;
                  case 4:
                      this.popState();
                      // Should be using `this.topState()` below, but it currently
                      // returns the second top instead of the first top. Opened an
                      // issue about it at https://github.com/zaach/jison/issues/291
                      if (this.conditionStack[this.conditionStack.length - 1] === 'raw') {
                          return 15;
                      } else {
                          yy_.yytext = yy_.yytext.substr(5, yy_.yyleng - 9);
                          return 'END_RAW_BLOCK';
                      }

                      break;
                  case 5:
                      return 15;
                      break;
                  case 6:
                      this.popState();
                      return 14;

                      break;
                  case 7:
                      return 65;
                      break;
                  case 8:
                      return 68;
                      break;
                  case 9:
                      return 19;
                      break;
                  case 10:
                      this.popState();
                      this.begin('raw');
                      return 23;

                      break;
                  case 11:
                      return 55;
                      break;
                  case 12:
                      return 60;
                      break;
                  case 13:
                      return 29;
                      break;
                  case 14:
                      return 47;
                      break;
                  case 15:
                      this.popState();return 44;
                      break;
                  case 16:
                      this.popState();return 44;
                      break;
                  case 17:
                      return 34;
                      break;
                  case 18:
                      return 39;
                      break;
                  case 19:
                      return 51;
                      break;
                  case 20:
                      return 48;
                      break;
                  case 21:
                      this.unput(yy_.yytext);
                      this.popState();
                      this.begin('com');

                      break;
                  case 22:
                      this.popState();
                      return 14;

                      break;
                  case 23:
                      return 48;
                      break;
                  case 24:
                      return 73;
                      break;
                  case 25:
                      return 72;
                      break;
                  case 26:
                      return 72;
                      break;
                  case 27:
                      return 87;
                      break;
                  case 28:
                      // ignore whitespace
                      break;
                  case 29:
                      this.popState();return 54;
                      break;
                  case 30:
                      this.popState();return 33;
                      break;
                  case 31:
                      yy_.yytext = strip(1, 2).replace(/\\"/g, '"');return 80;
                      break;
                  case 32:
                      yy_.yytext = strip(1, 2).replace(/\\'/g, "'");return 80;
                      break;
                  case 33:
                      return 85;
                      break;
                  case 34:
                      return 82;
                      break;
                  case 35:
                      return 82;
                      break;
                  case 36:
                      return 83;
                      break;
                  case 37:
                      return 84;
                      break;
                  case 38:
                      return 81;
                      break;
                  case 39:
                      return 75;
                      break;
                  case 40:
                      return 77;
                      break;
                  case 41:
                      return 72;
                      break;
                  case 42:
                      yy_.yytext = yy_.yytext.replace(/\\([\\\]])/g, '$1');return 72;
                      break;
                  case 43:
                      return 'INVALID';
                      break;
                  case 44:
                      return 5;
                      break;
              }
          };
          lexer.rules = [/^(?:[^\x00]*?(?=(\{\{)))/, /^(?:[^\x00]+)/, /^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/, /^(?:\{\{\{\{(?=[^\/]))/, /^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/, /^(?:[^\x00]*?(?=(\{\{\{\{)))/, /^(?:[\s\S]*?--(~)?\}\})/, /^(?:\()/, /^(?:\))/, /^(?:\{\{\{\{)/, /^(?:\}\}\}\})/, /^(?:\{\{(~)?>)/, /^(?:\{\{(~)?#>)/, /^(?:\{\{(~)?#\*?)/, /^(?:\{\{(~)?\/)/, /^(?:\{\{(~)?\^\s*(~)?\}\})/, /^(?:\{\{(~)?\s*else\s*(~)?\}\})/, /^(?:\{\{(~)?\^)/, /^(?:\{\{(~)?\s*else\b)/, /^(?:\{\{(~)?\{)/, /^(?:\{\{(~)?&)/, /^(?:\{\{(~)?!--)/, /^(?:\{\{(~)?![\s\S]*?\}\})/, /^(?:\{\{(~)?\*?)/, /^(?:=)/, /^(?:\.\.)/, /^(?:\.(?=([=~}\s\/.)|])))/, /^(?:[\/.])/, /^(?:\s+)/, /^(?:\}(~)?\}\})/, /^(?:(~)?\}\})/, /^(?:"(\\["]|[^"])*")/, /^(?:'(\\[']|[^'])*')/, /^(?:@)/, /^(?:true(?=([~}\s)])))/, /^(?:false(?=([~}\s)])))/, /^(?:undefined(?=([~}\s)])))/, /^(?:null(?=([~}\s)])))/, /^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/, /^(?:as\s+\|)/, /^(?:\|)/, /^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/, /^(?:\[(\\\]|[^\]])*\])/, /^(?:.)/, /^(?:$)/];
          lexer.conditions = { "mu": { "rules": [7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44], "inclusive": false }, "emu": { "rules": [2], "inclusive": false }, "com": { "rules": [6], "inclusive": false }, "raw": { "rules": [3, 4, 5], "inclusive": false }, "INITIAL": { "rules": [0, 1, 44], "inclusive": true } };
          return lexer;
      })();
      parser.lexer = lexer;
      function Parser() {
          this.yy = {};
      }Parser.prototype = parser;parser.Parser = Parser;
      return new Parser();
  })();exports["default"] = handlebars;
  module.exports = exports["default"];

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  var _interopRequireDefault = __webpack_require__(1)['default'];

  exports.__esModule = true;

  var _visitor = __webpack_require__(39);

  var _visitor2 = _interopRequireDefault(_visitor);

  function WhitespaceControl() {
    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

    this.options = options;
  }
  WhitespaceControl.prototype = new _visitor2['default']();

  WhitespaceControl.prototype.Program = function (program) {
    var doStandalone = !this.options.ignoreStandalone;

    var isRoot = !this.isRootSeen;
    this.isRootSeen = true;

    var body = program.body;
    for (var i = 0, l = body.length; i < l; i++) {
      var current = body[i],
          strip = this.accept(current);

      if (!strip) {
        continue;
      }

      var _isPrevWhitespace = isPrevWhitespace(body, i, isRoot),
          _isNextWhitespace = isNextWhitespace(body, i, isRoot),
          openStandalone = strip.openStandalone && _isPrevWhitespace,
          closeStandalone = strip.closeStandalone && _isNextWhitespace,
          inlineStandalone = strip.inlineStandalone && _isPrevWhitespace && _isNextWhitespace;

      if (strip.close) {
        omitRight(body, i, true);
      }
      if (strip.open) {
        omitLeft(body, i, true);
      }

      if (doStandalone && inlineStandalone) {
        omitRight(body, i);

        if (omitLeft(body, i)) {
          // If we are on a standalone node, save the indent info for partials
          if (current.type === 'PartialStatement') {
            // Pull out the whitespace from the final line
            current.indent = /([ \t]+$)/.exec(body[i - 1].original)[1];
          }
        }
      }
      if (doStandalone && openStandalone) {
        omitRight((current.program || current.inverse).body);

        // Strip out the previous content node if it's whitespace only
        omitLeft(body, i);
      }
      if (doStandalone && closeStandalone) {
        // Always strip the next node
        omitRight(body, i);

        omitLeft((current.inverse || current.program).body);
      }
    }

    return program;
  };

  WhitespaceControl.prototype.BlockStatement = WhitespaceControl.prototype.DecoratorBlock = WhitespaceControl.prototype.PartialBlockStatement = function (block) {
    this.accept(block.program);
    this.accept(block.inverse);

    // Find the inverse program that is involed with whitespace stripping.
    var program = block.program || block.inverse,
        inverse = block.program && block.inverse,
        firstInverse = inverse,
        lastInverse = inverse;

    if (inverse && inverse.chained) {
      firstInverse = inverse.body[0].program;

      // Walk the inverse chain to find the last inverse that is actually in the chain.
      while (lastInverse.chained) {
        lastInverse = lastInverse.body[lastInverse.body.length - 1].program;
      }
    }

    var strip = {
      open: block.openStrip.open,
      close: block.closeStrip.close,

      // Determine the standalone candiacy. Basically flag our content as being possibly standalone
      // so our parent can determine if we actually are standalone
      openStandalone: isNextWhitespace(program.body),
      closeStandalone: isPrevWhitespace((firstInverse || program).body)
    };

    if (block.openStrip.close) {
      omitRight(program.body, null, true);
    }

    if (inverse) {
      var inverseStrip = block.inverseStrip;

      if (inverseStrip.open) {
        omitLeft(program.body, null, true);
      }

      if (inverseStrip.close) {
        omitRight(firstInverse.body, null, true);
      }
      if (block.closeStrip.open) {
        omitLeft(lastInverse.body, null, true);
      }

      // Find standalone else statments
      if (!this.options.ignoreStandalone && isPrevWhitespace(program.body) && isNextWhitespace(firstInverse.body)) {
        omitLeft(program.body);
        omitRight(firstInverse.body);
      }
    } else if (block.closeStrip.open) {
      omitLeft(program.body, null, true);
    }

    return strip;
  };

  WhitespaceControl.prototype.Decorator = WhitespaceControl.prototype.MustacheStatement = function (mustache) {
    return mustache.strip;
  };

  WhitespaceControl.prototype.PartialStatement = WhitespaceControl.prototype.CommentStatement = function (node) {
    /* istanbul ignore next */
    var strip = node.strip || {};
    return {
      inlineStandalone: true,
      open: strip.open,
      close: strip.close
    };
  };

  function isPrevWhitespace(body, i, isRoot) {
    if (i === undefined) {
      i = body.length;
    }

    // Nodes that end with newlines are considered whitespace (but are special
    // cased for strip operations)
    var prev = body[i - 1],
        sibling = body[i - 2];
    if (!prev) {
      return isRoot;
    }

    if (prev.type === 'ContentStatement') {
      return (sibling || !isRoot ? /\r?\n\s*?$/ : /(^|\r?\n)\s*?$/).test(prev.original);
    }
  }
  function isNextWhitespace(body, i, isRoot) {
    if (i === undefined) {
      i = -1;
    }

    var next = body[i + 1],
        sibling = body[i + 2];
    if (!next) {
      return isRoot;
    }

    if (next.type === 'ContentStatement') {
      return (sibling || !isRoot ? /^\s*?\r?\n/ : /^\s*?(\r?\n|$)/).test(next.original);
    }
  }

  // Marks the node to the right of the position as omitted.
  // I.e. {{foo}}' ' will mark the ' ' node as omitted.
  //
  // If i is undefined, then the first child will be marked as such.
  //
  // If mulitple is truthy then all whitespace will be stripped out until non-whitespace
  // content is met.
  function omitRight(body, i, multiple) {
    var current = body[i == null ? 0 : i + 1];
    if (!current || current.type !== 'ContentStatement' || !multiple && current.rightStripped) {
      return;
    }

    var original = current.value;
    current.value = current.value.replace(multiple ? /^\s+/ : /^[ \t]*\r?\n?/, '');
    current.rightStripped = current.value !== original;
  }

  // Marks the node to the left of the position as omitted.
  // I.e. ' '{{foo}} will mark the ' ' node as omitted.
  //
  // If i is undefined then the last child will be marked as such.
  //
  // If mulitple is truthy then all whitespace will be stripped out until non-whitespace
  // content is met.
  function omitLeft(body, i, multiple) {
    var current = body[i == null ? body.length - 1 : i - 1];
    if (!current || current.type !== 'ContentStatement' || !multiple && current.leftStripped) {
      return;
    }

    // We omit the last node if it's whitespace only and not preceeded by a non-content node.
    var original = current.value;
    current.value = current.value.replace(multiple ? /\s+$/ : /[ \t]+$/, '');
    current.leftStripped = current.value !== original;
    return current.leftStripped;
  }

  exports['default'] = WhitespaceControl;
  module.exports = exports['default'];

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  var _interopRequireDefault = __webpack_require__(1)['default'];

  exports.__esModule = true;

  var _exception = __webpack_require__(6);

  var _exception2 = _interopRequireDefault(_exception);

  function Visitor() {
    this.parents = [];
  }

  Visitor.prototype = {
    constructor: Visitor,
    mutating: false,

    // Visits a given value. If mutating, will replace the value if necessary.
    acceptKey: function acceptKey(node, name) {
      var value = this.accept(node[name]);
      if (this.mutating) {
        // Hacky sanity check: This may have a few false positives for type for the helper
        // methods but will generally do the right thing without a lot of overhead.
        if (value && !Visitor.prototype[value.type]) {
          throw new _exception2['default']('Unexpected node type "' + value.type + '" found when accepting ' + name + ' on ' + node.type);
        }
        node[name] = value;
      }
    },

    // Performs an accept operation with added sanity check to ensure
    // required keys are not removed.
    acceptRequired: function acceptRequired(node, name) {
      this.acceptKey(node, name);

      if (!node[name]) {
        throw new _exception2['default'](node.type + ' requires ' + name);
      }
    },

    // Traverses a given array. If mutating, empty respnses will be removed
    // for child elements.
    acceptArray: function acceptArray(array) {
      for (var i = 0, l = array.length; i < l; i++) {
        this.acceptKey(array, i);

        if (!array[i]) {
          array.splice(i, 1);
          i--;
          l--;
        }
      }
    },

    accept: function accept(object) {
      if (!object) {
        return;
      }

      /* istanbul ignore next: Sanity code */
      if (!this[object.type]) {
        throw new _exception2['default']('Unknown type: ' + object.type, object);
      }

      if (this.current) {
        this.parents.unshift(this.current);
      }
      this.current = object;

      var ret = this[object.type](object);

      this.current = this.parents.shift();

      if (!this.mutating || ret) {
        return ret;
      } else if (ret !== false) {
        return object;
      }
    },

    Program: function Program(program) {
      this.acceptArray(program.body);
    },

    MustacheStatement: visitSubExpression,
    Decorator: visitSubExpression,

    BlockStatement: visitBlock,
    DecoratorBlock: visitBlock,

    PartialStatement: visitPartial,
    PartialBlockStatement: function PartialBlockStatement(partial) {
      visitPartial.call(this, partial);

      this.acceptKey(partial, 'program');
    },

    ContentStatement: function ContentStatement() /* content */{},
    CommentStatement: function CommentStatement() /* comment */{},

    SubExpression: visitSubExpression,

    PathExpression: function PathExpression() /* path */{},

    StringLiteral: function StringLiteral() /* string */{},
    NumberLiteral: function NumberLiteral() /* number */{},
    BooleanLiteral: function BooleanLiteral() /* bool */{},
    UndefinedLiteral: function UndefinedLiteral() /* literal */{},
    NullLiteral: function NullLiteral() /* literal */{},

    Hash: function Hash(hash) {
      this.acceptArray(hash.pairs);
    },
    HashPair: function HashPair(pair) {
      this.acceptRequired(pair, 'value');
    }
  };

  function visitSubExpression(mustache) {
    this.acceptRequired(mustache, 'path');
    this.acceptArray(mustache.params);
    this.acceptKey(mustache, 'hash');
  }
  function visitBlock(block) {
    visitSubExpression.call(this, block);

    this.acceptKey(block, 'program');
    this.acceptKey(block, 'inverse');
  }
  function visitPartial(partial) {
    this.acceptRequired(partial, 'name');
    this.acceptArray(partial.params);
    this.acceptKey(partial, 'hash');
  }

  exports['default'] = Visitor;
  module.exports = exports['default'];

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  var _interopRequireDefault = __webpack_require__(1)['default'];

  exports.__esModule = true;
  exports.SourceLocation = SourceLocation;
  exports.id = id;
  exports.stripFlags = stripFlags;
  exports.stripComment = stripComment;
  exports.preparePath = preparePath;
  exports.prepareMustache = prepareMustache;
  exports.prepareRawBlock = prepareRawBlock;
  exports.prepareBlock = prepareBlock;
  exports.prepareProgram = prepareProgram;
  exports.preparePartialBlock = preparePartialBlock;

  var _exception = __webpack_require__(6);

  var _exception2 = _interopRequireDefault(_exception);

  function validateClose(open, close) {
    close = close.path ? close.path.original : close;

    if (open.path.original !== close) {
      var errorNode = { loc: open.path.loc };

      throw new _exception2['default'](open.path.original + " doesn't match " + close, errorNode);
    }
  }

  function SourceLocation(source, locInfo) {
    this.source = source;
    this.start = {
      line: locInfo.first_line,
      column: locInfo.first_column
    };
    this.end = {
      line: locInfo.last_line,
      column: locInfo.last_column
    };
  }

  function id(token) {
    if (/^\[.*\]$/.test(token)) {
      return token.substr(1, token.length - 2);
    } else {
      return token;
    }
  }

  function stripFlags(open, close) {
    return {
      open: open.charAt(2) === '~',
      close: close.charAt(close.length - 3) === '~'
    };
  }

  function stripComment(comment) {
    return comment.replace(/^\{\{~?\!-?-?/, '').replace(/-?-?~?\}\}$/, '');
  }

  function preparePath(data, parts, loc) {
    loc = this.locInfo(loc);

    var original = data ? '@' : '',
        dig = [],
        depth = 0,
        depthString = '';

    for (var i = 0, l = parts.length; i < l; i++) {
      var part = parts[i].part,

      // If we have [] syntax then we do not treat path references as operators,
      // i.e. foo.[this] resolves to approximately context.foo['this']
      isLiteral = parts[i].original !== part;
      original += (parts[i].separator || '') + part;

      if (!isLiteral && (part === '..' || part === '.' || part === 'this')) {
        if (dig.length > 0) {
          throw new _exception2['default']('Invalid path: ' + original, { loc: loc });
        } else if (part === '..') {
          depth++;
          depthString += '../';
        }
      } else {
        dig.push(part);
      }
    }

    return {
      type: 'PathExpression',
      data: data,
      depth: depth,
      parts: dig,
      original: original,
      loc: loc
    };
  }

  function prepareMustache(path, params, hash, open, strip, locInfo) {
    // Must use charAt to support IE pre-10
    var escapeFlag = open.charAt(3) || open.charAt(2),
        escaped = escapeFlag !== '{' && escapeFlag !== '&';

    var decorator = /\*/.test(open);
    return {
      type: decorator ? 'Decorator' : 'MustacheStatement',
      path: path,
      params: params,
      hash: hash,
      escaped: escaped,
      strip: strip,
      loc: this.locInfo(locInfo)
    };
  }

  function prepareRawBlock(openRawBlock, contents, close, locInfo) {
    validateClose(openRawBlock, close);

    locInfo = this.locInfo(locInfo);
    var program = {
      type: 'Program',
      body: contents,
      strip: {},
      loc: locInfo
    };

    return {
      type: 'BlockStatement',
      path: openRawBlock.path,
      params: openRawBlock.params,
      hash: openRawBlock.hash,
      program: program,
      openStrip: {},
      inverseStrip: {},
      closeStrip: {},
      loc: locInfo
    };
  }

  function prepareBlock(openBlock, program, inverseAndProgram, close, inverted, locInfo) {
    if (close && close.path) {
      validateClose(openBlock, close);
    }

    var decorator = /\*/.test(openBlock.open);

    program.blockParams = openBlock.blockParams;

    var inverse = undefined,
        inverseStrip = undefined;

    if (inverseAndProgram) {
      if (decorator) {
        throw new _exception2['default']('Unexpected inverse block on decorator', inverseAndProgram);
      }

      if (inverseAndProgram.chain) {
        inverseAndProgram.program.body[0].closeStrip = close.strip;
      }

      inverseStrip = inverseAndProgram.strip;
      inverse = inverseAndProgram.program;
    }

    if (inverted) {
      inverted = inverse;
      inverse = program;
      program = inverted;
    }

    return {
      type: decorator ? 'DecoratorBlock' : 'BlockStatement',
      path: openBlock.path,
      params: openBlock.params,
      hash: openBlock.hash,
      program: program,
      inverse: inverse,
      openStrip: openBlock.strip,
      inverseStrip: inverseStrip,
      closeStrip: close && close.strip,
      loc: this.locInfo(locInfo)
    };
  }

  function prepareProgram(statements, loc) {
    if (!loc && statements.length) {
      var firstLoc = statements[0].loc,
          lastLoc = statements[statements.length - 1].loc;

      /* istanbul ignore else */
      if (firstLoc && lastLoc) {
        loc = {
          source: firstLoc.source,
          start: {
            line: firstLoc.start.line,
            column: firstLoc.start.column
          },
          end: {
            line: lastLoc.end.line,
            column: lastLoc.end.column
          }
        };
      }
    }

    return {
      type: 'Program',
      body: statements,
      strip: {},
      loc: loc
    };
  }

  function preparePartialBlock(open, program, close, locInfo) {
    validateClose(open, close);

    return {
      type: 'PartialBlockStatement',
      name: open.path,
      params: open.params,
      hash: open.hash,
      program: program,
      openStrip: open.strip,
      closeStrip: close && close.strip,
      loc: this.locInfo(locInfo)
    };
  }

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

  /* eslint-disable new-cap */

  'use strict';

  var _interopRequireDefault = __webpack_require__(1)['default'];

  exports.__esModule = true;
  exports.Compiler = Compiler;
  exports.precompile = precompile;
  exports.compile = compile;

  var _exception = __webpack_require__(6);

  var _exception2 = _interopRequireDefault(_exception);

  var _utils = __webpack_require__(5);

  var _ast = __webpack_require__(35);

  var _ast2 = _interopRequireDefault(_ast);

  var slice = [].slice;

  function Compiler() {}

  // the foundHelper register will disambiguate helper lookup from finding a
  // function in a context. This is necessary for mustache compatibility, which
  // requires that context functions in blocks are evaluated by blockHelperMissing,
  // and then proceed as if the resulting value was provided to blockHelperMissing.

  Compiler.prototype = {
    compiler: Compiler,

    equals: function equals(other) {
      var len = this.opcodes.length;
      if (other.opcodes.length !== len) {
        return false;
      }

      for (var i = 0; i < len; i++) {
        var opcode = this.opcodes[i],
            otherOpcode = other.opcodes[i];
        if (opcode.opcode !== otherOpcode.opcode || !argEquals(opcode.args, otherOpcode.args)) {
          return false;
        }
      }

      // We know that length is the same between the two arrays because they are directly tied
      // to the opcode behavior above.
      len = this.children.length;
      for (var i = 0; i < len; i++) {
        if (!this.children[i].equals(other.children[i])) {
          return false;
        }
      }

      return true;
    },

    guid: 0,

    compile: function compile(program, options) {
      this.sourceNode = [];
      this.opcodes = [];
      this.children = [];
      this.options = options;
      this.stringParams = options.stringParams;
      this.trackIds = options.trackIds;

      options.blockParams = options.blockParams || [];

      // These changes will propagate to the other compiler components
      var knownHelpers = options.knownHelpers;
      options.knownHelpers = {
        'helperMissing': true,
        'blockHelperMissing': true,
        'each': true,
        'if': true,
        'unless': true,
        'with': true,
        'log': true,
        'lookup': true
      };
      if (knownHelpers) {
        for (var _name in knownHelpers) {
          /* istanbul ignore else */
          if (_name in knownHelpers) {
            this.options.knownHelpers[_name] = knownHelpers[_name];
          }
        }
      }

      return this.accept(program);
    },

    compileProgram: function compileProgram(program) {
      var childCompiler = new this.compiler(),
          // eslint-disable-line new-cap
      result = childCompiler.compile(program, this.options),
          guid = this.guid++;

      this.usePartial = this.usePartial || result.usePartial;

      this.children[guid] = result;
      this.useDepths = this.useDepths || result.useDepths;

      return guid;
    },

    accept: function accept(node) {
      /* istanbul ignore next: Sanity code */
      if (!this[node.type]) {
        throw new _exception2['default']('Unknown type: ' + node.type, node);
      }

      this.sourceNode.unshift(node);
      var ret = this[node.type](node);
      this.sourceNode.shift();
      return ret;
    },

    Program: function Program(program) {
      this.options.blockParams.unshift(program.blockParams);

      var body = program.body,
          bodyLength = body.length;
      for (var i = 0; i < bodyLength; i++) {
        this.accept(body[i]);
      }

      this.options.blockParams.shift();

      this.isSimple = bodyLength === 1;
      this.blockParams = program.blockParams ? program.blockParams.length : 0;

      return this;
    },

    BlockStatement: function BlockStatement(block) {
      transformLiteralToPath(block);

      var program = block.program,
          inverse = block.inverse;

      program = program && this.compileProgram(program);
      inverse = inverse && this.compileProgram(inverse);

      var type = this.classifySexpr(block);

      if (type === 'helper') {
        this.helperSexpr(block, program, inverse);
      } else if (type === 'simple') {
        this.simpleSexpr(block);

        // now that the simple mustache is resolved, we need to
        // evaluate it by executing `blockHelperMissing`
        this.opcode('pushProgram', program);
        this.opcode('pushProgram', inverse);
        this.opcode('emptyHash');
        this.opcode('blockValue', block.path.original);
      } else {
        this.ambiguousSexpr(block, program, inverse);

        // now that the simple mustache is resolved, we need to
        // evaluate it by executing `blockHelperMissing`
        this.opcode('pushProgram', program);
        this.opcode('pushProgram', inverse);
        this.opcode('emptyHash');
        this.opcode('ambiguousBlockValue');
      }

      this.opcode('append');
    },

    DecoratorBlock: function DecoratorBlock(decorator) {
      var program = decorator.program && this.compileProgram(decorator.program);
      var params = this.setupFullMustacheParams(decorator, program, undefined),
          path = decorator.path;

      this.useDecorators = true;
      this.opcode('registerDecorator', params.length, path.original);
    },

    PartialStatement: function PartialStatement(partial) {
      this.usePartial = true;

      var program = partial.program;
      if (program) {
        program = this.compileProgram(partial.program);
      }

      var params = partial.params;
      if (params.length > 1) {
        throw new _exception2['default']('Unsupported number of partial arguments: ' + params.length, partial);
      } else if (!params.length) {
        if (this.options.explicitPartialContext) {
          this.opcode('pushLiteral', 'undefined');
        } else {
          params.push({ type: 'PathExpression', parts: [], depth: 0 });
        }
      }

      var partialName = partial.name.original,
          isDynamic = partial.name.type === 'SubExpression';
      if (isDynamic) {
        this.accept(partial.name);
      }

      this.setupFullMustacheParams(partial, program, undefined, true);

      var indent = partial.indent || '';
      if (this.options.preventIndent && indent) {
        this.opcode('appendContent', indent);
        indent = '';
      }

      this.opcode('invokePartial', isDynamic, partialName, indent);
      this.opcode('append');
    },
    PartialBlockStatement: function PartialBlockStatement(partialBlock) {
      this.PartialStatement(partialBlock);
    },

    MustacheStatement: function MustacheStatement(mustache) {
      this.SubExpression(mustache);

      if (mustache.escaped && !this.options.noEscape) {
        this.opcode('appendEscaped');
      } else {
        this.opcode('append');
      }
    },
    Decorator: function Decorator(decorator) {
      this.DecoratorBlock(decorator);
    },

    ContentStatement: function ContentStatement(content) {
      if (content.value) {
        this.opcode('appendContent', content.value);
      }
    },

    CommentStatement: function CommentStatement() {},

    SubExpression: function SubExpression(sexpr) {
      transformLiteralToPath(sexpr);
      var type = this.classifySexpr(sexpr);

      if (type === 'simple') {
        this.simpleSexpr(sexpr);
      } else if (type === 'helper') {
        this.helperSexpr(sexpr);
      } else {
        this.ambiguousSexpr(sexpr);
      }
    },
    ambiguousSexpr: function ambiguousSexpr(sexpr, program, inverse) {
      var path = sexpr.path,
          name = path.parts[0],
          isBlock = program != null || inverse != null;

      this.opcode('getContext', path.depth);

      this.opcode('pushProgram', program);
      this.opcode('pushProgram', inverse);

      path.strict = true;
      this.accept(path);

      this.opcode('invokeAmbiguous', name, isBlock);
    },

    simpleSexpr: function simpleSexpr(sexpr) {
      var path = sexpr.path;
      path.strict = true;
      this.accept(path);
      this.opcode('resolvePossibleLambda');
    },

    helperSexpr: function helperSexpr(sexpr, program, inverse) {
      var params = this.setupFullMustacheParams(sexpr, program, inverse),
          path = sexpr.path,
          name = path.parts[0];

      if (this.options.knownHelpers[name]) {
        this.opcode('invokeKnownHelper', params.length, name);
      } else if (this.options.knownHelpersOnly) {
        throw new _exception2['default']('You specified knownHelpersOnly, but used the unknown helper ' + name, sexpr);
      } else {
        path.strict = true;
        path.falsy = true;

        this.accept(path);
        this.opcode('invokeHelper', params.length, path.original, _ast2['default'].helpers.simpleId(path));
      }
    },

    PathExpression: function PathExpression(path) {
      this.addDepth(path.depth);
      this.opcode('getContext', path.depth);

      var name = path.parts[0],
          scoped = _ast2['default'].helpers.scopedId(path),
          blockParamId = !path.depth && !scoped && this.blockParamIndex(name);

      if (blockParamId) {
        this.opcode('lookupBlockParam', blockParamId, path.parts);
      } else if (!name) {
        // Context reference, i.e. `{{foo .}}` or `{{foo ..}}`
        this.opcode('pushContext');
      } else if (path.data) {
        this.options.data = true;
        this.opcode('lookupData', path.depth, path.parts, path.strict);
      } else {
        this.opcode('lookupOnContext', path.parts, path.falsy, path.strict, scoped);
      }
    },

    StringLiteral: function StringLiteral(string) {
      this.opcode('pushString', string.value);
    },

    NumberLiteral: function NumberLiteral(number) {
      this.opcode('pushLiteral', number.value);
    },

    BooleanLiteral: function BooleanLiteral(bool) {
      this.opcode('pushLiteral', bool.value);
    },

    UndefinedLiteral: function UndefinedLiteral() {
      this.opcode('pushLiteral', 'undefined');
    },

    NullLiteral: function NullLiteral() {
      this.opcode('pushLiteral', 'null');
    },

    Hash: function Hash(hash) {
      var pairs = hash.pairs,
          i = 0,
          l = pairs.length;

      this.opcode('pushHash');

      for (; i < l; i++) {
        this.pushParam(pairs[i].value);
      }
      while (i--) {
        this.opcode('assignToHash', pairs[i].key);
      }
      this.opcode('popHash');
    },

    // HELPERS
    opcode: function opcode(name) {
      this.opcodes.push({ opcode: name, args: slice.call(arguments, 1), loc: this.sourceNode[0].loc });
    },

    addDepth: function addDepth(depth) {
      if (!depth) {
        return;
      }

      this.useDepths = true;
    },

    classifySexpr: function classifySexpr(sexpr) {
      var isSimple = _ast2['default'].helpers.simpleId(sexpr.path);

      var isBlockParam = isSimple && !!this.blockParamIndex(sexpr.path.parts[0]);

      // a mustache is an eligible helper if:
      // * its id is simple (a single part, not `this` or `..`)
      var isHelper = !isBlockParam && _ast2['default'].helpers.helperExpression(sexpr);

      // if a mustache is an eligible helper but not a definite
      // helper, it is ambiguous, and will be resolved in a later
      // pass or at runtime.
      var isEligible = !isBlockParam && (isHelper || isSimple);

      // if ambiguous, we can possibly resolve the ambiguity now
      // An eligible helper is one that does not have a complex path, i.e. `this.foo`, `../foo` etc.
      if (isEligible && !isHelper) {
        var _name2 = sexpr.path.parts[0],
            options = this.options;

        if (options.knownHelpers[_name2]) {
          isHelper = true;
        } else if (options.knownHelpersOnly) {
          isEligible = false;
        }
      }

      if (isHelper) {
        return 'helper';
      } else if (isEligible) {
        return 'ambiguous';
      } else {
        return 'simple';
      }
    },

    pushParams: function pushParams(params) {
      for (var i = 0, l = params.length; i < l; i++) {
        this.pushParam(params[i]);
      }
    },

    pushParam: function pushParam(val) {
      var value = val.value != null ? val.value : val.original || '';

      if (this.stringParams) {
        if (value.replace) {
          value = value.replace(/^(\.?\.\/)*/g, '').replace(/\//g, '.');
        }

        if (val.depth) {
          this.addDepth(val.depth);
        }
        this.opcode('getContext', val.depth || 0);
        this.opcode('pushStringParam', value, val.type);

        if (val.type === 'SubExpression') {
          // SubExpressions get evaluated and passed in
          // in string params mode.
          this.accept(val);
        }
      } else {
        if (this.trackIds) {
          var blockParamIndex = undefined;
          if (val.parts && !_ast2['default'].helpers.scopedId(val) && !val.depth) {
            blockParamIndex = this.blockParamIndex(val.parts[0]);
          }
          if (blockParamIndex) {
            var blockParamChild = val.parts.slice(1).join('.');
            this.opcode('pushId', 'BlockParam', blockParamIndex, blockParamChild);
          } else {
            value = val.original || value;
            if (value.replace) {
              value = value.replace(/^this(?:\.|$)/, '').replace(/^\.\//, '').replace(/^\.$/, '');
            }

            this.opcode('pushId', val.type, value);
          }
        }
        this.accept(val);
      }
    },

    setupFullMustacheParams: function setupFullMustacheParams(sexpr, program, inverse, omitEmpty) {
      var params = sexpr.params;
      this.pushParams(params);

      this.opcode('pushProgram', program);
      this.opcode('pushProgram', inverse);

      if (sexpr.hash) {
        this.accept(sexpr.hash);
      } else {
        this.opcode('emptyHash', omitEmpty);
      }

      return params;
    },

    blockParamIndex: function blockParamIndex(name) {
      for (var depth = 0, len = this.options.blockParams.length; depth < len; depth++) {
        var blockParams = this.options.blockParams[depth],
            param = blockParams && _utils.indexOf(blockParams, name);
        if (blockParams && param >= 0) {
          return [depth, param];
        }
      }
    }
  };

  function precompile(input, options, env) {
    if (input == null || typeof input !== 'string' && input.type !== 'Program') {
      throw new _exception2['default']('You must pass a string or Handlebars AST to Handlebars.precompile. You passed ' + input);
    }

    options = options || {};
    if (!('data' in options)) {
      options.data = true;
    }
    if (options.compat) {
      options.useDepths = true;
    }

    var ast = env.parse(input, options),
        environment = new env.Compiler().compile(ast, options);
    return new env.JavaScriptCompiler().compile(environment, options);
  }

  function compile(input, options, env) {
    if (options === undefined) options = {};

    if (input == null || typeof input !== 'string' && input.type !== 'Program') {
      throw new _exception2['default']('You must pass a string or Handlebars AST to Handlebars.compile. You passed ' + input);
    }

    options = _utils.extend({}, options);
    if (!('data' in options)) {
      options.data = true;
    }
    if (options.compat) {
      options.useDepths = true;
    }

    var compiled = undefined;

    function compileInput() {
      var ast = env.parse(input, options),
          environment = new env.Compiler().compile(ast, options),
          templateSpec = new env.JavaScriptCompiler().compile(environment, options, undefined, true);
      return env.template(templateSpec);
    }

    // Template is only compiled on first use and cached after that point.
    function ret(context, execOptions) {
      if (!compiled) {
        compiled = compileInput();
      }
      return compiled.call(this, context, execOptions);
    }
    ret._setup = function (setupOptions) {
      if (!compiled) {
        compiled = compileInput();
      }
      return compiled._setup(setupOptions);
    };
    ret._child = function (i, data, blockParams, depths) {
      if (!compiled) {
        compiled = compileInput();
      }
      return compiled._child(i, data, blockParams, depths);
    };
    return ret;
  }

  function argEquals(a, b) {
    if (a === b) {
      return true;
    }

    if (_utils.isArray(a) && _utils.isArray(b) && a.length === b.length) {
      for (var i = 0; i < a.length; i++) {
        if (!argEquals(a[i], b[i])) {
          return false;
        }
      }
      return true;
    }
  }

  function transformLiteralToPath(sexpr) {
    if (!sexpr.path.parts) {
      var literal = sexpr.path;
      // Casting to string here to make false and 0 literal values play nicely with the rest
      // of the system.
      sexpr.path = {
        type: 'PathExpression',
        data: false,
        depth: 0,
        parts: [literal.original + ''],
        original: literal.original + '',
        loc: literal.loc
      };
    }
  }

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

  'use strict';

  var _interopRequireDefault = __webpack_require__(1)['default'];

  exports.__esModule = true;

  var _base = __webpack_require__(4);

  var _exception = __webpack_require__(6);

  var _exception2 = _interopRequireDefault(_exception);

  var _utils = __webpack_require__(5);

  var _codeGen = __webpack_require__(43);

  var _codeGen2 = _interopRequireDefault(_codeGen);

  function Literal(value) {
    this.value = value;
  }

  function JavaScriptCompiler() {}

  JavaScriptCompiler.prototype = {
    // PUBLIC API: You can override these methods in a subclass to provide
    // alternative compiled forms for name lookup and buffering semantics
    nameLookup: function nameLookup(parent, name /* , type*/) {
      if (JavaScriptCompiler.isValidJavaScriptVariableName(name)) {
        return [parent, '.', name];
      } else {
        return [parent, '[', JSON.stringify(name), ']'];
      }
    },
    depthedLookup: function depthedLookup(name) {
      return [this.aliasable('container.lookup'), '(depths, "', name, '")'];
    },

    compilerInfo: function compilerInfo() {
      var revision = _base.COMPILER_REVISION,
          versions = _base.REVISION_CHANGES[revision];
      return [revision, versions];
    },

    appendToBuffer: function appendToBuffer(source, location, explicit) {
      // Force a source as this simplifies the merge logic.
      if (!_utils.isArray(source)) {
        source = [source];
      }
      source = this.source.wrap(source, location);

      if (this.environment.isSimple) {
        return ['return ', source, ';'];
      } else if (explicit) {
        // This is a case where the buffer operation occurs as a child of another
        // construct, generally braces. We have to explicitly output these buffer
        // operations to ensure that the emitted code goes in the correct location.
        return ['buffer += ', source, ';'];
      } else {
        source.appendToBuffer = true;
        return source;
      }
    },

    initializeBuffer: function initializeBuffer() {
      return this.quotedString('');
    },
    // END PUBLIC API

    compile: function compile(environment, options, context, asObject) {
      this.environment = environment;
      this.options = options;
      this.stringParams = this.options.stringParams;
      this.trackIds = this.options.trackIds;
      this.precompile = !asObject;

      this.name = this.environment.name;
      this.isChild = !!context;
      this.context = context || {
        decorators: [],
        programs: [],
        environments: []
      };

      this.preamble();

      this.stackSlot = 0;
      this.stackVars = [];
      this.aliases = {};
      this.registers = { list: [] };
      this.hashes = [];
      this.compileStack = [];
      this.inlineStack = [];
      this.blockParams = [];

      this.compileChildren(environment, options);

      this.useDepths = this.useDepths || environment.useDepths || environment.useDecorators || this.options.compat;
      this.useBlockParams = this.useBlockParams || environment.useBlockParams;

      var opcodes = environment.opcodes,
          opcode = undefined,
          firstLoc = undefined,
          i = undefined,
          l = undefined;

      for (i = 0, l = opcodes.length; i < l; i++) {
        opcode = opcodes[i];

        this.source.currentLocation = opcode.loc;
        firstLoc = firstLoc || opcode.loc;
        this[opcode.opcode].apply(this, opcode.args);
      }

      // Flush any trailing content that might be pending.
      this.source.currentLocation = firstLoc;
      this.pushSource('');

      /* istanbul ignore next */
      if (this.stackSlot || this.inlineStack.length || this.compileStack.length) {
        throw new _exception2['default']('Compile completed with content left on stack');
      }

      if (!this.decorators.isEmpty()) {
        this.useDecorators = true;

        this.decorators.prepend('var decorators = container.decorators;\n');
        this.decorators.push('return fn;');

        if (asObject) {
          this.decorators = Function.apply(this, ['fn', 'props', 'container', 'depth0', 'data', 'blockParams', 'depths', this.decorators.merge()]);
        } else {
          this.decorators.prepend('function(fn, props, container, depth0, data, blockParams, depths) {\n');
          this.decorators.push('}\n');
          this.decorators = this.decorators.merge();
        }
      } else {
        this.decorators = undefined;
      }

      var fn = this.createFunctionContext(asObject);
      if (!this.isChild) {
        var ret = {
          compiler: this.compilerInfo(),
          main: fn
        };

        if (this.decorators) {
          ret.main_d = this.decorators; // eslint-disable-line camelcase
          ret.useDecorators = true;
        }

        var _context = this.context;
        var programs = _context.programs;
        var decorators = _context.decorators;

        for (i = 0, l = programs.length; i < l; i++) {
          if (programs[i]) {
            ret[i] = programs[i];
            if (decorators[i]) {
              ret[i + '_d'] = decorators[i];
              ret.useDecorators = true;
            }
          }
        }

        if (this.environment.usePartial) {
          ret.usePartial = true;
        }
        if (this.options.data) {
          ret.useData = true;
        }
        if (this.useDepths) {
          ret.useDepths = true;
        }
        if (this.useBlockParams) {
          ret.useBlockParams = true;
        }
        if (this.options.compat) {
          ret.compat = true;
        }

        if (!asObject) {
          ret.compiler = JSON.stringify(ret.compiler);

          this.source.currentLocation = { start: { line: 1, column: 0 } };
          ret = this.objectLiteral(ret);

          if (options.srcName) {
            ret = ret.toStringWithSourceMap({ file: options.destName });
            ret.map = ret.map && ret.map.toString();
          } else {
            ret = ret.toString();
          }
        } else {
          ret.compilerOptions = this.options;
        }

        return ret;
      } else {
        return fn;
      }
    },

    preamble: function preamble() {
      // track the last context pushed into place to allow skipping the
      // getContext opcode when it would be a noop
      this.lastContext = 0;
      this.source = new _codeGen2['default'](this.options.srcName);
      this.decorators = new _codeGen2['default'](this.options.srcName);
    },

    createFunctionContext: function createFunctionContext(asObject) {
      var varDeclarations = '';

      var locals = this.stackVars.concat(this.registers.list);
      if (locals.length > 0) {
        varDeclarations += ', ' + locals.join(', ');
      }

      // Generate minimizer alias mappings
      //
      // When using true SourceNodes, this will update all references to the given alias
      // as the source nodes are reused in situ. For the non-source node compilation mode,
      // aliases will not be used, but this case is already being run on the client and
      // we aren't concern about minimizing the template size.
      var aliasCount = 0;
      for (var alias in this.aliases) {
        // eslint-disable-line guard-for-in
        var node = this.aliases[alias];

        if (this.aliases.hasOwnProperty(alias) && node.children && node.referenceCount > 1) {
          varDeclarations += ', alias' + ++aliasCount + '=' + alias;
          node.children[0] = 'alias' + aliasCount;
        }
      }

      var params = ['container', 'depth0', 'helpers', 'partials', 'data'];

      if (this.useBlockParams || this.useDepths) {
        params.push('blockParams');
      }
      if (this.useDepths) {
        params.push('depths');
      }

      // Perform a second pass over the output to merge content when possible
      var source = this.mergeSource(varDeclarations);

      if (asObject) {
        params.push(source);

        return Function.apply(this, params);
      } else {
        return this.source.wrap(['function(', params.join(','), ') {\n  ', source, '}']);
      }
    },
    mergeSource: function mergeSource(varDeclarations) {
      var isSimple = this.environment.isSimple,
          appendOnly = !this.forceBuffer,
          appendFirst = undefined,
          sourceSeen = undefined,
          bufferStart = undefined,
          bufferEnd = undefined;
      this.source.each(function (line) {
        if (line.appendToBuffer) {
          if (bufferStart) {
            line.prepend('  + ');
          } else {
            bufferStart = line;
          }
          bufferEnd = line;
        } else {
          if (bufferStart) {
            if (!sourceSeen) {
              appendFirst = true;
            } else {
              bufferStart.prepend('buffer += ');
            }
            bufferEnd.add(';');
            bufferStart = bufferEnd = undefined;
          }

          sourceSeen = true;
          if (!isSimple) {
            appendOnly = false;
          }
        }
      });

      if (appendOnly) {
        if (bufferStart) {
          bufferStart.prepend('return ');
          bufferEnd.add(';');
        } else if (!sourceSeen) {
          this.source.push('return "";');
        }
      } else {
        varDeclarations += ', buffer = ' + (appendFirst ? '' : this.initializeBuffer());

        if (bufferStart) {
          bufferStart.prepend('return buffer + ');
          bufferEnd.add(';');
        } else {
          this.source.push('return buffer;');
        }
      }

      if (varDeclarations) {
        this.source.prepend('var ' + varDeclarations.substring(2) + (appendFirst ? '' : ';\n'));
      }

      return this.source.merge();
    },

    // [blockValue]
    //
    // On stack, before: hash, inverse, program, value
    // On stack, after: return value of blockHelperMissing
    //
    // The purpose of this opcode is to take a block of the form
    // `{{#this.foo}}...{{/this.foo}}`, resolve the value of `foo`, and
    // replace it on the stack with the result of properly
    // invoking blockHelperMissing.
    blockValue: function blockValue(name) {
      var blockHelperMissing = this.aliasable('helpers.blockHelperMissing'),
          params = [this.contextName(0)];
      this.setupHelperArgs(name, 0, params);

      var blockName = this.popStack();
      params.splice(1, 0, blockName);

      this.push(this.source.functionCall(blockHelperMissing, 'call', params));
    },

    // [ambiguousBlockValue]
    //
    // On stack, before: hash, inverse, program, value
    // Compiler value, before: lastHelper=value of last found helper, if any
    // On stack, after, if no lastHelper: same as [blockValue]
    // On stack, after, if lastHelper: value
    ambiguousBlockValue: function ambiguousBlockValue() {
      // We're being a bit cheeky and reusing the options value from the prior exec
      var blockHelperMissing = this.aliasable('helpers.blockHelperMissing'),
          params = [this.contextName(0)];
      this.setupHelperArgs('', 0, params, true);

      this.flushInline();

      var current = this.topStack();
      params.splice(1, 0, current);

      this.pushSource(['if (!', this.lastHelper, ') { ', current, ' = ', this.source.functionCall(blockHelperMissing, 'call', params), '}']);
    },

    // [appendContent]
    //
    // On stack, before: ...
    // On stack, after: ...
    //
    // Appends the string value of `content` to the current buffer
    appendContent: function appendContent(content) {
      if (this.pendingContent) {
        content = this.pendingContent + content;
      } else {
        this.pendingLocation = this.source.currentLocation;
      }

      this.pendingContent = content;
    },

    // [append]
    //
    // On stack, before: value, ...
    // On stack, after: ...
    //
    // Coerces `value` to a String and appends it to the current buffer.
    //
    // If `value` is truthy, or 0, it is coerced into a string and appended
    // Otherwise, the empty string is appended
    append: function append() {
      if (this.isInline()) {
        this.replaceStack(function (current) {
          return [' != null ? ', current, ' : ""'];
        });

        this.pushSource(this.appendToBuffer(this.popStack()));
      } else {
        var local = this.popStack();
        this.pushSource(['if (', local, ' != null) { ', this.appendToBuffer(local, undefined, true), ' }']);
        if (this.environment.isSimple) {
          this.pushSource(['else { ', this.appendToBuffer("''", undefined, true), ' }']);
        }
      }
    },

    // [appendEscaped]
    //
    // On stack, before: value, ...
    // On stack, after: ...
    //
    // Escape `value` and append it to the buffer
    appendEscaped: function appendEscaped() {
      this.pushSource(this.appendToBuffer([this.aliasable('container.escapeExpression'), '(', this.popStack(), ')']));
    },

    // [getContext]
    //
    // On stack, before: ...
    // On stack, after: ...
    // Compiler value, after: lastContext=depth
    //
    // Set the value of the `lastContext` compiler value to the depth
    getContext: function getContext(depth) {
      this.lastContext = depth;
    },

    // [pushContext]
    //
    // On stack, before: ...
    // On stack, after: currentContext, ...
    //
    // Pushes the value of the current context onto the stack.
    pushContext: function pushContext() {
      this.pushStackLiteral(this.contextName(this.lastContext));
    },

    // [lookupOnContext]
    //
    // On stack, before: ...
    // On stack, after: currentContext[name], ...
    //
    // Looks up the value of `name` on the current context and pushes
    // it onto the stack.
    lookupOnContext: function lookupOnContext(parts, falsy, strict, scoped) {
      var i = 0;

      if (!scoped && this.options.compat && !this.lastContext) {
        // The depthed query is expected to handle the undefined logic for the root level that
        // is implemented below, so we evaluate that directly in compat mode
        this.push(this.depthedLookup(parts[i++]));
      } else {
        this.pushContext();
      }

      this.resolvePath('context', parts, i, falsy, strict);
    },

    // [lookupBlockParam]
    //
    // On stack, before: ...
    // On stack, after: blockParam[name], ...
    //
    // Looks up the value of `parts` on the given block param and pushes
    // it onto the stack.
    lookupBlockParam: function lookupBlockParam(blockParamId, parts) {
      this.useBlockParams = true;

      this.push(['blockParams[', blockParamId[0], '][', blockParamId[1], ']']);
      this.resolvePath('context', parts, 1);
    },

    // [lookupData]
    //
    // On stack, before: ...
    // On stack, after: data, ...
    //
    // Push the data lookup operator
    lookupData: function lookupData(depth, parts, strict) {
      if (!depth) {
        this.pushStackLiteral('data');
      } else {
        this.pushStackLiteral('container.data(data, ' + depth + ')');
      }

      this.resolvePath('data', parts, 0, true, strict);
    },

    resolvePath: function resolvePath(type, parts, i, falsy, strict) {
      // istanbul ignore next

      var _this = this;

      if (this.options.strict || this.options.assumeObjects) {
        this.push(strictLookup(this.options.strict && strict, this, parts, type));
        return;
      }

      var len = parts.length;
      for (; i < len; i++) {
        /* eslint-disable no-loop-func */
        this.replaceStack(function (current) {
          var lookup = _this.nameLookup(current, parts[i], type);
          // We want to ensure that zero and false are handled properly if the context (falsy flag)
          // needs to have the special handling for these values.
          if (!falsy) {
            return [' != null ? ', lookup, ' : ', current];
          } else {
            // Otherwise we can use generic falsy handling
            return [' && ', lookup];
          }
        });
        /* eslint-enable no-loop-func */
      }
    },

    // [resolvePossibleLambda]
    //
    // On stack, before: value, ...
    // On stack, after: resolved value, ...
    //
    // If the `value` is a lambda, replace it on the stack by
    // the return value of the lambda
    resolvePossibleLambda: function resolvePossibleLambda() {
      this.push([this.aliasable('container.lambda'), '(', this.popStack(), ', ', this.contextName(0), ')']);
    },

    // [pushStringParam]
    //
    // On stack, before: ...
    // On stack, after: string, currentContext, ...
    //
    // This opcode is designed for use in string mode, which
    // provides the string value of a parameter along with its
    // depth rather than resolving it immediately.
    pushStringParam: function pushStringParam(string, type) {
      this.pushContext();
      this.pushString(type);

      // If it's a subexpression, the string result
      // will be pushed after this opcode.
      if (type !== 'SubExpression') {
        if (typeof string === 'string') {
          this.pushString(string);
        } else {
          this.pushStackLiteral(string);
        }
      }
    },

    emptyHash: function emptyHash(omitEmpty) {
      if (this.trackIds) {
        this.push('{}'); // hashIds
      }
      if (this.stringParams) {
        this.push('{}'); // hashContexts
        this.push('{}'); // hashTypes
      }
      this.pushStackLiteral(omitEmpty ? 'undefined' : '{}');
    },
    pushHash: function pushHash() {
      if (this.hash) {
        this.hashes.push(this.hash);
      }
      this.hash = { values: [], types: [], contexts: [], ids: [] };
    },
    popHash: function popHash() {
      var hash = this.hash;
      this.hash = this.hashes.pop();

      if (this.trackIds) {
        this.push(this.objectLiteral(hash.ids));
      }
      if (this.stringParams) {
        this.push(this.objectLiteral(hash.contexts));
        this.push(this.objectLiteral(hash.types));
      }

      this.push(this.objectLiteral(hash.values));
    },

    // [pushString]
    //
    // On stack, before: ...
    // On stack, after: quotedString(string), ...
    //
    // Push a quoted version of `string` onto the stack
    pushString: function pushString(string) {
      this.pushStackLiteral(this.quotedString(string));
    },

    // [pushLiteral]
    //
    // On stack, before: ...
    // On stack, after: value, ...
    //
    // Pushes a value onto the stack. This operation prevents
    // the compiler from creating a temporary variable to hold
    // it.
    pushLiteral: function pushLiteral(value) {
      this.pushStackLiteral(value);
    },

    // [pushProgram]
    //
    // On stack, before: ...
    // On stack, after: program(guid), ...
    //
    // Push a program expression onto the stack. This takes
    // a compile-time guid and converts it into a runtime-accessible
    // expression.
    pushProgram: function pushProgram(guid) {
      if (guid != null) {
        this.pushStackLiteral(this.programExpression(guid));
      } else {
        this.pushStackLiteral(null);
      }
    },

    // [registerDecorator]
    //
    // On stack, before: hash, program, params..., ...
    // On stack, after: ...
    //
    // Pops off the decorator's parameters, invokes the decorator,
    // and inserts the decorator into the decorators list.
    registerDecorator: function registerDecorator(paramSize, name) {
      var foundDecorator = this.nameLookup('decorators', name, 'decorator'),
          options = this.setupHelperArgs(name, paramSize);

      this.decorators.push(['fn = ', this.decorators.functionCall(foundDecorator, '', ['fn', 'props', 'container', options]), ' || fn;']);
    },

    // [invokeHelper]
    //
    // On stack, before: hash, inverse, program, params..., ...
    // On stack, after: result of helper invocation
    //
    // Pops off the helper's parameters, invokes the helper,
    // and pushes the helper's return value onto the stack.
    //
    // If the helper is not found, `helperMissing` is called.
    invokeHelper: function invokeHelper(paramSize, name, isSimple) {
      var nonHelper = this.popStack(),
          helper = this.setupHelper(paramSize, name),
          simple = isSimple ? [helper.name, ' || '] : '';

      var lookup = ['('].concat(simple, nonHelper);
      if (!this.options.strict) {
        lookup.push(' || ', this.aliasable('helpers.helperMissing'));
      }
      lookup.push(')');

      this.push(this.source.functionCall(lookup, 'call', helper.callParams));
    },

    // [invokeKnownHelper]
    //
    // On stack, before: hash, inverse, program, params..., ...
    // On stack, after: result of helper invocation
    //
    // This operation is used when the helper is known to exist,
    // so a `helperMissing` fallback is not required.
    invokeKnownHelper: function invokeKnownHelper(paramSize, name) {
      var helper = this.setupHelper(paramSize, name);
      this.push(this.source.functionCall(helper.name, 'call', helper.callParams));
    },

    // [invokeAmbiguous]
    //
    // On stack, before: hash, inverse, program, params..., ...
    // On stack, after: result of disambiguation
    //
    // This operation is used when an expression like `{{foo}}`
    // is provided, but we don't know at compile-time whether it
    // is a helper or a path.
    //
    // This operation emits more code than the other options,
    // and can be avoided by passing the `knownHelpers` and
    // `knownHelpersOnly` flags at compile-time.
    invokeAmbiguous: function invokeAmbiguous(name, helperCall) {
      this.useRegister('helper');

      var nonHelper = this.popStack();

      this.emptyHash();
      var helper = this.setupHelper(0, name, helperCall);

      var helperName = this.lastHelper = this.nameLookup('helpers', name, 'helper');

      var lookup = ['(', '(helper = ', helperName, ' || ', nonHelper, ')'];
      if (!this.options.strict) {
        lookup[0] = '(helper = ';
        lookup.push(' != null ? helper : ', this.aliasable('helpers.helperMissing'));
      }

      this.push(['(', lookup, helper.paramsInit ? ['),(', helper.paramsInit] : [], '),', '(typeof helper === ', this.aliasable('"function"'), ' ? ', this.source.functionCall('helper', 'call', helper.callParams), ' : helper))']);
    },

    // [invokePartial]
    //
    // On stack, before: context, ...
    // On stack after: result of partial invocation
    //
    // This operation pops off a context, invokes a partial with that context,
    // and pushes the result of the invocation back.
    invokePartial: function invokePartial(isDynamic, name, indent) {
      var params = [],
          options = this.setupParams(name, 1, params);

      if (isDynamic) {
        name = this.popStack();
        delete options.name;
      }

      if (indent) {
        options.indent = JSON.stringify(indent);
      }
      options.helpers = 'helpers';
      options.partials = 'partials';
      options.decorators = 'container.decorators';

      if (!isDynamic) {
        params.unshift(this.nameLookup('partials', name, 'partial'));
      } else {
        params.unshift(name);
      }

      if (this.options.compat) {
        options.depths = 'depths';
      }
      options = this.objectLiteral(options);
      params.push(options);

      this.push(this.source.functionCall('container.invokePartial', '', params));
    },

    // [assignToHash]
    //
    // On stack, before: value, ..., hash, ...
    // On stack, after: ..., hash, ...
    //
    // Pops a value off the stack and assigns it to the current hash
    assignToHash: function assignToHash(key) {
      var value = this.popStack(),
          context = undefined,
          type = undefined,
          id = undefined;

      if (this.trackIds) {
        id = this.popStack();
      }
      if (this.stringParams) {
        type = this.popStack();
        context = this.popStack();
      }

      var hash = this.hash;
      if (context) {
        hash.contexts[key] = context;
      }
      if (type) {
        hash.types[key] = type;
      }
      if (id) {
        hash.ids[key] = id;
      }
      hash.values[key] = value;
    },

    pushId: function pushId(type, name, child) {
      if (type === 'BlockParam') {
        this.pushStackLiteral('blockParams[' + name[0] + '].path[' + name[1] + ']' + (child ? ' + ' + JSON.stringify('.' + child) : ''));
      } else if (type === 'PathExpression') {
        this.pushString(name);
      } else if (type === 'SubExpression') {
        this.pushStackLiteral('true');
      } else {
        this.pushStackLiteral('null');
      }
    },

    // HELPERS

    compiler: JavaScriptCompiler,

    compileChildren: function compileChildren(environment, options) {
      var children = environment.children,
          child = undefined,
          compiler = undefined;

      for (var i = 0, l = children.length; i < l; i++) {
        child = children[i];
        compiler = new this.compiler(); // eslint-disable-line new-cap

        var existing = this.matchExistingProgram(child);

        if (existing == null) {
          this.context.programs.push(''); // Placeholder to prevent name conflicts for nested children
          var index = this.context.programs.length;
          child.index = index;
          child.name = 'program' + index;
          this.context.programs[index] = compiler.compile(child, options, this.context, !this.precompile);
          this.context.decorators[index] = compiler.decorators;
          this.context.environments[index] = child;

          this.useDepths = this.useDepths || compiler.useDepths;
          this.useBlockParams = this.useBlockParams || compiler.useBlockParams;
          child.useDepths = this.useDepths;
          child.useBlockParams = this.useBlockParams;
        } else {
          child.index = existing.index;
          child.name = 'program' + existing.index;

          this.useDepths = this.useDepths || existing.useDepths;
          this.useBlockParams = this.useBlockParams || existing.useBlockParams;
        }
      }
    },
    matchExistingProgram: function matchExistingProgram(child) {
      for (var i = 0, len = this.context.environments.length; i < len; i++) {
        var environment = this.context.environments[i];
        if (environment && environment.equals(child)) {
          return environment;
        }
      }
    },

    programExpression: function programExpression(guid) {
      var child = this.environment.children[guid],
          programParams = [child.index, 'data', child.blockParams];

      if (this.useBlockParams || this.useDepths) {
        programParams.push('blockParams');
      }
      if (this.useDepths) {
        programParams.push('depths');
      }

      return 'container.program(' + programParams.join(', ') + ')';
    },

    useRegister: function useRegister(name) {
      if (!this.registers[name]) {
        this.registers[name] = true;
        this.registers.list.push(name);
      }
    },

    push: function push(expr) {
      if (!(expr instanceof Literal)) {
        expr = this.source.wrap(expr);
      }

      this.inlineStack.push(expr);
      return expr;
    },

    pushStackLiteral: function pushStackLiteral(item) {
      this.push(new Literal(item));
    },

    pushSource: function pushSource(source) {
      if (this.pendingContent) {
        this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent), this.pendingLocation));
        this.pendingContent = undefined;
      }

      if (source) {
        this.source.push(source);
      }
    },

    replaceStack: function replaceStack(callback) {
      var prefix = ['('],
          stack = undefined,
          createdStack = undefined,
          usedLiteral = undefined;

      /* istanbul ignore next */
      if (!this.isInline()) {
        throw new _exception2['default']('replaceStack on non-inline');
      }

      // We want to merge the inline statement into the replacement statement via ','
      var top = this.popStack(true);

      if (top instanceof Literal) {
        // Literals do not need to be inlined
        stack = [top.value];
        prefix = ['(', stack];
        usedLiteral = true;
      } else {
        // Get or create the current stack name for use by the inline
        createdStack = true;
        var _name = this.incrStack();

        prefix = ['((', this.push(_name), ' = ', top, ')'];
        stack = this.topStack();
      }

      var item = callback.call(this, stack);

      if (!usedLiteral) {
        this.popStack();
      }
      if (createdStack) {
        this.stackSlot--;
      }
      this.push(prefix.concat(item, ')'));
    },

    incrStack: function incrStack() {
      this.stackSlot++;
      if (this.stackSlot > this.stackVars.length) {
        this.stackVars.push('stack' + this.stackSlot);
      }
      return this.topStackName();
    },
    topStackName: function topStackName() {
      return 'stack' + this.stackSlot;
    },
    flushInline: function flushInline() {
      var inlineStack = this.inlineStack;
      this.inlineStack = [];
      for (var i = 0, len = inlineStack.length; i < len; i++) {
        var entry = inlineStack[i];
        /* istanbul ignore if */
        if (entry instanceof Literal) {
          this.compileStack.push(entry);
        } else {
          var stack = this.incrStack();
          this.pushSource([stack, ' = ', entry, ';']);
          this.compileStack.push(stack);
        }
      }
    },
    isInline: function isInline() {
      return this.inlineStack.length;
    },

    popStack: function popStack(wrapped) {
      var inline = this.isInline(),
          item = (inline ? this.inlineStack : this.compileStack).pop();

      if (!wrapped && item instanceof Literal) {
        return item.value;
      } else {
        if (!inline) {
          /* istanbul ignore next */
          if (!this.stackSlot) {
            throw new _exception2['default']('Invalid stack pop');
          }
          this.stackSlot--;
        }
        return item;
      }
    },

    topStack: function topStack() {
      var stack = this.isInline() ? this.inlineStack : this.compileStack,
          item = stack[stack.length - 1];

      /* istanbul ignore if */
      if (item instanceof Literal) {
        return item.value;
      } else {
        return item;
      }
    },

    contextName: function contextName(context) {
      if (this.useDepths && context) {
        return 'depths[' + context + ']';
      } else {
        return 'depth' + context;
      }
    },

    quotedString: function quotedString(str) {
      return this.source.quotedString(str);
    },

    objectLiteral: function objectLiteral(obj) {
      return this.source.objectLiteral(obj);
    },

    aliasable: function aliasable(name) {
      var ret = this.aliases[name];
      if (ret) {
        ret.referenceCount++;
        return ret;
      }

      ret = this.aliases[name] = this.source.wrap(name);
      ret.aliasable = true;
      ret.referenceCount = 1;

      return ret;
    },

    setupHelper: function setupHelper(paramSize, name, blockHelper) {
      var params = [],
          paramsInit = this.setupHelperArgs(name, paramSize, params, blockHelper);
      var foundHelper = this.nameLookup('helpers', name, 'helper'),
          callContext = this.aliasable(this.contextName(0) + ' != null ? ' + this.contextName(0) + ' : (container.nullContext || {})');

      return {
        params: params,
        paramsInit: paramsInit,
        name: foundHelper,
        callParams: [callContext].concat(params)
      };
    },

    setupParams: function setupParams(helper, paramSize, params) {
      var options = {},
          contexts = [],
          types = [],
          ids = [],
          objectArgs = !params,
          param = undefined;

      if (objectArgs) {
        params = [];
      }

      options.name = this.quotedString(helper);
      options.hash = this.popStack();

      if (this.trackIds) {
        options.hashIds = this.popStack();
      }
      if (this.stringParams) {
        options.hashTypes = this.popStack();
        options.hashContexts = this.popStack();
      }

      var inverse = this.popStack(),
          program = this.popStack();

      // Avoid setting fn and inverse if neither are set. This allows
      // helpers to do a check for `if (options.fn)`
      if (program || inverse) {
        options.fn = program || 'container.noop';
        options.inverse = inverse || 'container.noop';
      }

      // The parameters go on to the stack in order (making sure that they are evaluated in order)
      // so we need to pop them off the stack in reverse order
      var i = paramSize;
      while (i--) {
        param = this.popStack();
        params[i] = param;

        if (this.trackIds) {
          ids[i] = this.popStack();
        }
        if (this.stringParams) {
          types[i] = this.popStack();
          contexts[i] = this.popStack();
        }
      }

      if (objectArgs) {
        options.args = this.source.generateArray(params);
      }

      if (this.trackIds) {
        options.ids = this.source.generateArray(ids);
      }
      if (this.stringParams) {
        options.types = this.source.generateArray(types);
        options.contexts = this.source.generateArray(contexts);
      }

      if (this.options.data) {
        options.data = 'data';
      }
      if (this.useBlockParams) {
        options.blockParams = 'blockParams';
      }
      return options;
    },

    setupHelperArgs: function setupHelperArgs(helper, paramSize, params, useRegister) {
      var options = this.setupParams(helper, paramSize, params);
      options = this.objectLiteral(options);
      if (useRegister) {
        this.useRegister('options');
        params.push('options');
        return ['options=', options];
      } else if (params) {
        params.push(options);
        return '';
      } else {
        return options;
      }
    }
  };

  (function () {
    var reservedWords = ('break else new var' + ' case finally return void' + ' catch for switch while' + ' continue function this with' + ' default if throw' + ' delete in try' + ' do instanceof typeof' + ' abstract enum int short' + ' boolean export interface static' + ' byte extends long super' + ' char final native synchronized' + ' class float package throws' + ' const goto private transient' + ' debugger implements protected volatile' + ' double import public let yield await' + ' null true false').split(' ');

    var compilerWords = JavaScriptCompiler.RESERVED_WORDS = {};

    for (var i = 0, l = reservedWords.length; i < l; i++) {
      compilerWords[reservedWords[i]] = true;
    }
  })();

  JavaScriptCompiler.isValidJavaScriptVariableName = function (name) {
    return !JavaScriptCompiler.RESERVED_WORDS[name] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name);
  };

  function strictLookup(requireTerminal, compiler, parts, type) {
    var stack = compiler.popStack(),
        i = 0,
        len = parts.length;
    if (requireTerminal) {
      len--;
    }

    for (; i < len; i++) {
      stack = compiler.nameLookup(stack, parts[i], type);
    }

    if (requireTerminal) {
      return [compiler.aliasable('container.strict'), '(', stack, ', ', compiler.quotedString(parts[i]), ')'];
    } else {
      return stack;
    }
  }

  exports['default'] = JavaScriptCompiler;
  module.exports = exports['default'];

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

  /* global define */
  'use strict';

  exports.__esModule = true;

  var _utils = __webpack_require__(5);

  var SourceNode = undefined;

  try {
    /* istanbul ignore next */
    if (false) {
      // We don't support this in AMD environments. For these environments, we asusme that
      // they are running on the browser and thus have no need for the source-map library.
      var SourceMap = require('source-map');
      SourceNode = SourceMap.SourceNode;
    }
  } catch (err) {}
  /* NOP */

  /* istanbul ignore if: tested but not covered in istanbul due to dist build  */
  if (!SourceNode) {
    SourceNode = function (line, column, srcFile, chunks) {
      this.src = '';
      if (chunks) {
        this.add(chunks);
      }
    };
    /* istanbul ignore next */
    SourceNode.prototype = {
      add: function add(chunks) {
        if (_utils.isArray(chunks)) {
          chunks = chunks.join('');
        }
        this.src += chunks;
      },
      prepend: function prepend(chunks) {
        if (_utils.isArray(chunks)) {
          chunks = chunks.join('');
        }
        this.src = chunks + this.src;
      },
      toStringWithSourceMap: function toStringWithSourceMap() {
        return { code: this.toString() };
      },
      toString: function toString() {
        return this.src;
      }
    };
  }

  function castChunk(chunk, codeGen, loc) {
    if (_utils.isArray(chunk)) {
      var ret = [];

      for (var i = 0, len = chunk.length; i < len; i++) {
        ret.push(codeGen.wrap(chunk[i], loc));
      }
      return ret;
    } else if (typeof chunk === 'boolean' || typeof chunk === 'number') {
      // Handle primitives that the SourceNode will throw up on
      return chunk + '';
    }
    return chunk;
  }

  function CodeGen(srcFile) {
    this.srcFile = srcFile;
    this.source = [];
  }

  CodeGen.prototype = {
    isEmpty: function isEmpty() {
      return !this.source.length;
    },
    prepend: function prepend(source, loc) {
      this.source.unshift(this.wrap(source, loc));
    },
    push: function push(source, loc) {
      this.source.push(this.wrap(source, loc));
    },

    merge: function merge() {
      var source = this.empty();
      this.each(function (line) {
        source.add(['  ', line, '\n']);
      });
      return source;
    },

    each: function each(iter) {
      for (var i = 0, len = this.source.length; i < len; i++) {
        iter(this.source[i]);
      }
    },

    empty: function empty() {
      var loc = this.currentLocation || { start: {} };
      return new SourceNode(loc.start.line, loc.start.column, this.srcFile);
    },
    wrap: function wrap(chunk) {
      var loc = arguments.length <= 1 || arguments[1] === undefined ? this.currentLocation || { start: {} } : arguments[1];

      if (chunk instanceof SourceNode) {
        return chunk;
      }

      chunk = castChunk(chunk, this, loc);

      return new SourceNode(loc.start.line, loc.start.column, this.srcFile, chunk);
    },

    functionCall: function functionCall(fn, type, params) {
      params = this.generateList(params);
      return this.wrap([fn, type ? '.' + type + '(' : '(', params, ')']);
    },

    quotedString: function quotedString(str) {
      return '"' + (str + '').replace(/\\/g, '\\\\').replace(/"/g, '\\"').replace(/\n/g, '\\n').replace(/\r/g, '\\r').replace(/\u2028/g, '\\u2028') // Per Ecma-262 7.3 + 7.8.4
      .replace(/\u2029/g, '\\u2029') + '"';
    },

    objectLiteral: function objectLiteral(obj) {
      var pairs = [];

      for (var key in obj) {
        if (obj.hasOwnProperty(key)) {
          var value = castChunk(obj[key], this);
          if (value !== 'undefined') {
            pairs.push([this.quotedString(key), ':', value]);
          }
        }
      }

      var ret = this.generateList(pairs);
      ret.prepend('{');
      ret.add('}');
      return ret;
    },

    generateList: function generateList(entries) {
      var ret = this.empty();

      for (var i = 0, len = entries.length; i < len; i++) {
        if (i) {
          ret.add(',');
        }

        ret.add(castChunk(entries[i], this));
      }

      return ret;
    },

    generateArray: function generateArray(entries) {
      var ret = this.generateList(entries);
      ret.prepend('[');
      ret.add(']');

      return ret;
    }
  };

  exports['default'] = CodeGen;
  module.exports = exports['default'];

/***/ })
/******/ ])
});
;
/*! jQuery v2.2.2 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.2",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c;
}catch(e){}O.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(b,c,e){var f=!0,g="width"===c?b.offsetWidth:b.offsetHeight,h=Ca(b),i="border-box"===n.css(b,"boxSizing",!1,h);if(d.msFullscreenElement&&a.top!==a&&b.getClientRects().length&&(g=Math.round(100*b.getBoundingClientRect()[c])),0>=g||null==g){if(g=Fa(b,c,h),(0>g||null==g)&&(g=b.style[c]),Ba.test(g))return g;f=i&&(l.boxSizingReliable()||g===b.style[c]),g=parseFloat(g)||0}return g+Oa(b,c,e||(i?"border":"content"),f,h)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,
e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g,hb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href;function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Gb(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(g,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});

!function ($) {

  "use strict";

  var FOUNDATION_VERSION = '6.3.1';

  // Global Foundation object
  // This is attached to the window, or used as a module for AMD/Browserify
  var Foundation = {
    version: FOUNDATION_VERSION,

    /**
     * Stores initialized plugins.
     */
    _plugins: {},

    /**
     * Stores generated unique ids for plugin instances
     */
    _uuids: [],

    /**
     * Returns a boolean for RTL support
     */
    rtl: function () {
      return $('html').attr('dir') === 'rtl';
    },
    /**
     * Defines a Foundation plugin, adding it to the `Foundation` namespace and the list of plugins to initialize when reflowing.
     * @param {Object} plugin - The constructor of the plugin.
     */
    plugin: function (plugin, name) {
      // Object key to use when adding to global Foundation object
      // Examples: Foundation.Reveal, Foundation.OffCanvas
      var className = name || functionName(plugin);
      // Object key to use when storing the plugin, also used to create the identifying data attribute for the plugin
      // Examples: data-reveal, data-off-canvas
      var attrName = hyphenate(className);

      // Add to the Foundation object and the plugins list (for reflowing)
      this._plugins[attrName] = this[className] = plugin;
    },
    /**
     * @function
     * Populates the _uuids array with pointers to each individual plugin instance.
     * Adds the `zfPlugin` data-attribute to programmatically created plugins to allow use of $(selector).foundation(method) calls.
     * Also fires the initialization event for each plugin, consolidating repetitive code.
     * @param {Object} plugin - an instance of a plugin, usually `this` in context.
     * @param {String} name - the name of the plugin, passed as a camelCased string.
     * @fires Plugin#init
     */
    registerPlugin: function (plugin, name) {
      var pluginName = name ? hyphenate(name) : functionName(plugin.constructor).toLowerCase();
      plugin.uuid = this.GetYoDigits(6, pluginName);

      if (!plugin.$element.attr('data-' + pluginName)) {
        plugin.$element.attr('data-' + pluginName, plugin.uuid);
      }
      if (!plugin.$element.data('zfPlugin')) {
        plugin.$element.data('zfPlugin', plugin);
      }
      /**
       * Fires when the plugin has initialized.
       * @event Plugin#init
       */
      plugin.$element.trigger('init.zf.' + pluginName);

      this._uuids.push(plugin.uuid);

      return;
    },
    /**
     * @function
     * Removes the plugins uuid from the _uuids array.
     * Removes the zfPlugin data attribute, as well as the data-plugin-name attribute.
     * Also fires the destroyed event for the plugin, consolidating repetitive code.
     * @param {Object} plugin - an instance of a plugin, usually `this` in context.
     * @fires Plugin#destroyed
     */
    unregisterPlugin: function (plugin) {
      var pluginName = hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));

      this._uuids.splice(this._uuids.indexOf(plugin.uuid), 1);
      plugin.$element.removeAttr('data-' + pluginName).removeData('zfPlugin')
      /**
       * Fires when the plugin has been destroyed.
       * @event Plugin#destroyed
       */
      .trigger('destroyed.zf.' + pluginName);
      for (var prop in plugin) {
        plugin[prop] = null; //clean up script to prep for garbage collection.
      }
      return;
    },

    /**
     * @function
     * Causes one or more active plugins to re-initialize, resetting event listeners, recalculating positions, etc.
     * @param {String} plugins - optional string of an individual plugin key, attained by calling `$(element).data('pluginName')`, or string of a plugin class i.e. `'dropdown'`
     * @default If no argument is passed, reflow all currently active plugins.
     */
    reInit: function (plugins) {
      var isJQ = plugins instanceof $;
      try {
        if (isJQ) {
          plugins.each(function () {
            $(this).data('zfPlugin')._init();
          });
        } else {
          var type = typeof plugins,
              _this = this,
              fns = {
            'object': function (plgs) {
              plgs.forEach(function (p) {
                p = hyphenate(p);
                $('[data-' + p + ']').foundation('_init');
              });
            },
            'string': function () {
              plugins = hyphenate(plugins);
              $('[data-' + plugins + ']').foundation('_init');
            },
            'undefined': function () {
              this['object'](Object.keys(_this._plugins));
            }
          };
          fns[type](plugins);
        }
      } catch (err) {
        console.error(err);
      } finally {
        return plugins;
      }
    },

    /**
     * returns a random base-36 uid with namespacing
     * @function
     * @param {Number} length - number of random base-36 digits desired. Increase for more random strings.
     * @param {String} namespace - name of plugin to be incorporated in uid, optional.
     * @default {String} '' - if no plugin name is provided, nothing is appended to the uid.
     * @returns {String} - unique id
     */
    GetYoDigits: function (length, namespace) {
      length = length || 6;
      return Math.round(Math.pow(36, length + 1) - Math.random() * Math.pow(36, length)).toString(36).slice(1) + (namespace ? '-' + namespace : '');
    },
    /**
     * Initialize plugins on any elements within `elem` (and `elem` itself) that aren't already initialized.
     * @param {Object} elem - jQuery object containing the element to check inside. Also checks the element itself, unless it's the `document` object.
     * @param {String|Array} plugins - A list of plugins to initialize. Leave this out to initialize everything.
     */
    reflow: function (elem, plugins) {

      // If plugins is undefined, just grab everything
      if (typeof plugins === 'undefined') {
        plugins = Object.keys(this._plugins);
      }
      // If plugins is a string, convert it to an array with one item
      else if (typeof plugins === 'string') {
          plugins = [plugins];
        }

      var _this = this;

      // Iterate through each plugin
      $.each(plugins, function (i, name) {
        // Get the current plugin
        var plugin = _this._plugins[name];

        // Localize the search to all elements inside elem, as well as elem itself, unless elem === document
        var $elem = $(elem).find('[data-' + name + ']').addBack('[data-' + name + ']');

        // For each plugin found, initialize it
        $elem.each(function () {
          var $el = $(this),
              opts = {};
          // Don't double-dip on plugins
          if ($el.data('zfPlugin')) {
            console.warn("Tried to initialize " + name + " on an element that already has a Foundation plugin.");
            return;
          }

          if ($el.attr('data-options')) {
            var thing = $el.attr('data-options').split(';').forEach(function (e, i) {
              var opt = e.split(':').map(function (el) {
                return el.trim();
              });
              if (opt[0]) opts[opt[0]] = parseValue(opt[1]);
            });
          }
          try {
            $el.data('zfPlugin', new plugin($(this), opts));
          } catch (er) {
            console.error(er);
          } finally {
            return;
          }
        });
      });
    },
    getFnName: functionName,
    transitionend: function ($elem) {
      var transitions = {
        'transition': 'transitionend',
        'WebkitTransition': 'webkitTransitionEnd',
        'MozTransition': 'transitionend',
        'OTransition': 'otransitionend'
      };
      var elem = document.createElement('div'),
          end;

      for (var t in transitions) {
        if (typeof elem.style[t] !== 'undefined') {
          end = transitions[t];
        }
      }
      if (end) {
        return end;
      } else {
        end = setTimeout(function () {
          $elem.triggerHandler('transitionend', [$elem]);
        }, 1);
        return 'transitionend';
      }
    }
  };

  Foundation.util = {
    /**
     * Function for applying a debounce effect to a function call.
     * @function
     * @param {Function} func - Function to be called at end of timeout.
     * @param {Number} delay - Time in ms to delay the call of `func`.
     * @returns function
     */
    throttle: function (func, delay) {
      var timer = null;

      return function () {
        var context = this,
            args = arguments;

        if (timer === null) {
          timer = setTimeout(function () {
            func.apply(context, args);
            timer = null;
          }, delay);
        }
      };
    }
  };

  // TODO: consider not making this a jQuery function
  // TODO: need way to reflow vs. re-initialize
  /**
   * The Foundation jQuery method.
   * @param {String|Array} method - An action to perform on the current jQuery object.
   */
  var foundation = function (method) {
    var type = typeof method,
        $meta = $('meta.foundation-mq'),
        $noJS = $('.no-js');

    if (!$meta.length) {
      $('<meta class="foundation-mq">').appendTo(document.head);
    }
    if ($noJS.length) {
      $noJS.removeClass('no-js');
    }

    if (type === 'undefined') {
      //needs to initialize the Foundation object, or an individual plugin.
      Foundation.MediaQuery._init();
      Foundation.reflow(this);
    } else if (type === 'string') {
      //an individual method to invoke on a plugin or group of plugins
      var args = Array.prototype.slice.call(arguments, 1); //collect all the arguments, if necessary
      var plugClass = this.data('zfPlugin'); //determine the class of plugin

      if (plugClass !== undefined && plugClass[method] !== undefined) {
        //make sure both the class and method exist
        if (this.length === 1) {
          //if there's only one, call it directly.
          plugClass[method].apply(plugClass, args);
        } else {
          this.each(function (i, el) {
            //otherwise loop through the jQuery collection and invoke the method on each
            plugClass[method].apply($(el).data('zfPlugin'), args);
          });
        }
      } else {
        //error for no class or no method
        throw new ReferenceError("We're sorry, '" + method + "' is not an available method for " + (plugClass ? functionName(plugClass) : 'this element') + '.');
      }
    } else {
      //error for invalid argument type
      throw new TypeError('We\'re sorry, ' + type + ' is not a valid parameter. You must use a string representing the method you wish to invoke.');
    }
    return this;
  };

  window.Foundation = Foundation;
  $.fn.foundation = foundation;

  // Polyfill for requestAnimationFrame
  (function () {
    if (!Date.now || !window.Date.now) window.Date.now = Date.now = function () {
      return new Date().getTime();
    };

    var vendors = ['webkit', 'moz'];
    for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {
      var vp = vendors[i];
      window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];
      window.cancelAnimationFrame = window[vp + 'CancelAnimationFrame'] || window[vp + 'CancelRequestAnimationFrame'];
    }
    if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) || !window.requestAnimationFrame || !window.cancelAnimationFrame) {
      var lastTime = 0;
      window.requestAnimationFrame = function (callback) {
        var now = Date.now();
        var nextTime = Math.max(lastTime + 16, now);
        return setTimeout(function () {
          callback(lastTime = nextTime);
        }, nextTime - now);
      };
      window.cancelAnimationFrame = clearTimeout;
    }
    /**
     * Polyfill for performance.now, required by rAF
     */
    if (!window.performance || !window.performance.now) {
      window.performance = {
        start: Date.now(),
        now: function () {
          return Date.now() - this.start;
        }
      };
    }
  })();
  if (!Function.prototype.bind) {
    Function.prototype.bind = function (oThis) {
      if (typeof this !== 'function') {
        // closest thing possible to the ECMAScript 5
        // internal IsCallable function
        throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');
      }

      var aArgs = Array.prototype.slice.call(arguments, 1),
          fToBind = this,
          fNOP = function () {},
          fBound = function () {
        return fToBind.apply(this instanceof fNOP ? this : oThis, aArgs.concat(Array.prototype.slice.call(arguments)));
      };

      if (this.prototype) {
        // native functions don't have a prototype
        fNOP.prototype = this.prototype;
      }
      fBound.prototype = new fNOP();

      return fBound;
    };
  }
  // Polyfill to get the name of a function in IE9
  function functionName(fn) {
    if (Function.prototype.name === undefined) {
      var funcNameRegex = /function\s([^(]{1,})\(/;
      var results = funcNameRegex.exec(fn.toString());
      return results && results.length > 1 ? results[1].trim() : "";
    } else if (fn.prototype === undefined) {
      return fn.constructor.name;
    } else {
      return fn.prototype.constructor.name;
    }
  }
  function parseValue(str) {
    if ('true' === str) return true;else if ('false' === str) return false;else if (!isNaN(str * 1)) return parseFloat(str);
    return str;
  }
  // Convert PascalCase to kebab-case
  // Thank you: http://stackoverflow.com/a/8955580
  function hyphenate(str) {
    return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();
  }
}(jQuery);
'use strict';

!function ($) {

  Foundation.Box = {
    ImNotTouchingYou: ImNotTouchingYou,
    GetDimensions: GetDimensions,
    GetOffsets: GetOffsets
  };

  /**
   * Compares the dimensions of an element to a container and determines collision events with container.
   * @function
   * @param {jQuery} element - jQuery object to test for collisions.
   * @param {jQuery} parent - jQuery object to use as bounding container.
   * @param {Boolean} lrOnly - set to true to check left and right values only.
   * @param {Boolean} tbOnly - set to true to check top and bottom values only.
   * @default if no parent object passed, detects collisions with `window`.
   * @returns {Boolean} - true if collision free, false if a collision in any direction.
   */
  function ImNotTouchingYou(element, parent, lrOnly, tbOnly) {
    var eleDims = GetDimensions(element),
        top,
        bottom,
        left,
        right;

    if (parent) {
      var parDims = GetDimensions(parent);

      bottom = eleDims.offset.top + eleDims.height <= parDims.height + parDims.offset.top;
      top = eleDims.offset.top >= parDims.offset.top;
      left = eleDims.offset.left >= parDims.offset.left;
      right = eleDims.offset.left + eleDims.width <= parDims.width + parDims.offset.left;
    } else {
      bottom = eleDims.offset.top + eleDims.height <= eleDims.windowDims.height + eleDims.windowDims.offset.top;
      top = eleDims.offset.top >= eleDims.windowDims.offset.top;
      left = eleDims.offset.left >= eleDims.windowDims.offset.left;
      right = eleDims.offset.left + eleDims.width <= eleDims.windowDims.width;
    }

    var allDirs = [bottom, top, left, right];

    if (lrOnly) {
      return left === right === true;
    }

    if (tbOnly) {
      return top === bottom === true;
    }

    return allDirs.indexOf(false) === -1;
  };

  /**
   * Uses native methods to return an object of dimension values.
   * @function
   * @param {jQuery || HTML} element - jQuery object or DOM element for which to get the dimensions. Can be any element other that document or window.
   * @returns {Object} - nested object of integer pixel values
   * TODO - if element is window, return only those values.
   */
  function GetDimensions(elem, test) {
    elem = elem.length ? elem[0] : elem;

    if (elem === window || elem === document) {
      throw new Error("I'm sorry, Dave. I'm afraid I can't do that.");
    }

    var rect = elem.getBoundingClientRect(),
        parRect = elem.parentNode.getBoundingClientRect(),
        winRect = document.body.getBoundingClientRect(),
        winY = window.pageYOffset,
        winX = window.pageXOffset;

    return {
      width: rect.width,
      height: rect.height,
      offset: {
        top: rect.top + winY,
        left: rect.left + winX
      },
      parentDims: {
        width: parRect.width,
        height: parRect.height,
        offset: {
          top: parRect.top + winY,
          left: parRect.left + winX
        }
      },
      windowDims: {
        width: winRect.width,
        height: winRect.height,
        offset: {
          top: winY,
          left: winX
        }
      }
    };
  }

  /**
   * Returns an object of top and left integer pixel values for dynamically rendered elements,
   * such as: Tooltip, Reveal, and Dropdown
   * @function
   * @param {jQuery} element - jQuery object for the element being positioned.
   * @param {jQuery} anchor - jQuery object for the element's anchor point.
   * @param {String} position - a string relating to the desired position of the element, relative to it's anchor
   * @param {Number} vOffset - integer pixel value of desired vertical separation between anchor and element.
   * @param {Number} hOffset - integer pixel value of desired horizontal separation between anchor and element.
   * @param {Boolean} isOverflow - if a collision event is detected, sets to true to default the element to full width - any desired offset.
   * TODO alter/rewrite to work with `em` values as well/instead of pixels
   */
  function GetOffsets(element, anchor, position, vOffset, hOffset, isOverflow) {
    var $eleDims = GetDimensions(element),
        $anchorDims = anchor ? GetDimensions(anchor) : null;

    switch (position) {
      case 'top':
        return {
          left: Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left,
          top: $anchorDims.offset.top - ($eleDims.height + vOffset)
        };
        break;
      case 'left':
        return {
          left: $anchorDims.offset.left - ($eleDims.width + hOffset),
          top: $anchorDims.offset.top
        };
        break;
      case 'right':
        return {
          left: $anchorDims.offset.left + $anchorDims.width + hOffset,
          top: $anchorDims.offset.top
        };
        break;
      case 'center top':
        return {
          left: $anchorDims.offset.left + $anchorDims.width / 2 - $eleDims.width / 2,
          top: $anchorDims.offset.top - ($eleDims.height + vOffset)
        };
        break;
      case 'center bottom':
        return {
          left: isOverflow ? hOffset : $anchorDims.offset.left + $anchorDims.width / 2 - $eleDims.width / 2,
          top: $anchorDims.offset.top + $anchorDims.height + vOffset
        };
        break;
      case 'center left':
        return {
          left: $anchorDims.offset.left - ($eleDims.width + hOffset),
          top: $anchorDims.offset.top + $anchorDims.height / 2 - $eleDims.height / 2
        };
        break;
      case 'center right':
        return {
          left: $anchorDims.offset.left + $anchorDims.width + hOffset + 1,
          top: $anchorDims.offset.top + $anchorDims.height / 2 - $eleDims.height / 2
        };
        break;
      case 'center':
        return {
          left: $eleDims.windowDims.offset.left + $eleDims.windowDims.width / 2 - $eleDims.width / 2,
          top: $eleDims.windowDims.offset.top + $eleDims.windowDims.height / 2 - $eleDims.height / 2
        };
        break;
      case 'reveal':
        return {
          left: ($eleDims.windowDims.width - $eleDims.width) / 2,
          top: $eleDims.windowDims.offset.top + vOffset
        };
      case 'reveal full':
        return {
          left: $eleDims.windowDims.offset.left,
          top: $eleDims.windowDims.offset.top
        };
        break;
      case 'left bottom':
        return {
          left: $anchorDims.offset.left,
          top: $anchorDims.offset.top + $anchorDims.height + vOffset
        };
        break;
      case 'right bottom':
        return {
          left: $anchorDims.offset.left + $anchorDims.width + hOffset - $eleDims.width,
          top: $anchorDims.offset.top + $anchorDims.height + vOffset
        };
        break;
      default:
        return {
          left: Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left + hOffset,
          top: $anchorDims.offset.top + $anchorDims.height + vOffset
        };
    }
  }
}(jQuery);
/*******************************************
 *                                         *
 * This util was created by Marius Olbertz *
 * Please thank Marius on GitHub /owlbertz *
 * or the web http://www.mariusolbertz.de/ *
 *                                         *
 ******************************************/

'use strict';

!function ($) {

  var keyCodes = {
    9: 'TAB',
    13: 'ENTER',
    27: 'ESCAPE',
    32: 'SPACE',
    37: 'ARROW_LEFT',
    38: 'ARROW_UP',
    39: 'ARROW_RIGHT',
    40: 'ARROW_DOWN'
  };

  var commands = {};

  var Keyboard = {
    keys: getKeyCodes(keyCodes),

    /**
     * Parses the (keyboard) event and returns a String that represents its key
     * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE
     * @param {Event} event - the event generated by the event handler
     * @return String key - String that represents the key pressed
     */
    parseKey: function (event) {
      var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();

      // Remove un-printable characters, e.g. for `fromCharCode` calls for CTRL only events
      key = key.replace(/\W+/, '');

      if (event.shiftKey) key = 'SHIFT_' + key;
      if (event.ctrlKey) key = 'CTRL_' + key;
      if (event.altKey) key = 'ALT_' + key;

      // Remove trailing underscore, in case only modifiers were used (e.g. only `CTRL_ALT`)
      key = key.replace(/_$/, '');

      return key;
    },


    /**
     * Handles the given (keyboard) event
     * @param {Event} event - the event generated by the event handler
     * @param {String} component - Foundation component's name, e.g. Slider or Reveal
     * @param {Objects} functions - collection of functions that are to be executed
     */
    handleKey: function (event, component, functions) {
      var commandList = commands[component],
          keyCode = this.parseKey(event),
          cmds,
          command,
          fn;

      if (!commandList) return console.warn('Component not defined!');

      if (typeof commandList.ltr === 'undefined') {
        // this component does not differentiate between ltr and rtl
        cmds = commandList; // use plain list
      } else {
        // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa
        if (Foundation.rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);else cmds = $.extend({}, commandList.rtl, commandList.ltr);
      }
      command = cmds[keyCode];

      fn = functions[command];
      if (fn && typeof fn === 'function') {
        // execute function  if exists
        var returnValue = fn.apply();
        if (functions.handled || typeof functions.handled === 'function') {
          // execute function when event was handled
          functions.handled(returnValue);
        }
      } else {
        if (functions.unhandled || typeof functions.unhandled === 'function') {
          // execute function when event was not handled
          functions.unhandled();
        }
      }
    },


    /**
     * Finds all focusable elements within the given `$element`
     * @param {jQuery} $element - jQuery object to search within
     * @return {jQuery} $focusable - all focusable elements within `$element`
     */
    findFocusable: function ($element) {
      if (!$element) {
        return false;
      }
      return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function () {
        if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) {
          return false;
        } //only have visible elements and those that have a tabindex greater or equal 0
        return true;
      });
    },


    /**
     * Returns the component name name
     * @param {Object} component - Foundation component, e.g. Slider or Reveal
     * @return String componentName
     */

    register: function (componentName, cmds) {
      commands[componentName] = cmds;
    },


    /**
     * Traps the focus in the given element.
     * @param  {jQuery} $element  jQuery object to trap the foucs into.
     */
    trapFocus: function ($element) {
      var $focusable = Foundation.Keyboard.findFocusable($element),
          $firstFocusable = $focusable.eq(0),
          $lastFocusable = $focusable.eq(-1);

      $element.on('keydown.zf.trapfocus', function (event) {
        if (event.target === $lastFocusable[0] && Foundation.Keyboard.parseKey(event) === 'TAB') {
          event.preventDefault();
          $firstFocusable.focus();
        } else if (event.target === $firstFocusable[0] && Foundation.Keyboard.parseKey(event) === 'SHIFT_TAB') {
          event.preventDefault();
          $lastFocusable.focus();
        }
      });
    },

    /**
     * Releases the trapped focus from the given element.
     * @param  {jQuery} $element  jQuery object to release the focus for.
     */
    releaseFocus: function ($element) {
      $element.off('keydown.zf.trapfocus');
    }
  };

  /*
   * Constants for easier comparing.
   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE
   */
  function getKeyCodes(kcs) {
    var k = {};
    for (var kc in kcs) {
      k[kcs[kc]] = kcs[kc];
    }return k;
  }

  Foundation.Keyboard = Keyboard;
}(jQuery);
'use strict';

!function ($) {

  // Default set of media queries
  var defaultQueries = {
    'default': 'only screen',
    landscape: 'only screen and (orientation: landscape)',
    portrait: 'only screen and (orientation: portrait)',
    retina: 'only screen and (-webkit-min-device-pixel-ratio: 2),' + 'only screen and (min--moz-device-pixel-ratio: 2),' + 'only screen and (-o-min-device-pixel-ratio: 2/1),' + 'only screen and (min-device-pixel-ratio: 2),' + 'only screen and (min-resolution: 192dpi),' + 'only screen and (min-resolution: 2dppx)'
  };

  var MediaQuery = {
    queries: [],

    current: '',

    /**
     * Initializes the media query helper, by extracting the breakpoint list from the CSS and activating the breakpoint watcher.
     * @function
     * @private
     */
    _init: function () {
      var self = this;
      var extractedStyles = $('.foundation-mq').css('font-family');
      var namedQueries;

      namedQueries = parseStyleToObject(extractedStyles);

      for (var key in namedQueries) {
        if (namedQueries.hasOwnProperty(key)) {
          self.queries.push({
            name: key,
            value: 'only screen and (min-width: ' + namedQueries[key] + ')'
          });
        }
      }

      this.current = this._getCurrentSize();

      this._watcher();
    },


    /**
     * Checks if the screen is at least as wide as a breakpoint.
     * @function
     * @param {String} size - Name of the breakpoint to check.
     * @returns {Boolean} `true` if the breakpoint matches, `false` if it's smaller.
     */
    atLeast: function (size) {
      var query = this.get(size);

      if (query) {
        return window.matchMedia(query).matches;
      }

      return false;
    },


    /**
     * Checks if the screen matches to a breakpoint.
     * @function
     * @param {String} size - Name of the breakpoint to check, either 'small only' or 'small'. Omitting 'only' falls back to using atLeast() method.
     * @returns {Boolean} `true` if the breakpoint matches, `false` if it does not.
     */
    is: function (size) {
      size = size.trim().split(' ');
      if (size.length > 1 && size[1] === 'only') {
        if (size[0] === this._getCurrentSize()) return true;
      } else {
        return this.atLeast(size[0]);
      }
      return false;
    },


    /**
     * Gets the media query of a breakpoint.
     * @function
     * @param {String} size - Name of the breakpoint to get.
     * @returns {String|null} - The media query of the breakpoint, or `null` if the breakpoint doesn't exist.
     */
    get: function (size) {
      for (var i in this.queries) {
        if (this.queries.hasOwnProperty(i)) {
          var query = this.queries[i];
          if (size === query.name) return query.value;
        }
      }

      return null;
    },


    /**
     * Gets the current breakpoint name by testing every breakpoint and returning the last one to match (the biggest one).
     * @function
     * @private
     * @returns {String} Name of the current breakpoint.
     */
    _getCurrentSize: function () {
      var matched;

      for (var i = 0; i < this.queries.length; i++) {
        var query = this.queries[i];

        if (window.matchMedia(query.value).matches) {
          matched = query;
        }
      }

      if (typeof matched === 'object') {
        return matched.name;
      } else {
        return matched;
      }
    },


    /**
     * Activates the breakpoint watcher, which fires an event on the window whenever the breakpoint changes.
     * @function
     * @private
     */
    _watcher: function () {
      var _this = this;

      $(window).on('resize.zf.mediaquery', function () {
        var newSize = _this._getCurrentSize(),
            currentSize = _this.current;

        if (newSize !== currentSize) {
          // Change the current media query
          _this.current = newSize;

          // Broadcast the media query change on the window
          $(window).trigger('changed.zf.mediaquery', [newSize, currentSize]);
        }
      });
    }
  };

  Foundation.MediaQuery = MediaQuery;

  // matchMedia() polyfill - Test a CSS media type/query in JS.
  // Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license
  window.matchMedia || (window.matchMedia = function () {
    'use strict';

    // For browsers that support matchMedium api such as IE 9 and webkit

    var styleMedia = window.styleMedia || window.media;

    // For those that don't support matchMedium
    if (!styleMedia) {
      var style = document.createElement('style'),
          script = document.getElementsByTagName('script')[0],
          info = null;

      style.type = 'text/css';
      style.id = 'matchmediajs-test';

      script && script.parentNode && script.parentNode.insertBefore(style, script);

      // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers
      info = 'getComputedStyle' in window && window.getComputedStyle(style, null) || style.currentStyle;

      styleMedia = {
        matchMedium: function (media) {
          var text = '@media ' + media + '{ #matchmediajs-test { width: 1px; } }';

          // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers
          if (style.styleSheet) {
            style.styleSheet.cssText = text;
          } else {
            style.textContent = text;
          }

          // Test if media query is true or false
          return info.width === '1px';
        }
      };
    }

    return function (media) {
      return {
        matches: styleMedia.matchMedium(media || 'all'),
        media: media || 'all'
      };
    };
  }());

  // Thank you: https://github.com/sindresorhus/query-string
  function parseStyleToObject(str) {
    var styleObject = {};

    if (typeof str !== 'string') {
      return styleObject;
    }

    str = str.trim().slice(1, -1); // browsers re-quote string style values

    if (!str) {
      return styleObject;
    }

    styleObject = str.split('&').reduce(function (ret, param) {
      var parts = param.replace(/\+/g, ' ').split('=');
      var key = parts[0];
      var val = parts[1];
      key = decodeURIComponent(key);

      // missing `=` should be `null`:
      // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters
      val = val === undefined ? null : decodeURIComponent(val);

      if (!ret.hasOwnProperty(key)) {
        ret[key] = val;
      } else if (Array.isArray(ret[key])) {
        ret[key].push(val);
      } else {
        ret[key] = [ret[key], val];
      }
      return ret;
    }, {});

    return styleObject;
  }

  Foundation.MediaQuery = MediaQuery;
}(jQuery);
'use strict';

!function ($) {

  /**
   * Motion module.
   * @module foundation.motion
   */

  var initClasses = ['mui-enter', 'mui-leave'];
  var activeClasses = ['mui-enter-active', 'mui-leave-active'];

  var Motion = {
    animateIn: function (element, animation, cb) {
      animate(true, element, animation, cb);
    },

    animateOut: function (element, animation, cb) {
      animate(false, element, animation, cb);
    }
  };

  function Move(duration, elem, fn) {
    var anim,
        prog,
        start = null;
    // console.log('called');

    if (duration === 0) {
      fn.apply(elem);
      elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);
      return;
    }

    function move(ts) {
      if (!start) start = ts;
      // console.log(start, ts);
      prog = ts - start;
      fn.apply(elem);

      if (prog < duration) {
        anim = window.requestAnimationFrame(move, elem);
      } else {
        window.cancelAnimationFrame(anim);
        elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);
      }
    }
    anim = window.requestAnimationFrame(move);
  }

  /**
   * Animates an element in or out using a CSS transition class.
   * @function
   * @private
   * @param {Boolean} isIn - Defines if the animation is in or out.
   * @param {Object} element - jQuery or HTML object to animate.
   * @param {String} animation - CSS class to use.
   * @param {Function} cb - Callback to run when animation is finished.
   */
  function animate(isIn, element, animation, cb) {
    element = $(element).eq(0);

    if (!element.length) return;

    var initClass = isIn ? initClasses[0] : initClasses[1];
    var activeClass = isIn ? activeClasses[0] : activeClasses[1];

    // Set up the animation
    reset();

    element.addClass(animation).css('transition', 'none');

    requestAnimationFrame(function () {
      element.addClass(initClass);
      if (isIn) element.show();
    });

    // Start the animation
    requestAnimationFrame(function () {
      element[0].offsetWidth;
      element.css('transition', '').addClass(activeClass);
    });

    // Clean up the animation when it finishes
    element.one(Foundation.transitionend(element), finish);

    // Hides the element (for out animations), resets the element, and runs a callback
    function finish() {
      if (!isIn) element.hide();
      reset();
      if (cb) cb.apply(element);
    }

    // Resets transitions and removes motion-specific classes
    function reset() {
      element[0].style.transitionDuration = 0;
      element.removeClass(initClass + ' ' + activeClass + ' ' + animation);
    }
  }

  Foundation.Move = Move;
  Foundation.Motion = Motion;
}(jQuery);
'use strict';

!function ($) {

  var Nest = {
    Feather: function (menu) {
      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'zf';

      menu.attr('role', 'menubar');

      var items = menu.find('li').attr({ 'role': 'menuitem' }),
          subMenuClass = 'is-' + type + '-submenu',
          subItemClass = subMenuClass + '-item',
          hasSubClass = 'is-' + type + '-submenu-parent';

      items.each(function () {
        var $item = $(this),
            $sub = $item.children('ul');

        if ($sub.length) {
          $item.addClass(hasSubClass).attr({
            'aria-haspopup': true,
            'aria-label': $item.children('a:first').text()
          });
          // Note:  Drilldowns behave differently in how they hide, and so need
          // additional attributes.  We should look if this possibly over-generalized
          // utility (Nest) is appropriate when we rework menus in 6.4
          if (type === 'drilldown') {
            $item.attr({ 'aria-expanded': false });
          }

          $sub.addClass('submenu ' + subMenuClass).attr({
            'data-submenu': '',
            'role': 'menu'
          });
          if (type === 'drilldown') {
            $sub.attr({ 'aria-hidden': true });
          }
        }

        if ($item.parent('[data-submenu]').length) {
          $item.addClass('is-submenu-item ' + subItemClass);
        }
      });

      return;
    },
    Burn: function (menu, type) {
      var //items = menu.find('li'),
      subMenuClass = 'is-' + type + '-submenu',
          subItemClass = subMenuClass + '-item',
          hasSubClass = 'is-' + type + '-submenu-parent';

      menu.find('>li, .menu, .menu > li').removeClass(subMenuClass + ' ' + subItemClass + ' ' + hasSubClass + ' is-submenu-item submenu is-active').removeAttr('data-submenu').css('display', '');

      // console.log(      menu.find('.' + subMenuClass + ', .' + subItemClass + ', .has-submenu, .is-submenu-item, .submenu, [data-submenu]')
      //           .removeClass(subMenuClass + ' ' + subItemClass + ' has-submenu is-submenu-item submenu')
      //           .removeAttr('data-submenu'));
      // items.each(function(){
      //   var $item = $(this),
      //       $sub = $item.children('ul');
      //   if($item.parent('[data-submenu]').length){
      //     $item.removeClass('is-submenu-item ' + subItemClass);
      //   }
      //   if($sub.length){
      //     $item.removeClass('has-submenu');
      //     $sub.removeClass('submenu ' + subMenuClass).removeAttr('data-submenu');
      //   }
      // });
    }
  };

  Foundation.Nest = Nest;
}(jQuery);
'use strict';

!function ($) {

  function Timer(elem, options, cb) {
    var _this = this,
        duration = options.duration,
        //options is an object for easily adding features later.
    nameSpace = Object.keys(elem.data())[0] || 'timer',
        remain = -1,
        start,
        timer;

    this.isPaused = false;

    this.restart = function () {
      remain = -1;
      clearTimeout(timer);
      this.start();
    };

    this.start = function () {
      this.isPaused = false;
      // if(!elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.
      clearTimeout(timer);
      remain = remain <= 0 ? duration : remain;
      elem.data('paused', false);
      start = Date.now();
      timer = setTimeout(function () {
        if (options.infinite) {
          _this.restart(); //rerun the timer.
        }
        if (cb && typeof cb === 'function') {
          cb();
        }
      }, remain);
      elem.trigger('timerstart.zf.' + nameSpace);
    };

    this.pause = function () {
      this.isPaused = true;
      //if(elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.
      clearTimeout(timer);
      elem.data('paused', true);
      var end = Date.now();
      remain = remain - (end - start);
      elem.trigger('timerpaused.zf.' + nameSpace);
    };
  }

  /**
   * Runs a callback function when images are fully loaded.
   * @param {Object} images - Image(s) to check if loaded.
   * @param {Func} callback - Function to execute when image is fully loaded.
   */
  function onImagesLoaded(images, callback) {
    var self = this,
        unloaded = images.length;

    if (unloaded === 0) {
      callback();
    }

    images.each(function () {
      // Check if image is loaded
      if (this.complete || this.readyState === 4 || this.readyState === 'complete') {
        singleImageLoaded();
      }
      // Force load the image
      else {
          // fix for IE. See https://css-tricks.com/snippets/jquery/fixing-load-in-ie-for-cached-images/
          var src = $(this).attr('src');
          $(this).attr('src', src + (src.indexOf('?') >= 0 ? '&' : '?') + new Date().getTime());
          $(this).one('load', function () {
            singleImageLoaded();
          });
        }
    });

    function singleImageLoaded() {
      unloaded--;
      if (unloaded === 0) {
        callback();
      }
    }
  }

  Foundation.Timer = Timer;
  Foundation.onImagesLoaded = onImagesLoaded;
}(jQuery);
//**************************************************
//**Work inspired by multiple jquery swipe plugins**
//**Done by Yohai Ararat ***************************
//**************************************************
(function ($) {

	$.spotSwipe = {
		version: '1.0.0',
		enabled: 'ontouchstart' in document.documentElement,
		preventDefault: false,
		moveThreshold: 75,
		timeThreshold: 200
	};

	var startPosX,
	    startPosY,
	    startTime,
	    elapsedTime,
	    isMoving = false;

	function onTouchEnd() {
		//  alert(this);
		this.removeEventListener('touchmove', onTouchMove);
		this.removeEventListener('touchend', onTouchEnd);
		isMoving = false;
	}

	function onTouchMove(e) {
		if ($.spotSwipe.preventDefault) {
			e.preventDefault();
		}
		if (isMoving) {
			var x = e.touches[0].pageX;
			var y = e.touches[0].pageY;
			var dx = startPosX - x;
			var dy = startPosY - y;
			var dir;
			elapsedTime = new Date().getTime() - startTime;
			if (Math.abs(dx) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {
				dir = dx > 0 ? 'left' : 'right';
			}
			// else if(Math.abs(dy) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {
			//   dir = dy > 0 ? 'down' : 'up';
			// }
			if (dir) {
				e.preventDefault();
				onTouchEnd.call(this);
				$(this).trigger('swipe', dir).trigger('swipe' + dir);
			}
		}
	}

	function onTouchStart(e) {
		if (e.touches.length == 1) {
			startPosX = e.touches[0].pageX;
			startPosY = e.touches[0].pageY;
			isMoving = true;
			startTime = new Date().getTime();
			this.addEventListener('touchmove', onTouchMove, false);
			this.addEventListener('touchend', onTouchEnd, false);
		}
	}

	function init() {
		this.addEventListener && this.addEventListener('touchstart', onTouchStart, false);
	}

	function teardown() {
		this.removeEventListener('touchstart', onTouchStart);
	}

	$.event.special.swipe = { setup: init };

	$.each(['left', 'up', 'down', 'right'], function () {
		$.event.special['swipe' + this] = { setup: function () {
				$(this).on('swipe', $.noop);
			} };
	});
})(jQuery);
/****************************************************
 * Method for adding psuedo drag events to elements *
 ***************************************************/
!function ($) {
	$.fn.addTouch = function () {
		this.each(function (i, el) {
			$(el).bind('touchstart touchmove touchend touchcancel', function () {
				//we pass the original event object because the jQuery event
				//object is normalized to w3c specs and does not provide the TouchList
				handleTouch(event);
			});
		});

		var handleTouch = function (event) {
			var touches = event.changedTouches,
			    first = touches[0],
			    eventTypes = {
				touchstart: 'mousedown',
				touchmove: 'mousemove',
				touchend: 'mouseup'
			},
			    type = eventTypes[event.type],
			    simulatedEvent;

			if ('MouseEvent' in window && typeof window.MouseEvent === 'function') {
				simulatedEvent = new window.MouseEvent(type, {
					'bubbles': true,
					'cancelable': true,
					'screenX': first.screenX,
					'screenY': first.screenY,
					'clientX': first.clientX,
					'clientY': first.clientY
				});
			} else {
				simulatedEvent = document.createEvent('MouseEvent');
				simulatedEvent.initMouseEvent(type, true, true, window, 1, first.screenX, first.screenY, first.clientX, first.clientY, false, false, false, false, 0 /*left*/, null);
			}
			first.target.dispatchEvent(simulatedEvent);
		};
	};
}(jQuery);

//**********************************
//**From the jQuery Mobile Library**
//**need to recreate functionality**
//**and try to improve if possible**
//**********************************

/* Removing the jQuery function ****
************************************

(function( $, window, undefined ) {

	var $document = $( document ),
		// supportTouch = $.mobile.support.touch,
		touchStartEvent = 'touchstart'//supportTouch ? "touchstart" : "mousedown",
		touchStopEvent = 'touchend'//supportTouch ? "touchend" : "mouseup",
		touchMoveEvent = 'touchmove'//supportTouch ? "touchmove" : "mousemove";

	// setup new event shortcuts
	$.each( ( "touchstart touchmove touchend " +
		"swipe swipeleft swiperight" ).split( " " ), function( i, name ) {

		$.fn[ name ] = function( fn ) {
			return fn ? this.bind( name, fn ) : this.trigger( name );
		};

		// jQuery < 1.8
		if ( $.attrFn ) {
			$.attrFn[ name ] = true;
		}
	});

	function triggerCustomEvent( obj, eventType, event, bubble ) {
		var originalType = event.type;
		event.type = eventType;
		if ( bubble ) {
			$.event.trigger( event, undefined, obj );
		} else {
			$.event.dispatch.call( obj, event );
		}
		event.type = originalType;
	}

	// also handles taphold

	// Also handles swipeleft, swiperight
	$.event.special.swipe = {

		// More than this horizontal displacement, and we will suppress scrolling.
		scrollSupressionThreshold: 30,

		// More time than this, and it isn't a swipe.
		durationThreshold: 1000,

		// Swipe horizontal displacement must be more than this.
		horizontalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,

		// Swipe vertical displacement must be less than this.
		verticalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,

		getLocation: function ( event ) {
			var winPageX = window.pageXOffset,
				winPageY = window.pageYOffset,
				x = event.clientX,
				y = event.clientY;

			if ( event.pageY === 0 && Math.floor( y ) > Math.floor( event.pageY ) ||
				event.pageX === 0 && Math.floor( x ) > Math.floor( event.pageX ) ) {

				// iOS4 clientX/clientY have the value that should have been
				// in pageX/pageY. While pageX/page/ have the value 0
				x = x - winPageX;
				y = y - winPageY;
			} else if ( y < ( event.pageY - winPageY) || x < ( event.pageX - winPageX ) ) {

				// Some Android browsers have totally bogus values for clientX/Y
				// when scrolling/zooming a page. Detectable since clientX/clientY
				// should never be smaller than pageX/pageY minus page scroll
				x = event.pageX - winPageX;
				y = event.pageY - winPageY;
			}

			return {
				x: x,
				y: y
			};
		},

		start: function( event ) {
			var data = event.originalEvent.touches ?
					event.originalEvent.touches[ 0 ] : event,
				location = $.event.special.swipe.getLocation( data );
			return {
						time: ( new Date() ).getTime(),
						coords: [ location.x, location.y ],
						origin: $( event.target )
					};
		},

		stop: function( event ) {
			var data = event.originalEvent.touches ?
					event.originalEvent.touches[ 0 ] : event,
				location = $.event.special.swipe.getLocation( data );
			return {
						time: ( new Date() ).getTime(),
						coords: [ location.x, location.y ]
					};
		},

		handleSwipe: function( start, stop, thisObject, origTarget ) {
			if ( stop.time - start.time < $.event.special.swipe.durationThreshold &&
				Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.horizontalDistanceThreshold &&
				Math.abs( start.coords[ 1 ] - stop.coords[ 1 ] ) < $.event.special.swipe.verticalDistanceThreshold ) {
				var direction = start.coords[0] > stop.coords[ 0 ] ? "swipeleft" : "swiperight";

				triggerCustomEvent( thisObject, "swipe", $.Event( "swipe", { target: origTarget, swipestart: start, swipestop: stop }), true );
				triggerCustomEvent( thisObject, direction,$.Event( direction, { target: origTarget, swipestart: start, swipestop: stop } ), true );
				return true;
			}
			return false;

		},

		// This serves as a flag to ensure that at most one swipe event event is
		// in work at any given time
		eventInProgress: false,

		setup: function() {
			var events,
				thisObject = this,
				$this = $( thisObject ),
				context = {};

			// Retrieve the events data for this element and add the swipe context
			events = $.data( this, "mobile-events" );
			if ( !events ) {
				events = { length: 0 };
				$.data( this, "mobile-events", events );
			}
			events.length++;
			events.swipe = context;

			context.start = function( event ) {

				// Bail if we're already working on a swipe event
				if ( $.event.special.swipe.eventInProgress ) {
					return;
				}
				$.event.special.swipe.eventInProgress = true;

				var stop,
					start = $.event.special.swipe.start( event ),
					origTarget = event.target,
					emitted = false;

				context.move = function( event ) {
					if ( !start || event.isDefaultPrevented() ) {
						return;
					}

					stop = $.event.special.swipe.stop( event );
					if ( !emitted ) {
						emitted = $.event.special.swipe.handleSwipe( start, stop, thisObject, origTarget );
						if ( emitted ) {

							// Reset the context to make way for the next swipe event
							$.event.special.swipe.eventInProgress = false;
						}
					}
					// prevent scrolling
					if ( Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.scrollSupressionThreshold ) {
						event.preventDefault();
					}
				};

				context.stop = function() {
						emitted = true;

						// Reset the context to make way for the next swipe event
						$.event.special.swipe.eventInProgress = false;
						$document.off( touchMoveEvent, context.move );
						context.move = null;
				};

				$document.on( touchMoveEvent, context.move )
					.one( touchStopEvent, context.stop );
			};
			$this.on( touchStartEvent, context.start );
		},

		teardown: function() {
			var events, context;

			events = $.data( this, "mobile-events" );
			if ( events ) {
				context = events.swipe;
				delete events.swipe;
				events.length--;
				if ( events.length === 0 ) {
					$.removeData( this, "mobile-events" );
				}
			}

			if ( context ) {
				if ( context.start ) {
					$( this ).off( touchStartEvent, context.start );
				}
				if ( context.move ) {
					$document.off( touchMoveEvent, context.move );
				}
				if ( context.stop ) {
					$document.off( touchStopEvent, context.stop );
				}
			}
		}
	};
	$.each({
		swipeleft: "swipe.left",
		swiperight: "swipe.right"
	}, function( event, sourceEvent ) {

		$.event.special[ event ] = {
			setup: function() {
				$( this ).bind( sourceEvent, $.noop );
			},
			teardown: function() {
				$( this ).unbind( sourceEvent );
			}
		};
	});
})( jQuery, this );
*/
'use strict';

!function ($) {

  var MutationObserver = function () {
    var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];
    for (var i = 0; i < prefixes.length; i++) {
      if (prefixes[i] + 'MutationObserver' in window) {
        return window[prefixes[i] + 'MutationObserver'];
      }
    }
    return false;
  }();

  var triggers = function (el, type) {
    el.data(type).split(' ').forEach(function (id) {
      $('#' + id)[type === 'close' ? 'trigger' : 'triggerHandler'](type + '.zf.trigger', [el]);
    });
  };
  // Elements with [data-open] will reveal a plugin that supports it when clicked.
  $(document).on('click.zf.trigger', '[data-open]', function () {
    triggers($(this), 'open');
  });

  // Elements with [data-close] will close a plugin that supports it when clicked.
  // If used without a value on [data-close], the event will bubble, allowing it to close a parent component.
  $(document).on('click.zf.trigger', '[data-close]', function () {
    var id = $(this).data('close');
    if (id) {
      triggers($(this), 'close');
    } else {
      $(this).trigger('close.zf.trigger');
    }
  });

  // Elements with [data-toggle] will toggle a plugin that supports it when clicked.
  $(document).on('click.zf.trigger', '[data-toggle]', function () {
    var id = $(this).data('toggle');
    if (id) {
      triggers($(this), 'toggle');
    } else {
      $(this).trigger('toggle.zf.trigger');
    }
  });

  // Elements with [data-closable] will respond to close.zf.trigger events.
  $(document).on('close.zf.trigger', '[data-closable]', function (e) {
    e.stopPropagation();
    var animation = $(this).data('closable');

    if (animation !== '') {
      Foundation.Motion.animateOut($(this), animation, function () {
        $(this).trigger('closed.zf');
      });
    } else {
      $(this).fadeOut().trigger('closed.zf');
    }
  });

  $(document).on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', function () {
    var id = $(this).data('toggle-focus');
    $('#' + id).triggerHandler('toggle.zf.trigger', [$(this)]);
  });

  /**
  * Fires once after all other scripts have loaded
  * @function
  * @private
  */
  $(window).on('load', function () {
    checkListeners();
  });

  function checkListeners() {
    eventsListener();
    resizeListener();
    scrollListener();
    mutateListener();
    closemeListener();
  }

  //******** only fires this function once on load, if there's something to watch ********
  function closemeListener(pluginName) {
    var yetiBoxes = $('[data-yeti-box]'),
        plugNames = ['dropdown', 'tooltip', 'reveal'];

    if (pluginName) {
      if (typeof pluginName === 'string') {
        plugNames.push(pluginName);
      } else if (typeof pluginName === 'object' && typeof pluginName[0] === 'string') {
        plugNames.concat(pluginName);
      } else {
        console.error('Plugin names must be strings');
      }
    }
    if (yetiBoxes.length) {
      var listeners = plugNames.map(function (name) {
        return 'closeme.zf.' + name;
      }).join(' ');

      $(window).off(listeners).on(listeners, function (e, pluginId) {
        var plugin = e.namespace.split('.')[0];
        var plugins = $('[data-' + plugin + ']').not('[data-yeti-box="' + pluginId + '"]');

        plugins.each(function () {
          var _this = $(this);

          _this.triggerHandler('close.zf.trigger', [_this]);
        });
      });
    }
  }

  function resizeListener(debounce) {
    var timer = void 0,
        $nodes = $('[data-resize]');
    if ($nodes.length) {
      $(window).off('resize.zf.trigger').on('resize.zf.trigger', function (e) {
        if (timer) {
          clearTimeout(timer);
        }

        timer = setTimeout(function () {

          if (!MutationObserver) {
            //fallback for IE 9
            $nodes.each(function () {
              $(this).triggerHandler('resizeme.zf.trigger');
            });
          }
          //trigger all listening elements and signal a resize event
          $nodes.attr('data-events', "resize");
        }, debounce || 10); //default time to emit resize event
      });
    }
  }

  function scrollListener(debounce) {
    var timer = void 0,
        $nodes = $('[data-scroll]');
    if ($nodes.length) {
      $(window).off('scroll.zf.trigger').on('scroll.zf.trigger', function (e) {
        if (timer) {
          clearTimeout(timer);
        }

        timer = setTimeout(function () {

          if (!MutationObserver) {
            //fallback for IE 9
            $nodes.each(function () {
              $(this).triggerHandler('scrollme.zf.trigger');
            });
          }
          //trigger all listening elements and signal a scroll event
          $nodes.attr('data-events', "scroll");
        }, debounce || 10); //default time to emit scroll event
      });
    }
  }

  function mutateListener(debounce) {
    var $nodes = $('[data-mutate]');
    if ($nodes.length && MutationObserver) {
      //trigger all listening elements and signal a mutate event
      //no IE 9 or 10
      $nodes.each(function () {
        $(this).triggerHandler('mutateme.zf.trigger');
      });
    }
  }

  function eventsListener() {
    if (!MutationObserver) {
      return false;
    }
    var nodes = document.querySelectorAll('[data-resize], [data-scroll], [data-mutate]');

    //element callback
    var listeningElementsMutation = function (mutationRecordsList) {
      var $target = $(mutationRecordsList[0].target);

      //trigger the event handler for the element depending on type
      switch (mutationRecordsList[0].type) {

        case "attributes":
          if ($target.attr("data-events") === "scroll" && mutationRecordsList[0].attributeName === "data-events") {
            $target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);
          }
          if ($target.attr("data-events") === "resize" && mutationRecordsList[0].attributeName === "data-events") {
            $target.triggerHandler('resizeme.zf.trigger', [$target]);
          }
          if (mutationRecordsList[0].attributeName === "style") {
            $target.closest("[data-mutate]").attr("data-events", "mutate");
            $target.closest("[data-mutate]").triggerHandler('mutateme.zf.trigger', [$target.closest("[data-mutate]")]);
          }
          break;

        case "childList":
          $target.closest("[data-mutate]").attr("data-events", "mutate");
          $target.closest("[data-mutate]").triggerHandler('mutateme.zf.trigger', [$target.closest("[data-mutate]")]);
          break;

        default:
          return false;
        //nothing
      }
    };

    if (nodes.length) {
      //for each element that needs to listen for resizing, scrolling, or mutation add a single observer
      for (var i = 0; i <= nodes.length - 1; i++) {
        var elementObserver = new MutationObserver(listeningElementsMutation);
        elementObserver.observe(nodes[i], { attributes: true, childList: true, characterData: false, subtree: true, attributeFilter: ["data-events", "style"] });
      }
    }
  }

  // ------------------------------------

  // [PH]
  // Foundation.CheckWatchers = checkWatchers;
  Foundation.IHearYou = checkListeners;
  // Foundation.ISeeYou = scrollListener;
  // Foundation.IFeelYou = closemeListener;
}(jQuery);

// function domMutationObserver(debounce) {
//   // !!! This is coming soon and needs more work; not active  !!! //
//   var timer,
//   nodes = document.querySelectorAll('[data-mutate]');
//   //
//   if (nodes.length) {
//     // var MutationObserver = (function () {
//     //   var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];
//     //   for (var i=0; i < prefixes.length; i++) {
//     //     if (prefixes[i] + 'MutationObserver' in window) {
//     //       return window[prefixes[i] + 'MutationObserver'];
//     //     }
//     //   }
//     //   return false;
//     // }());
//
//
//     //for the body, we need to listen for all changes effecting the style and class attributes
//     var bodyObserver = new MutationObserver(bodyMutation);
//     bodyObserver.observe(document.body, { attributes: true, childList: true, characterData: false, subtree:true, attributeFilter:["style", "class"]});
//
//
//     //body callback
//     function bodyMutation(mutate) {
//       //trigger all listening elements and signal a mutation event
//       if (timer) { clearTimeout(timer); }
//
//       timer = setTimeout(function() {
//         bodyObserver.disconnect();
//         $('[data-mutate]').attr('data-events',"mutate");
//       }, debounce || 150);
//     }
//   }
// }
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * Abide module.
   * @module foundation.abide
   */

  var Abide = function () {
    /**
     * Creates a new instance of Abide.
     * @class
     * @fires Abide#init
     * @param {Object} element - jQuery object to add the trigger to.
     * @param {Object} options - Overrides to the default plugin settings.
     */
    function Abide(element) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      _classCallCheck(this, Abide);

      this.$element = element;
      this.options = $.extend({}, Abide.defaults, this.$element.data(), options);

      this._init();

      Foundation.registerPlugin(this, 'Abide');
    }

    /**
     * Initializes the Abide plugin and calls functions to get Abide functioning on load.
     * @private
     */


    _createClass(Abide, [{
      key: '_init',
      value: function _init() {
        this.$inputs = this.$element.find('input, textarea, select');

        this._events();
      }

      /**
       * Initializes events for Abide.
       * @private
       */

    }, {
      key: '_events',
      value: function _events() {
        var _this2 = this;

        this.$element.off('.abide').on('reset.zf.abide', function () {
          _this2.resetForm();
        }).on('submit.zf.abide', function () {
          return _this2.validateForm();
        });

        if (this.options.validateOn === 'fieldChange') {
          this.$inputs.off('change.zf.abide').on('change.zf.abide', function (e) {
            _this2.validateInput($(e.target));
          });
        }

        if (this.options.liveValidate) {
          this.$inputs.off('input.zf.abide').on('input.zf.abide', function (e) {
            _this2.validateInput($(e.target));
          });
        }

        if (this.options.validateOnBlur) {
          this.$inputs.off('blur.zf.abide').on('blur.zf.abide', function (e) {
            _this2.validateInput($(e.target));
          });
        }
      }

      /**
       * Calls necessary functions to update Abide upon DOM change
       * @private
       */

    }, {
      key: '_reflow',
      value: function _reflow() {
        this._init();
      }

      /**
       * Checks whether or not a form element has the required attribute and if it's checked or not
       * @param {Object} element - jQuery object to check for required attribute
       * @returns {Boolean} Boolean value depends on whether or not attribute is checked or empty
       */

    }, {
      key: 'requiredCheck',
      value: function requiredCheck($el) {
        if (!$el.attr('required')) return true;

        var isGood = true;

        switch ($el[0].type) {
          case 'checkbox':
            isGood = $el[0].checked;
            break;

          case 'select':
          case 'select-one':
          case 'select-multiple':
            var opt = $el.find('option:selected');
            if (!opt.length || !opt.val()) isGood = false;
            break;

          default:
            if (!$el.val() || !$el.val().length) isGood = false;
        }

        return isGood;
      }

      /**
       * Based on $el, get the first element with selector in this order:
       * 1. The element's direct sibling('s).
       * 3. The element's parent's children.
       *
       * This allows for multiple form errors per input, though if none are found, no form errors will be shown.
       *
       * @param {Object} $el - jQuery object to use as reference to find the form error selector.
       * @returns {Object} jQuery object with the selector.
       */

    }, {
      key: 'findFormError',
      value: function findFormError($el) {
        var $error = $el.siblings(this.options.formErrorSelector);

        if (!$error.length) {
          $error = $el.parent().find(this.options.formErrorSelector);
        }

        return $error;
      }

      /**
       * Get the first element in this order:
       * 2. The <label> with the attribute `[for="someInputId"]`
       * 3. The `.closest()` <label>
       *
       * @param {Object} $el - jQuery object to check for required attribute
       * @returns {Boolean} Boolean value depends on whether or not attribute is checked or empty
       */

    }, {
      key: 'findLabel',
      value: function findLabel($el) {
        var id = $el[0].id;
        var $label = this.$element.find('label[for="' + id + '"]');

        if (!$label.length) {
          return $el.closest('label');
        }

        return $label;
      }

      /**
       * Get the set of labels associated with a set of radio els in this order
       * 2. The <label> with the attribute `[for="someInputId"]`
       * 3. The `.closest()` <label>
       *
       * @param {Object} $el - jQuery object to check for required attribute
       * @returns {Boolean} Boolean value depends on whether or not attribute is checked or empty
       */

    }, {
      key: 'findRadioLabels',
      value: function findRadioLabels($els) {
        var _this3 = this;

        var labels = $els.map(function (i, el) {
          var id = el.id;
          var $label = _this3.$element.find('label[for="' + id + '"]');

          if (!$label.length) {
            $label = $(el).closest('label');
          }
          return $label[0];
        });

        return $(labels);
      }

      /**
       * Adds the CSS error class as specified by the Abide settings to the label, input, and the form
       * @param {Object} $el - jQuery object to add the class to
       */

    }, {
      key: 'addErrorClasses',
      value: function addErrorClasses($el) {
        var $label = this.findLabel($el);
        var $formError = this.findFormError($el);

        if ($label.length) {
          $label.addClass(this.options.labelErrorClass);
        }

        if ($formError.length) {
          $formError.addClass(this.options.formErrorClass);
        }

        $el.addClass(this.options.inputErrorClass).attr('data-invalid', '');
      }

      /**
       * Remove CSS error classes etc from an entire radio button group
       * @param {String} groupName - A string that specifies the name of a radio button group
       *
       */

    }, {
      key: 'removeRadioErrorClasses',
      value: function removeRadioErrorClasses(groupName) {
        var $els = this.$element.find(':radio[name="' + groupName + '"]');
        var $labels = this.findRadioLabels($els);
        var $formErrors = this.findFormError($els);

        if ($labels.length) {
          $labels.removeClass(this.options.labelErrorClass);
        }

        if ($formErrors.length) {
          $formErrors.removeClass(this.options.formErrorClass);
        }

        $els.removeClass(this.options.inputErrorClass).removeAttr('data-invalid');
      }

      /**
       * Removes CSS error class as specified by the Abide settings from the label, input, and the form
       * @param {Object} $el - jQuery object to remove the class from
       */

    }, {
      key: 'removeErrorClasses',
      value: function removeErrorClasses($el) {
        // radios need to clear all of the els
        if ($el[0].type == 'radio') {
          return this.removeRadioErrorClasses($el.attr('name'));
        }

        var $label = this.findLabel($el);
        var $formError = this.findFormError($el);

        if ($label.length) {
          $label.removeClass(this.options.labelErrorClass);
        }

        if ($formError.length) {
          $formError.removeClass(this.options.formErrorClass);
        }

        $el.removeClass(this.options.inputErrorClass).removeAttr('data-invalid');
      }

      /**
       * Goes through a form to find inputs and proceeds to validate them in ways specific to their type. 
       * Ignores inputs with data-abide-ignore, type="hidden" or disabled attributes set
       * @fires Abide#invalid
       * @fires Abide#valid
       * @param {Object} element - jQuery object to validate, should be an HTML input
       * @returns {Boolean} goodToGo - If the input is valid or not.
       */

    }, {
      key: 'validateInput',
      value: function validateInput($el) {
        var _this4 = this;

        var clearRequire = this.requiredCheck($el),
            validated = false,
            customValidator = true,
            validator = $el.attr('data-validator'),
            equalTo = true;

        // don't validate ignored inputs or hidden inputs or disabled inputs
        if ($el.is('[data-abide-ignore]') || $el.is('[type="hidden"]') || $el.is('[disabled]')) {
          return true;
        }

        switch ($el[0].type) {
          case 'radio':
            validated = this.validateRadio($el.attr('name'));
            break;

          case 'checkbox':
            validated = clearRequire;
            break;

          case 'select':
          case 'select-one':
          case 'select-multiple':
            validated = clearRequire;
            break;

          default:
            validated = this.validateText($el);
        }

        if (validator) {
          customValidator = this.matchValidation($el, validator, $el.attr('required'));
        }

        if ($el.attr('data-equalto')) {
          equalTo = this.options.validators.equalTo($el);
        }

        var goodToGo = [clearRequire, validated, customValidator, equalTo].indexOf(false) === -1;
        var message = (goodToGo ? 'valid' : 'invalid') + '.zf.abide';

        if (goodToGo) {
          // Re-validate inputs that depend on this one with equalto
          var dependentElements = this.$element.find('[data-equalto="' + $el.attr('id') + '"]');
          if (dependentElements.length) {
            (function () {
              var _this = _this4;
              dependentElements.each(function () {
                if ($(this).val()) {
                  _this.validateInput($(this));
                }
              });
            })();
          }
        }

        this[goodToGo ? 'removeErrorClasses' : 'addErrorClasses']($el);

        /**
         * Fires when the input is done checking for validation. Event trigger is either `valid.zf.abide` or `invalid.zf.abide`
         * Trigger includes the DOM element of the input.
         * @event Abide#valid
         * @event Abide#invalid
         */
        $el.trigger(message, [$el]);

        return goodToGo;
      }

      /**
       * Goes through a form and if there are any invalid inputs, it will display the form error element
       * @returns {Boolean} noError - true if no errors were detected...
       * @fires Abide#formvalid
       * @fires Abide#forminvalid
       */

    }, {
      key: 'validateForm',
      value: function validateForm() {
        var acc = [];
        var _this = this;

        this.$inputs.each(function () {
          acc.push(_this.validateInput($(this)));
        });

        var noError = acc.indexOf(false) === -1;

        this.$element.find('[data-abide-error]').css('display', noError ? 'none' : 'block');

        /**
         * Fires when the form is finished validating. Event trigger is either `formvalid.zf.abide` or `forminvalid.zf.abide`.
         * Trigger includes the element of the form.
         * @event Abide#formvalid
         * @event Abide#forminvalid
         */
        this.$element.trigger((noError ? 'formvalid' : 'forminvalid') + '.zf.abide', [this.$element]);

        return noError;
      }

      /**
       * Determines whether or a not a text input is valid based on the pattern specified in the attribute. If no matching pattern is found, returns true.
       * @param {Object} $el - jQuery object to validate, should be a text input HTML element
       * @param {String} pattern - string value of one of the RegEx patterns in Abide.options.patterns
       * @returns {Boolean} Boolean value depends on whether or not the input value matches the pattern specified
       */

    }, {
      key: 'validateText',
      value: function validateText($el, pattern) {
        // A pattern can be passed to this function, or it will be infered from the input's "pattern" attribute, or it's "type" attribute
        pattern = pattern || $el.attr('pattern') || $el.attr('type');
        var inputText = $el.val();
        var valid = false;

        if (inputText.length) {
          // If the pattern attribute on the element is in Abide's list of patterns, then test that regexp
          if (this.options.patterns.hasOwnProperty(pattern)) {
            valid = this.options.patterns[pattern].test(inputText);
          }
          // If the pattern name isn't also the type attribute of the field, then test it as a regexp
          else if (pattern !== $el.attr('type')) {
              valid = new RegExp(pattern).test(inputText);
            } else {
              valid = true;
            }
        }
        // An empty field is valid if it's not required
        else if (!$el.prop('required')) {
            valid = true;
          }

        return valid;
      }

      /**
       * Determines whether or a not a radio input is valid based on whether or not it is required and selected. Although the function targets a single `<input>`, it validates by checking the `required` and `checked` properties of all radio buttons in its group.
       * @param {String} groupName - A string that specifies the name of a radio button group
       * @returns {Boolean} Boolean value depends on whether or not at least one radio input has been selected (if it's required)
       */

    }, {
      key: 'validateRadio',
      value: function validateRadio(groupName) {
        // If at least one radio in the group has the `required` attribute, the group is considered required
        // Per W3C spec, all radio buttons in a group should have `required`, but we're being nice
        var $group = this.$element.find(':radio[name="' + groupName + '"]');
        var valid = false,
            required = false;

        // For the group to be required, at least one radio needs to be required
        $group.each(function (i, e) {
          if ($(e).attr('required')) {
            required = true;
          }
        });
        if (!required) valid = true;

        if (!valid) {
          // For the group to be valid, at least one radio needs to be checked
          $group.each(function (i, e) {
            if ($(e).prop('checked')) {
              valid = true;
            }
          });
        };

        return valid;
      }

      /**
       * Determines if a selected input passes a custom validation function. Multiple validations can be used, if passed to the element with `data-validator="foo bar baz"` in a space separated listed.
       * @param {Object} $el - jQuery input element.
       * @param {String} validators - a string of function names matching functions in the Abide.options.validators object.
       * @param {Boolean} required - self explanatory?
       * @returns {Boolean} - true if validations passed.
       */

    }, {
      key: 'matchValidation',
      value: function matchValidation($el, validators, required) {
        var _this5 = this;

        required = required ? true : false;

        var clear = validators.split(' ').map(function (v) {
          return _this5.options.validators[v]($el, required, $el.parent());
        });
        return clear.indexOf(false) === -1;
      }

      /**
       * Resets form inputs and styles
       * @fires Abide#formreset
       */

    }, {
      key: 'resetForm',
      value: function resetForm() {
        var $form = this.$element,
            opts = this.options;

        $('.' + opts.labelErrorClass, $form).not('small').removeClass(opts.labelErrorClass);
        $('.' + opts.inputErrorClass, $form).not('small').removeClass(opts.inputErrorClass);
        $(opts.formErrorSelector + '.' + opts.formErrorClass).removeClass(opts.formErrorClass);
        $form.find('[data-abide-error]').css('display', 'none');
        $(':input', $form).not(':button, :submit, :reset, :hidden, :radio, :checkbox, [data-abide-ignore]').val('').removeAttr('data-invalid');
        $(':input:radio', $form).not('[data-abide-ignore]').prop('checked', false).removeAttr('data-invalid');
        $(':input:checkbox', $form).not('[data-abide-ignore]').prop('checked', false).removeAttr('data-invalid');
        /**
         * Fires when the form has been reset.
         * @event Abide#formreset
         */
        $form.trigger('formreset.zf.abide', [$form]);
      }

      /**
       * Destroys an instance of Abide.
       * Removes error styles and classes from elements, without resetting their values.
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        var _this = this;
        this.$element.off('.abide').find('[data-abide-error]').css('display', 'none');

        this.$inputs.off('.abide').each(function () {
          _this.removeErrorClasses($(this));
        });

        Foundation.unregisterPlugin(this);
      }
    }]);

    return Abide;
  }();

  /**
   * Default settings for plugin
   */


  Abide.defaults = {
    /**
     * The default event to validate inputs. Checkboxes and radios validate immediately.
     * Remove or change this value for manual validation.
     * @option
     * @type {?string}
     * @default 'fieldChange'
     */
    validateOn: 'fieldChange',

    /**
     * Class to be applied to input labels on failed validation.
     * @option
     * @type {string}
     * @default 'is-invalid-label'
     */
    labelErrorClass: 'is-invalid-label',

    /**
     * Class to be applied to inputs on failed validation.
     * @option
     * @type {string}
     * @default 'is-invalid-input'
     */
    inputErrorClass: 'is-invalid-input',

    /**
     * Class selector to use to target Form Errors for show/hide.
     * @option
     * @type {string}
     * @default '.form-error'
     */
    formErrorSelector: '.form-error',

    /**
     * Class added to Form Errors on failed validation.
     * @option
     * @type {string}
     * @default 'is-visible'
     */
    formErrorClass: 'is-visible',

    /**
     * Set to true to validate text inputs on any value change.
     * @option
     * @type {boolean}
     * @default false
     */
    liveValidate: false,

    /**
     * Set to true to validate inputs on blur.
     * @option
     * @type {boolean}
     * @default false
     */
    validateOnBlur: false,

    patterns: {
      alpha: /^[a-zA-Z]+$/,
      alpha_numeric: /^[a-zA-Z0-9]+$/,
      integer: /^[-+]?\d+$/,
      number: /^[-+]?\d*(?:[\.\,]\d+)?$/,

      // amex, visa, diners
      card: /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,
      cvv: /^([0-9]){3,4}$/,

      // http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#valid-e-mail-address
      email: /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,

      url: /^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,
      // abc.de
      domain: /^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,

      datetime: /^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,
      // YYYY-MM-DD
      date: /(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,
      // HH:MM:SS
      time: /^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,
      dateISO: /^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,
      // MM/DD/YYYY
      month_day_year: /^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,
      // DD/MM/YYYY
      day_month_year: /^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,

      // #FFF or #FFFFFF
      color: /^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/
    },

    /**
     * Optional validation functions to be used. `equalTo` being the only default included function.
     * Functions should return only a boolean if the input is valid or not. Functions are given the following arguments:
     * el : The jQuery element to validate.
     * required : Boolean value of the required attribute be present or not.
     * parent : The direct parent of the input.
     * @option
     */
    validators: {
      equalTo: function (el, required, parent) {
        return $('#' + el.attr('data-equalto')).val() === el.val();
      }
    }
  };

  // Window exports
  Foundation.plugin(Abide, 'Abide');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * Accordion module.
   * @module foundation.accordion
   * @requires foundation.util.keyboard
   * @requires foundation.util.motion
   */

  var Accordion = function () {
    /**
     * Creates a new instance of an accordion.
     * @class
     * @fires Accordion#init
     * @param {jQuery} element - jQuery object to make into an accordion.
     * @param {Object} options - a plain object with settings to override the default options.
     */
    function Accordion(element, options) {
      _classCallCheck(this, Accordion);

      this.$element = element;
      this.options = $.extend({}, Accordion.defaults, this.$element.data(), options);

      this._init();

      Foundation.registerPlugin(this, 'Accordion');
      Foundation.Keyboard.register('Accordion', {
        'ENTER': 'toggle',
        'SPACE': 'toggle',
        'ARROW_DOWN': 'next',
        'ARROW_UP': 'previous'
      });
    }

    /**
     * Initializes the accordion by animating the preset active pane(s).
     * @private
     */


    _createClass(Accordion, [{
      key: '_init',
      value: function _init() {
        this.$element.attr('role', 'tablist');
        this.$tabs = this.$element.children('[data-accordion-item]');

        this.$tabs.each(function (idx, el) {
          var $el = $(el),
              $content = $el.children('[data-tab-content]'),
              id = $content[0].id || Foundation.GetYoDigits(6, 'accordion'),
              linkId = el.id || id + '-label';

          $el.find('a:first').attr({
            'aria-controls': id,
            'role': 'tab',
            'id': linkId,
            'aria-expanded': false,
            'aria-selected': false
          });

          $content.attr({ 'role': 'tabpanel', 'aria-labelledby': linkId, 'aria-hidden': true, 'id': id });
        });
        var $initActive = this.$element.find('.is-active').children('[data-tab-content]');
        if ($initActive.length) {
          this.down($initActive, true);
        }
        this._events();
      }

      /**
       * Adds event handlers for items within the accordion.
       * @private
       */

    }, {
      key: '_events',
      value: function _events() {
        var _this = this;

        this.$tabs.each(function () {
          var $elem = $(this);
          var $tabContent = $elem.children('[data-tab-content]');
          if ($tabContent.length) {
            $elem.children('a').off('click.zf.accordion keydown.zf.accordion').on('click.zf.accordion', function (e) {
              e.preventDefault();
              _this.toggle($tabContent);
            }).on('keydown.zf.accordion', function (e) {
              Foundation.Keyboard.handleKey(e, 'Accordion', {
                toggle: function () {
                  _this.toggle($tabContent);
                },
                next: function () {
                  var $a = $elem.next().find('a').focus();
                  if (!_this.options.multiExpand) {
                    $a.trigger('click.zf.accordion');
                  }
                },
                previous: function () {
                  var $a = $elem.prev().find('a').focus();
                  if (!_this.options.multiExpand) {
                    $a.trigger('click.zf.accordion');
                  }
                },
                handled: function () {
                  e.preventDefault();
                  e.stopPropagation();
                }
              });
            });
          }
        });
      }

      /**
       * Toggles the selected content pane's open/close state.
       * @param {jQuery} $target - jQuery object of the pane to toggle (`.accordion-content`).
       * @function
       */

    }, {
      key: 'toggle',
      value: function toggle($target) {
        if ($target.parent().hasClass('is-active')) {
          this.up($target);
        } else {
          this.down($target);
        }
      }

      /**
       * Opens the accordion tab defined by `$target`.
       * @param {jQuery} $target - Accordion pane to open (`.accordion-content`).
       * @param {Boolean} firstTime - flag to determine if reflow should happen.
       * @fires Accordion#down
       * @function
       */

    }, {
      key: 'down',
      value: function down($target, firstTime) {
        var _this2 = this;

        $target.attr('aria-hidden', false).parent('[data-tab-content]').addBack().parent().addClass('is-active');

        if (!this.options.multiExpand && !firstTime) {
          var $currentActive = this.$element.children('.is-active').children('[data-tab-content]');
          if ($currentActive.length) {
            this.up($currentActive.not($target));
          }
        }

        $target.slideDown(this.options.slideSpeed, function () {
          /**
           * Fires when the tab is done opening.
           * @event Accordion#down
           */
          _this2.$element.trigger('down.zf.accordion', [$target]);
        });

        $('#' + $target.attr('aria-labelledby')).attr({
          'aria-expanded': true,
          'aria-selected': true
        });
      }

      /**
       * Closes the tab defined by `$target`.
       * @param {jQuery} $target - Accordion tab to close (`.accordion-content`).
       * @fires Accordion#up
       * @function
       */

    }, {
      key: 'up',
      value: function up($target) {
        var $aunts = $target.parent().siblings(),
            _this = this;

        if (!this.options.allowAllClosed && !$aunts.hasClass('is-active') || !$target.parent().hasClass('is-active')) {
          return;
        }

        // Foundation.Move(this.options.slideSpeed, $target, function(){
        $target.slideUp(_this.options.slideSpeed, function () {
          /**
           * Fires when the tab is done collapsing up.
           * @event Accordion#up
           */
          _this.$element.trigger('up.zf.accordion', [$target]);
        });
        // });

        $target.attr('aria-hidden', true).parent().removeClass('is-active');

        $('#' + $target.attr('aria-labelledby')).attr({
          'aria-expanded': false,
          'aria-selected': false
        });
      }

      /**
       * Destroys an instance of an accordion.
       * @fires Accordion#destroyed
       * @function
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        this.$element.find('[data-tab-content]').stop(true).slideUp(0).css('display', '');
        this.$element.find('a').off('.zf.accordion');

        Foundation.unregisterPlugin(this);
      }
    }]);

    return Accordion;
  }();

  Accordion.defaults = {
    /**
     * Amount of time to animate the opening of an accordion pane.
     * @option
     * @type {number}
     * @default 250
     */
    slideSpeed: 250,
    /**
     * Allow the accordion to have multiple open panes.
     * @option
     * @type {boolean}
     * @default false
     */
    multiExpand: false,
    /**
     * Allow the accordion to close all panes.
     * @option
     * @type {boolean}
     * @default false
     */
    allowAllClosed: false
  };

  // Window exports
  Foundation.plugin(Accordion, 'Accordion');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * AccordionMenu module.
   * @module foundation.accordionMenu
   * @requires foundation.util.keyboard
   * @requires foundation.util.motion
   * @requires foundation.util.nest
   */

  var AccordionMenu = function () {
    /**
     * Creates a new instance of an accordion menu.
     * @class
     * @fires AccordionMenu#init
     * @param {jQuery} element - jQuery object to make into an accordion menu.
     * @param {Object} options - Overrides to the default plugin settings.
     */
    function AccordionMenu(element, options) {
      _classCallCheck(this, AccordionMenu);

      this.$element = element;
      this.options = $.extend({}, AccordionMenu.defaults, this.$element.data(), options);

      Foundation.Nest.Feather(this.$element, 'accordion');

      this._init();

      Foundation.registerPlugin(this, 'AccordionMenu');
      Foundation.Keyboard.register('AccordionMenu', {
        'ENTER': 'toggle',
        'SPACE': 'toggle',
        'ARROW_RIGHT': 'open',
        'ARROW_UP': 'up',
        'ARROW_DOWN': 'down',
        'ARROW_LEFT': 'close',
        'ESCAPE': 'closeAll'
      });
    }

    /**
     * Initializes the accordion menu by hiding all nested menus.
     * @private
     */


    _createClass(AccordionMenu, [{
      key: '_init',
      value: function _init() {
        this.$element.find('[data-submenu]').not('.is-active').slideUp(0); //.find('a').css('padding-left', '1rem');
        this.$element.attr({
          'role': 'menu',
          'aria-multiselectable': this.options.multiOpen
        });

        this.$menuLinks = this.$element.find('.is-accordion-submenu-parent');
        this.$menuLinks.each(function () {
          var linkId = this.id || Foundation.GetYoDigits(6, 'acc-menu-link'),
              $elem = $(this),
              $sub = $elem.children('[data-submenu]'),
              subId = $sub[0].id || Foundation.GetYoDigits(6, 'acc-menu'),
              isActive = $sub.hasClass('is-active');
          $elem.attr({
            'aria-controls': subId,
            'aria-expanded': isActive,
            'role': 'menuitem',
            'id': linkId
          });
          $sub.attr({
            'aria-labelledby': linkId,
            'aria-hidden': !isActive,
            'role': 'menu',
            'id': subId
          });
        });
        var initPanes = this.$element.find('.is-active');
        if (initPanes.length) {
          var _this = this;
          initPanes.each(function () {
            _this.down($(this));
          });
        }
        this._events();
      }

      /**
       * Adds event handlers for items within the menu.
       * @private
       */

    }, {
      key: '_events',
      value: function _events() {
        var _this = this;

        this.$element.find('li').each(function () {
          var $submenu = $(this).children('[data-submenu]');

          if ($submenu.length) {
            $(this).children('a').off('click.zf.accordionMenu').on('click.zf.accordionMenu', function (e) {
              e.preventDefault();

              _this.toggle($submenu);
            });
          }
        }).on('keydown.zf.accordionmenu', function (e) {
          var $element = $(this),
              $elements = $element.parent('ul').children('li'),
              $prevElement,
              $nextElement,
              $target = $element.children('[data-submenu]');

          $elements.each(function (i) {
            if ($(this).is($element)) {
              $prevElement = $elements.eq(Math.max(0, i - 1)).find('a').first();
              $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1)).find('a').first();

              if ($(this).children('[data-submenu]:visible').length) {
                // has open sub menu
                $nextElement = $element.find('li:first-child').find('a').first();
              }
              if ($(this).is(':first-child')) {
                // is first element of sub menu
                $prevElement = $element.parents('li').first().find('a').first();
              } else if ($prevElement.parents('li').first().children('[data-submenu]:visible').length) {
                // if previous element has open sub menu
                $prevElement = $prevElement.parents('li').find('li:last-child').find('a').first();
              }
              if ($(this).is(':last-child')) {
                // is last element of sub menu
                $nextElement = $element.parents('li').first().next('li').find('a').first();
              }

              return;
            }
          });

          Foundation.Keyboard.handleKey(e, 'AccordionMenu', {
            open: function () {
              if ($target.is(':hidden')) {
                _this.down($target);
                $target.find('li').first().find('a').first().focus();
              }
            },
            close: function () {
              if ($target.length && !$target.is(':hidden')) {
                // close active sub of this item
                _this.up($target);
              } else if ($element.parent('[data-submenu]').length) {
                // close currently open sub
                _this.up($element.parent('[data-submenu]'));
                $element.parents('li').first().find('a').first().focus();
              }
            },
            up: function () {
              $prevElement.focus();
              return true;
            },
            down: function () {
              $nextElement.focus();
              return true;
            },
            toggle: function () {
              if ($element.children('[data-submenu]').length) {
                _this.toggle($element.children('[data-submenu]'));
              }
            },
            closeAll: function () {
              _this.hideAll();
            },
            handled: function (preventDefault) {
              if (preventDefault) {
                e.preventDefault();
              }
              e.stopImmediatePropagation();
            }
          });
        }); //.attr('tabindex', 0);
      }

      /**
       * Closes all panes of the menu.
       * @function
       */

    }, {
      key: 'hideAll',
      value: function hideAll() {
        this.up(this.$element.find('[data-submenu]'));
      }

      /**
       * Opens all panes of the menu.
       * @function
       */

    }, {
      key: 'showAll',
      value: function showAll() {
        this.down(this.$element.find('[data-submenu]'));
      }

      /**
       * Toggles the open/close state of a submenu.
       * @function
       * @param {jQuery} $target - the submenu to toggle
       */

    }, {
      key: 'toggle',
      value: function toggle($target) {
        if (!$target.is(':animated')) {
          if (!$target.is(':hidden')) {
            this.up($target);
          } else {
            this.down($target);
          }
        }
      }

      /**
       * Opens the sub-menu defined by `$target`.
       * @param {jQuery} $target - Sub-menu to open.
       * @fires AccordionMenu#down
       */

    }, {
      key: 'down',
      value: function down($target) {
        var _this = this;

        if (!this.options.multiOpen) {
          this.up(this.$element.find('.is-active').not($target.parentsUntil(this.$element).add($target)));
        }

        $target.addClass('is-active').attr({ 'aria-hidden': false }).parent('.is-accordion-submenu-parent').attr({ 'aria-expanded': true });

        //Foundation.Move(this.options.slideSpeed, $target, function() {
        $target.slideDown(_this.options.slideSpeed, function () {
          /**
           * Fires when the menu is done opening.
           * @event AccordionMenu#down
           */
          _this.$element.trigger('down.zf.accordionMenu', [$target]);
        });
        //});
      }

      /**
       * Closes the sub-menu defined by `$target`. All sub-menus inside the target will be closed as well.
       * @param {jQuery} $target - Sub-menu to close.
       * @fires AccordionMenu#up
       */

    }, {
      key: 'up',
      value: function up($target) {
        var _this = this;
        //Foundation.Move(this.options.slideSpeed, $target, function(){
        $target.slideUp(_this.options.slideSpeed, function () {
          /**
           * Fires when the menu is done collapsing up.
           * @event AccordionMenu#up
           */
          _this.$element.trigger('up.zf.accordionMenu', [$target]);
        });
        //});

        var $menus = $target.find('[data-submenu]').slideUp(0).addBack().attr('aria-hidden', true);

        $menus.parent('.is-accordion-submenu-parent').attr('aria-expanded', false);
      }

      /**
       * Destroys an instance of accordion menu.
       * @fires AccordionMenu#destroyed
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        this.$element.find('[data-submenu]').slideDown(0).css('display', '');
        this.$element.find('a').off('click.zf.accordionMenu');

        Foundation.Nest.Burn(this.$element, 'accordion');
        Foundation.unregisterPlugin(this);
      }
    }]);

    return AccordionMenu;
  }();

  AccordionMenu.defaults = {
    /**
     * Amount of time to animate the opening of a submenu in ms.
     * @option
     * @type {number}
     * @default 250
     */
    slideSpeed: 250,
    /**
     * Allow the menu to have multiple open panes.
     * @option
     * @type {boolean}
     * @default true
     */
    multiOpen: true
  };

  // Window exports
  Foundation.plugin(AccordionMenu, 'AccordionMenu');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * Drilldown module.
   * @module foundation.drilldown
   * @requires foundation.util.keyboard
   * @requires foundation.util.motion
   * @requires foundation.util.nest
   */

  var Drilldown = function () {
    /**
     * Creates a new instance of a drilldown menu.
     * @class
     * @param {jQuery} element - jQuery object to make into an accordion menu.
     * @param {Object} options - Overrides to the default plugin settings.
     */
    function Drilldown(element, options) {
      _classCallCheck(this, Drilldown);

      this.$element = element;
      this.options = $.extend({}, Drilldown.defaults, this.$element.data(), options);

      Foundation.Nest.Feather(this.$element, 'drilldown');

      this._init();

      Foundation.registerPlugin(this, 'Drilldown');
      Foundation.Keyboard.register('Drilldown', {
        'ENTER': 'open',
        'SPACE': 'open',
        'ARROW_RIGHT': 'next',
        'ARROW_UP': 'up',
        'ARROW_DOWN': 'down',
        'ARROW_LEFT': 'previous',
        'ESCAPE': 'close',
        'TAB': 'down',
        'SHIFT_TAB': 'up'
      });
    }

    /**
     * Initializes the drilldown by creating jQuery collections of elements
     * @private
     */


    _createClass(Drilldown, [{
      key: '_init',
      value: function _init() {
        this.$submenuAnchors = this.$element.find('li.is-drilldown-submenu-parent').children('a');
        this.$submenus = this.$submenuAnchors.parent('li').children('[data-submenu]');
        this.$menuItems = this.$element.find('li').not('.js-drilldown-back').attr('role', 'menuitem').find('a');
        this.$element.attr('data-mutate', this.$element.attr('data-drilldown') || Foundation.GetYoDigits(6, 'drilldown'));

        this._prepareMenu();
        this._registerEvents();

        this._keyboardEvents();
      }

      /**
       * prepares drilldown menu by setting attributes to links and elements
       * sets a min height to prevent content jumping
       * wraps the element if not already wrapped
       * @private
       * @function
       */

    }, {
      key: '_prepareMenu',
      value: function _prepareMenu() {
        var _this = this;
        // if(!this.options.holdOpen){
        //   this._menuLinkEvents();
        // }
        this.$submenuAnchors.each(function () {
          var $link = $(this);
          var $sub = $link.parent();
          if (_this.options.parentLink) {
            $link.clone().prependTo($sub.children('[data-submenu]')).wrap('<li class="is-submenu-parent-item is-submenu-item is-drilldown-submenu-item" role="menu-item"></li>');
          }
          $link.data('savedHref', $link.attr('href')).removeAttr('href').attr('tabindex', 0);
          $link.children('[data-submenu]').attr({
            'aria-hidden': true,
            'tabindex': 0,
            'role': 'menu'
          });
          _this._events($link);
        });
        this.$submenus.each(function () {
          var $menu = $(this),
              $back = $menu.find('.js-drilldown-back');
          if (!$back.length) {
            switch (_this.options.backButtonPosition) {
              case "bottom":
                $menu.append(_this.options.backButton);
                break;
              case "top":
                $menu.prepend(_this.options.backButton);
                break;
              default:
                console.error("Unsupported backButtonPosition value '" + _this.options.backButtonPosition + "'");
            }
          }
          _this._back($menu);
        });

        this.$submenus.addClass('invisible');
        if (!this.options.autoHeight) {
          this.$submenus.addClass('drilldown-submenu-cover-previous');
        }

        // create a wrapper on element if it doesn't exist.
        if (!this.$element.parent().hasClass('is-drilldown')) {
          this.$wrapper = $(this.options.wrapper).addClass('is-drilldown');
          if (this.options.animateHeight) this.$wrapper.addClass('animate-height');
          this.$element.wrap(this.$wrapper);
        }
        // set wrapper
        this.$wrapper = this.$element.parent();
        this.$wrapper.css(this._getMaxDims());
      }
    }, {
      key: '_resize',
      value: function _resize() {
        this.$wrapper.css({ 'max-width': 'none', 'min-height': 'none' });
        // _getMaxDims has side effects (boo) but calling it should update all other necessary heights & widths
        this.$wrapper.css(this._getMaxDims());
      }

      /**
       * Adds event handlers to elements in the menu.
       * @function
       * @private
       * @param {jQuery} $elem - the current menu item to add handlers to.
       */

    }, {
      key: '_events',
      value: function _events($elem) {
        var _this = this;

        $elem.off('click.zf.drilldown').on('click.zf.drilldown', function (e) {
          if ($(e.target).parentsUntil('ul', 'li').hasClass('is-drilldown-submenu-parent')) {
            e.stopImmediatePropagation();
            e.preventDefault();
          }

          // if(e.target !== e.currentTarget.firstElementChild){
          //   return false;
          // }
          _this._show($elem.parent('li'));

          if (_this.options.closeOnClick) {
            var $body = $('body');
            $body.off('.zf.drilldown').on('click.zf.drilldown', function (e) {
              if (e.target === _this.$element[0] || $.contains(_this.$element[0], e.target)) {
                return;
              }
              e.preventDefault();
              _this._hideAll();
              $body.off('.zf.drilldown');
            });
          }
        });
        this.$element.on('mutateme.zf.trigger', this._resize.bind(this));
      }

      /**
       * Adds event handlers to the menu element.
       * @function
       * @private
       */

    }, {
      key: '_registerEvents',
      value: function _registerEvents() {
        if (this.options.scrollTop) {
          this._bindHandler = this._scrollTop.bind(this);
          this.$element.on('open.zf.drilldown hide.zf.drilldown closed.zf.drilldown', this._bindHandler);
        }
      }

      /**
       * Scroll to Top of Element or data-scroll-top-element
       * @function
       * @fires Drilldown#scrollme
       */

    }, {
      key: '_scrollTop',
      value: function _scrollTop() {
        var _this = this;
        var $scrollTopElement = _this.options.scrollTopElement != '' ? $(_this.options.scrollTopElement) : _this.$element,
            scrollPos = parseInt($scrollTopElement.offset().top + _this.options.scrollTopOffset);
        $('html, body').stop(true).animate({ scrollTop: scrollPos }, _this.options.animationDuration, _this.options.animationEasing, function () {
          /**
            * Fires after the menu has scrolled
            * @event Drilldown#scrollme
            */
          if (this === $('html')[0]) _this.$element.trigger('scrollme.zf.drilldown');
        });
      }

      /**
       * Adds keydown event listener to `li`'s in the menu.
       * @private
       */

    }, {
      key: '_keyboardEvents',
      value: function _keyboardEvents() {
        var _this = this;

        this.$menuItems.add(this.$element.find('.js-drilldown-back > a, .is-submenu-parent-item > a')).on('keydown.zf.drilldown', function (e) {
          var $element = $(this),
              $elements = $element.parent('li').parent('ul').children('li').children('a'),
              $prevElement,
              $nextElement;

          $elements.each(function (i) {
            if ($(this).is($element)) {
              $prevElement = $elements.eq(Math.max(0, i - 1));
              $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1));
              return;
            }
          });

          Foundation.Keyboard.handleKey(e, 'Drilldown', {
            next: function () {
              if ($element.is(_this.$submenuAnchors)) {
                _this._show($element.parent('li'));
                $element.parent('li').one(Foundation.transitionend($element), function () {
                  $element.parent('li').find('ul li a').filter(_this.$menuItems).first().focus();
                });
                return true;
              }
            },
            previous: function () {
              _this._hide($element.parent('li').parent('ul'));
              $element.parent('li').parent('ul').one(Foundation.transitionend($element), function () {
                setTimeout(function () {
                  $element.parent('li').parent('ul').parent('li').children('a').first().focus();
                }, 1);
              });
              return true;
            },
            up: function () {
              $prevElement.focus();
              // Don't tap focus on first element in root ul
              return !$element.is(_this.$element.find('> li:first-child > a'));
            },
            down: function () {
              $nextElement.focus();
              // Don't tap focus on last element in root ul
              return !$element.is(_this.$element.find('> li:last-child > a'));
            },
            close: function () {
              // Don't close on element in root ul
              if (!$element.is(_this.$element.find('> li > a'))) {
                _this._hide($element.parent().parent());
                $element.parent().parent().siblings('a').focus();
              }
            },
            open: function () {
              if (!$element.is(_this.$menuItems)) {
                // not menu item means back button
                _this._hide($element.parent('li').parent('ul'));
                $element.parent('li').parent('ul').one(Foundation.transitionend($element), function () {
                  setTimeout(function () {
                    $element.parent('li').parent('ul').parent('li').children('a').first().focus();
                  }, 1);
                });
                return true;
              } else if ($element.is(_this.$submenuAnchors)) {
                _this._show($element.parent('li'));
                $element.parent('li').one(Foundation.transitionend($element), function () {
                  $element.parent('li').find('ul li a').filter(_this.$menuItems).first().focus();
                });
                return true;
              }
            },
            handled: function (preventDefault) {
              if (preventDefault) {
                e.preventDefault();
              }
              e.stopImmediatePropagation();
            }
          });
        }); // end keyboardAccess
      }

      /**
       * Closes all open elements, and returns to root menu.
       * @function
       * @fires Drilldown#closed
       */

    }, {
      key: '_hideAll',
      value: function _hideAll() {
        var $elem = this.$element.find('.is-drilldown-submenu.is-active').addClass('is-closing');
        if (this.options.autoHeight) this.$wrapper.css({ height: $elem.parent().closest('ul').data('calcHeight') });
        $elem.one(Foundation.transitionend($elem), function (e) {
          $elem.removeClass('is-active is-closing');
        });
        /**
         * Fires when the menu is fully closed.
         * @event Drilldown#closed
         */
        this.$element.trigger('closed.zf.drilldown');
      }

      /**
       * Adds event listener for each `back` button, and closes open menus.
       * @function
       * @fires Drilldown#back
       * @param {jQuery} $elem - the current sub-menu to add `back` event.
       */

    }, {
      key: '_back',
      value: function _back($elem) {
        var _this = this;
        $elem.off('click.zf.drilldown');
        $elem.children('.js-drilldown-back').on('click.zf.drilldown', function (e) {
          e.stopImmediatePropagation();
          // console.log('mouseup on back');
          _this._hide($elem);

          // If there is a parent submenu, call show
          var parentSubMenu = $elem.parent('li').parent('ul').parent('li');
          if (parentSubMenu.length) {
            _this._show(parentSubMenu);
          }
        });
      }

      /**
       * Adds event listener to menu items w/o submenus to close open menus on click.
       * @function
       * @private
       */

    }, {
      key: '_menuLinkEvents',
      value: function _menuLinkEvents() {
        var _this = this;
        this.$menuItems.not('.is-drilldown-submenu-parent').off('click.zf.drilldown').on('click.zf.drilldown', function (e) {
          // e.stopImmediatePropagation();
          setTimeout(function () {
            _this._hideAll();
          }, 0);
        });
      }

      /**
       * Opens a submenu.
       * @function
       * @fires Drilldown#open
       * @param {jQuery} $elem - the current element with a submenu to open, i.e. the `li` tag.
       */

    }, {
      key: '_show',
      value: function _show($elem) {
        if (this.options.autoHeight) this.$wrapper.css({ height: $elem.children('[data-submenu]').data('calcHeight') });
        $elem.attr('aria-expanded', true);
        $elem.children('[data-submenu]').addClass('is-active').removeClass('invisible').attr('aria-hidden', false);
        /**
         * Fires when the submenu has opened.
         * @event Drilldown#open
         */
        this.$element.trigger('open.zf.drilldown', [$elem]);
      }
    }, {
      key: '_hide',


      /**
       * Hides a submenu
       * @function
       * @fires Drilldown#hide
       * @param {jQuery} $elem - the current sub-menu to hide, i.e. the `ul` tag.
       */
      value: function _hide($elem) {
        if (this.options.autoHeight) this.$wrapper.css({ height: $elem.parent().closest('ul').data('calcHeight') });
        var _this = this;
        $elem.parent('li').attr('aria-expanded', false);
        $elem.attr('aria-hidden', true).addClass('is-closing');
        $elem.addClass('is-closing').one(Foundation.transitionend($elem), function () {
          $elem.removeClass('is-active is-closing');
          $elem.blur().addClass('invisible');
        });
        /**
         * Fires when the submenu has closed.
         * @event Drilldown#hide
         */
        $elem.trigger('hide.zf.drilldown', [$elem]);
      }

      /**
       * Iterates through the nested menus to calculate the min-height, and max-width for the menu.
       * Prevents content jumping.
       * @function
       * @private
       */

    }, {
      key: '_getMaxDims',
      value: function _getMaxDims() {
        var maxHeight = 0,
            result = {},
            _this = this;
        this.$submenus.add(this.$element).each(function () {
          var numOfElems = $(this).children('li').length;
          var height = Foundation.Box.GetDimensions(this).height;
          maxHeight = height > maxHeight ? height : maxHeight;
          if (_this.options.autoHeight) {
            $(this).data('calcHeight', height);
            if (!$(this).hasClass('is-drilldown-submenu')) result['height'] = height;
          }
        });

        if (!this.options.autoHeight) result['min-height'] = maxHeight + 'px';

        result['max-width'] = this.$element[0].getBoundingClientRect().width + 'px';

        return result;
      }

      /**
       * Destroys the Drilldown Menu
       * @function
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        if (this.options.scrollTop) this.$element.off('.zf.drilldown', this._bindHandler);
        this._hideAll();
        this.$element.off('mutateme.zf.trigger');
        Foundation.Nest.Burn(this.$element, 'drilldown');
        this.$element.unwrap().find('.js-drilldown-back, .is-submenu-parent-item').remove().end().find('.is-active, .is-closing, .is-drilldown-submenu').removeClass('is-active is-closing is-drilldown-submenu').end().find('[data-submenu]').removeAttr('aria-hidden tabindex role');
        this.$submenuAnchors.each(function () {
          $(this).off('.zf.drilldown');
        });

        this.$submenus.removeClass('drilldown-submenu-cover-previous');

        this.$element.find('a').each(function () {
          var $link = $(this);
          $link.removeAttr('tabindex');
          if ($link.data('savedHref')) {
            $link.attr('href', $link.data('savedHref')).removeData('savedHref');
          } else {
            return;
          }
        });
        Foundation.unregisterPlugin(this);
      }
    }]);

    return Drilldown;
  }();

  Drilldown.defaults = {
    /**
     * Markup used for JS generated back button. Prepended  or appended (see backButtonPosition) to submenu lists and deleted on `destroy` method, 'js-drilldown-back' class required. Remove the backslash (`\`) if copy and pasting.
     * @option
     * @type {string}
     * @default '<li class="js-drilldown-back"><a tabindex="0">Back</a></li>'
     */
    backButton: '<li class="js-drilldown-back"><a tabindex="0">Back</a></li>',
    /**
     * Position the back button either at the top or bottom of drilldown submenus. Can be `'left'` or `'bottom'`.
     * @option
     * @type {string}
     * @default top
     */
    backButtonPosition: 'top',
    /**
     * Markup used to wrap drilldown menu. Use a class name for independent styling; the JS applied class: `is-drilldown` is required. Remove the backslash (`\`) if copy and pasting.
     * @option
     * @type {string}
     * @default '<div></div>'
     */
    wrapper: '<div></div>',
    /**
     * Adds the parent link to the submenu.
     * @option
     * @type {boolean}
     * @default false
     */
    parentLink: false,
    /**
     * Allow the menu to return to root list on body click.
     * @option
     * @type {boolean}
     * @default false
     */
    closeOnClick: false,
    /**
     * Allow the menu to auto adjust height.
     * @option
     * @type {boolean}
     * @default false
     */
    autoHeight: false,
    /**
     * Animate the auto adjust height.
     * @option
     * @type {boolean}
     * @default false
     */
    animateHeight: false,
    /**
     * Scroll to the top of the menu after opening a submenu or navigating back using the menu back button
     * @option
     * @type {boolean}
     * @default false
     */
    scrollTop: false,
    /**
     * String jquery selector (for example 'body') of element to take offset().top from, if empty string the drilldown menu offset().top is taken
     * @option
     * @type {string}
     * @default ''
     */
    scrollTopElement: '',
    /**
     * ScrollTop offset
     * @option
     * @type {number}
     * @default 0
     */
    scrollTopOffset: 0,
    /**
     * Scroll animation duration
     * @option
     * @type {number}
     * @default 500
     */
    animationDuration: 500,
    /**
     * Scroll animation easing. Can be `'swing'` or `'linear'`.
     * @option
     * @type {string}
     * @see {@link https://api.jquery.com/animate|JQuery animate}
     * @default 'swing'
     */
    animationEasing: 'swing'
    // holdOpen: false
  };

  // Window exports
  Foundation.plugin(Drilldown, 'Drilldown');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * Dropdown module.
   * @module foundation.dropdown
   * @requires foundation.util.keyboard
   * @requires foundation.util.box
   * @requires foundation.util.triggers
   */

  var Dropdown = function () {
    /**
     * Creates a new instance of a dropdown.
     * @class
     * @param {jQuery} element - jQuery object to make into a dropdown.
     *        Object should be of the dropdown panel, rather than its anchor.
     * @param {Object} options - Overrides to the default plugin settings.
     */
    function Dropdown(element, options) {
      _classCallCheck(this, Dropdown);

      this.$element = element;
      this.options = $.extend({}, Dropdown.defaults, this.$element.data(), options);
      this._init();

      Foundation.registerPlugin(this, 'Dropdown');
      Foundation.Keyboard.register('Dropdown', {
        'ENTER': 'open',
        'SPACE': 'open',
        'ESCAPE': 'close'
      });
    }

    /**
     * Initializes the plugin by setting/checking options and attributes, adding helper variables, and saving the anchor.
     * @function
     * @private
     */


    _createClass(Dropdown, [{
      key: '_init',
      value: function _init() {
        var $id = this.$element.attr('id');

        this.$anchor = $('[data-toggle="' + $id + '"]').length ? $('[data-toggle="' + $id + '"]') : $('[data-open="' + $id + '"]');
        this.$anchor.attr({
          'aria-controls': $id,
          'data-is-focus': false,
          'data-yeti-box': $id,
          'aria-haspopup': true,
          'aria-expanded': false

        });

        if (this.options.parentClass) {
          this.$parent = this.$element.parents('.' + this.options.parentClass);
        } else {
          this.$parent = null;
        }
        this.options.positionClass = this.getPositionClass();
        this.counter = 4;
        this.usedPositions = [];
        this.$element.attr({
          'aria-hidden': 'true',
          'data-yeti-box': $id,
          'data-resize': $id,
          'aria-labelledby': this.$anchor[0].id || Foundation.GetYoDigits(6, 'dd-anchor')
        });
        this._events();
      }

      /**
       * Helper function to determine current orientation of dropdown pane.
       * @function
       * @returns {String} position - string value of a position class.
       */

    }, {
      key: 'getPositionClass',
      value: function getPositionClass() {
        var verticalPosition = this.$element[0].className.match(/(top|left|right|bottom)/g);
        verticalPosition = verticalPosition ? verticalPosition[0] : '';
        var horizontalPosition = /float-(\S+)/.exec(this.$anchor[0].className);
        horizontalPosition = horizontalPosition ? horizontalPosition[1] : '';
        var position = horizontalPosition ? horizontalPosition + ' ' + verticalPosition : verticalPosition;

        return position;
      }

      /**
       * Adjusts the dropdown panes orientation by adding/removing positioning classes.
       * @function
       * @private
       * @param {String} position - position class to remove.
       */

    }, {
      key: '_reposition',
      value: function _reposition(position) {
        this.usedPositions.push(position ? position : 'bottom');
        //default, try switching to opposite side
        if (!position && this.usedPositions.indexOf('top') < 0) {
          this.$element.addClass('top');
        } else if (position === 'top' && this.usedPositions.indexOf('bottom') < 0) {
          this.$element.removeClass(position);
        } else if (position === 'left' && this.usedPositions.indexOf('right') < 0) {
          this.$element.removeClass(position).addClass('right');
        } else if (position === 'right' && this.usedPositions.indexOf('left') < 0) {
          this.$element.removeClass(position).addClass('left');
        }

        //if default change didn't work, try bottom or left first
        else if (!position && this.usedPositions.indexOf('top') > -1 && this.usedPositions.indexOf('left') < 0) {
            this.$element.addClass('left');
          } else if (position === 'top' && this.usedPositions.indexOf('bottom') > -1 && this.usedPositions.indexOf('left') < 0) {
            this.$element.removeClass(position).addClass('left');
          } else if (position === 'left' && this.usedPositions.indexOf('right') > -1 && this.usedPositions.indexOf('bottom') < 0) {
            this.$element.removeClass(position);
          } else if (position === 'right' && this.usedPositions.indexOf('left') > -1 && this.usedPositions.indexOf('bottom') < 0) {
            this.$element.removeClass(position);
          }
          //if nothing cleared, set to bottom
          else {
              this.$element.removeClass(position);
            }
        this.classChanged = true;
        this.counter--;
      }

      /**
       * Sets the position and orientation of the dropdown pane, checks for collisions.
       * Recursively calls itself if a collision is detected, with a new position class.
       * @function
       * @private
       */

    }, {
      key: '_setPosition',
      value: function _setPosition() {
        if (this.$anchor.attr('aria-expanded') === 'false') {
          return false;
        }
        var position = this.getPositionClass(),
            $eleDims = Foundation.Box.GetDimensions(this.$element),
            $anchorDims = Foundation.Box.GetDimensions(this.$anchor),
            _this = this,
            direction = position === 'left' ? 'left' : position === 'right' ? 'left' : 'top',
            param = direction === 'top' ? 'height' : 'width',
            offset = param === 'height' ? this.options.vOffset : this.options.hOffset;

        if ($eleDims.width >= $eleDims.windowDims.width || !this.counter && !Foundation.Box.ImNotTouchingYou(this.$element, this.$parent)) {
          var newWidth = $eleDims.windowDims.width,
              parentHOffset = 0;
          if (this.$parent) {
            var $parentDims = Foundation.Box.GetDimensions(this.$parent),
                parentHOffset = $parentDims.offset.left;
            if ($parentDims.width < newWidth) {
              newWidth = $parentDims.width;
            }
          }

          this.$element.offset(Foundation.Box.GetOffsets(this.$element, this.$anchor, 'center bottom', this.options.vOffset, this.options.hOffset + parentHOffset, true)).css({
            'width': newWidth - this.options.hOffset * 2,
            'height': 'auto'
          });
          this.classChanged = true;
          return false;
        }

        this.$element.offset(Foundation.Box.GetOffsets(this.$element, this.$anchor, position, this.options.vOffset, this.options.hOffset));

        while (!Foundation.Box.ImNotTouchingYou(this.$element, this.$parent, true) && this.counter) {
          this._reposition(position);
          this._setPosition();
        }
      }

      /**
       * Adds event listeners to the element utilizing the triggers utility library.
       * @function
       * @private
       */

    }, {
      key: '_events',
      value: function _events() {
        var _this = this;
        this.$element.on({
          'open.zf.trigger': this.open.bind(this),
          'close.zf.trigger': this.close.bind(this),
          'toggle.zf.trigger': this.toggle.bind(this),
          'resizeme.zf.trigger': this._setPosition.bind(this)
        });

        if (this.options.hover) {
          this.$anchor.off('mouseenter.zf.dropdown mouseleave.zf.dropdown').on('mouseenter.zf.dropdown', function () {
            var bodyData = $('body').data();
            if (typeof bodyData.whatinput === 'undefined' || bodyData.whatinput === 'mouse') {
              clearTimeout(_this.timeout);
              _this.timeout = setTimeout(function () {
                _this.open();
                _this.$anchor.data('hover', true);
              }, _this.options.hoverDelay);
            }
          }).on('mouseleave.zf.dropdown', function () {
            clearTimeout(_this.timeout);
            _this.timeout = setTimeout(function () {
              _this.close();
              _this.$anchor.data('hover', false);
            }, _this.options.hoverDelay);
          });
          if (this.options.hoverPane) {
            this.$element.off('mouseenter.zf.dropdown mouseleave.zf.dropdown').on('mouseenter.zf.dropdown', function () {
              clearTimeout(_this.timeout);
            }).on('mouseleave.zf.dropdown', function () {
              clearTimeout(_this.timeout);
              _this.timeout = setTimeout(function () {
                _this.close();
                _this.$anchor.data('hover', false);
              }, _this.options.hoverDelay);
            });
          }
        }
        this.$anchor.add(this.$element).on('keydown.zf.dropdown', function (e) {

          var $target = $(this),
              visibleFocusableElements = Foundation.Keyboard.findFocusable(_this.$element);

          Foundation.Keyboard.handleKey(e, 'Dropdown', {
            open: function () {
              if ($target.is(_this.$anchor)) {
                _this.open();
                _this.$element.attr('tabindex', -1).focus();
                e.preventDefault();
              }
            },
            close: function () {
              _this.close();
              _this.$anchor.focus();
            }
          });
        });
      }

      /**
       * Adds an event handler to the body to close any dropdowns on a click.
       * @function
       * @private
       */

    }, {
      key: '_addBodyHandler',
      value: function _addBodyHandler() {
        var $body = $(document.body).not(this.$element),
            _this = this;
        $body.off('click.zf.dropdown').on('click.zf.dropdown', function (e) {
          if (_this.$anchor.is(e.target) || _this.$anchor.find(e.target).length) {
            return;
          }
          if (_this.$element.find(e.target).length) {
            return;
          }
          _this.close();
          $body.off('click.zf.dropdown');
        });
      }

      /**
       * Opens the dropdown pane, and fires a bubbling event to close other dropdowns.
       * @function
       * @fires Dropdown#closeme
       * @fires Dropdown#show
       */

    }, {
      key: 'open',
      value: function open() {
        // var _this = this;
        /**
         * Fires to close other open dropdowns, typically when dropdown is opening
         * @event Dropdown#closeme
         */
        this.$element.trigger('closeme.zf.dropdown', this.$element.attr('id'));
        this.$anchor.addClass('hover').attr({ 'aria-expanded': true });
        // this.$element/*.show()*/;
        this._setPosition();
        this.$element.addClass('is-open').attr({ 'aria-hidden': false });

        if (this.options.autoFocus) {
          var $focusable = Foundation.Keyboard.findFocusable(this.$element);
          if ($focusable.length) {
            $focusable.eq(0).focus();
          }
        }

        if (this.options.closeOnClick) {
          this._addBodyHandler();
        }

        if (this.options.trapFocus) {
          Foundation.Keyboard.trapFocus(this.$element);
        }

        /**
         * Fires once the dropdown is visible.
         * @event Dropdown#show
         */
        this.$element.trigger('show.zf.dropdown', [this.$element]);
      }

      /**
       * Closes the open dropdown pane.
       * @function
       * @fires Dropdown#hide
       */

    }, {
      key: 'close',
      value: function close() {
        if (!this.$element.hasClass('is-open')) {
          return false;
        }
        this.$element.removeClass('is-open').attr({ 'aria-hidden': true });

        this.$anchor.removeClass('hover').attr('aria-expanded', false);

        if (this.classChanged) {
          var curPositionClass = this.getPositionClass();
          if (curPositionClass) {
            this.$element.removeClass(curPositionClass);
          }
          this.$element.addClass(this.options.positionClass)
          /*.hide()*/.css({ height: '', width: '' });
          this.classChanged = false;
          this.counter = 4;
          this.usedPositions.length = 0;
        }
        /**
         * Fires once the dropdown is no longer visible.
         * @event Dropdown#hide
         */
        this.$element.trigger('hide.zf.dropdown', [this.$element]);

        if (this.options.trapFocus) {
          Foundation.Keyboard.releaseFocus(this.$element);
        }
      }

      /**
       * Toggles the dropdown pane's visibility.
       * @function
       */

    }, {
      key: 'toggle',
      value: function toggle() {
        if (this.$element.hasClass('is-open')) {
          if (this.$anchor.data('hover')) return;
          this.close();
        } else {
          this.open();
        }
      }

      /**
       * Destroys the dropdown.
       * @function
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        this.$element.off('.zf.trigger').hide();
        this.$anchor.off('.zf.dropdown');

        Foundation.unregisterPlugin(this);
      }
    }]);

    return Dropdown;
  }();

  Dropdown.defaults = {
    /**
     * Class that designates bounding container of Dropdown (default: window)
     * @option
     * @type {?string}
     * @default null
     */
    parentClass: null,
    /**
     * Amount of time to delay opening a submenu on hover event.
     * @option
     * @type {number}
     * @default 250
     */
    hoverDelay: 250,
    /**
     * Allow submenus to open on hover events
     * @option
     * @type {boolean}
     * @default false
     */
    hover: false,
    /**
     * Don't close dropdown when hovering over dropdown pane
     * @option
     * @type {boolean}
     * @default false
     */
    hoverPane: false,
    /**
     * Number of pixels between the dropdown pane and the triggering element on open.
     * @option
     * @type {number}
     * @default 1
     */
    vOffset: 1,
    /**
     * Number of pixels between the dropdown pane and the triggering element on open.
     * @option
     * @type {number}
     * @default 1
     */
    hOffset: 1,
    /**
     * Class applied to adjust open position. JS will test and fill this in.
     * @option
     * @type {string}
     * @default ''
     */
    positionClass: '',
    /**
     * Allow the plugin to trap focus to the dropdown pane if opened with keyboard commands.
     * @option
     * @type {boolean}
     * @default false
     */
    trapFocus: false,
    /**
     * Allow the plugin to set focus to the first focusable element within the pane, regardless of method of opening.
     * @option
     * @type {boolean}
     * @default false
     */
    autoFocus: false,
    /**
     * Allows a click on the body to close the dropdown.
     * @option
     * @type {boolean}
     * @default false
     */
    closeOnClick: false
  };

  // Window exports
  Foundation.plugin(Dropdown, 'Dropdown');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * DropdownMenu module.
   * @module foundation.dropdown-menu
   * @requires foundation.util.keyboard
   * @requires foundation.util.box
   * @requires foundation.util.nest
   */

  var DropdownMenu = function () {
    /**
     * Creates a new instance of DropdownMenu.
     * @class
     * @fires DropdownMenu#init
     * @param {jQuery} element - jQuery object to make into a dropdown menu.
     * @param {Object} options - Overrides to the default plugin settings.
     */
    function DropdownMenu(element, options) {
      _classCallCheck(this, DropdownMenu);

      this.$element = element;
      this.options = $.extend({}, DropdownMenu.defaults, this.$element.data(), options);

      Foundation.Nest.Feather(this.$element, 'dropdown');
      this._init();

      Foundation.registerPlugin(this, 'DropdownMenu');
      Foundation.Keyboard.register('DropdownMenu', {
        'ENTER': 'open',
        'SPACE': 'open',
        'ARROW_RIGHT': 'next',
        'ARROW_UP': 'up',
        'ARROW_DOWN': 'down',
        'ARROW_LEFT': 'previous',
        'ESCAPE': 'close'
      });
    }

    /**
     * Initializes the plugin, and calls _prepareMenu
     * @private
     * @function
     */


    _createClass(DropdownMenu, [{
      key: '_init',
      value: function _init() {
        var subs = this.$element.find('li.is-dropdown-submenu-parent');
        this.$element.children('.is-dropdown-submenu-parent').children('.is-dropdown-submenu').addClass('first-sub');

        this.$menuItems = this.$element.find('[role="menuitem"]');
        this.$tabs = this.$element.children('[role="menuitem"]');
        this.$tabs.find('ul.is-dropdown-submenu').addClass(this.options.verticalClass);

        if (this.$element.hasClass(this.options.rightClass) || this.options.alignment === 'right' || Foundation.rtl() || this.$element.parents('.top-bar-right').is('*')) {
          this.options.alignment = 'right';
          subs.addClass('opens-left');
        } else {
          subs.addClass('opens-right');
        }
        this.changed = false;
        this._events();
      }
    }, {
      key: '_isVertical',
      value: function _isVertical() {
        return this.$tabs.css('display') === 'block';
      }

      /**
       * Adds event listeners to elements within the menu
       * @private
       * @function
       */

    }, {
      key: '_events',
      value: function _events() {
        var _this = this,
            hasTouch = 'ontouchstart' in window || typeof window.ontouchstart !== 'undefined',
            parClass = 'is-dropdown-submenu-parent';

        // used for onClick and in the keyboard handlers
        var handleClickFn = function (e) {
          var $elem = $(e.target).parentsUntil('ul', '.' + parClass),
              hasSub = $elem.hasClass(parClass),
              hasClicked = $elem.attr('data-is-click') === 'true',
              $sub = $elem.children('.is-dropdown-submenu');

          if (hasSub) {
            if (hasClicked) {
              if (!_this.options.closeOnClick || !_this.options.clickOpen && !hasTouch || _this.options.forceFollow && hasTouch) {
                return;
              } else {
                e.stopImmediatePropagation();
                e.preventDefault();
                _this._hide($elem);
              }
            } else {
              e.preventDefault();
              e.stopImmediatePropagation();
              _this._show($sub);
              $elem.add($elem.parentsUntil(_this.$element, '.' + parClass)).attr('data-is-click', true);
            }
          }
        };

        if (this.options.clickOpen || hasTouch) {
          this.$menuItems.on('click.zf.dropdownmenu touchstart.zf.dropdownmenu', handleClickFn);
        }

        // Handle Leaf element Clicks
        if (_this.options.closeOnClickInside) {
          this.$menuItems.on('click.zf.dropdownmenu', function (e) {
            var $elem = $(this),
                hasSub = $elem.hasClass(parClass);
            if (!hasSub) {
              _this._hide();
            }
          });
        }

        if (!this.options.disableHover) {
          this.$menuItems.on('mouseenter.zf.dropdownmenu', function (e) {
            var $elem = $(this),
                hasSub = $elem.hasClass(parClass);

            if (hasSub) {
              clearTimeout($elem.data('_delay'));
              $elem.data('_delay', setTimeout(function () {
                _this._show($elem.children('.is-dropdown-submenu'));
              }, _this.options.hoverDelay));
            }
          }).on('mouseleave.zf.dropdownmenu', function (e) {
            var $elem = $(this),
                hasSub = $elem.hasClass(parClass);
            if (hasSub && _this.options.autoclose) {
              if ($elem.attr('data-is-click') === 'true' && _this.options.clickOpen) {
                return false;
              }

              clearTimeout($elem.data('_delay'));
              $elem.data('_delay', setTimeout(function () {
                _this._hide($elem);
              }, _this.options.closingTime));
            }
          });
        }
        this.$menuItems.on('keydown.zf.dropdownmenu', function (e) {
          var $element = $(e.target).parentsUntil('ul', '[role="menuitem"]'),
              isTab = _this.$tabs.index($element) > -1,
              $elements = isTab ? _this.$tabs : $element.siblings('li').add($element),
              $prevElement,
              $nextElement;

          $elements.each(function (i) {
            if ($(this).is($element)) {
              $prevElement = $elements.eq(i - 1);
              $nextElement = $elements.eq(i + 1);
              return;
            }
          });

          var nextSibling = function () {
            if (!$element.is(':last-child')) {
              $nextElement.children('a:first').focus();
              e.preventDefault();
            }
          },
              prevSibling = function () {
            $prevElement.children('a:first').focus();
            e.preventDefault();
          },
              openSub = function () {
            var $sub = $element.children('ul.is-dropdown-submenu');
            if ($sub.length) {
              _this._show($sub);
              $element.find('li > a:first').focus();
              e.preventDefault();
            } else {
              return;
            }
          },
              closeSub = function () {
            //if ($element.is(':first-child')) {
            var close = $element.parent('ul').parent('li');
            close.children('a:first').focus();
            _this._hide(close);
            e.preventDefault();
            //}
          };
          var functions = {
            open: openSub,
            close: function () {
              _this._hide(_this.$element);
              _this.$menuItems.find('a:first').focus(); // focus to first element
              e.preventDefault();
            },
            handled: function () {
              e.stopImmediatePropagation();
            }
          };

          if (isTab) {
            if (_this._isVertical()) {
              // vertical menu
              if (Foundation.rtl()) {
                // right aligned
                $.extend(functions, {
                  down: nextSibling,
                  up: prevSibling,
                  next: closeSub,
                  previous: openSub
                });
              } else {
                // left aligned
                $.extend(functions, {
                  down: nextSibling,
                  up: prevSibling,
                  next: openSub,
                  previous: closeSub
                });
              }
            } else {
              // horizontal menu
              if (Foundation.rtl()) {
                // right aligned
                $.extend(functions, {
                  next: prevSibling,
                  previous: nextSibling,
                  down: openSub,
                  up: closeSub
                });
              } else {
                // left aligned
                $.extend(functions, {
                  next: nextSibling,
                  previous: prevSibling,
                  down: openSub,
                  up: closeSub
                });
              }
            }
          } else {
            // not tabs -> one sub
            if (Foundation.rtl()) {
              // right aligned
              $.extend(functions, {
                next: closeSub,
                previous: openSub,
                down: nextSibling,
                up: prevSibling
              });
            } else {
              // left aligned
              $.extend(functions, {
                next: openSub,
                previous: closeSub,
                down: nextSibling,
                up: prevSibling
              });
            }
          }
          Foundation.Keyboard.handleKey(e, 'DropdownMenu', functions);
        });
      }

      /**
       * Adds an event handler to the body to close any dropdowns on a click.
       * @function
       * @private
       */

    }, {
      key: '_addBodyHandler',
      value: function _addBodyHandler() {
        var $body = $(document.body),
            _this = this;
        $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu').on('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu', function (e) {
          var $link = _this.$element.find(e.target);
          if ($link.length) {
            return;
          }

          _this._hide();
          $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu');
        });
      }

      /**
       * Opens a dropdown pane, and checks for collisions first.
       * @param {jQuery} $sub - ul element that is a submenu to show
       * @function
       * @private
       * @fires DropdownMenu#show
       */

    }, {
      key: '_show',
      value: function _show($sub) {
        var idx = this.$tabs.index(this.$tabs.filter(function (i, el) {
          return $(el).find($sub).length > 0;
        }));
        var $sibs = $sub.parent('li.is-dropdown-submenu-parent').siblings('li.is-dropdown-submenu-parent');
        this._hide($sibs, idx);
        $sub.css('visibility', 'hidden').addClass('js-dropdown-active').parent('li.is-dropdown-submenu-parent').addClass('is-active');
        var clear = Foundation.Box.ImNotTouchingYou($sub, null, true);
        if (!clear) {
          var oldClass = this.options.alignment === 'left' ? '-right' : '-left',
              $parentLi = $sub.parent('.is-dropdown-submenu-parent');
          $parentLi.removeClass('opens' + oldClass).addClass('opens-' + this.options.alignment);
          clear = Foundation.Box.ImNotTouchingYou($sub, null, true);
          if (!clear) {
            $parentLi.removeClass('opens-' + this.options.alignment).addClass('opens-inner');
          }
          this.changed = true;
        }
        $sub.css('visibility', '');
        if (this.options.closeOnClick) {
          this._addBodyHandler();
        }
        /**
         * Fires when the new dropdown pane is visible.
         * @event DropdownMenu#show
         */
        this.$element.trigger('show.zf.dropdownmenu', [$sub]);
      }

      /**
       * Hides a single, currently open dropdown pane, if passed a parameter, otherwise, hides everything.
       * @function
       * @param {jQuery} $elem - element with a submenu to hide
       * @param {Number} idx - index of the $tabs collection to hide
       * @private
       */

    }, {
      key: '_hide',
      value: function _hide($elem, idx) {
        var $toClose;
        if ($elem && $elem.length) {
          $toClose = $elem;
        } else if (idx !== undefined) {
          $toClose = this.$tabs.not(function (i, el) {
            return i === idx;
          });
        } else {
          $toClose = this.$element;
        }
        var somethingToClose = $toClose.hasClass('is-active') || $toClose.find('.is-active').length > 0;

        if (somethingToClose) {
          $toClose.find('li.is-active').add($toClose).attr({
            'data-is-click': false
          }).removeClass('is-active');

          $toClose.find('ul.js-dropdown-active').removeClass('js-dropdown-active');

          if (this.changed || $toClose.find('opens-inner').length) {
            var oldClass = this.options.alignment === 'left' ? 'right' : 'left';
            $toClose.find('li.is-dropdown-submenu-parent').add($toClose).removeClass('opens-inner opens-' + this.options.alignment).addClass('opens-' + oldClass);
            this.changed = false;
          }
          /**
           * Fires when the open menus are closed.
           * @event DropdownMenu#hide
           */
          this.$element.trigger('hide.zf.dropdownmenu', [$toClose]);
        }
      }

      /**
       * Destroys the plugin.
       * @function
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        this.$menuItems.off('.zf.dropdownmenu').removeAttr('data-is-click').removeClass('is-right-arrow is-left-arrow is-down-arrow opens-right opens-left opens-inner');
        $(document.body).off('.zf.dropdownmenu');
        Foundation.Nest.Burn(this.$element, 'dropdown');
        Foundation.unregisterPlugin(this);
      }
    }]);

    return DropdownMenu;
  }();

  /**
   * Default settings for plugin
   */


  DropdownMenu.defaults = {
    /**
     * Disallows hover events from opening submenus
     * @option
     * @type {boolean}
     * @default false
     */
    disableHover: false,
    /**
     * Allow a submenu to automatically close on a mouseleave event, if not clicked open.
     * @option
     * @type {boolean}
     * @default true
     */
    autoclose: true,
    /**
     * Amount of time to delay opening a submenu on hover event.
     * @option
     * @type {number}
     * @default 50
     */
    hoverDelay: 50,
    /**
     * Allow a submenu to open/remain open on parent click event. Allows cursor to move away from menu.
     * @option
     * @type {boolean}
     * @default false
     */
    clickOpen: false,
    /**
     * Amount of time to delay closing a submenu on a mouseleave event.
     * @option
     * @type {number}
     * @default 500
     */

    closingTime: 500,
    /**
     * Position of the menu relative to what direction the submenus should open. Handled by JS. Can be `'left'` or `'right'`.
     * @option
     * @type {string}
     * @default 'left'
     */
    alignment: 'left',
    /**
     * Allow clicks on the body to close any open submenus.
     * @option
     * @type {boolean}
     * @default true
     */
    closeOnClick: true,
    /**
     * Allow clicks on leaf anchor links to close any open submenus.
     * @option
     * @type {boolean}
     * @default true
     */
    closeOnClickInside: true,
    /**
     * Class applied to vertical oriented menus, Foundation default is `vertical`. Update this if using your own class.
     * @option
     * @type {string}
     * @default 'vertical'
     */
    verticalClass: 'vertical',
    /**
     * Class applied to right-side oriented menus, Foundation default is `align-right`. Update this if using your own class.
     * @option
     * @type {string}
     * @default 'align-right'
     */
    rightClass: 'align-right',
    /**
     * Boolean to force overide the clicking of links to perform default action, on second touch event for mobile.
     * @option
     * @type {boolean}
     * @default true
     */
    forceFollow: true
  };

  // Window exports
  Foundation.plugin(DropdownMenu, 'DropdownMenu');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * Equalizer module.
   * @module foundation.equalizer
   * @requires foundation.util.mediaQuery
   * @requires foundation.util.timerAndImageLoader if equalizer contains images
   */

  var Equalizer = function () {
    /**
     * Creates a new instance of Equalizer.
     * @class
     * @fires Equalizer#init
     * @param {Object} element - jQuery object to add the trigger to.
     * @param {Object} options - Overrides to the default plugin settings.
     */
    function Equalizer(element, options) {
      _classCallCheck(this, Equalizer);

      this.$element = element;
      this.options = $.extend({}, Equalizer.defaults, this.$element.data(), options);

      this._init();

      Foundation.registerPlugin(this, 'Equalizer');
    }

    /**
     * Initializes the Equalizer plugin and calls functions to get equalizer functioning on load.
     * @private
     */


    _createClass(Equalizer, [{
      key: '_init',
      value: function _init() {
        var eqId = this.$element.attr('data-equalizer') || '';
        var $watched = this.$element.find('[data-equalizer-watch="' + eqId + '"]');

        this.$watched = $watched.length ? $watched : this.$element.find('[data-equalizer-watch]');
        this.$element.attr('data-resize', eqId || Foundation.GetYoDigits(6, 'eq'));
        this.$element.attr('data-mutate', eqId || Foundation.GetYoDigits(6, 'eq'));

        this.hasNested = this.$element.find('[data-equalizer]').length > 0;
        this.isNested = this.$element.parentsUntil(document.body, '[data-equalizer]').length > 0;
        this.isOn = false;
        this._bindHandler = {
          onResizeMeBound: this._onResizeMe.bind(this),
          onPostEqualizedBound: this._onPostEqualized.bind(this)
        };

        var imgs = this.$element.find('img');
        var tooSmall;
        if (this.options.equalizeOn) {
          tooSmall = this._checkMQ();
          $(window).on('changed.zf.mediaquery', this._checkMQ.bind(this));
        } else {
          this._events();
        }
        if (tooSmall !== undefined && tooSmall === false || tooSmall === undefined) {
          if (imgs.length) {
            Foundation.onImagesLoaded(imgs, this._reflow.bind(this));
          } else {
            this._reflow();
          }
        }
      }

      /**
       * Removes event listeners if the breakpoint is too small.
       * @private
       */

    }, {
      key: '_pauseEvents',
      value: function _pauseEvents() {
        this.isOn = false;
        this.$element.off({
          '.zf.equalizer': this._bindHandler.onPostEqualizedBound,
          'resizeme.zf.trigger': this._bindHandler.onResizeMeBound,
          'mutateme.zf.trigger': this._bindHandler.onResizeMeBound
        });
      }

      /**
       * function to handle $elements resizeme.zf.trigger, with bound this on _bindHandler.onResizeMeBound
       * @private
       */

    }, {
      key: '_onResizeMe',
      value: function _onResizeMe(e) {
        this._reflow();
      }

      /**
       * function to handle $elements postequalized.zf.equalizer, with bound this on _bindHandler.onPostEqualizedBound
       * @private
       */

    }, {
      key: '_onPostEqualized',
      value: function _onPostEqualized(e) {
        if (e.target !== this.$element[0]) {
          this._reflow();
        }
      }

      /**
       * Initializes events for Equalizer.
       * @private
       */

    }, {
      key: '_events',
      value: function _events() {
        var _this = this;
        this._pauseEvents();
        if (this.hasNested) {
          this.$element.on('postequalized.zf.equalizer', this._bindHandler.onPostEqualizedBound);
        } else {
          this.$element.on('resizeme.zf.trigger', this._bindHandler.onResizeMeBound);
          this.$element.on('mutateme.zf.trigger', this._bindHandler.onResizeMeBound);
        }
        this.isOn = true;
      }

      /**
       * Checks the current breakpoint to the minimum required size.
       * @private
       */

    }, {
      key: '_checkMQ',
      value: function _checkMQ() {
        var tooSmall = !Foundation.MediaQuery.is(this.options.equalizeOn);
        if (tooSmall) {
          if (this.isOn) {
            this._pauseEvents();
            this.$watched.css('height', 'auto');
          }
        } else {
          if (!this.isOn) {
            this._events();
          }
        }
        return tooSmall;
      }

      /**
       * A noop version for the plugin
       * @private
       */

    }, {
      key: '_killswitch',
      value: function _killswitch() {
        return;
      }

      /**
       * Calls necessary functions to update Equalizer upon DOM change
       * @private
       */

    }, {
      key: '_reflow',
      value: function _reflow() {
        if (!this.options.equalizeOnStack) {
          if (this._isStacked()) {
            this.$watched.css('height', 'auto');
            return false;
          }
        }
        if (this.options.equalizeByRow) {
          this.getHeightsByRow(this.applyHeightByRow.bind(this));
        } else {
          this.getHeights(this.applyHeight.bind(this));
        }
      }

      /**
       * Manually determines if the first 2 elements are *NOT* stacked.
       * @private
       */

    }, {
      key: '_isStacked',
      value: function _isStacked() {
        if (!this.$watched[0] || !this.$watched[1]) {
          return true;
        }
        return this.$watched[0].getBoundingClientRect().top !== this.$watched[1].getBoundingClientRect().top;
      }

      /**
       * Finds the outer heights of children contained within an Equalizer parent and returns them in an array
       * @param {Function} cb - A non-optional callback to return the heights array to.
       * @returns {Array} heights - An array of heights of children within Equalizer container
       */

    }, {
      key: 'getHeights',
      value: function getHeights(cb) {
        var heights = [];
        for (var i = 0, len = this.$watched.length; i < len; i++) {
          this.$watched[i].style.height = 'auto';
          heights.push(this.$watched[i].offsetHeight);
        }
        cb(heights);
      }

      /**
       * Finds the outer heights of children contained within an Equalizer parent and returns them in an array
       * @param {Function} cb - A non-optional callback to return the heights array to.
       * @returns {Array} groups - An array of heights of children within Equalizer container grouped by row with element,height and max as last child
       */

    }, {
      key: 'getHeightsByRow',
      value: function getHeightsByRow(cb) {
        var lastElTopOffset = this.$watched.length ? this.$watched.first().offset().top : 0,
            groups = [],
            group = 0;
        //group by Row
        groups[group] = [];
        for (var i = 0, len = this.$watched.length; i < len; i++) {
          this.$watched[i].style.height = 'auto';
          //maybe could use this.$watched[i].offsetTop
          var elOffsetTop = $(this.$watched[i]).offset().top;
          if (elOffsetTop != lastElTopOffset) {
            group++;
            groups[group] = [];
            lastElTopOffset = elOffsetTop;
          }
          groups[group].push([this.$watched[i], this.$watched[i].offsetHeight]);
        }

        for (var j = 0, ln = groups.length; j < ln; j++) {
          var heights = $(groups[j]).map(function () {
            return this[1];
          }).get();
          var max = Math.max.apply(null, heights);
          groups[j].push(max);
        }
        cb(groups);
      }

      /**
       * Changes the CSS height property of each child in an Equalizer parent to match the tallest
       * @param {array} heights - An array of heights of children within Equalizer container
       * @fires Equalizer#preequalized
       * @fires Equalizer#postequalized
       */

    }, {
      key: 'applyHeight',
      value: function applyHeight(heights) {
        var max = Math.max.apply(null, heights);
        /**
         * Fires before the heights are applied
         * @event Equalizer#preequalized
         */
        this.$element.trigger('preequalized.zf.equalizer');

        this.$watched.css('height', max);

        /**
         * Fires when the heights have been applied
         * @event Equalizer#postequalized
         */
        this.$element.trigger('postequalized.zf.equalizer');
      }

      /**
       * Changes the CSS height property of each child in an Equalizer parent to match the tallest by row
       * @param {array} groups - An array of heights of children within Equalizer container grouped by row with element,height and max as last child
       * @fires Equalizer#preequalized
       * @fires Equalizer#preequalizedrow
       * @fires Equalizer#postequalizedrow
       * @fires Equalizer#postequalized
       */

    }, {
      key: 'applyHeightByRow',
      value: function applyHeightByRow(groups) {
        /**
         * Fires before the heights are applied
         */
        this.$element.trigger('preequalized.zf.equalizer');
        for (var i = 0, len = groups.length; i < len; i++) {
          var groupsILength = groups[i].length,
              max = groups[i][groupsILength - 1];
          if (groupsILength <= 2) {
            $(groups[i][0][0]).css({ 'height': 'auto' });
            continue;
          }
          /**
            * Fires before the heights per row are applied
            * @event Equalizer#preequalizedrow
            */
          this.$element.trigger('preequalizedrow.zf.equalizer');
          for (var j = 0, lenJ = groupsILength - 1; j < lenJ; j++) {
            $(groups[i][j][0]).css({ 'height': max });
          }
          /**
            * Fires when the heights per row have been applied
            * @event Equalizer#postequalizedrow
            */
          this.$element.trigger('postequalizedrow.zf.equalizer');
        }
        /**
         * Fires when the heights have been applied
         */
        this.$element.trigger('postequalized.zf.equalizer');
      }

      /**
       * Destroys an instance of Equalizer.
       * @function
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        this._pauseEvents();
        this.$watched.css('height', 'auto');

        Foundation.unregisterPlugin(this);
      }
    }]);

    return Equalizer;
  }();

  /**
   * Default settings for plugin
   */


  Equalizer.defaults = {
    /**
     * Enable height equalization when stacked on smaller screens.
     * @option
     * @type {boolean}
     * @default false
     */
    equalizeOnStack: false,
    /**
     * Enable height equalization row by row.
     * @option
     * @type {boolean}
     * @default false
     */
    equalizeByRow: false,
    /**
     * String representing the minimum breakpoint size the plugin should equalize heights on.
     * @option
     * @type {string}
     * @default ''
     */
    equalizeOn: ''
  };

  // Window exports
  Foundation.plugin(Equalizer, 'Equalizer');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * Interchange module.
   * @module foundation.interchange
   * @requires foundation.util.mediaQuery
   * @requires foundation.util.timerAndImageLoader
   */

  var Interchange = function () {
    /**
     * Creates a new instance of Interchange.
     * @class
     * @fires Interchange#init
     * @param {Object} element - jQuery object to add the trigger to.
     * @param {Object} options - Overrides to the default plugin settings.
     */
    function Interchange(element, options) {
      _classCallCheck(this, Interchange);

      this.$element = element;
      this.options = $.extend({}, Interchange.defaults, options);
      this.rules = [];
      this.currentPath = '';

      this._init();
      this._events();

      Foundation.registerPlugin(this, 'Interchange');
    }

    /**
     * Initializes the Interchange plugin and calls functions to get interchange functioning on load.
     * @function
     * @private
     */


    _createClass(Interchange, [{
      key: '_init',
      value: function _init() {
        this._addBreakpoints();
        this._generateRules();
        this._reflow();
      }

      /**
       * Initializes events for Interchange.
       * @function
       * @private
       */

    }, {
      key: '_events',
      value: function _events() {
        var _this2 = this;

        $(window).on('resize.zf.interchange', Foundation.util.throttle(function () {
          _this2._reflow();
        }, 50));
      }

      /**
       * Calls necessary functions to update Interchange upon DOM change
       * @function
       * @private
       */

    }, {
      key: '_reflow',
      value: function _reflow() {
        var match;

        // Iterate through each rule, but only save the last match
        for (var i in this.rules) {
          if (this.rules.hasOwnProperty(i)) {
            var rule = this.rules[i];
            if (window.matchMedia(rule.query).matches) {
              match = rule;
            }
          }
        }

        if (match) {
          this.replace(match.path);
        }
      }

      /**
       * Gets the Foundation breakpoints and adds them to the Interchange.SPECIAL_QUERIES object.
       * @function
       * @private
       */

    }, {
      key: '_addBreakpoints',
      value: function _addBreakpoints() {
        for (var i in Foundation.MediaQuery.queries) {
          if (Foundation.MediaQuery.queries.hasOwnProperty(i)) {
            var query = Foundation.MediaQuery.queries[i];
            Interchange.SPECIAL_QUERIES[query.name] = query.value;
          }
        }
      }

      /**
       * Checks the Interchange element for the provided media query + content pairings
       * @function
       * @private
       * @param {Object} element - jQuery object that is an Interchange instance
       * @returns {Array} scenarios - Array of objects that have 'mq' and 'path' keys with corresponding keys
       */

    }, {
      key: '_generateRules',
      value: function _generateRules(element) {
        var rulesList = [];
        var rules;

        if (this.options.rules) {
          rules = this.options.rules;
        } else {
          rules = this.$element.data('interchange');
        }

        rules = typeof rules === 'string' ? rules.match(/\[.*?\]/g) : rules;

        for (var i in rules) {
          if (rules.hasOwnProperty(i)) {
            var rule = rules[i].slice(1, -1).split(', ');
            var path = rule.slice(0, -1).join('');
            var query = rule[rule.length - 1];

            if (Interchange.SPECIAL_QUERIES[query]) {
              query = Interchange.SPECIAL_QUERIES[query];
            }

            rulesList.push({
              path: path,
              query: query
            });
          }
        }

        this.rules = rulesList;
      }

      /**
       * Update the `src` property of an image, or change the HTML of a container, to the specified path.
       * @function
       * @param {String} path - Path to the image or HTML partial.
       * @fires Interchange#replaced
       */

    }, {
      key: 'replace',
      value: function replace(path) {
        if (this.currentPath === path) return;

        var _this = this,
            trigger = 'replaced.zf.interchange';

        // Replacing images
        if (this.$element[0].nodeName === 'IMG') {
          this.$element.attr('src', path).on('load', function () {
            _this.currentPath = path;
          }).trigger(trigger);
        }
        // Replacing background images
        else if (path.match(/\.(gif|jpg|jpeg|png|svg|tiff)([?#].*)?/i)) {
            this.$element.css({ 'background-image': 'url(' + path + ')' }).trigger(trigger);
          }
          // Replacing HTML
          else {
              $.get(path, function (response) {
                _this.$element.html(response).trigger(trigger);
                $(response).foundation();
                _this.currentPath = path;
              });
            }

        /**
         * Fires when content in an Interchange element is done being loaded.
         * @event Interchange#replaced
         */
        // this.$element.trigger('replaced.zf.interchange');
      }

      /**
       * Destroys an instance of interchange.
       * @function
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        //TODO this.
      }
    }]);

    return Interchange;
  }();

  /**
   * Default settings for plugin
   */


  Interchange.defaults = {
    /**
     * Rules to be applied to Interchange elements. Set with the `data-interchange` array notation.
     * @option
     * @type {?array}
     * @default null
     */
    rules: null
  };

  Interchange.SPECIAL_QUERIES = {
    'landscape': 'screen and (orientation: landscape)',
    'portrait': 'screen and (orientation: portrait)',
    'retina': 'only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)'
  };

  // Window exports
  Foundation.plugin(Interchange, 'Interchange');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * Magellan module.
   * @module foundation.magellan
   */

  var Magellan = function () {
    /**
     * Creates a new instance of Magellan.
     * @class
     * @fires Magellan#init
     * @param {Object} element - jQuery object to add the trigger to.
     * @param {Object} options - Overrides to the default plugin settings.
     */
    function Magellan(element, options) {
      _classCallCheck(this, Magellan);

      this.$element = element;
      this.options = $.extend({}, Magellan.defaults, this.$element.data(), options);

      this._init();
      this.calcPoints();

      Foundation.registerPlugin(this, 'Magellan');
    }

    /**
     * Initializes the Magellan plugin and calls functions to get equalizer functioning on load.
     * @private
     */


    _createClass(Magellan, [{
      key: '_init',
      value: function _init() {
        var id = this.$element[0].id || Foundation.GetYoDigits(6, 'magellan');
        var _this = this;
        this.$targets = $('[data-magellan-target]');
        this.$links = this.$element.find('a');
        this.$element.attr({
          'data-resize': id,
          'data-scroll': id,
          'id': id
        });
        this.$active = $();
        this.scrollPos = parseInt(window.pageYOffset, 10);

        this._events();
      }

      /**
       * Calculates an array of pixel values that are the demarcation lines between locations on the page.
       * Can be invoked if new elements are added or the size of a location changes.
       * @function
       */

    }, {
      key: 'calcPoints',
      value: function calcPoints() {
        var _this = this,
            body = document.body,
            html = document.documentElement;

        this.points = [];
        this.winHeight = Math.round(Math.max(window.innerHeight, html.clientHeight));
        this.docHeight = Math.round(Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight));

        this.$targets.each(function () {
          var $tar = $(this),
              pt = Math.round($tar.offset().top - _this.options.threshold);
          $tar.targetPoint = pt;
          _this.points.push(pt);
        });
      }

      /**
       * Initializes events for Magellan.
       * @private
       */

    }, {
      key: '_events',
      value: function _events() {
        var _this = this,
            $body = $('html, body'),
            opts = {
          duration: _this.options.animationDuration,
          easing: _this.options.animationEasing
        };
        $(window).one('load', function () {
          if (_this.options.deepLinking) {
            if (location.hash) {
              _this.scrollToLoc(location.hash);
            }
          }
          _this.calcPoints();
          _this._updateActive();
        });

        this.$element.on({
          'resizeme.zf.trigger': this.reflow.bind(this),
          'scrollme.zf.trigger': this._updateActive.bind(this)
        }).on('click.zf.magellan', 'a[href^="#"]', function (e) {
          e.preventDefault();
          var arrival = this.getAttribute('href');
          _this.scrollToLoc(arrival);
        });
        $(window).on('popstate', function (e) {
          if (_this.options.deepLinking) {
            _this.scrollToLoc(window.location.hash);
          }
        });
      }

      /**
       * Function to scroll to a given location on the page.
       * @param {String} loc - a properly formatted jQuery id selector. Example: '#foo'
       * @function
       */

    }, {
      key: 'scrollToLoc',
      value: function scrollToLoc(loc) {
        // Do nothing if target does not exist to prevent errors
        if (!$(loc).length) {
          return false;
        }
        this._inTransition = true;
        var _this = this,
            scrollPos = Math.round($(loc).offset().top - this.options.threshold / 2 - this.options.barOffset);

        $('html, body').stop(true).animate({ scrollTop: scrollPos }, this.options.animationDuration, this.options.animationEasing, function () {
          _this._inTransition = false;_this._updateActive();
        });
      }

      /**
       * Calls necessary functions to update Magellan upon DOM change
       * @function
       */

    }, {
      key: 'reflow',
      value: function reflow() {
        this.calcPoints();
        this._updateActive();
      }

      /**
       * Updates the visibility of an active location link, and updates the url hash for the page, if deepLinking enabled.
       * @private
       * @function
       * @fires Magellan#update
       */

    }, {
      key: '_updateActive',
      value: function _updateActive() /*evt, elem, scrollPos*/{
        if (this._inTransition) {
          return;
        }
        var winPos = /*scrollPos ||*/parseInt(window.pageYOffset, 10),
            curIdx;

        if (winPos + this.winHeight === this.docHeight) {
          curIdx = this.points.length - 1;
        } else if (winPos < this.points[0]) {
          curIdx = undefined;
        } else {
          var isDown = this.scrollPos < winPos,
              _this = this,
              curVisible = this.points.filter(function (p, i) {
            return isDown ? p - _this.options.barOffset <= winPos : p - _this.options.barOffset - _this.options.threshold <= winPos;
          });
          curIdx = curVisible.length ? curVisible.length - 1 : 0;
        }

        this.$active.removeClass(this.options.activeClass);
        this.$active = this.$links.filter('[href="#' + this.$targets.eq(curIdx).data('magellan-target') + '"]').addClass(this.options.activeClass);

        if (this.options.deepLinking) {
          var hash = "";
          if (curIdx != undefined) {
            hash = this.$active[0].getAttribute('href');
          }
          if (hash !== window.location.hash) {
            if (window.history.pushState) {
              window.history.pushState(null, null, hash);
            } else {
              window.location.hash = hash;
            }
          }
        }

        this.scrollPos = winPos;
        /**
         * Fires when magellan is finished updating to the new active element.
         * @event Magellan#update
         */
        this.$element.trigger('update.zf.magellan', [this.$active]);
      }

      /**
       * Destroys an instance of Magellan and resets the url of the window.
       * @function
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        this.$element.off('.zf.trigger .zf.magellan').find('.' + this.options.activeClass).removeClass(this.options.activeClass);

        if (this.options.deepLinking) {
          var hash = this.$active[0].getAttribute('href');
          window.location.hash.replace(hash, '');
        }

        Foundation.unregisterPlugin(this);
      }
    }]);

    return Magellan;
  }();

  /**
   * Default settings for plugin
   */


  Magellan.defaults = {
    /**
     * Amount of time, in ms, the animated scrolling should take between locations.
     * @option
     * @type {number}
     * @default 500
     */
    animationDuration: 500,
    /**
     * Animation style to use when scrolling between locations. Can be `'swing'` or `'linear'`.
     * @option
     * @type {string}
     * @default 'linear'
     * @see {@link https://api.jquery.com/animate|Jquery animate}
     */
    animationEasing: 'linear',
    /**
     * Number of pixels to use as a marker for location changes.
     * @option
     * @type {number}
     * @default 50
     */
    threshold: 50,
    /**
     * Class applied to the active locations link on the magellan container.
     * @option
     * @type {string}
     * @default 'active'
     */
    activeClass: 'active',
    /**
     * Allows the script to manipulate the url of the current page, and if supported, alter the history.
     * @option
     * @type {boolean}
     * @default false
     */
    deepLinking: false,
    /**
     * Number of pixels to offset the scroll of the page on item click if using a sticky nav bar.
     * @option
     * @type {number}
     * @default 0
     */
    barOffset: 0
  };

  // Window exports
  Foundation.plugin(Magellan, 'Magellan');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * OffCanvas module.
   * @module foundation.offcanvas
   * @requires foundation.util.keyboard
   * @requires foundation.util.mediaQuery
   * @requires foundation.util.triggers
   * @requires foundation.util.motion
   */

  var OffCanvas = function () {
    /**
     * Creates a new instance of an off-canvas wrapper.
     * @class
     * @fires OffCanvas#init
     * @param {Object} element - jQuery object to initialize.
     * @param {Object} options - Overrides to the default plugin settings.
     */
    function OffCanvas(element, options) {
      _classCallCheck(this, OffCanvas);

      this.$element = element;
      this.options = $.extend({}, OffCanvas.defaults, this.$element.data(), options);
      this.$lastTrigger = $();
      this.$triggers = $();

      this._init();
      this._events();

      Foundation.registerPlugin(this, 'OffCanvas');
      Foundation.Keyboard.register('OffCanvas', {
        'ESCAPE': 'close'
      });
    }

    /**
     * Initializes the off-canvas wrapper by adding the exit overlay (if needed).
     * @function
     * @private
     */


    _createClass(OffCanvas, [{
      key: '_init',
      value: function _init() {
        var id = this.$element.attr('id');

        this.$element.attr('aria-hidden', 'true');

        this.$element.addClass('is-transition-' + this.options.transition);

        // Find triggers that affect this element and add aria-expanded to them
        this.$triggers = $(document).find('[data-open="' + id + '"], [data-close="' + id + '"], [data-toggle="' + id + '"]').attr('aria-expanded', 'false').attr('aria-controls', id);

        // Add an overlay over the content if necessary
        if (this.options.contentOverlay === true) {
          var overlay = document.createElement('div');
          var overlayPosition = $(this.$element).css("position") === 'fixed' ? 'is-overlay-fixed' : 'is-overlay-absolute';
          overlay.setAttribute('class', 'js-off-canvas-overlay ' + overlayPosition);
          this.$overlay = $(overlay);
          if (overlayPosition === 'is-overlay-fixed') {
            $('body').append(this.$overlay);
          } else {
            this.$element.siblings('[data-off-canvas-content]').append(this.$overlay);
          }
        }

        this.options.isRevealed = this.options.isRevealed || new RegExp(this.options.revealClass, 'g').test(this.$element[0].className);

        if (this.options.isRevealed === true) {
          this.options.revealOn = this.options.revealOn || this.$element[0].className.match(/(reveal-for-medium|reveal-for-large)/g)[0].split('-')[2];
          this._setMQChecker();
        }
        if (!this.options.transitionTime === true) {
          this.options.transitionTime = parseFloat(window.getComputedStyle($('[data-off-canvas]')[0]).transitionDuration) * 1000;
        }
      }

      /**
       * Adds event handlers to the off-canvas wrapper and the exit overlay.
       * @function
       * @private
       */

    }, {
      key: '_events',
      value: function _events() {
        this.$element.off('.zf.trigger .zf.offcanvas').on({
          'open.zf.trigger': this.open.bind(this),
          'close.zf.trigger': this.close.bind(this),
          'toggle.zf.trigger': this.toggle.bind(this),
          'keydown.zf.offcanvas': this._handleKeyboard.bind(this)
        });

        if (this.options.closeOnClick === true) {
          var $target = this.options.contentOverlay ? this.$overlay : $('[data-off-canvas-content]');
          $target.on({ 'click.zf.offcanvas': this.close.bind(this) });
        }
      }

      /**
       * Applies event listener for elements that will reveal at certain breakpoints.
       * @private
       */

    }, {
      key: '_setMQChecker',
      value: function _setMQChecker() {
        var _this = this;

        $(window).on('changed.zf.mediaquery', function () {
          if (Foundation.MediaQuery.atLeast(_this.options.revealOn)) {
            _this.reveal(true);
          } else {
            _this.reveal(false);
          }
        }).one('load.zf.offcanvas', function () {
          if (Foundation.MediaQuery.atLeast(_this.options.revealOn)) {
            _this.reveal(true);
          }
        });
      }

      /**
       * Handles the revealing/hiding the off-canvas at breakpoints, not the same as open.
       * @param {Boolean} isRevealed - true if element should be revealed.
       * @function
       */

    }, {
      key: 'reveal',
      value: function reveal(isRevealed) {
        var $closer = this.$element.find('[data-close]');
        if (isRevealed) {
          this.close();
          this.isRevealed = true;
          this.$element.attr('aria-hidden', 'false');
          this.$element.off('open.zf.trigger toggle.zf.trigger');
          if ($closer.length) {
            $closer.hide();
          }
        } else {
          this.isRevealed = false;
          this.$element.attr('aria-hidden', 'true');
          this.$element.on({
            'open.zf.trigger': this.open.bind(this),
            'toggle.zf.trigger': this.toggle.bind(this)
          });
          if ($closer.length) {
            $closer.show();
          }
        }
      }

      /**
       * Stops scrolling of the body when offcanvas is open on mobile Safari and other troublesome browsers.
       * @private
       */

    }, {
      key: '_stopScrolling',
      value: function _stopScrolling(event) {
        return false;
      }

      // Taken and adapted from http://stackoverflow.com/questions/16889447/prevent-full-page-scrolling-ios
      // Only really works for y, not sure how to extend to x or if we need to.

    }, {
      key: '_recordScrollable',
      value: function _recordScrollable(event) {
        var elem = this; // called from event handler context with this as elem

        // If the element is scrollable (content overflows), then...
        if (elem.scrollHeight !== elem.clientHeight) {
          // If we're at the top, scroll down one pixel to allow scrolling up
          if (elem.scrollTop === 0) {
            elem.scrollTop = 1;
          }
          // If we're at the bottom, scroll up one pixel to allow scrolling down
          if (elem.scrollTop === elem.scrollHeight - elem.clientHeight) {
            elem.scrollTop = elem.scrollHeight - elem.clientHeight - 1;
          }
        }
        elem.allowUp = elem.scrollTop > 0;
        elem.allowDown = elem.scrollTop < elem.scrollHeight - elem.clientHeight;
        elem.lastY = event.originalEvent.pageY;
      }
    }, {
      key: '_stopScrollPropagation',
      value: function _stopScrollPropagation(event) {
        var elem = this; // called from event handler context with this as elem
        var up = event.pageY < elem.lastY;
        var down = !up;
        elem.lastY = event.pageY;

        if (up && elem.allowUp || down && elem.allowDown) {
          event.stopPropagation();
        } else {
          event.preventDefault();
        }
      }

      /**
       * Opens the off-canvas menu.
       * @function
       * @param {Object} event - Event object passed from listener.
       * @param {jQuery} trigger - element that triggered the off-canvas to open.
       * @fires OffCanvas#opened
       */

    }, {
      key: 'open',
      value: function open(event, trigger) {
        if (this.$element.hasClass('is-open') || this.isRevealed) {
          return;
        }
        var _this = this;

        if (trigger) {
          this.$lastTrigger = trigger;
        }

        if (this.options.forceTo === 'top') {
          window.scrollTo(0, 0);
        } else if (this.options.forceTo === 'bottom') {
          window.scrollTo(0, document.body.scrollHeight);
        }

        /**
         * Fires when the off-canvas menu opens.
         * @event OffCanvas#opened
         */
        _this.$element.addClass('is-open');

        this.$triggers.attr('aria-expanded', 'true');
        this.$element.attr('aria-hidden', 'false').trigger('opened.zf.offcanvas');

        // If `contentScroll` is set to false, add class and disable scrolling on touch devices.
        if (this.options.contentScroll === false) {
          $('body').addClass('is-off-canvas-open').on('touchmove', this._stopScrolling);
          this.$element.on('touchstart', this._recordScrollable);
          this.$element.on('touchmove', this._stopScrollPropagation);
        }

        if (this.options.contentOverlay === true) {
          this.$overlay.addClass('is-visible');
        }

        if (this.options.closeOnClick === true && this.options.contentOverlay === true) {
          this.$overlay.addClass('is-closable');
        }

        if (this.options.autoFocus === true) {
          this.$element.one(Foundation.transitionend(this.$element), function () {
            _this.$element.find('a, button').eq(0).focus();
          });
        }

        if (this.options.trapFocus === true) {
          this.$element.siblings('[data-off-canvas-content]').attr('tabindex', '-1');
          Foundation.Keyboard.trapFocus(this.$element);
        }
      }

      /**
       * Closes the off-canvas menu.
       * @function
       * @param {Function} cb - optional cb to fire after closure.
       * @fires OffCanvas#closed
       */

    }, {
      key: 'close',
      value: function close(cb) {
        if (!this.$element.hasClass('is-open') || this.isRevealed) {
          return;
        }

        var _this = this;

        _this.$element.removeClass('is-open');

        this.$element.attr('aria-hidden', 'true')
        /**
         * Fires when the off-canvas menu opens.
         * @event OffCanvas#closed
         */
        .trigger('closed.zf.offcanvas');

        // If `contentScroll` is set to false, remove class and re-enable scrolling on touch devices.
        if (this.options.contentScroll === false) {
          $('body').removeClass('is-off-canvas-open').off('touchmove', this._stopScrolling);
          this.$element.off('touchstart', this._recordScrollable);
          this.$element.off('touchmove', this._stopScrollPropagation);
        }

        if (this.options.contentOverlay === true) {
          this.$overlay.removeClass('is-visible');
        }

        if (this.options.closeOnClick === true && this.options.contentOverlay === true) {
          this.$overlay.removeClass('is-closable');
        }

        this.$triggers.attr('aria-expanded', 'false');

        if (this.options.trapFocus === true) {
          this.$element.siblings('[data-off-canvas-content]').removeAttr('tabindex');
          Foundation.Keyboard.releaseFocus(this.$element);
        }
      }

      /**
       * Toggles the off-canvas menu open or closed.
       * @function
       * @param {Object} event - Event object passed from listener.
       * @param {jQuery} trigger - element that triggered the off-canvas to open.
       */

    }, {
      key: 'toggle',
      value: function toggle(event, trigger) {
        if (this.$element.hasClass('is-open')) {
          this.close(event, trigger);
        } else {
          this.open(event, trigger);
        }
      }

      /**
       * Handles keyboard input when detected. When the escape key is pressed, the off-canvas menu closes, and focus is restored to the element that opened the menu.
       * @function
       * @private
       */

    }, {
      key: '_handleKeyboard',
      value: function _handleKeyboard(e) {
        var _this2 = this;

        Foundation.Keyboard.handleKey(e, 'OffCanvas', {
          close: function () {
            _this2.close();
            _this2.$lastTrigger.focus();
            return true;
          },
          handled: function () {
            e.stopPropagation();
            e.preventDefault();
          }
        });
      }

      /**
       * Destroys the offcanvas plugin.
       * @function
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        this.close();
        this.$element.off('.zf.trigger .zf.offcanvas');
        this.$overlay.off('.zf.offcanvas');

        Foundation.unregisterPlugin(this);
      }
    }]);

    return OffCanvas;
  }();

  OffCanvas.defaults = {
    /**
     * Allow the user to click outside of the menu to close it.
     * @option
     * @type {boolean}
     * @default true
     */
    closeOnClick: true,

    /**
     * Adds an overlay on top of `[data-off-canvas-content]`.
     * @option
     * @type {boolean}
     * @default true
     */
    contentOverlay: true,

    /**
     * Enable/disable scrolling of the main content when an off canvas panel is open.
     * @option
     * @type {boolean}
     * @default true
     */
    contentScroll: true,

    /**
     * Amount of time in ms the open and close transition requires. If none selected, pulls from body style.
     * @option
     * @type {number}
     * @default 0
     */
    transitionTime: 0,

    /**
     * Type of transition for the offcanvas menu. Options are 'push', 'detached' or 'slide'.
     * @option
     * @type {string}
     * @default push
     */
    transition: 'push',

    /**
     * Force the page to scroll to top or bottom on open.
     * @option
     * @type {?string}
     * @default null
     */
    forceTo: null,

    /**
     * Allow the offcanvas to remain open for certain breakpoints.
     * @option
     * @type {boolean}
     * @default false
     */
    isRevealed: false,

    /**
     * Breakpoint at which to reveal. JS will use a RegExp to target standard classes, if changing classnames, pass your class with the `revealClass` option.
     * @option
     * @type {?string}
     * @default null
     */
    revealOn: null,

    /**
     * Force focus to the offcanvas on open. If true, will focus the opening trigger on close.
     * @option
     * @type {boolean}
     * @default true
     */
    autoFocus: true,

    /**
     * Class used to force an offcanvas to remain open. Foundation defaults for this are `reveal-for-large` & `reveal-for-medium`.
     * @option
     * @type {string}
     * @default reveal-for-
     * @todo improve the regex testing for this.
     */
    revealClass: 'reveal-for-',

    /**
     * Triggers optional focus trapping when opening an offcanvas. Sets tabindex of [data-off-canvas-content] to -1 for accessibility purposes.
     * @option
     * @type {boolean}
     * @default false
     */
    trapFocus: false
  };

  // Window exports
  Foundation.plugin(OffCanvas, 'OffCanvas');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * Orbit module.
   * @module foundation.orbit
   * @requires foundation.util.keyboard
   * @requires foundation.util.motion
   * @requires foundation.util.timerAndImageLoader
   * @requires foundation.util.touch
   */

  var Orbit = function () {
    /**
    * Creates a new instance of an orbit carousel.
    * @class
    * @param {jQuery} element - jQuery object to make into an Orbit Carousel.
    * @param {Object} options - Overrides to the default plugin settings.
    */
    function Orbit(element, options) {
      _classCallCheck(this, Orbit);

      this.$element = element;
      this.options = $.extend({}, Orbit.defaults, this.$element.data(), options);

      this._init();

      Foundation.registerPlugin(this, 'Orbit');
      Foundation.Keyboard.register('Orbit', {
        'ltr': {
          'ARROW_RIGHT': 'next',
          'ARROW_LEFT': 'previous'
        },
        'rtl': {
          'ARROW_LEFT': 'next',
          'ARROW_RIGHT': 'previous'
        }
      });
    }

    /**
    * Initializes the plugin by creating jQuery collections, setting attributes, and starting the animation.
    * @function
    * @private
    */


    _createClass(Orbit, [{
      key: '_init',
      value: function _init() {
        // @TODO: consider discussion on PR #9278 about DOM pollution by changeSlide
        this._reset();

        this.$wrapper = this.$element.find('.' + this.options.containerClass);
        this.$slides = this.$element.find('.' + this.options.slideClass);

        var $images = this.$element.find('img'),
            initActive = this.$slides.filter('.is-active'),
            id = this.$element[0].id || Foundation.GetYoDigits(6, 'orbit');

        this.$element.attr({
          'data-resize': id,
          'id': id
        });

        if (!initActive.length) {
          this.$slides.eq(0).addClass('is-active');
        }

        if (!this.options.useMUI) {
          this.$slides.addClass('no-motionui');
        }

        if ($images.length) {
          Foundation.onImagesLoaded($images, this._prepareForOrbit.bind(this));
        } else {
          this._prepareForOrbit(); //hehe
        }

        if (this.options.bullets) {
          this._loadBullets();
        }

        this._events();

        if (this.options.autoPlay && this.$slides.length > 1) {
          this.geoSync();
        }

        if (this.options.accessible) {
          // allow wrapper to be focusable to enable arrow navigation
          this.$wrapper.attr('tabindex', 0);
        }
      }

      /**
      * Creates a jQuery collection of bullets, if they are being used.
      * @function
      * @private
      */

    }, {
      key: '_loadBullets',
      value: function _loadBullets() {
        this.$bullets = this.$element.find('.' + this.options.boxOfBullets).find('button');
      }

      /**
      * Sets a `timer` object on the orbit, and starts the counter for the next slide.
      * @function
      */

    }, {
      key: 'geoSync',
      value: function geoSync() {
        var _this = this;
        this.timer = new Foundation.Timer(this.$element, {
          duration: this.options.timerDelay,
          infinite: false
        }, function () {
          _this.changeSlide(true);
        });
        this.timer.start();
      }

      /**
      * Sets wrapper and slide heights for the orbit.
      * @function
      * @private
      */

    }, {
      key: '_prepareForOrbit',
      value: function _prepareForOrbit() {
        var _this = this;
        this._setWrapperHeight();
      }

      /**
      * Calulates the height of each slide in the collection, and uses the tallest one for the wrapper height.
      * @function
      * @private
      * @param {Function} cb - a callback function to fire when complete.
      */

    }, {
      key: '_setWrapperHeight',
      value: function _setWrapperHeight(cb) {
        //rewrite this to `for` loop
        var max = 0,
            temp,
            counter = 0,
            _this = this;

        this.$slides.each(function () {
          temp = this.getBoundingClientRect().height;
          $(this).attr('data-slide', counter);

          if (_this.$slides.filter('.is-active')[0] !== _this.$slides.eq(counter)[0]) {
            //if not the active slide, set css position and display property
            $(this).css({ 'position': 'relative', 'display': 'none' });
          }
          max = temp > max ? temp : max;
          counter++;
        });

        if (counter === this.$slides.length) {
          this.$wrapper.css({ 'height': max }); //only change the wrapper height property once.
          if (cb) {
            cb(max);
          } //fire callback with max height dimension.
        }
      }

      /**
      * Sets the max-height of each slide.
      * @function
      * @private
      */

    }, {
      key: '_setSlideHeight',
      value: function _setSlideHeight(height) {
        this.$slides.each(function () {
          $(this).css('max-height', height);
        });
      }

      /**
      * Adds event listeners to basically everything within the element.
      * @function
      * @private
      */

    }, {
      key: '_events',
      value: function _events() {
        var _this = this;

        //***************************************
        //**Now using custom event - thanks to:**
        //**      Yohai Ararat of Toronto      **
        //***************************************
        //
        this.$element.off('.resizeme.zf.trigger').on({
          'resizeme.zf.trigger': this._prepareForOrbit.bind(this)
        });
        if (this.$slides.length > 1) {

          if (this.options.swipe) {
            this.$slides.off('swipeleft.zf.orbit swiperight.zf.orbit').on('swipeleft.zf.orbit', function (e) {
              e.preventDefault();
              _this.changeSlide(true);
            }).on('swiperight.zf.orbit', function (e) {
              e.preventDefault();
              _this.changeSlide(false);
            });
          }
          //***************************************

          if (this.options.autoPlay) {
            this.$slides.on('click.zf.orbit', function () {
              _this.$element.data('clickedOn', _this.$element.data('clickedOn') ? false : true);
              _this.timer[_this.$element.data('clickedOn') ? 'pause' : 'start']();
            });

            if (this.options.pauseOnHover) {
              this.$element.on('mouseenter.zf.orbit', function () {
                _this.timer.pause();
              }).on('mouseleave.zf.orbit', function () {
                if (!_this.$element.data('clickedOn')) {
                  _this.timer.start();
                }
              });
            }
          }

          if (this.options.navButtons) {
            var $controls = this.$element.find('.' + this.options.nextClass + ', .' + this.options.prevClass);
            $controls.attr('tabindex', 0)
            //also need to handle enter/return and spacebar key presses
            .on('click.zf.orbit touchend.zf.orbit', function (e) {
              e.preventDefault();
              _this.changeSlide($(this).hasClass(_this.options.nextClass));
            });
          }

          if (this.options.bullets) {
            this.$bullets.on('click.zf.orbit touchend.zf.orbit', function () {
              if (/is-active/g.test(this.className)) {
                return false;
              } //if this is active, kick out of function.
              var idx = $(this).data('slide'),
                  ltr = idx > _this.$slides.filter('.is-active').data('slide'),
                  $slide = _this.$slides.eq(idx);

              _this.changeSlide(ltr, $slide, idx);
            });
          }

          if (this.options.accessible) {
            this.$wrapper.add(this.$bullets).on('keydown.zf.orbit', function (e) {
              // handle keyboard event with keyboard util
              Foundation.Keyboard.handleKey(e, 'Orbit', {
                next: function () {
                  _this.changeSlide(true);
                },
                previous: function () {
                  _this.changeSlide(false);
                },
                handled: function () {
                  // if bullet is focused, make sure focus moves
                  if ($(e.target).is(_this.$bullets)) {
                    _this.$bullets.filter('.is-active').focus();
                  }
                }
              });
            });
          }
        }
      }

      /**
       * Resets Orbit so it can be reinitialized
       */

    }, {
      key: '_reset',
      value: function _reset() {
        // Don't do anything if there are no slides (first run)
        if (typeof this.$slides == 'undefined') {
          return;
        }

        if (this.$slides.length > 1) {
          // Remove old events
          this.$element.off('.zf.orbit').find('*').off('.zf.orbit');

          // Restart timer if autoPlay is enabled
          if (this.options.autoPlay) {
            this.timer.restart();
          }

          // Reset all sliddes
          this.$slides.each(function (el) {
            $(el).removeClass('is-active is-active is-in').removeAttr('aria-live').hide();
          });

          // Show the first slide
          this.$slides.first().addClass('is-active').show();

          // Triggers when the slide has finished animating
          this.$element.trigger('slidechange.zf.orbit', [this.$slides.first()]);

          // Select first bullet if bullets are present
          if (this.options.bullets) {
            this._updateBullets(0);
          }
        }
      }

      /**
      * Changes the current slide to a new one.
      * @function
      * @param {Boolean} isLTR - flag if the slide should move left to right.
      * @param {jQuery} chosenSlide - the jQuery element of the slide to show next, if one is selected.
      * @param {Number} idx - the index of the new slide in its collection, if one chosen.
      * @fires Orbit#slidechange
      */

    }, {
      key: 'changeSlide',
      value: function changeSlide(isLTR, chosenSlide, idx) {
        if (!this.$slides) {
          return;
        } // Don't freak out if we're in the middle of cleanup
        var $curSlide = this.$slides.filter('.is-active').eq(0);

        if (/mui/g.test($curSlide[0].className)) {
          return false;
        } //if the slide is currently animating, kick out of the function

        var $firstSlide = this.$slides.first(),
            $lastSlide = this.$slides.last(),
            dirIn = isLTR ? 'Right' : 'Left',
            dirOut = isLTR ? 'Left' : 'Right',
            _this = this,
            $newSlide;

        if (!chosenSlide) {
          //most of the time, this will be auto played or clicked from the navButtons.
          $newSlide = isLTR ? //if wrapping enabled, check to see if there is a `next` or `prev` sibling, if not, select the first or last slide to fill in. if wrapping not enabled, attempt to select `next` or `prev`, if there's nothing there, the function will kick out on next step. CRAZY NESTED TERNARIES!!!!!
          this.options.infiniteWrap ? $curSlide.next('.' + this.options.slideClass).length ? $curSlide.next('.' + this.options.slideClass) : $firstSlide : $curSlide.next('.' + this.options.slideClass) : //pick next slide if moving left to right
          this.options.infiniteWrap ? $curSlide.prev('.' + this.options.slideClass).length ? $curSlide.prev('.' + this.options.slideClass) : $lastSlide : $curSlide.prev('.' + this.options.slideClass); //pick prev slide if moving right to left
        } else {
          $newSlide = chosenSlide;
        }

        if ($newSlide.length) {
          /**
          * Triggers before the next slide starts animating in and only if a next slide has been found.
          * @event Orbit#beforeslidechange
          */
          this.$element.trigger('beforeslidechange.zf.orbit', [$curSlide, $newSlide]);

          if (this.options.bullets) {
            idx = idx || this.$slides.index($newSlide); //grab index to update bullets
            this._updateBullets(idx);
          }

          if (this.options.useMUI && !this.$element.is(':hidden')) {
            Foundation.Motion.animateIn($newSlide.addClass('is-active').css({ 'position': 'absolute', 'top': 0 }), this.options['animInFrom' + dirIn], function () {
              $newSlide.css({ 'position': 'relative', 'display': 'block' }).attr('aria-live', 'polite');
            });

            Foundation.Motion.animateOut($curSlide.removeClass('is-active'), this.options['animOutTo' + dirOut], function () {
              $curSlide.removeAttr('aria-live');
              if (_this.options.autoPlay && !_this.timer.isPaused) {
                _this.timer.restart();
              }
              //do stuff?
            });
          } else {
            $curSlide.removeClass('is-active is-in').removeAttr('aria-live').hide();
            $newSlide.addClass('is-active is-in').attr('aria-live', 'polite').show();
            if (this.options.autoPlay && !this.timer.isPaused) {
              this.timer.restart();
            }
          }
          /**
          * Triggers when the slide has finished animating in.
          * @event Orbit#slidechange
          */
          this.$element.trigger('slidechange.zf.orbit', [$newSlide]);
        }
      }

      /**
      * Updates the active state of the bullets, if displayed.
      * @function
      * @private
      * @param {Number} idx - the index of the current slide.
      */

    }, {
      key: '_updateBullets',
      value: function _updateBullets(idx) {
        var $oldBullet = this.$element.find('.' + this.options.boxOfBullets).find('.is-active').removeClass('is-active').blur(),
            span = $oldBullet.find('span:last').detach(),
            $newBullet = this.$bullets.eq(idx).addClass('is-active').append(span);
      }

      /**
      * Destroys the carousel and hides the element.
      * @function
      */

    }, {
      key: 'destroy',
      value: function destroy() {
        this.$element.off('.zf.orbit').find('*').off('.zf.orbit').end().hide();
        Foundation.unregisterPlugin(this);
      }
    }]);

    return Orbit;
  }();

  Orbit.defaults = {
    /**
    * Tells the JS to look for and loadBullets.
    * @option
     * @type {boolean}
    * @default true
    */
    bullets: true,
    /**
    * Tells the JS to apply event listeners to nav buttons
    * @option
     * @type {boolean}
    * @default true
    */
    navButtons: true,
    /**
    * motion-ui animation class to apply
    * @option
     * @type {string}
    * @default 'slide-in-right'
    */
    animInFromRight: 'slide-in-right',
    /**
    * motion-ui animation class to apply
    * @option
     * @type {string}
    * @default 'slide-out-right'
    */
    animOutToRight: 'slide-out-right',
    /**
    * motion-ui animation class to apply
    * @option
     * @type {string}
    * @default 'slide-in-left'
    *
    */
    animInFromLeft: 'slide-in-left',
    /**
    * motion-ui animation class to apply
    * @option
     * @type {string}
    * @default 'slide-out-left'
    */
    animOutToLeft: 'slide-out-left',
    /**
    * Allows Orbit to automatically animate on page load.
    * @option
     * @type {boolean}
    * @default true
    */
    autoPlay: true,
    /**
    * Amount of time, in ms, between slide transitions
    * @option
     * @type {number}
    * @default 5000
    */
    timerDelay: 5000,
    /**
    * Allows Orbit to infinitely loop through the slides
    * @option
     * @type {boolean}
    * @default true
    */
    infiniteWrap: true,
    /**
    * Allows the Orbit slides to bind to swipe events for mobile, requires an additional util library
    * @option
     * @type {boolean}
    * @default true
    */
    swipe: true,
    /**
    * Allows the timing function to pause animation on hover.
    * @option
     * @type {boolean}
    * @default true
    */
    pauseOnHover: true,
    /**
    * Allows Orbit to bind keyboard events to the slider, to animate frames with arrow keys
    * @option
     * @type {boolean}
    * @default true
    */
    accessible: true,
    /**
    * Class applied to the container of Orbit
    * @option
     * @type {string}
    * @default 'orbit-container'
    */
    containerClass: 'orbit-container',
    /**
    * Class applied to individual slides.
    * @option
     * @type {string}
    * @default 'orbit-slide'
    */
    slideClass: 'orbit-slide',
    /**
    * Class applied to the bullet container. You're welcome.
    * @option
     * @type {string}
    * @default 'orbit-bullets'
    */
    boxOfBullets: 'orbit-bullets',
    /**
    * Class applied to the `next` navigation button.
    * @option
     * @type {string}
    * @default 'orbit-next'
    */
    nextClass: 'orbit-next',
    /**
    * Class applied to the `previous` navigation button.
    * @option
     * @type {string}
    * @default 'orbit-previous'
    */
    prevClass: 'orbit-previous',
    /**
    * Boolean to flag the js to use motion ui classes or not. Default to true for backwards compatability.
    * @option
     * @type {boolean}
    * @default true
    */
    useMUI: true
  };

  // Window exports
  Foundation.plugin(Orbit, 'Orbit');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * ResponsiveMenu module.
   * @module foundation.responsiveMenu
   * @requires foundation.util.triggers
   * @requires foundation.util.mediaQuery
   */

  var ResponsiveMenu = function () {
    /**
     * Creates a new instance of a responsive menu.
     * @class
     * @fires ResponsiveMenu#init
     * @param {jQuery} element - jQuery object to make into a dropdown menu.
     * @param {Object} options - Overrides to the default plugin settings.
     */
    function ResponsiveMenu(element, options) {
      _classCallCheck(this, ResponsiveMenu);

      this.$element = $(element);
      this.rules = this.$element.data('responsive-menu');
      this.currentMq = null;
      this.currentPlugin = null;

      this._init();
      this._events();

      Foundation.registerPlugin(this, 'ResponsiveMenu');
    }

    /**
     * Initializes the Menu by parsing the classes from the 'data-ResponsiveMenu' attribute on the element.
     * @function
     * @private
     */


    _createClass(ResponsiveMenu, [{
      key: '_init',
      value: function _init() {
        // The first time an Interchange plugin is initialized, this.rules is converted from a string of "classes" to an object of rules
        if (typeof this.rules === 'string') {
          var rulesTree = {};

          // Parse rules from "classes" pulled from data attribute
          var rules = this.rules.split(' ');

          // Iterate through every rule found
          for (var i = 0; i < rules.length; i++) {
            var rule = rules[i].split('-');
            var ruleSize = rule.length > 1 ? rule[0] : 'small';
            var rulePlugin = rule.length > 1 ? rule[1] : rule[0];

            if (MenuPlugins[rulePlugin] !== null) {
              rulesTree[ruleSize] = MenuPlugins[rulePlugin];
            }
          }

          this.rules = rulesTree;
        }

        if (!$.isEmptyObject(this.rules)) {
          this._checkMediaQueries();
        }
        // Add data-mutate since children may need it.
        this.$element.attr('data-mutate', this.$element.attr('data-mutate') || Foundation.GetYoDigits(6, 'responsive-menu'));
      }

      /**
       * Initializes events for the Menu.
       * @function
       * @private
       */

    }, {
      key: '_events',
      value: function _events() {
        var _this = this;

        $(window).on('changed.zf.mediaquery', function () {
          _this._checkMediaQueries();
        });
        // $(window).on('resize.zf.ResponsiveMenu', function() {
        //   _this._checkMediaQueries();
        // });
      }

      /**
       * Checks the current screen width against available media queries. If the media query has changed, and the plugin needed has changed, the plugins will swap out.
       * @function
       * @private
       */

    }, {
      key: '_checkMediaQueries',
      value: function _checkMediaQueries() {
        var matchedMq,
            _this = this;
        // Iterate through each rule and find the last matching rule
        $.each(this.rules, function (key) {
          if (Foundation.MediaQuery.atLeast(key)) {
            matchedMq = key;
          }
        });

        // No match? No dice
        if (!matchedMq) return;

        // Plugin already initialized? We good
        if (this.currentPlugin instanceof this.rules[matchedMq].plugin) return;

        // Remove existing plugin-specific CSS classes
        $.each(MenuPlugins, function (key, value) {
          _this.$element.removeClass(value.cssClass);
        });

        // Add the CSS class for the new plugin
        this.$element.addClass(this.rules[matchedMq].cssClass);

        // Create an instance of the new plugin
        if (this.currentPlugin) this.currentPlugin.destroy();
        this.currentPlugin = new this.rules[matchedMq].plugin(this.$element, {});
      }

      /**
       * Destroys the instance of the current plugin on this element, as well as the window resize handler that switches the plugins out.
       * @function
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        this.currentPlugin.destroy();
        $(window).off('.zf.ResponsiveMenu');
        Foundation.unregisterPlugin(this);
      }
    }]);

    return ResponsiveMenu;
  }();

  ResponsiveMenu.defaults = {};

  // The plugin matches the plugin classes with these plugin instances.
  var MenuPlugins = {
    dropdown: {
      cssClass: 'dropdown',
      plugin: Foundation._plugins['dropdown-menu'] || null
    },
    drilldown: {
      cssClass: 'drilldown',
      plugin: Foundation._plugins['drilldown'] || null
    },
    accordion: {
      cssClass: 'accordion-menu',
      plugin: Foundation._plugins['accordion-menu'] || null
    }
  };

  // Window exports
  Foundation.plugin(ResponsiveMenu, 'ResponsiveMenu');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * ResponsiveToggle module.
   * @module foundation.responsiveToggle
   * @requires foundation.util.mediaQuery
   */

  var ResponsiveToggle = function () {
    /**
     * Creates a new instance of Tab Bar.
     * @class
     * @fires ResponsiveToggle#init
     * @param {jQuery} element - jQuery object to attach tab bar functionality to.
     * @param {Object} options - Overrides to the default plugin settings.
     */
    function ResponsiveToggle(element, options) {
      _classCallCheck(this, ResponsiveToggle);

      this.$element = $(element);
      this.options = $.extend({}, ResponsiveToggle.defaults, this.$element.data(), options);

      this._init();
      this._events();

      Foundation.registerPlugin(this, 'ResponsiveToggle');
    }

    /**
     * Initializes the tab bar by finding the target element, toggling element, and running update().
     * @function
     * @private
     */


    _createClass(ResponsiveToggle, [{
      key: '_init',
      value: function _init() {
        var targetID = this.$element.data('responsive-toggle');
        if (!targetID) {
          console.error('Your tab bar needs an ID of a Menu as the value of data-tab-bar.');
        }

        this.$targetMenu = $('#' + targetID);
        this.$toggler = this.$element.find('[data-toggle]').filter(function () {
          var target = $(this).data('toggle');
          return target === targetID || target === "";
        });
        this.options = $.extend({}, this.options, this.$targetMenu.data());

        // If they were set, parse the animation classes
        if (this.options.animate) {
          var input = this.options.animate.split(' ');

          this.animationIn = input[0];
          this.animationOut = input[1] || null;
        }

        this._update();
      }

      /**
       * Adds necessary event handlers for the tab bar to work.
       * @function
       * @private
       */

    }, {
      key: '_events',
      value: function _events() {
        var _this = this;

        this._updateMqHandler = this._update.bind(this);

        $(window).on('changed.zf.mediaquery', this._updateMqHandler);

        this.$toggler.on('click.zf.responsiveToggle', this.toggleMenu.bind(this));
      }

      /**
       * Checks the current media query to determine if the tab bar should be visible or hidden.
       * @function
       * @private
       */

    }, {
      key: '_update',
      value: function _update() {
        // Mobile
        if (!Foundation.MediaQuery.atLeast(this.options.hideFor)) {
          this.$element.show();
          this.$targetMenu.hide();
        }

        // Desktop
        else {
            this.$element.hide();
            this.$targetMenu.show();
          }
      }

      /**
       * Toggles the element attached to the tab bar. The toggle only happens if the screen is small enough to allow it.
       * @function
       * @fires ResponsiveToggle#toggled
       */

    }, {
      key: 'toggleMenu',
      value: function toggleMenu() {
        var _this2 = this;

        if (!Foundation.MediaQuery.atLeast(this.options.hideFor)) {
          /**
           * Fires when the element attached to the tab bar toggles.
           * @event ResponsiveToggle#toggled
           */
          if (this.options.animate) {
            if (this.$targetMenu.is(':hidden')) {
              Foundation.Motion.animateIn(this.$targetMenu, this.animationIn, function () {
                _this2.$element.trigger('toggled.zf.responsiveToggle');
                _this2.$targetMenu.find('[data-mutate]').triggerHandler('mutateme.zf.trigger');
              });
            } else {
              Foundation.Motion.animateOut(this.$targetMenu, this.animationOut, function () {
                _this2.$element.trigger('toggled.zf.responsiveToggle');
              });
            }
          } else {
            this.$targetMenu.toggle(0);
            this.$targetMenu.find('[data-mutate]').trigger('mutateme.zf.trigger');
            this.$element.trigger('toggled.zf.responsiveToggle');
          }
        }
      }
    }, {
      key: 'destroy',
      value: function destroy() {
        this.$element.off('.zf.responsiveToggle');
        this.$toggler.off('.zf.responsiveToggle');

        $(window).off('changed.zf.mediaquery', this._updateMqHandler);

        Foundation.unregisterPlugin(this);
      }
    }]);

    return ResponsiveToggle;
  }();

  ResponsiveToggle.defaults = {
    /**
     * The breakpoint after which the menu is always shown, and the tab bar is hidden.
     * @option
     * @type {string}
     * @default 'medium'
     */
    hideFor: 'medium',

    /**
     * To decide if the toggle should be animated or not.
     * @option
     * @type {boolean}
     * @default false
     */
    animate: false
  };

  // Window exports
  Foundation.plugin(ResponsiveToggle, 'ResponsiveToggle');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * Reveal module.
   * @module foundation.reveal
   * @requires foundation.util.keyboard
   * @requires foundation.util.box
   * @requires foundation.util.triggers
   * @requires foundation.util.mediaQuery
   * @requires foundation.util.motion if using animations
   */

  var Reveal = function () {
    /**
     * Creates a new instance of Reveal.
     * @class
     * @param {jQuery} element - jQuery object to use for the modal.
     * @param {Object} options - optional parameters.
     */
    function Reveal(element, options) {
      _classCallCheck(this, Reveal);

      this.$element = element;
      this.options = $.extend({}, Reveal.defaults, this.$element.data(), options);
      this._init();

      Foundation.registerPlugin(this, 'Reveal');
      Foundation.Keyboard.register('Reveal', {
        'ENTER': 'open',
        'SPACE': 'open',
        'ESCAPE': 'close'
      });
    }

    /**
     * Initializes the modal by adding the overlay and close buttons, (if selected).
     * @private
     */


    _createClass(Reveal, [{
      key: '_init',
      value: function _init() {
        this.id = this.$element.attr('id');
        this.isActive = false;
        this.cached = { mq: Foundation.MediaQuery.current };
        this.isMobile = mobileSniff();

        this.$anchor = $('[data-open="' + this.id + '"]').length ? $('[data-open="' + this.id + '"]') : $('[data-toggle="' + this.id + '"]');
        this.$anchor.attr({
          'aria-controls': this.id,
          'aria-haspopup': true,
          'tabindex': 0
        });

        if (this.options.fullScreen || this.$element.hasClass('full')) {
          this.options.fullScreen = true;
          this.options.overlay = false;
        }
        if (this.options.overlay && !this.$overlay) {
          this.$overlay = this._makeOverlay(this.id);
        }

        this.$element.attr({
          'role': 'dialog',
          'aria-hidden': true,
          'data-yeti-box': this.id,
          'data-resize': this.id
        });

        if (this.$overlay) {
          this.$element.detach().appendTo(this.$overlay);
        } else {
          this.$element.detach().appendTo($(this.options.appendTo));
          this.$element.addClass('without-overlay');
        }
        this._events();
        if (this.options.deepLink && window.location.hash === '#' + this.id) {
          $(window).one('load.zf.reveal', this.open.bind(this));
        }
      }

      /**
       * Creates an overlay div to display behind the modal.
       * @private
       */

    }, {
      key: '_makeOverlay',
      value: function _makeOverlay() {
        return $('<div></div>').addClass('reveal-overlay').appendTo(this.options.appendTo);
      }

      /**
       * Updates position of modal
       * TODO:  Figure out if we actually need to cache these values or if it doesn't matter
       * @private
       */

    }, {
      key: '_updatePosition',
      value: function _updatePosition() {
        var width = this.$element.outerWidth();
        var outerWidth = $(window).width();
        var height = this.$element.outerHeight();
        var outerHeight = $(window).height();
        var left, top;
        if (this.options.hOffset === 'auto') {
          left = parseInt((outerWidth - width) / 2, 10);
        } else {
          left = parseInt(this.options.hOffset, 10);
        }
        if (this.options.vOffset === 'auto') {
          if (height > outerHeight) {
            top = parseInt(Math.min(100, outerHeight / 10), 10);
          } else {
            top = parseInt((outerHeight - height) / 4, 10);
          }
        } else {
          top = parseInt(this.options.vOffset, 10);
        }
        this.$element.css({ top: top + 'px' });
        // only worry about left if we don't have an overlay or we havea  horizontal offset,
        // otherwise we're perfectly in the middle
        if (!this.$overlay || this.options.hOffset !== 'auto') {
          this.$element.css({ left: left + 'px' });
          this.$element.css({ margin: '0px' });
        }
      }

      /**
       * Adds event handlers for the modal.
       * @private
       */

    }, {
      key: '_events',
      value: function _events() {
        var _this2 = this;

        var _this = this;

        this.$element.on({
          'open.zf.trigger': this.open.bind(this),
          'close.zf.trigger': function (event, $element) {
            if (event.target === _this.$element[0] || $(event.target).parents('[data-closable]')[0] === $element) {
              // only close reveal when it's explicitly called
              return _this2.close.apply(_this2);
            }
          },
          'toggle.zf.trigger': this.toggle.bind(this),
          'resizeme.zf.trigger': function () {
            _this._updatePosition();
          }
        });

        if (this.$anchor.length) {
          this.$anchor.on('keydown.zf.reveal', function (e) {
            if (e.which === 13 || e.which === 32) {
              e.stopPropagation();
              e.preventDefault();
              _this.open();
            }
          });
        }

        if (this.options.closeOnClick && this.options.overlay) {
          this.$overlay.off('.zf.reveal').on('click.zf.reveal', function (e) {
            if (e.target === _this.$element[0] || $.contains(_this.$element[0], e.target) || !$.contains(document, e.target)) {
              return;
            }
            _this.close();
          });
        }
        if (this.options.deepLink) {
          $(window).on('popstate.zf.reveal:' + this.id, this._handleState.bind(this));
        }
      }

      /**
       * Handles modal methods on back/forward button clicks or any other event that triggers popstate.
       * @private
       */

    }, {
      key: '_handleState',
      value: function _handleState(e) {
        if (window.location.hash === '#' + this.id && !this.isActive) {
          this.open();
        } else {
          this.close();
        }
      }

      /**
       * Opens the modal controlled by `this.$anchor`, and closes all others by default.
       * @function
       * @fires Reveal#closeme
       * @fires Reveal#open
       */

    }, {
      key: 'open',
      value: function open() {
        var _this3 = this;

        if (this.options.deepLink) {
          var hash = '#' + this.id;

          if (window.history.pushState) {
            window.history.pushState(null, null, hash);
          } else {
            window.location.hash = hash;
          }
        }

        this.isActive = true;

        // Make elements invisible, but remove display: none so we can get size and positioning
        this.$element.css({ 'visibility': 'hidden' }).show().scrollTop(0);
        if (this.options.overlay) {
          this.$overlay.css({ 'visibility': 'hidden' }).show();
        }

        this._updatePosition();

        this.$element.hide().css({ 'visibility': '' });

        if (this.$overlay) {
          this.$overlay.css({ 'visibility': '' }).hide();
          if (this.$element.hasClass('fast')) {
            this.$overlay.addClass('fast');
          } else if (this.$element.hasClass('slow')) {
            this.$overlay.addClass('slow');
          }
        }

        if (!this.options.multipleOpened) {
          /**
           * Fires immediately before the modal opens.
           * Closes any other modals that are currently open
           * @event Reveal#closeme
           */
          this.$element.trigger('closeme.zf.reveal', this.id);
        }

        var _this = this;

        function addRevealOpenClasses() {
          if (_this.isMobile) {
            if (!_this.originalScrollPos) {
              _this.originalScrollPos = window.pageYOffset;
            }
            $('html, body').addClass('is-reveal-open');
          } else {
            $('body').addClass('is-reveal-open');
          }
        }
        // Motion UI method of reveal
        if (this.options.animationIn) {
          (function () {
            var afterAnimation = function () {
              _this.$element.attr({
                'aria-hidden': false,
                'tabindex': -1
              }).focus();
              addRevealOpenClasses();
              Foundation.Keyboard.trapFocus(_this.$element);
            };

            if (_this3.options.overlay) {
              Foundation.Motion.animateIn(_this3.$overlay, 'fade-in');
            }
            Foundation.Motion.animateIn(_this3.$element, _this3.options.animationIn, function () {
              if (_this3.$element) {
                // protect against object having been removed
                _this3.focusableElements = Foundation.Keyboard.findFocusable(_this3.$element);
                afterAnimation();
              }
            });
          })();
        }
        // jQuery method of reveal
        else {
            if (this.options.overlay) {
              this.$overlay.show(0);
            }
            this.$element.show(this.options.showDelay);
          }

        // handle accessibility
        this.$element.attr({
          'aria-hidden': false,
          'tabindex': -1
        }).focus();
        Foundation.Keyboard.trapFocus(this.$element);

        /**
         * Fires when the modal has successfully opened.
         * @event Reveal#open
         */
        this.$element.trigger('open.zf.reveal');

        addRevealOpenClasses();

        setTimeout(function () {
          _this3._extraHandlers();
        }, 0);
      }

      /**
       * Adds extra event handlers for the body and window if necessary.
       * @private
       */

    }, {
      key: '_extraHandlers',
      value: function _extraHandlers() {
        var _this = this;
        if (!this.$element) {
          return;
        } // If we're in the middle of cleanup, don't freak out
        this.focusableElements = Foundation.Keyboard.findFocusable(this.$element);

        if (!this.options.overlay && this.options.closeOnClick && !this.options.fullScreen) {
          $('body').on('click.zf.reveal', function (e) {
            if (e.target === _this.$element[0] || $.contains(_this.$element[0], e.target) || !$.contains(document, e.target)) {
              return;
            }
            _this.close();
          });
        }

        if (this.options.closeOnEsc) {
          $(window).on('keydown.zf.reveal', function (e) {
            Foundation.Keyboard.handleKey(e, 'Reveal', {
              close: function () {
                if (_this.options.closeOnEsc) {
                  _this.close();
                  _this.$anchor.focus();
                }
              }
            });
          });
        }

        // lock focus within modal while tabbing
        this.$element.on('keydown.zf.reveal', function (e) {
          var $target = $(this);
          // handle keyboard event with keyboard util
          Foundation.Keyboard.handleKey(e, 'Reveal', {
            open: function () {
              if (_this.$element.find(':focus').is(_this.$element.find('[data-close]'))) {
                setTimeout(function () {
                  // set focus back to anchor if close button has been activated
                  _this.$anchor.focus();
                }, 1);
              } else if ($target.is(_this.focusableElements)) {
                // dont't trigger if acual element has focus (i.e. inputs, links, ...)
                _this.open();
              }
            },
            close: function () {
              if (_this.options.closeOnEsc) {
                _this.close();
                _this.$anchor.focus();
              }
            },
            handled: function (preventDefault) {
              if (preventDefault) {
                e.preventDefault();
              }
            }
          });
        });
      }

      /**
       * Closes the modal.
       * @function
       * @fires Reveal#closed
       */

    }, {
      key: 'close',
      value: function close() {
        if (!this.isActive || !this.$element.is(':visible')) {
          return false;
        }
        var _this = this;

        // Motion UI method of hiding
        if (this.options.animationOut) {
          if (this.options.overlay) {
            Foundation.Motion.animateOut(this.$overlay, 'fade-out', finishUp);
          } else {
            finishUp();
          }

          Foundation.Motion.animateOut(this.$element, this.options.animationOut);
        }
        // jQuery method of hiding
        else {
            if (this.options.overlay) {
              this.$overlay.hide(0, finishUp);
            } else {
              finishUp();
            }

            this.$element.hide(this.options.hideDelay);
          }

        // Conditionals to remove extra event listeners added on open
        if (this.options.closeOnEsc) {
          $(window).off('keydown.zf.reveal');
        }

        if (!this.options.overlay && this.options.closeOnClick) {
          $('body').off('click.zf.reveal');
        }

        this.$element.off('keydown.zf.reveal');

        function finishUp() {
          if (_this.isMobile) {
            $('html, body').removeClass('is-reveal-open');
            if (_this.originalScrollPos) {
              $('body').scrollTop(_this.originalScrollPos);
              _this.originalScrollPos = null;
            }
          } else {
            $('body').removeClass('is-reveal-open');
          }

          Foundation.Keyboard.releaseFocus(_this.$element);

          _this.$element.attr('aria-hidden', true);

          /**
          * Fires when the modal is done closing.
          * @event Reveal#closed
          */
          _this.$element.trigger('closed.zf.reveal');
        }

        /**
        * Resets the modal content
        * This prevents a running video to keep going in the background
        */
        if (this.options.resetOnClose) {
          this.$element.html(this.$element.html());
        }

        this.isActive = false;
        if (_this.options.deepLink) {
          if (window.history.replaceState) {
            window.history.replaceState('', document.title, window.location.href.replace('#' + this.id, ''));
          } else {
            window.location.hash = '';
          }
        }
      }

      /**
       * Toggles the open/closed state of a modal.
       * @function
       */

    }, {
      key: 'toggle',
      value: function toggle() {
        if (this.isActive) {
          this.close();
        } else {
          this.open();
        }
      }
    }, {
      key: 'destroy',


      /**
       * Destroys an instance of a modal.
       * @function
       */
      value: function destroy() {
        if (this.options.overlay) {
          this.$element.appendTo($(this.options.appendTo)); // move $element outside of $overlay to prevent error unregisterPlugin()
          this.$overlay.hide().off().remove();
        }
        this.$element.hide().off();
        this.$anchor.off('.zf');
        $(window).off('.zf.reveal:' + this.id);

        Foundation.unregisterPlugin(this);
      }
    }]);

    return Reveal;
  }();

  Reveal.defaults = {
    /**
     * Motion-UI class to use for animated elements. If none used, defaults to simple show/hide.
     * @option
     * @type {string}
     * @default ''
     */
    animationIn: '',
    /**
     * Motion-UI class to use for animated elements. If none used, defaults to simple show/hide.
     * @option
     * @type {string}
     * @default ''
     */
    animationOut: '',
    /**
     * Time, in ms, to delay the opening of a modal after a click if no animation used.
     * @option
     * @type {number}
     * @default 0
     */
    showDelay: 0,
    /**
     * Time, in ms, to delay the closing of a modal after a click if no animation used.
     * @option
     * @type {number}
     * @default 0
     */
    hideDelay: 0,
    /**
     * Allows a click on the body/overlay to close the modal.
     * @option
     * @type {boolean}
     * @default true
     */
    closeOnClick: true,
    /**
     * Allows the modal to close if the user presses the `ESCAPE` key.
     * @option
     * @type {boolean}
     * @default true
     */
    closeOnEsc: true,
    /**
     * If true, allows multiple modals to be displayed at once.
     * @option
     * @type {boolean}
     * @default false
     */
    multipleOpened: false,
    /**
     * Distance, in pixels, the modal should push down from the top of the screen.
     * @option
     * @type {number|string}
     * @default auto
     */
    vOffset: 'auto',
    /**
     * Distance, in pixels, the modal should push in from the side of the screen.
     * @option
     * @type {number|string}
     * @default auto
     */
    hOffset: 'auto',
    /**
     * Allows the modal to be fullscreen, completely blocking out the rest of the view. JS checks for this as well.
     * @option
     * @type {boolean}
     * @default false
     */
    fullScreen: false,
    /**
     * Percentage of screen height the modal should push up from the bottom of the view.
     * @option
     * @type {number}
     * @default 10
     */
    btmOffsetPct: 10,
    /**
     * Allows the modal to generate an overlay div, which will cover the view when modal opens.
     * @option
     * @type {boolean}
     * @default true
     */
    overlay: true,
    /**
     * Allows the modal to remove and reinject markup on close. Should be true if using video elements w/o using provider's api, otherwise, videos will continue to play in the background.
     * @option
     * @type {boolean}
     * @default false
     */
    resetOnClose: false,
    /**
     * Allows the modal to alter the url on open/close, and allows the use of the `back` button to close modals. ALSO, allows a modal to auto-maniacally open on page load IF the hash === the modal's user-set id.
     * @option
     * @type {boolean}
     * @default false
     */
    deepLink: false,
    /**
    * Allows the modal to append to custom div.
    * @option
    * @type {string}
    * @default "body"
    */
    appendTo: "body"

  };

  // Window exports
  Foundation.plugin(Reveal, 'Reveal');

  function iPhoneSniff() {
    return (/iP(ad|hone|od).*OS/.test(window.navigator.userAgent)
    );
  }

  function androidSniff() {
    return (/Android/.test(window.navigator.userAgent)
    );
  }

  function mobileSniff() {
    return iPhoneSniff() || androidSniff();
  }
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * Slider module.
   * @module foundation.slider
   * @requires foundation.util.motion
   * @requires foundation.util.triggers
   * @requires foundation.util.keyboard
   * @requires foundation.util.touch
   */

  var Slider = function () {
    /**
     * Creates a new instance of a slider control.
     * @class
     * @param {jQuery} element - jQuery object to make into a slider control.
     * @param {Object} options - Overrides to the default plugin settings.
     */
    function Slider(element, options) {
      _classCallCheck(this, Slider);

      this.$element = element;
      this.options = $.extend({}, Slider.defaults, this.$element.data(), options);

      this._init();

      Foundation.registerPlugin(this, 'Slider');
      Foundation.Keyboard.register('Slider', {
        'ltr': {
          'ARROW_RIGHT': 'increase',
          'ARROW_UP': 'increase',
          'ARROW_DOWN': 'decrease',
          'ARROW_LEFT': 'decrease',
          'SHIFT_ARROW_RIGHT': 'increase_fast',
          'SHIFT_ARROW_UP': 'increase_fast',
          'SHIFT_ARROW_DOWN': 'decrease_fast',
          'SHIFT_ARROW_LEFT': 'decrease_fast'
        },
        'rtl': {
          'ARROW_LEFT': 'increase',
          'ARROW_RIGHT': 'decrease',
          'SHIFT_ARROW_LEFT': 'increase_fast',
          'SHIFT_ARROW_RIGHT': 'decrease_fast'
        }
      });
    }

    /**
     * Initilizes the plugin by reading/setting attributes, creating collections and setting the initial position of the handle(s).
     * @function
     * @private
     */


    _createClass(Slider, [{
      key: '_init',
      value: function _init() {
        this.inputs = this.$element.find('input');
        this.handles = this.$element.find('[data-slider-handle]');

        this.$handle = this.handles.eq(0);
        this.$input = this.inputs.length ? this.inputs.eq(0) : $('#' + this.$handle.attr('aria-controls'));
        this.$fill = this.$element.find('[data-slider-fill]').css(this.options.vertical ? 'height' : 'width', 0);

        var isDbl = false,
            _this = this;
        if (this.options.disabled || this.$element.hasClass(this.options.disabledClass)) {
          this.options.disabled = true;
          this.$element.addClass(this.options.disabledClass);
        }
        if (!this.inputs.length) {
          this.inputs = $().add(this.$input);
          this.options.binding = true;
        }

        this._setInitAttr(0);

        if (this.handles[1]) {
          this.options.doubleSided = true;
          this.$handle2 = this.handles.eq(1);
          this.$input2 = this.inputs.length > 1 ? this.inputs.eq(1) : $('#' + this.$handle2.attr('aria-controls'));

          if (!this.inputs[1]) {
            this.inputs = this.inputs.add(this.$input2);
          }
          isDbl = true;

          // this.$handle.triggerHandler('click.zf.slider');
          this._setInitAttr(1);
        }

        // Set handle positions
        this.setHandles();

        this._events();
      }
    }, {
      key: 'setHandles',
      value: function setHandles() {
        var _this2 = this;

        if (this.handles[1]) {
          this._setHandlePos(this.$handle, this.inputs.eq(0).val(), true, function () {
            _this2._setHandlePos(_this2.$handle2, _this2.inputs.eq(1).val(), true);
          });
        } else {
          this._setHandlePos(this.$handle, this.inputs.eq(0).val(), true);
        }
      }
    }, {
      key: '_reflow',
      value: function _reflow() {
        this.setHandles();
      }
      /**
      * @function
      * @private
      * @param {Number} value - floating point (the value) to be transformed using to a relative position on the slider (the inverse of _value)
      */

    }, {
      key: '_pctOfBar',
      value: function _pctOfBar(value) {
        var pctOfBar = percent(value - this.options.start, this.options.end - this.options.start);

        switch (this.options.positionValueFunction) {
          case "pow":
            pctOfBar = this._logTransform(pctOfBar);
            break;
          case "log":
            pctOfBar = this._powTransform(pctOfBar);
            break;
        }

        return pctOfBar.toFixed(2);
      }

      /**
      * @function
      * @private
      * @param {Number} pctOfBar - floating point, the relative position of the slider (typically between 0-1) to be transformed to a value
      */

    }, {
      key: '_value',
      value: function _value(pctOfBar) {
        switch (this.options.positionValueFunction) {
          case "pow":
            pctOfBar = this._powTransform(pctOfBar);
            break;
          case "log":
            pctOfBar = this._logTransform(pctOfBar);
            break;
        }
        var value = (this.options.end - this.options.start) * pctOfBar + this.options.start;

        return value;
      }

      /**
      * @function
      * @private
      * @param {Number} value - floating point (typically between 0-1) to be transformed using the log function
      */

    }, {
      key: '_logTransform',
      value: function _logTransform(value) {
        return baseLog(this.options.nonLinearBase, value * (this.options.nonLinearBase - 1) + 1);
      }

      /**
      * @function
      * @private
      * @param {Number} value - floating point (typically between 0-1) to be transformed using the power function
      */

    }, {
      key: '_powTransform',
      value: function _powTransform(value) {
        return (Math.pow(this.options.nonLinearBase, value) - 1) / (this.options.nonLinearBase - 1);
      }

      /**
       * Sets the position of the selected handle and fill bar.
       * @function
       * @private
       * @param {jQuery} $hndl - the selected handle to move.
       * @param {Number} location - floating point between the start and end values of the slider bar.
       * @param {Function} cb - callback function to fire on completion.
       * @fires Slider#moved
       * @fires Slider#changed
       */

    }, {
      key: '_setHandlePos',
      value: function _setHandlePos($hndl, location, noInvert, cb) {
        // don't move if the slider has been disabled since its initialization
        if (this.$element.hasClass(this.options.disabledClass)) {
          return;
        }
        //might need to alter that slightly for bars that will have odd number selections.
        location = parseFloat(location); //on input change events, convert string to number...grumble.

        // prevent slider from running out of bounds, if value exceeds the limits set through options, override the value to min/max
        if (location < this.options.start) {
          location = this.options.start;
        } else if (location > this.options.end) {
          location = this.options.end;
        }

        var isDbl = this.options.doubleSided;

        if (isDbl) {
          //this block is to prevent 2 handles from crossing eachother. Could/should be improved.
          if (this.handles.index($hndl) === 0) {
            var h2Val = parseFloat(this.$handle2.attr('aria-valuenow'));
            location = location >= h2Val ? h2Val - this.options.step : location;
          } else {
            var h1Val = parseFloat(this.$handle.attr('aria-valuenow'));
            location = location <= h1Val ? h1Val + this.options.step : location;
          }
        }

        //this is for single-handled vertical sliders, it adjusts the value to account for the slider being "upside-down"
        //for click and drag events, it's weird due to the scale(-1, 1) css property
        if (this.options.vertical && !noInvert) {
          location = this.options.end - location;
        }

        var _this = this,
            vert = this.options.vertical,
            hOrW = vert ? 'height' : 'width',
            lOrT = vert ? 'top' : 'left',
            handleDim = $hndl[0].getBoundingClientRect()[hOrW],
            elemDim = this.$element[0].getBoundingClientRect()[hOrW],

        //percentage of bar min/max value based on click or drag point
        pctOfBar = this._pctOfBar(location),

        //number of actual pixels to shift the handle, based on the percentage obtained above
        pxToMove = (elemDim - handleDim) * pctOfBar,

        //percentage of bar to shift the handle
        movement = (percent(pxToMove, elemDim) * 100).toFixed(this.options.decimal);
        //fixing the decimal value for the location number, is passed to other methods as a fixed floating-point value
        location = parseFloat(location.toFixed(this.options.decimal));
        // declare empty object for css adjustments, only used with 2 handled-sliders
        var css = {};

        this._setValues($hndl, location);

        // TODO update to calculate based on values set to respective inputs??
        if (isDbl) {
          var isLeftHndl = this.handles.index($hndl) === 0,

          //empty variable, will be used for min-height/width for fill bar
          dim,

          //percentage w/h of the handle compared to the slider bar
          handlePct = ~~(percent(handleDim, elemDim) * 100);
          //if left handle, the math is slightly different than if it's the right handle, and the left/top property needs to be changed for the fill bar
          if (isLeftHndl) {
            //left or top percentage value to apply to the fill bar.
            css[lOrT] = movement + '%';
            //calculate the new min-height/width for the fill bar.
            dim = parseFloat(this.$handle2[0].style[lOrT]) - movement + handlePct;
            //this callback is necessary to prevent errors and allow the proper placement and initialization of a 2-handled slider
            //plus, it means we don't care if 'dim' isNaN on init, it won't be in the future.
            if (cb && typeof cb === 'function') {
              cb();
            } //this is only needed for the initialization of 2 handled sliders
          } else {
            //just caching the value of the left/bottom handle's left/top property
            var handlePos = parseFloat(this.$handle[0].style[lOrT]);
            //calculate the new min-height/width for the fill bar. Use isNaN to prevent false positives for numbers <= 0
            //based on the percentage of movement of the handle being manipulated, less the opposing handle's left/top position, plus the percentage w/h of the handle itself
            dim = movement - (isNaN(handlePos) ? (this.options.initialStart - this.options.start) / ((this.options.end - this.options.start) / 100) : handlePos) + handlePct;
          }
          // assign the min-height/width to our css object
          css['min-' + hOrW] = dim + '%';
        }

        this.$element.one('finished.zf.animate', function () {
          /**
           * Fires when the handle is done moving.
           * @event Slider#moved
           */
          _this.$element.trigger('moved.zf.slider', [$hndl]);
        });

        //because we don't know exactly how the handle will be moved, check the amount of time it should take to move.
        var moveTime = this.$element.data('dragging') ? 1000 / 60 : this.options.moveTime;

        Foundation.Move(moveTime, $hndl, function () {
          // adjusting the left/top property of the handle, based on the percentage calculated above
          // if movement isNaN, that is because the slider is hidden and we cannot determine handle width,
          // fall back to next best guess.
          if (isNaN(movement)) {
            $hndl.css(lOrT, pctOfBar * 100 + '%');
          } else {
            $hndl.css(lOrT, movement + '%');
          }

          if (!_this.options.doubleSided) {
            //if single-handled, a simple method to expand the fill bar
            _this.$fill.css(hOrW, pctOfBar * 100 + '%');
          } else {
            //otherwise, use the css object we created above
            _this.$fill.css(css);
          }
        });

        /**
         * Fires when the value has not been change for a given time.
         * @event Slider#changed
         */
        clearTimeout(_this.timeout);
        _this.timeout = setTimeout(function () {
          _this.$element.trigger('changed.zf.slider', [$hndl]);
        }, _this.options.changedDelay);
      }

      /**
       * Sets the initial attribute for the slider element.
       * @function
       * @private
       * @param {Number} idx - index of the current handle/input to use.
       */

    }, {
      key: '_setInitAttr',
      value: function _setInitAttr(idx) {
        var initVal = idx === 0 ? this.options.initialStart : this.options.initialEnd;
        var id = this.inputs.eq(idx).attr('id') || Foundation.GetYoDigits(6, 'slider');
        this.inputs.eq(idx).attr({
          'id': id,
          'max': this.options.end,
          'min': this.options.start,
          'step': this.options.step
        });
        this.inputs.eq(idx).val(initVal);
        this.handles.eq(idx).attr({
          'role': 'slider',
          'aria-controls': id,
          'aria-valuemax': this.options.end,
          'aria-valuemin': this.options.start,
          'aria-valuenow': initVal,
          'aria-orientation': this.options.vertical ? 'vertical' : 'horizontal',
          'tabindex': 0
        });
      }

      /**
       * Sets the input and `aria-valuenow` values for the slider element.
       * @function
       * @private
       * @param {jQuery} $handle - the currently selected handle.
       * @param {Number} val - floating point of the new value.
       */

    }, {
      key: '_setValues',
      value: function _setValues($handle, val) {
        var idx = this.options.doubleSided ? this.handles.index($handle) : 0;
        this.inputs.eq(idx).val(val);
        $handle.attr('aria-valuenow', val);
      }

      /**
       * Handles events on the slider element.
       * Calculates the new location of the current handle.
       * If there are two handles and the bar was clicked, it determines which handle to move.
       * @function
       * @private
       * @param {Object} e - the `event` object passed from the listener.
       * @param {jQuery} $handle - the current handle to calculate for, if selected.
       * @param {Number} val - floating point number for the new value of the slider.
       * TODO clean this up, there's a lot of repeated code between this and the _setHandlePos fn.
       */

    }, {
      key: '_handleEvent',
      value: function _handleEvent(e, $handle, val) {
        var value, hasVal;
        if (!val) {
          //click or drag events
          e.preventDefault();
          var _this = this,
              vertical = this.options.vertical,
              param = vertical ? 'height' : 'width',
              direction = vertical ? 'top' : 'left',
              eventOffset = vertical ? e.pageY : e.pageX,
              halfOfHandle = this.$handle[0].getBoundingClientRect()[param] / 2,
              barDim = this.$element[0].getBoundingClientRect()[param],
              windowScroll = vertical ? $(window).scrollTop() : $(window).scrollLeft();

          var elemOffset = this.$element.offset()[direction];

          // touch events emulated by the touch util give position relative to screen, add window.scroll to event coordinates...
          // best way to guess this is simulated is if clientY == pageY
          if (e.clientY === e.pageY) {
            eventOffset = eventOffset + windowScroll;
          }
          var eventFromBar = eventOffset - elemOffset;
          var barXY;
          if (eventFromBar < 0) {
            barXY = 0;
          } else if (eventFromBar > barDim) {
            barXY = barDim;
          } else {
            barXY = eventFromBar;
          }
          var offsetPct = percent(barXY, barDim);

          value = this._value(offsetPct);

          // turn everything around for RTL, yay math!
          if (Foundation.rtl() && !this.options.vertical) {
            value = this.options.end - value;
          }

          value = _this._adjustValue(null, value);
          //boolean flag for the setHandlePos fn, specifically for vertical sliders
          hasVal = false;

          if (!$handle) {
            //figure out which handle it is, pass it to the next function.
            var firstHndlPos = absPosition(this.$handle, direction, barXY, param),
                secndHndlPos = absPosition(this.$handle2, direction, barXY, param);
            $handle = firstHndlPos <= secndHndlPos ? this.$handle : this.$handle2;
          }
        } else {
          //change event on input
          value = this._adjustValue(null, val);
          hasVal = true;
        }

        this._setHandlePos($handle, value, hasVal);
      }

      /**
       * Adjustes value for handle in regard to step value. returns adjusted value
       * @function
       * @private
       * @param {jQuery} $handle - the selected handle.
       * @param {Number} value - value to adjust. used if $handle is falsy
       */

    }, {
      key: '_adjustValue',
      value: function _adjustValue($handle, value) {
        var val,
            step = this.options.step,
            div = parseFloat(step / 2),
            left,
            prev_val,
            next_val;
        if (!!$handle) {
          val = parseFloat($handle.attr('aria-valuenow'));
        } else {
          val = value;
        }
        left = val % step;
        prev_val = val - left;
        next_val = prev_val + step;
        if (left === 0) {
          return val;
        }
        val = val >= prev_val + div ? next_val : prev_val;
        return val;
      }

      /**
       * Adds event listeners to the slider elements.
       * @function
       * @private
       */

    }, {
      key: '_events',
      value: function _events() {
        this._eventsForHandle(this.$handle);
        if (this.handles[1]) {
          this._eventsForHandle(this.$handle2);
        }
      }

      /**
       * Adds event listeners a particular handle
       * @function
       * @private
       * @param {jQuery} $handle - the current handle to apply listeners to.
       */

    }, {
      key: '_eventsForHandle',
      value: function _eventsForHandle($handle) {
        var _this = this,
            curHandle,
            timer;

        this.inputs.off('change.zf.slider').on('change.zf.slider', function (e) {
          var idx = _this.inputs.index($(this));
          _this._handleEvent(e, _this.handles.eq(idx), $(this).val());
        });

        if (this.options.clickSelect) {
          this.$element.off('click.zf.slider').on('click.zf.slider', function (e) {
            if (_this.$element.data('dragging')) {
              return false;
            }

            if (!$(e.target).is('[data-slider-handle]')) {
              if (_this.options.doubleSided) {
                _this._handleEvent(e);
              } else {
                _this._handleEvent(e, _this.$handle);
              }
            }
          });
        }

        if (this.options.draggable) {
          this.handles.addTouch();

          var $body = $('body');
          $handle.off('mousedown.zf.slider').on('mousedown.zf.slider', function (e) {
            $handle.addClass('is-dragging');
            _this.$fill.addClass('is-dragging'); //
            _this.$element.data('dragging', true);

            curHandle = $(e.currentTarget);

            $body.on('mousemove.zf.slider', function (e) {
              e.preventDefault();
              _this._handleEvent(e, curHandle);
            }).on('mouseup.zf.slider', function (e) {
              _this._handleEvent(e, curHandle);

              $handle.removeClass('is-dragging');
              _this.$fill.removeClass('is-dragging');
              _this.$element.data('dragging', false);

              $body.off('mousemove.zf.slider mouseup.zf.slider');
            });
          })
          // prevent events triggered by touch
          .on('selectstart.zf.slider touchmove.zf.slider', function (e) {
            e.preventDefault();
          });
        }

        $handle.off('keydown.zf.slider').on('keydown.zf.slider', function (e) {
          var _$handle = $(this),
              idx = _this.options.doubleSided ? _this.handles.index(_$handle) : 0,
              oldValue = parseFloat(_this.inputs.eq(idx).val()),
              newValue;

          // handle keyboard event with keyboard util
          Foundation.Keyboard.handleKey(e, 'Slider', {
            decrease: function () {
              newValue = oldValue - _this.options.step;
            },
            increase: function () {
              newValue = oldValue + _this.options.step;
            },
            decrease_fast: function () {
              newValue = oldValue - _this.options.step * 10;
            },
            increase_fast: function () {
              newValue = oldValue + _this.options.step * 10;
            },
            handled: function () {
              // only set handle pos when event was handled specially
              e.preventDefault();
              _this._setHandlePos(_$handle, newValue, true);
            }
          });
          /*if (newValue) { // if pressed key has special function, update value
            e.preventDefault();
            _this._setHandlePos(_$handle, newValue);
          }*/
        });
      }

      /**
       * Destroys the slider plugin.
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        this.handles.off('.zf.slider');
        this.inputs.off('.zf.slider');
        this.$element.off('.zf.slider');

        clearTimeout(this.timeout);

        Foundation.unregisterPlugin(this);
      }
    }]);

    return Slider;
  }();

  Slider.defaults = {
    /**
     * Minimum value for the slider scale.
     * @option
     * @type {number}
     * @default 0
     */
    start: 0,
    /**
     * Maximum value for the slider scale.
     * @option
     * @type {number}
     * @default 100
     */
    end: 100,
    /**
     * Minimum value change per change event.
     * @option
     * @type {number}
     * @default 1
     */
    step: 1,
    /**
     * Value at which the handle/input *(left handle/first input)* should be set to on initialization.
     * @option
     * @type {number}
     * @default 0
     */
    initialStart: 0,
    /**
     * Value at which the right handle/second input should be set to on initialization.
     * @option
     * @type {number}
     * @default 100
     */
    initialEnd: 100,
    /**
     * Allows the input to be located outside the container and visible. Set to by the JS
     * @option
     * @type {boolean}
     * @default false
     */
    binding: false,
    /**
     * Allows the user to click/tap on the slider bar to select a value.
     * @option
     * @type {boolean}
     * @default true
     */
    clickSelect: true,
    /**
     * Set to true and use the `vertical` class to change alignment to vertical.
     * @option
     * @type {boolean}
     * @default false
     */
    vertical: false,
    /**
     * Allows the user to drag the slider handle(s) to select a value.
     * @option
     * @type {boolean}
     * @default true
     */
    draggable: true,
    /**
     * Disables the slider and prevents event listeners from being applied. Double checked by JS with `disabledClass`.
     * @option
     * @type {boolean}
     * @default false
     */
    disabled: false,
    /**
     * Allows the use of two handles. Double checked by the JS. Changes some logic handling.
     * @option
     * @type {boolean}
     * @default false
     */
    doubleSided: false,
    /**
     * Potential future feature.
     */
    // steps: 100,
    /**
     * Number of decimal places the plugin should go to for floating point precision.
     * @option
     * @type {number}
     * @default 2
     */
    decimal: 2,
    /**
     * Time delay for dragged elements.
     */
    // dragDelay: 0,
    /**
     * Time, in ms, to animate the movement of a slider handle if user clicks/taps on the bar. Needs to be manually set if updating the transition time in the Sass settings.
     * @option
     * @type {number}
     * @default 200
     */
    moveTime: 200, //update this if changing the transition time in the sass
    /**
     * Class applied to disabled sliders.
     * @option
     * @type {string}
     * @default 'disabled'
     */
    disabledClass: 'disabled',
    /**
     * Will invert the default layout for a vertical<span data-tooltip title="who would do this???"> </span>slider.
     * @option
     * @type {boolean}
     * @default false
     */
    invertVertical: false,
    /**
     * Milliseconds before the `changed.zf-slider` event is triggered after value change.
     * @option
     * @type {number}
     * @default 500
     */
    changedDelay: 500,
    /**
    * Basevalue for non-linear sliders
    * @option
    * @type {number}
    * @default 5
    */
    nonLinearBase: 5,
    /**
    * Basevalue for non-linear sliders, possible values are: `'linear'`, `'pow'` & `'log'`. Pow and Log use the nonLinearBase setting.
    * @option
    * @type {string}
    * @default 'linear'
    */
    positionValueFunction: 'linear'
  };

  function percent(frac, num) {
    return frac / num;
  }
  function absPosition($handle, dir, clickPos, param) {
    return Math.abs($handle.position()[dir] + $handle[param]() / 2 - clickPos);
  }
  function baseLog(base, value) {
    return Math.log(value) / Math.log(base);
  }

  // Window exports
  Foundation.plugin(Slider, 'Slider');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * Sticky module.
   * @module foundation.sticky
   * @requires foundation.util.triggers
   * @requires foundation.util.mediaQuery
   */

  var Sticky = function () {
    /**
     * Creates a new instance of a sticky thing.
     * @class
     * @param {jQuery} element - jQuery object to make sticky.
     * @param {Object} options - options object passed when creating the element programmatically.
     */
    function Sticky(element, options) {
      _classCallCheck(this, Sticky);

      this.$element = element;
      this.options = $.extend({}, Sticky.defaults, this.$element.data(), options);

      this._init();

      Foundation.registerPlugin(this, 'Sticky');
    }

    /**
     * Initializes the sticky element by adding classes, getting/setting dimensions, breakpoints and attributes
     * @function
     * @private
     */


    _createClass(Sticky, [{
      key: '_init',
      value: function _init() {
        var $parent = this.$element.parent('[data-sticky-container]'),
            id = this.$element[0].id || Foundation.GetYoDigits(6, 'sticky'),
            _this = this;

        if (!$parent.length) {
          this.wasWrapped = true;
        }
        this.$container = $parent.length ? $parent : $(this.options.container).wrapInner(this.$element);
        this.$container.addClass(this.options.containerClass);

        this.$element.addClass(this.options.stickyClass).attr({ 'data-resize': id });

        this.scrollCount = this.options.checkEvery;
        this.isStuck = false;
        $(window).one('load.zf.sticky', function () {
          //We calculate the container height to have correct values for anchor points offset calculation.
          _this.containerHeight = _this.$element.css("display") == "none" ? 0 : _this.$element[0].getBoundingClientRect().height;
          _this.$container.css('height', _this.containerHeight);
          _this.elemHeight = _this.containerHeight;
          if (_this.options.anchor !== '') {
            _this.$anchor = $('#' + _this.options.anchor);
          } else {
            _this._parsePoints();
          }

          _this._setSizes(function () {
            var scroll = window.pageYOffset;
            _this._calc(false, scroll);
            //Unstick the element will ensure that proper classes are set.
            if (!_this.isStuck) {
              _this._removeSticky(scroll >= _this.topPoint ? false : true);
            }
          });
          _this._events(id.split('-').reverse().join('-'));
        });
      }

      /**
       * If using multiple elements as anchors, calculates the top and bottom pixel values the sticky thing should stick and unstick on.
       * @function
       * @private
       */

    }, {
      key: '_parsePoints',
      value: function _parsePoints() {
        var top = this.options.topAnchor == "" ? 1 : this.options.topAnchor,
            btm = this.options.btmAnchor == "" ? document.documentElement.scrollHeight : this.options.btmAnchor,
            pts = [top, btm],
            breaks = {};
        for (var i = 0, len = pts.length; i < len && pts[i]; i++) {
          var pt;
          if (typeof pts[i] === 'number') {
            pt = pts[i];
          } else {
            var place = pts[i].split(':'),
                anchor = $('#' + place[0]);

            pt = anchor.offset().top;
            if (place[1] && place[1].toLowerCase() === 'bottom') {
              pt += anchor[0].getBoundingClientRect().height;
            }
          }
          breaks[i] = pt;
        }

        this.points = breaks;
        return;
      }

      /**
       * Adds event handlers for the scrolling element.
       * @private
       * @param {String} id - psuedo-random id for unique scroll event listener.
       */

    }, {
      key: '_events',
      value: function _events(id) {
        var _this = this,
            scrollListener = this.scrollListener = 'scroll.zf.' + id;
        if (this.isOn) {
          return;
        }
        if (this.canStick) {
          this.isOn = true;
          $(window).off(scrollListener).on(scrollListener, function (e) {
            if (_this.scrollCount === 0) {
              _this.scrollCount = _this.options.checkEvery;
              _this._setSizes(function () {
                _this._calc(false, window.pageYOffset);
              });
            } else {
              _this.scrollCount--;
              _this._calc(false, window.pageYOffset);
            }
          });
        }

        this.$element.off('resizeme.zf.trigger').on('resizeme.zf.trigger', function (e, el) {
          _this._setSizes(function () {
            _this._calc(false);
            if (_this.canStick) {
              if (!_this.isOn) {
                _this._events(id);
              }
            } else if (_this.isOn) {
              _this._pauseListeners(scrollListener);
            }
          });
        });
      }

      /**
       * Removes event handlers for scroll and change events on anchor.
       * @fires Sticky#pause
       * @param {String} scrollListener - unique, namespaced scroll listener attached to `window`
       */

    }, {
      key: '_pauseListeners',
      value: function _pauseListeners(scrollListener) {
        this.isOn = false;
        $(window).off(scrollListener);

        /**
         * Fires when the plugin is paused due to resize event shrinking the view.
         * @event Sticky#pause
         * @private
         */
        this.$element.trigger('pause.zf.sticky');
      }

      /**
       * Called on every `scroll` event and on `_init`
       * fires functions based on booleans and cached values
       * @param {Boolean} checkSizes - true if plugin should recalculate sizes and breakpoints.
       * @param {Number} scroll - current scroll position passed from scroll event cb function. If not passed, defaults to `window.pageYOffset`.
       */

    }, {
      key: '_calc',
      value: function _calc(checkSizes, scroll) {
        if (checkSizes) {
          this._setSizes();
        }

        if (!this.canStick) {
          if (this.isStuck) {
            this._removeSticky(true);
          }
          return false;
        }

        if (!scroll) {
          scroll = window.pageYOffset;
        }

        if (scroll >= this.topPoint) {
          if (scroll <= this.bottomPoint) {
            if (!this.isStuck) {
              this._setSticky();
            }
          } else {
            if (this.isStuck) {
              this._removeSticky(false);
            }
          }
        } else {
          if (this.isStuck) {
            this._removeSticky(true);
          }
        }
      }

      /**
       * Causes the $element to become stuck.
       * Adds `position: fixed;`, and helper classes.
       * @fires Sticky#stuckto
       * @function
       * @private
       */

    }, {
      key: '_setSticky',
      value: function _setSticky() {
        var _this = this,
            stickTo = this.options.stickTo,
            mrgn = stickTo === 'top' ? 'marginTop' : 'marginBottom',
            notStuckTo = stickTo === 'top' ? 'bottom' : 'top',
            css = {};

        css[mrgn] = this.options[mrgn] + 'em';
        css[stickTo] = 0;
        css[notStuckTo] = 'auto';
        this.isStuck = true;
        this.$element.removeClass('is-anchored is-at-' + notStuckTo).addClass('is-stuck is-at-' + stickTo).css(css)
        /**
         * Fires when the $element has become `position: fixed;`
         * Namespaced to `top` or `bottom`, e.g. `sticky.zf.stuckto:top`
         * @event Sticky#stuckto
         */
        .trigger('sticky.zf.stuckto:' + stickTo);
        this.$element.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd", function () {
          _this._setSizes();
        });
      }

      /**
       * Causes the $element to become unstuck.
       * Removes `position: fixed;`, and helper classes.
       * Adds other helper classes.
       * @param {Boolean} isTop - tells the function if the $element should anchor to the top or bottom of its $anchor element.
       * @fires Sticky#unstuckfrom
       * @private
       */

    }, {
      key: '_removeSticky',
      value: function _removeSticky(isTop) {
        var stickTo = this.options.stickTo,
            stickToTop = stickTo === 'top',
            css = {},
            anchorPt = (this.points ? this.points[1] - this.points[0] : this.anchorHeight) - this.elemHeight,
            mrgn = stickToTop ? 'marginTop' : 'marginBottom',
            notStuckTo = stickToTop ? 'bottom' : 'top',
            topOrBottom = isTop ? 'top' : 'bottom';

        css[mrgn] = 0;

        css['bottom'] = 'auto';
        if (isTop) {
          css['top'] = 0;
        } else {
          css['top'] = anchorPt;
        }

        this.isStuck = false;
        this.$element.removeClass('is-stuck is-at-' + stickTo).addClass('is-anchored is-at-' + topOrBottom).css(css)
        /**
         * Fires when the $element has become anchored.
         * Namespaced to `top` or `bottom`, e.g. `sticky.zf.unstuckfrom:bottom`
         * @event Sticky#unstuckfrom
         */
        .trigger('sticky.zf.unstuckfrom:' + topOrBottom);
      }

      /**
       * Sets the $element and $container sizes for plugin.
       * Calls `_setBreakPoints`.
       * @param {Function} cb - optional callback function to fire on completion of `_setBreakPoints`.
       * @private
       */

    }, {
      key: '_setSizes',
      value: function _setSizes(cb) {
        this.canStick = Foundation.MediaQuery.is(this.options.stickyOn);
        if (!this.canStick) {
          if (cb && typeof cb === 'function') {
            cb();
          }
        }
        var _this = this,
            newElemWidth = this.$container[0].getBoundingClientRect().width,
            comp = window.getComputedStyle(this.$container[0]),
            pdngl = parseInt(comp['padding-left'], 10),
            pdngr = parseInt(comp['padding-right'], 10);

        if (this.$anchor && this.$anchor.length) {
          this.anchorHeight = this.$anchor[0].getBoundingClientRect().height;
        } else {
          this._parsePoints();
        }

        this.$element.css({
          'max-width': newElemWidth - pdngl - pdngr + 'px'
        });

        var newContainerHeight = this.$element[0].getBoundingClientRect().height || this.containerHeight;
        if (this.$element.css("display") == "none") {
          newContainerHeight = 0;
        }
        this.containerHeight = newContainerHeight;
        this.$container.css({
          height: newContainerHeight
        });
        this.elemHeight = newContainerHeight;

        if (!this.isStuck) {
          if (this.$element.hasClass('is-at-bottom')) {
            var anchorPt = (this.points ? this.points[1] - this.$container.offset().top : this.anchorHeight) - this.elemHeight;
            this.$element.css('top', anchorPt);
          }
        }

        this._setBreakPoints(newContainerHeight, function () {
          if (cb && typeof cb === 'function') {
            cb();
          }
        });
      }

      /**
       * Sets the upper and lower breakpoints for the element to become sticky/unsticky.
       * @param {Number} elemHeight - px value for sticky.$element height, calculated by `_setSizes`.
       * @param {Function} cb - optional callback function to be called on completion.
       * @private
       */

    }, {
      key: '_setBreakPoints',
      value: function _setBreakPoints(elemHeight, cb) {
        if (!this.canStick) {
          if (cb && typeof cb === 'function') {
            cb();
          } else {
            return false;
          }
        }
        var mTop = emCalc(this.options.marginTop),
            mBtm = emCalc(this.options.marginBottom),
            topPoint = this.points ? this.points[0] : this.$anchor.offset().top,
            bottomPoint = this.points ? this.points[1] : topPoint + this.anchorHeight,

        // topPoint = this.$anchor.offset().top || this.points[0],
        // bottomPoint = topPoint + this.anchorHeight || this.points[1],
        winHeight = window.innerHeight;

        if (this.options.stickTo === 'top') {
          topPoint -= mTop;
          bottomPoint -= elemHeight + mTop;
        } else if (this.options.stickTo === 'bottom') {
          topPoint -= winHeight - (elemHeight + mBtm);
          bottomPoint -= winHeight - mBtm;
        } else {
          //this would be the stickTo: both option... tricky
        }

        this.topPoint = topPoint;
        this.bottomPoint = bottomPoint;

        if (cb && typeof cb === 'function') {
          cb();
        }
      }

      /**
       * Destroys the current sticky element.
       * Resets the element to the top position first.
       * Removes event listeners, JS-added css properties and classes, and unwraps the $element if the JS added the $container.
       * @function
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        this._removeSticky(true);

        this.$element.removeClass(this.options.stickyClass + ' is-anchored is-at-top').css({
          height: '',
          top: '',
          bottom: '',
          'max-width': ''
        }).off('resizeme.zf.trigger');
        if (this.$anchor && this.$anchor.length) {
          this.$anchor.off('change.zf.sticky');
        }
        $(window).off(this.scrollListener);

        if (this.wasWrapped) {
          this.$element.unwrap();
        } else {
          this.$container.removeClass(this.options.containerClass).css({
            height: ''
          });
        }
        Foundation.unregisterPlugin(this);
      }
    }]);

    return Sticky;
  }();

  Sticky.defaults = {
    /**
     * Customizable container template. Add your own classes for styling and sizing.
     * @option
     * @type {string}
     * @default '&lt;div data-sticky-container&gt;&lt;/div&gt;'
     */
    container: '<div data-sticky-container></div>',
    /**
     * Location in the view the element sticks to. Can be `'top'` or `'bottom'`.
     * @option
     * @type {string}
     * @default 'top'
     */
    stickTo: 'top',
    /**
     * If anchored to a single element, the id of that element.
     * @option
     * @type {string}
     * @default ''
     */
    anchor: '',
    /**
     * If using more than one element as anchor points, the id of the top anchor.
     * @option
     * @type {string}
     * @default ''
     */
    topAnchor: '',
    /**
     * If using more than one element as anchor points, the id of the bottom anchor.
     * @option
     * @type {string}
     * @default ''
     */
    btmAnchor: '',
    /**
     * Margin, in `em`'s to apply to the top of the element when it becomes sticky.
     * @option
     * @type {number}
     * @default 1
     */
    marginTop: 1,
    /**
     * Margin, in `em`'s to apply to the bottom of the element when it becomes sticky.
     * @option
     * @type {number}
     * @default 1
     */
    marginBottom: 1,
    /**
     * Breakpoint string that is the minimum screen size an element should become sticky.
     * @option
     * @type {string}
     * @default 'medium'
     */
    stickyOn: 'medium',
    /**
     * Class applied to sticky element, and removed on destruction. Foundation defaults to `sticky`.
     * @option
     * @type {string}
     * @default 'sticky'
     */
    stickyClass: 'sticky',
    /**
     * Class applied to sticky container. Foundation defaults to `sticky-container`.
     * @option
     * @type {string}
     * @default 'sticky-container'
     */
    containerClass: 'sticky-container',
    /**
     * Number of scroll events between the plugin's recalculating sticky points. Setting it to `0` will cause it to recalc every scroll event, setting it to `-1` will prevent recalc on scroll.
     * @option
     * @type {number}
     * @default -1
     */
    checkEvery: -1
  };

  /**
   * Helper function to calculate em values
   * @param Number {em} - number of em's to calculate into pixels
   */
  function emCalc(em) {
    return parseInt(window.getComputedStyle(document.body, null).fontSize, 10) * em;
  }

  // Window exports
  Foundation.plugin(Sticky, 'Sticky');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * Tabs module.
   * @module foundation.tabs
   * @requires foundation.util.keyboard
   * @requires foundation.util.timerAndImageLoader if tabs contain images
   */

  var Tabs = function () {
    /**
     * Creates a new instance of tabs.
     * @class
     * @fires Tabs#init
     * @param {jQuery} element - jQuery object to make into tabs.
     * @param {Object} options - Overrides to the default plugin settings.
     */
    function Tabs(element, options) {
      _classCallCheck(this, Tabs);

      this.$element = element;
      this.options = $.extend({}, Tabs.defaults, this.$element.data(), options);

      this._init();
      Foundation.registerPlugin(this, 'Tabs');
      Foundation.Keyboard.register('Tabs', {
        'ENTER': 'open',
        'SPACE': 'open',
        'ARROW_RIGHT': 'next',
        'ARROW_UP': 'previous',
        'ARROW_DOWN': 'next',
        'ARROW_LEFT': 'previous'
        // 'TAB': 'next',
        // 'SHIFT_TAB': 'previous'
      });
    }

    /**
     * Initializes the tabs by showing and focusing (if autoFocus=true) the preset active tab.
     * @private
     */


    _createClass(Tabs, [{
      key: '_init',
      value: function _init() {
        var _this2 = this;

        var _this = this;

        this.$element.attr({ 'role': 'tablist' });
        this.$tabTitles = this.$element.find('.' + this.options.linkClass);
        this.$tabContent = $('[data-tabs-content="' + this.$element[0].id + '"]');

        this.$tabTitles.each(function () {
          var $elem = $(this),
              $link = $elem.find('a'),
              isActive = $elem.hasClass('' + _this.options.linkActiveClass),
              hash = $link[0].hash.slice(1),
              linkId = $link[0].id ? $link[0].id : hash + '-label',
              $tabContent = $('#' + hash);

          $elem.attr({ 'role': 'presentation' });

          $link.attr({
            'role': 'tab',
            'aria-controls': hash,
            'aria-selected': isActive,
            'id': linkId
          });

          $tabContent.attr({
            'role': 'tabpanel',
            'aria-hidden': !isActive,
            'aria-labelledby': linkId
          });

          if (isActive && _this.options.autoFocus) {
            $(window).load(function () {
              $('html, body').animate({ scrollTop: $elem.offset().top }, _this.options.deepLinkSmudgeDelay, function () {
                $link.focus();
              });
            });
          }
        });
        if (this.options.matchHeight) {
          var $images = this.$tabContent.find('img');

          if ($images.length) {
            Foundation.onImagesLoaded($images, this._setHeight.bind(this));
          } else {
            this._setHeight();
          }
        }

        //current context-bound function to open tabs on page load or history popstate
        this._checkDeepLink = function () {
          var anchor = window.location.hash;
          //need a hash and a relevant anchor in this tabset
          if (anchor.length) {
            var $link = _this2.$element.find('[href="' + anchor + '"]');
            if ($link.length) {
              _this2.selectTab($(anchor), true);

              //roll up a little to show the titles
              if (_this2.options.deepLinkSmudge) {
                var offset = _this2.$element.offset();
                $('html, body').animate({ scrollTop: offset.top }, _this2.options.deepLinkSmudgeDelay);
              }

              /**
                * Fires when the zplugin has deeplinked at pageload
                * @event Tabs#deeplink
                */
              _this2.$element.trigger('deeplink.zf.tabs', [$link, $(anchor)]);
            }
          }
        };

        //use browser to open a tab, if it exists in this tabset
        if (this.options.deepLink) {
          this._checkDeepLink();
        }

        this._events();
      }

      /**
       * Adds event handlers for items within the tabs.
       * @private
       */

    }, {
      key: '_events',
      value: function _events() {
        this._addKeyHandler();
        this._addClickHandler();
        this._setHeightMqHandler = null;

        if (this.options.matchHeight) {
          this._setHeightMqHandler = this._setHeight.bind(this);

          $(window).on('changed.zf.mediaquery', this._setHeightMqHandler);
        }

        if (this.options.deepLink) {
          $(window).on('popstate', this._checkDeepLink);
        }
      }

      /**
       * Adds click handlers for items within the tabs.
       * @private
       */

    }, {
      key: '_addClickHandler',
      value: function _addClickHandler() {
        var _this = this;

        this.$element.off('click.zf.tabs').on('click.zf.tabs', '.' + this.options.linkClass, function (e) {
          e.preventDefault();
          e.stopPropagation();
          _this._handleTabChange($(this));
        });
      }

      /**
       * Adds keyboard event handlers for items within the tabs.
       * @private
       */

    }, {
      key: '_addKeyHandler',
      value: function _addKeyHandler() {
        var _this = this;

        this.$tabTitles.off('keydown.zf.tabs').on('keydown.zf.tabs', function (e) {
          if (e.which === 9) return;

          var $element = $(this),
              $elements = $element.parent('ul').children('li'),
              $prevElement,
              $nextElement;

          $elements.each(function (i) {
            if ($(this).is($element)) {
              if (_this.options.wrapOnKeys) {
                $prevElement = i === 0 ? $elements.last() : $elements.eq(i - 1);
                $nextElement = i === $elements.length - 1 ? $elements.first() : $elements.eq(i + 1);
              } else {
                $prevElement = $elements.eq(Math.max(0, i - 1));
                $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1));
              }
              return;
            }
          });

          // handle keyboard event with keyboard util
          Foundation.Keyboard.handleKey(e, 'Tabs', {
            open: function () {
              $element.find('[role="tab"]').focus();
              _this._handleTabChange($element);
            },
            previous: function () {
              $prevElement.find('[role="tab"]').focus();
              _this._handleTabChange($prevElement);
            },
            next: function () {
              $nextElement.find('[role="tab"]').focus();
              _this._handleTabChange($nextElement);
            },
            handled: function () {
              e.stopPropagation();
              e.preventDefault();
            }
          });
        });
      }

      /**
       * Opens the tab `$targetContent` defined by `$target`. Collapses active tab.
       * @param {jQuery} $target - Tab to open.
       * @param {boolean} historyHandled - browser has already handled a history update
       * @fires Tabs#change
       * @function
       */

    }, {
      key: '_handleTabChange',
      value: function _handleTabChange($target, historyHandled) {

        /**
         * Check for active class on target. Collapse if exists.
         */
        if ($target.hasClass('' + this.options.linkActiveClass)) {
          if (this.options.activeCollapse) {
            this._collapseTab($target);

            /**
             * Fires when the zplugin has successfully collapsed tabs.
             * @event Tabs#collapse
             */
            this.$element.trigger('collapse.zf.tabs', [$target]);
          }
          return;
        }

        var $oldTab = this.$element.find('.' + this.options.linkClass + '.' + this.options.linkActiveClass),
            $tabLink = $target.find('[role="tab"]'),
            hash = $tabLink[0].hash,
            $targetContent = this.$tabContent.find(hash);

        //close old tab
        this._collapseTab($oldTab);

        //open new tab
        this._openTab($target);

        //either replace or update browser history
        if (this.options.deepLink && !historyHandled) {
          var anchor = $target.find('a').attr('href');

          if (this.options.updateHistory) {
            history.pushState({}, '', anchor);
          } else {
            history.replaceState({}, '', anchor);
          }
        }

        /**
         * Fires when the plugin has successfully changed tabs.
         * @event Tabs#change
         */
        this.$element.trigger('change.zf.tabs', [$target, $targetContent]);

        //fire to children a mutation event
        $targetContent.find("[data-mutate]").trigger("mutateme.zf.trigger");
      }

      /**
       * Opens the tab `$targetContent` defined by `$target`.
       * @param {jQuery} $target - Tab to Open.
       * @function
       */

    }, {
      key: '_openTab',
      value: function _openTab($target) {
        var $tabLink = $target.find('[role="tab"]'),
            hash = $tabLink[0].hash,
            $targetContent = this.$tabContent.find(hash);

        $target.addClass('' + this.options.linkActiveClass);

        $tabLink.attr({ 'aria-selected': 'true' });

        $targetContent.addClass('' + this.options.panelActiveClass).attr({ 'aria-hidden': 'false' });
      }

      /**
       * Collapses `$targetContent` defined by `$target`.
       * @param {jQuery} $target - Tab to Open.
       * @function
       */

    }, {
      key: '_collapseTab',
      value: function _collapseTab($target) {
        var $target_anchor = $target.removeClass('' + this.options.linkActiveClass).find('[role="tab"]').attr({ 'aria-selected': 'false' });

        $('#' + $target_anchor.attr('aria-controls')).removeClass('' + this.options.panelActiveClass).attr({ 'aria-hidden': 'true' });
      }

      /**
       * Public method for selecting a content pane to display.
       * @param {jQuery | String} elem - jQuery object or string of the id of the pane to display.
       * @param {boolean} historyHandled - browser has already handled a history update
       * @function
       */

    }, {
      key: 'selectTab',
      value: function selectTab(elem, historyHandled) {
        var idStr;

        if (typeof elem === 'object') {
          idStr = elem[0].id;
        } else {
          idStr = elem;
        }

        if (idStr.indexOf('#') < 0) {
          idStr = '#' + idStr;
        }

        var $target = this.$tabTitles.find('[href="' + idStr + '"]').parent('.' + this.options.linkClass);

        this._handleTabChange($target, historyHandled);
      }
    }, {
      key: '_setHeight',

      /**
       * Sets the height of each panel to the height of the tallest panel.
       * If enabled in options, gets called on media query change.
       * If loading content via external source, can be called directly or with _reflow.
       * If enabled with `data-match-height="true"`, tabs sets to equal height
       * @function
       * @private
       */
      value: function _setHeight() {
        var max = 0,
            _this = this; // Lock down the `this` value for the root tabs object

        this.$tabContent.find('.' + this.options.panelClass).css('height', '').each(function () {

          var panel = $(this),
              isActive = panel.hasClass('' + _this.options.panelActiveClass); // get the options from the parent instead of trying to get them from the child

          if (!isActive) {
            panel.css({ 'visibility': 'hidden', 'display': 'block' });
          }

          var temp = this.getBoundingClientRect().height;

          if (!isActive) {
            panel.css({
              'visibility': '',
              'display': ''
            });
          }

          max = temp > max ? temp : max;
        }).css('height', max + 'px');
      }

      /**
       * Destroys an instance of an tabs.
       * @fires Tabs#destroyed
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        this.$element.find('.' + this.options.linkClass).off('.zf.tabs').hide().end().find('.' + this.options.panelClass).hide();

        if (this.options.matchHeight) {
          if (this._setHeightMqHandler != null) {
            $(window).off('changed.zf.mediaquery', this._setHeightMqHandler);
          }
        }

        if (this.options.deepLink) {
          $(window).off('popstate', this._checkDeepLink);
        }

        Foundation.unregisterPlugin(this);
      }
    }]);

    return Tabs;
  }();

  Tabs.defaults = {
    /**
     * Allows the window to scroll to content of pane specified by hash anchor
     * @option
     * @type {boolean}
     * @default false
     */
    deepLink: false,

    /**
     * Adjust the deep link scroll to make sure the top of the tab panel is visible
     * @option
     * @type {boolean}
     * @default false
     */
    deepLinkSmudge: false,

    /**
     * Animation time (ms) for the deep link adjustment
     * @option
     * @type {number}
     * @default 300
     */
    deepLinkSmudgeDelay: 300,

    /**
     * Update the browser history with the open tab
     * @option
     * @type {boolean}
     * @default false
     */
    updateHistory: false,

    /**
     * Allows the window to scroll to content of active pane on load if set to true.
     * Not recommended if more than one tab panel per page.
     * @option
     * @type {boolean}
     * @default false
     */
    autoFocus: false,

    /**
     * Allows keyboard input to 'wrap' around the tab links.
     * @option
     * @type {boolean}
     * @default true
     */
    wrapOnKeys: true,

    /**
     * Allows the tab content panes to match heights if set to true.
     * @option
     * @type {boolean}
     * @default false
     */
    matchHeight: false,

    /**
     * Allows active tabs to collapse when clicked.
     * @option
     * @type {boolean}
     * @default false
     */
    activeCollapse: false,

    /**
     * Class applied to `li`'s in tab link list.
     * @option
     * @type {string}
     * @default 'tabs-title'
     */
    linkClass: 'tabs-title',

    /**
     * Class applied to the active `li` in tab link list.
     * @option
     * @type {string}
     * @default 'is-active'
     */
    linkActiveClass: 'is-active',

    /**
     * Class applied to the content containers.
     * @option
     * @type {string}
     * @default 'tabs-panel'
     */
    panelClass: 'tabs-panel',

    /**
     * Class applied to the active content container.
     * @option
     * @type {string}
     * @default 'is-active'
     */
    panelActiveClass: 'is-active'
  };

  // Window exports
  Foundation.plugin(Tabs, 'Tabs');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * Toggler module.
   * @module foundation.toggler
   * @requires foundation.util.motion
   * @requires foundation.util.triggers
   */

  var Toggler = function () {
    /**
     * Creates a new instance of Toggler.
     * @class
     * @fires Toggler#init
     * @param {Object} element - jQuery object to add the trigger to.
     * @param {Object} options - Overrides to the default plugin settings.
     */
    function Toggler(element, options) {
      _classCallCheck(this, Toggler);

      this.$element = element;
      this.options = $.extend({}, Toggler.defaults, element.data(), options);
      this.className = '';

      this._init();
      this._events();

      Foundation.registerPlugin(this, 'Toggler');
    }

    /**
     * Initializes the Toggler plugin by parsing the toggle class from data-toggler, or animation classes from data-animate.
     * @function
     * @private
     */


    _createClass(Toggler, [{
      key: '_init',
      value: function _init() {
        var input;
        // Parse animation classes if they were set
        if (this.options.animate) {
          input = this.options.animate.split(' ');

          this.animationIn = input[0];
          this.animationOut = input[1] || null;
        }
        // Otherwise, parse toggle class
        else {
            input = this.$element.data('toggler');
            // Allow for a . at the beginning of the string
            this.className = input[0] === '.' ? input.slice(1) : input;
          }

        // Add ARIA attributes to triggers
        var id = this.$element[0].id;
        $('[data-open="' + id + '"], [data-close="' + id + '"], [data-toggle="' + id + '"]').attr('aria-controls', id);
        // If the target is hidden, add aria-hidden
        this.$element.attr('aria-expanded', this.$element.is(':hidden') ? false : true);
      }

      /**
       * Initializes events for the toggle trigger.
       * @function
       * @private
       */

    }, {
      key: '_events',
      value: function _events() {
        this.$element.off('toggle.zf.trigger').on('toggle.zf.trigger', this.toggle.bind(this));
      }

      /**
       * Toggles the target class on the target element. An event is fired from the original trigger depending on if the resultant state was "on" or "off".
       * @function
       * @fires Toggler#on
       * @fires Toggler#off
       */

    }, {
      key: 'toggle',
      value: function toggle() {
        this[this.options.animate ? '_toggleAnimate' : '_toggleClass']();
      }
    }, {
      key: '_toggleClass',
      value: function _toggleClass() {
        this.$element.toggleClass(this.className);

        var isOn = this.$element.hasClass(this.className);
        if (isOn) {
          /**
           * Fires if the target element has the class after a toggle.
           * @event Toggler#on
           */
          this.$element.trigger('on.zf.toggler');
        } else {
          /**
           * Fires if the target element does not have the class after a toggle.
           * @event Toggler#off
           */
          this.$element.trigger('off.zf.toggler');
        }

        this._updateARIA(isOn);
        this.$element.find('[data-mutate]').trigger('mutateme.zf.trigger');
      }
    }, {
      key: '_toggleAnimate',
      value: function _toggleAnimate() {
        var _this = this;

        if (this.$element.is(':hidden')) {
          Foundation.Motion.animateIn(this.$element, this.animationIn, function () {
            _this._updateARIA(true);
            this.trigger('on.zf.toggler');
            this.find('[data-mutate]').trigger('mutateme.zf.trigger');
          });
        } else {
          Foundation.Motion.animateOut(this.$element, this.animationOut, function () {
            _this._updateARIA(false);
            this.trigger('off.zf.toggler');
            this.find('[data-mutate]').trigger('mutateme.zf.trigger');
          });
        }
      }
    }, {
      key: '_updateARIA',
      value: function _updateARIA(isOn) {
        this.$element.attr('aria-expanded', isOn ? true : false);
      }

      /**
       * Destroys the instance of Toggler on the element.
       * @function
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        this.$element.off('.zf.toggler');
        Foundation.unregisterPlugin(this);
      }
    }]);

    return Toggler;
  }();

  Toggler.defaults = {
    /**
     * Tells the plugin if the element should animated when toggled.
     * @option
     * @type {boolean}
     * @default false
     */
    animate: false
  };

  // Window exports
  Foundation.plugin(Toggler, 'Toggler');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * Tooltip module.
   * @module foundation.tooltip
   * @requires foundation.util.box
   * @requires foundation.util.mediaQuery
   * @requires foundation.util.triggers
   */

  var Tooltip = function () {
    /**
     * Creates a new instance of a Tooltip.
     * @class
     * @fires Tooltip#init
     * @param {jQuery} element - jQuery object to attach a tooltip to.
     * @param {Object} options - object to extend the default configuration.
     */
    function Tooltip(element, options) {
      _classCallCheck(this, Tooltip);

      this.$element = element;
      this.options = $.extend({}, Tooltip.defaults, this.$element.data(), options);

      this.isActive = false;
      this.isClick = false;
      this._init();

      Foundation.registerPlugin(this, 'Tooltip');
    }

    /**
     * Initializes the tooltip by setting the creating the tip element, adding it's text, setting private variables and setting attributes on the anchor.
     * @private
     */


    _createClass(Tooltip, [{
      key: '_init',
      value: function _init() {
        var elemId = this.$element.attr('aria-describedby') || Foundation.GetYoDigits(6, 'tooltip');

        this.options.positionClass = this.options.positionClass || this._getPositionClass(this.$element);
        this.options.tipText = this.options.tipText || this.$element.attr('title');
        this.template = this.options.template ? $(this.options.template) : this._buildTemplate(elemId);

        if (this.options.allowHtml) {
          this.template.appendTo(document.body).html(this.options.tipText).hide();
        } else {
          this.template.appendTo(document.body).text(this.options.tipText).hide();
        }

        this.$element.attr({
          'title': '',
          'aria-describedby': elemId,
          'data-yeti-box': elemId,
          'data-toggle': elemId,
          'data-resize': elemId
        }).addClass(this.options.triggerClass);

        //helper variables to track movement on collisions
        this.usedPositions = [];
        this.counter = 4;
        this.classChanged = false;

        this._events();
      }

      /**
       * Grabs the current positioning class, if present, and returns the value or an empty string.
       * @private
       */

    }, {
      key: '_getPositionClass',
      value: function _getPositionClass(element) {
        if (!element) {
          return '';
        }
        // var position = element.attr('class').match(/top|left|right/g);
        var position = element[0].className.match(/\b(top|left|right)\b/g);
        position = position ? position[0] : '';
        return position;
      }
    }, {
      key: '_buildTemplate',

      /**
       * builds the tooltip element, adds attributes, and returns the template.
       * @private
       */
      value: function _buildTemplate(id) {
        var templateClasses = (this.options.tooltipClass + ' ' + this.options.positionClass + ' ' + this.options.templateClasses).trim();
        var $template = $('<div></div>').addClass(templateClasses).attr({
          'role': 'tooltip',
          'aria-hidden': true,
          'data-is-active': false,
          'data-is-focus': false,
          'id': id
        });
        return $template;
      }

      /**
       * Function that gets called if a collision event is detected.
       * @param {String} position - positioning class to try
       * @private
       */

    }, {
      key: '_reposition',
      value: function _reposition(position) {
        this.usedPositions.push(position ? position : 'bottom');

        //default, try switching to opposite side
        if (!position && this.usedPositions.indexOf('top') < 0) {
          this.template.addClass('top');
        } else if (position === 'top' && this.usedPositions.indexOf('bottom') < 0) {
          this.template.removeClass(position);
        } else if (position === 'left' && this.usedPositions.indexOf('right') < 0) {
          this.template.removeClass(position).addClass('right');
        } else if (position === 'right' && this.usedPositions.indexOf('left') < 0) {
          this.template.removeClass(position).addClass('left');
        }

        //if default change didn't work, try bottom or left first
        else if (!position && this.usedPositions.indexOf('top') > -1 && this.usedPositions.indexOf('left') < 0) {
            this.template.addClass('left');
          } else if (position === 'top' && this.usedPositions.indexOf('bottom') > -1 && this.usedPositions.indexOf('left') < 0) {
            this.template.removeClass(position).addClass('left');
          } else if (position === 'left' && this.usedPositions.indexOf('right') > -1 && this.usedPositions.indexOf('bottom') < 0) {
            this.template.removeClass(position);
          } else if (position === 'right' && this.usedPositions.indexOf('left') > -1 && this.usedPositions.indexOf('bottom') < 0) {
            this.template.removeClass(position);
          }
          //if nothing cleared, set to bottom
          else {
              this.template.removeClass(position);
            }
        this.classChanged = true;
        this.counter--;
      }

      /**
       * sets the position class of an element and recursively calls itself until there are no more possible positions to attempt, or the tooltip element is no longer colliding.
       * if the tooltip is larger than the screen width, default to full width - any user selected margin
       * @private
       */

    }, {
      key: '_setPosition',
      value: function _setPosition() {
        var position = this._getPositionClass(this.template),
            $tipDims = Foundation.Box.GetDimensions(this.template),
            $anchorDims = Foundation.Box.GetDimensions(this.$element),
            direction = position === 'left' ? 'left' : position === 'right' ? 'left' : 'top',
            param = direction === 'top' ? 'height' : 'width',
            offset = param === 'height' ? this.options.vOffset : this.options.hOffset,
            _this = this;

        if ($tipDims.width >= $tipDims.windowDims.width || !this.counter && !Foundation.Box.ImNotTouchingYou(this.template)) {
          this.template.offset(Foundation.Box.GetOffsets(this.template, this.$element, 'center bottom', this.options.vOffset, this.options.hOffset, true)).css({
            // this.$element.offset(Foundation.GetOffsets(this.template, this.$element, 'center bottom', this.options.vOffset, this.options.hOffset, true)).css({
            'width': $anchorDims.windowDims.width - this.options.hOffset * 2,
            'height': 'auto'
          });
          return false;
        }

        this.template.offset(Foundation.Box.GetOffsets(this.template, this.$element, 'center ' + (position || 'bottom'), this.options.vOffset, this.options.hOffset));

        while (!Foundation.Box.ImNotTouchingYou(this.template) && this.counter) {
          this._reposition(position);
          this._setPosition();
        }
      }

      /**
       * reveals the tooltip, and fires an event to close any other open tooltips on the page
       * @fires Tooltip#closeme
       * @fires Tooltip#show
       * @function
       */

    }, {
      key: 'show',
      value: function show() {
        if (this.options.showOn !== 'all' && !Foundation.MediaQuery.is(this.options.showOn)) {
          // console.error('The screen is too small to display this tooltip');
          return false;
        }

        var _this = this;
        this.template.css('visibility', 'hidden').show();
        this._setPosition();

        /**
         * Fires to close all other open tooltips on the page
         * @event Closeme#tooltip
         */
        this.$element.trigger('closeme.zf.tooltip', this.template.attr('id'));

        this.template.attr({
          'data-is-active': true,
          'aria-hidden': false
        });
        _this.isActive = true;
        // console.log(this.template);
        this.template.stop().hide().css('visibility', '').fadeIn(this.options.fadeInDuration, function () {
          //maybe do stuff?
        });
        /**
         * Fires when the tooltip is shown
         * @event Tooltip#show
         */
        this.$element.trigger('show.zf.tooltip');
      }

      /**
       * Hides the current tooltip, and resets the positioning class if it was changed due to collision
       * @fires Tooltip#hide
       * @function
       */

    }, {
      key: 'hide',
      value: function hide() {
        // console.log('hiding', this.$element.data('yeti-box'));
        var _this = this;
        this.template.stop().attr({
          'aria-hidden': true,
          'data-is-active': false
        }).fadeOut(this.options.fadeOutDuration, function () {
          _this.isActive = false;
          _this.isClick = false;
          if (_this.classChanged) {
            _this.template.removeClass(_this._getPositionClass(_this.template)).addClass(_this.options.positionClass);

            _this.usedPositions = [];
            _this.counter = 4;
            _this.classChanged = false;
          }
        });
        /**
         * fires when the tooltip is hidden
         * @event Tooltip#hide
         */
        this.$element.trigger('hide.zf.tooltip');
      }

      /**
       * adds event listeners for the tooltip and its anchor
       * TODO combine some of the listeners like focus and mouseenter, etc.
       * @private
       */

    }, {
      key: '_events',
      value: function _events() {
        var _this = this;
        var $template = this.template;
        var isFocus = false;

        if (!this.options.disableHover) {

          this.$element.on('mouseenter.zf.tooltip', function (e) {
            if (!_this.isActive) {
              _this.timeout = setTimeout(function () {
                _this.show();
              }, _this.options.hoverDelay);
            }
          }).on('mouseleave.zf.tooltip', function (e) {
            clearTimeout(_this.timeout);
            if (!isFocus || _this.isClick && !_this.options.clickOpen) {
              _this.hide();
            }
          });
        }

        if (this.options.clickOpen) {
          this.$element.on('mousedown.zf.tooltip', function (e) {
            e.stopImmediatePropagation();
            if (_this.isClick) {
              //_this.hide();
              // _this.isClick = false;
            } else {
              _this.isClick = true;
              if ((_this.options.disableHover || !_this.$element.attr('tabindex')) && !_this.isActive) {
                _this.show();
              }
            }
          });
        } else {
          this.$element.on('mousedown.zf.tooltip', function (e) {
            e.stopImmediatePropagation();
            _this.isClick = true;
          });
        }

        if (!this.options.disableForTouch) {
          this.$element.on('tap.zf.tooltip touchend.zf.tooltip', function (e) {
            _this.isActive ? _this.hide() : _this.show();
          });
        }

        this.$element.on({
          // 'toggle.zf.trigger': this.toggle.bind(this),
          // 'close.zf.trigger': this.hide.bind(this)
          'close.zf.trigger': this.hide.bind(this)
        });

        this.$element.on('focus.zf.tooltip', function (e) {
          isFocus = true;
          if (_this.isClick) {
            // If we're not showing open on clicks, we need to pretend a click-launched focus isn't
            // a real focus, otherwise on hover and come back we get bad behavior
            if (!_this.options.clickOpen) {
              isFocus = false;
            }
            return false;
          } else {
            _this.show();
          }
        }).on('focusout.zf.tooltip', function (e) {
          isFocus = false;
          _this.isClick = false;
          _this.hide();
        }).on('resizeme.zf.trigger', function () {
          if (_this.isActive) {
            _this._setPosition();
          }
        });
      }

      /**
       * adds a toggle method, in addition to the static show() & hide() functions
       * @function
       */

    }, {
      key: 'toggle',
      value: function toggle() {
        if (this.isActive) {
          this.hide();
        } else {
          this.show();
        }
      }

      /**
       * Destroys an instance of tooltip, removes template element from the view.
       * @function
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        this.$element.attr('title', this.template.text()).off('.zf.trigger .zf.tooltip').removeClass('has-tip top right left').removeAttr('aria-describedby aria-haspopup data-disable-hover data-resize data-toggle data-tooltip data-yeti-box');

        this.template.remove();

        Foundation.unregisterPlugin(this);
      }
    }]);

    return Tooltip;
  }();

  Tooltip.defaults = {
    disableForTouch: false,
    /**
     * Time, in ms, before a tooltip should open on hover.
     * @option
     * @type {number}
     * @default 200
     */
    hoverDelay: 200,
    /**
     * Time, in ms, a tooltip should take to fade into view.
     * @option
     * @type {number}
     * @default 150
     */
    fadeInDuration: 150,
    /**
     * Time, in ms, a tooltip should take to fade out of view.
     * @option
     * @type {number}
     * @default 150
     */
    fadeOutDuration: 150,
    /**
     * Disables hover events from opening the tooltip if set to true
     * @option
     * @type {boolean}
     * @default false
     */
    disableHover: false,
    /**
     * Optional addtional classes to apply to the tooltip template on init.
     * @option
     * @type {string}
     * @default ''
     */
    templateClasses: '',
    /**
     * Non-optional class added to tooltip templates. Foundation default is 'tooltip'.
     * @option
     * @type {string}
     * @default 'tooltip'
     */
    tooltipClass: 'tooltip',
    /**
     * Class applied to the tooltip anchor element.
     * @option
     * @type {string}
     * @default 'has-tip'
     */
    triggerClass: 'has-tip',
    /**
     * Minimum breakpoint size at which to open the tooltip.
     * @option
     * @type {string}
     * @default 'small'
     */
    showOn: 'small',
    /**
     * Custom template to be used to generate markup for tooltip.
     * @option
     * @type {string}
     * @default ''
     */
    template: '',
    /**
     * Text displayed in the tooltip template on open.
     * @option
     * @type {string}
     * @default ''
     */
    tipText: '',
    touchCloseText: 'Tap to close.',
    /**
     * Allows the tooltip to remain open if triggered with a click or touch event.
     * @option
     * @type {boolean}
     * @default true
     */
    clickOpen: true,
    /**
     * Additional positioning classes, set by the JS
     * @option
     * @type {string}
     * @default ''
     */
    positionClass: '',
    /**
     * Distance, in pixels, the template should push away from the anchor on the Y axis.
     * @option
     * @type {number}
     * @default 10
     */
    vOffset: 10,
    /**
     * Distance, in pixels, the template should push away from the anchor on the X axis, if aligned to a side.
     * @option
     * @type {number}
     * @default 12
     */
    hOffset: 12,
    /**
    * Allow HTML in tooltip. Warning: If you are loading user-generated content into tooltips,
    * allowing HTML may open yourself up to XSS attacks.
    * @option
    * @type {boolean}
    * @default false
    */
    allowHtml: false
  };

  /**
   * TODO utilize resize event trigger
   */

  // Window exports
  Foundation.plugin(Tooltip, 'Tooltip');
}(jQuery);
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

!function ($) {

  /**
   * ResponsiveAccordionTabs module.
   * @module foundation.responsiveAccordionTabs
   * @requires foundation.util.keyboard
   * @requires foundation.util.timerAndImageLoader
   * @requires foundation.util.motion
   * @requires foundation.accordion
   * @requires foundation.tabs
   */

  var ResponsiveAccordionTabs = function () {
    /**
     * Creates a new instance of a responsive accordion tabs.
     * @class
     * @fires ResponsiveAccordionTabs#init
     * @param {jQuery} element - jQuery object to make into a dropdown menu.
     * @param {Object} options - Overrides to the default plugin settings.
     */
    function ResponsiveAccordionTabs(element, options) {
      _classCallCheck(this, ResponsiveAccordionTabs);

      this.$element = $(element);
      this.options = $.extend({}, this.$element.data(), options);
      this.rules = this.$element.data('responsive-accordion-tabs');
      this.currentMq = null;
      this.currentPlugin = null;
      if (!this.$element.attr('id')) {
        this.$element.attr('id', Foundation.GetYoDigits(6, 'responsiveaccordiontabs'));
      };

      this._init();
      this._events();

      Foundation.registerPlugin(this, 'ResponsiveAccordionTabs');
    }

    /**
     * Initializes the Menu by parsing the classes from the 'data-responsive-accordion-tabs' attribute on the element.
     * @function
     * @private
     */


    _createClass(ResponsiveAccordionTabs, [{
      key: '_init',
      value: function _init() {
        // The first time an Interchange plugin is initialized, this.rules is converted from a string of "classes" to an object of rules
        if (typeof this.rules === 'string') {
          var rulesTree = {};

          // Parse rules from "classes" pulled from data attribute
          var rules = this.rules.split(' ');

          // Iterate through every rule found
          for (var i = 0; i < rules.length; i++) {
            var rule = rules[i].split('-');
            var ruleSize = rule.length > 1 ? rule[0] : 'small';
            var rulePlugin = rule.length > 1 ? rule[1] : rule[0];

            if (MenuPlugins[rulePlugin] !== null) {
              rulesTree[ruleSize] = MenuPlugins[rulePlugin];
            }
          }

          this.rules = rulesTree;
        }

        this._getAllOptions();

        if (!$.isEmptyObject(this.rules)) {
          this._checkMediaQueries();
        }
      }
    }, {
      key: '_getAllOptions',
      value: function _getAllOptions() {
        //get all defaults and options
        var _this = this;
        _this.allOptions = {};
        for (var key in MenuPlugins) {
          if (MenuPlugins.hasOwnProperty(key)) {
            var obj = MenuPlugins[key];
            try {
              var dummyPlugin = $('<ul></ul>');
              var tmpPlugin = new obj.plugin(dummyPlugin, _this.options);
              for (var keyKey in tmpPlugin.options) {
                if (tmpPlugin.options.hasOwnProperty(keyKey) && keyKey !== 'zfPlugin') {
                  var objObj = tmpPlugin.options[keyKey];
                  _this.allOptions[keyKey] = objObj;
                }
              }
              tmpPlugin.destroy();
            } catch (e) {}
          }
        }
      }

      /**
       * Initializes events for the Menu.
       * @function
       * @private
       */

    }, {
      key: '_events',
      value: function _events() {
        var _this = this;

        $(window).on('changed.zf.mediaquery', function () {
          _this._checkMediaQueries();
        });
      }

      /**
       * Checks the current screen width against available media queries. If the media query has changed, and the plugin needed has changed, the plugins will swap out.
       * @function
       * @private
       */

    }, {
      key: '_checkMediaQueries',
      value: function _checkMediaQueries() {
        var matchedMq,
            _this = this;
        // Iterate through each rule and find the last matching rule
        $.each(this.rules, function (key) {
          if (Foundation.MediaQuery.atLeast(key)) {
            matchedMq = key;
          }
        });

        // No match? No dice
        if (!matchedMq) return;

        // Plugin already initialized? We good
        if (this.currentPlugin instanceof this.rules[matchedMq].plugin) return;

        // Remove existing plugin-specific CSS classes
        $.each(MenuPlugins, function (key, value) {
          _this.$element.removeClass(value.cssClass);
        });

        // Add the CSS class for the new plugin
        this.$element.addClass(this.rules[matchedMq].cssClass);

        // Create an instance of the new plugin
        if (this.currentPlugin) {
          //don't know why but on nested elements data zfPlugin get's lost
          if (!this.currentPlugin.$element.data('zfPlugin') && this.storezfData) this.currentPlugin.$element.data('zfPlugin', this.storezfData);
          this.currentPlugin.destroy();
        }
        this._handleMarkup(this.rules[matchedMq].cssClass);
        this.currentPlugin = new this.rules[matchedMq].plugin(this.$element, {});
        this.storezfData = this.currentPlugin.$element.data('zfPlugin');
      }
    }, {
      key: '_handleMarkup',
      value: function _handleMarkup(toSet) {
        var _this = this,
            fromString = 'accordion';
        var $panels = $('[data-tabs-content=' + this.$element.attr('id') + ']');
        if ($panels.length) fromString = 'tabs';
        if (fromString === toSet) {
          return;
        };

        var tabsTitle = _this.allOptions.linkClass ? _this.allOptions.linkClass : 'tabs-title';
        var tabsPanel = _this.allOptions.panelClass ? _this.allOptions.panelClass : 'tabs-panel';

        this.$element.removeAttr('role');
        var $liHeads = this.$element.children('.' + tabsTitle + ',[data-accordion-item]').removeClass(tabsTitle).removeClass('accordion-item').removeAttr('data-accordion-item');
        var $liHeadsA = $liHeads.children('a').removeClass('accordion-title');

        if (fromString === 'tabs') {
          $panels = $panels.children('.' + tabsPanel).removeClass(tabsPanel).removeAttr('role').removeAttr('aria-hidden').removeAttr('aria-labelledby');
          $panels.children('a').removeAttr('role').removeAttr('aria-controls').removeAttr('aria-selected');
        } else {
          $panels = $liHeads.children('[data-tab-content]').removeClass('accordion-content');
        };

        $panels.css({ display: '', visibility: '' });
        $liHeads.css({ display: '', visibility: '' });
        if (toSet === 'accordion') {
          $panels.each(function (key, value) {
            $(value).appendTo($liHeads.get(key)).addClass('accordion-content').attr('data-tab-content', '').removeClass('is-active').css({ height: '' });
            $('[data-tabs-content=' + _this.$element.attr('id') + ']').after('<div id="tabs-placeholder-' + _this.$element.attr('id') + '"></div>').remove();
            $liHeads.addClass('accordion-item').attr('data-accordion-item', '');
            $liHeadsA.addClass('accordion-title');
          });
        } else if (toSet === 'tabs') {
          var $tabsContent = $('[data-tabs-content=' + _this.$element.attr('id') + ']');
          var $placeholder = $('#tabs-placeholder-' + _this.$element.attr('id'));
          if ($placeholder.length) {
            $tabsContent = $('<div class="tabs-content"></div>').insertAfter($placeholder).attr('data-tabs-content', _this.$element.attr('id'));
            $placeholder.remove();
          } else {
            $tabsContent = $('<div class="tabs-content"></div>').insertAfter(_this.$element).attr('data-tabs-content', _this.$element.attr('id'));
          };
          $panels.each(function (key, value) {
            var tempValue = $(value).appendTo($tabsContent).addClass(tabsPanel);
            var hash = $liHeadsA.get(key).hash.slice(1);
            var id = $(value).attr('id') || Foundation.GetYoDigits(6, 'accordion');
            if (hash !== id) {
              if (hash !== '') {
                $(value).attr('id', hash);
              } else {
                hash = id;
                $(value).attr('id', hash);
                $($liHeadsA.get(key)).attr('href', $($liHeadsA.get(key)).attr('href').replace('#', '') + '#' + hash);
              };
            };
            var isActive = $($liHeads.get(key)).hasClass('is-active');
            if (isActive) {
              tempValue.addClass('is-active');
            };
          });
          $liHeads.addClass(tabsTitle);
        };
      }

      /**
       * Destroys the instance of the current plugin on this element, as well as the window resize handler that switches the plugins out.
       * @function
       */

    }, {
      key: 'destroy',
      value: function destroy() {
        if (this.currentPlugin) this.currentPlugin.destroy();
        $(window).off('.zf.ResponsiveAccordionTabs');
        Foundation.unregisterPlugin(this);
      }
    }]);

    return ResponsiveAccordionTabs;
  }();

  ResponsiveAccordionTabs.defaults = {};

  // The plugin matches the plugin classes with these plugin instances.
  var MenuPlugins = {
    tabs: {
      cssClass: 'tabs',
      plugin: Foundation._plugins.tabs || null
    },
    accordion: {
      cssClass: 'accordion',
      plugin: Foundation._plugins.accordion || null
    }
  };

  // Window exports
  Foundation.plugin(ResponsiveAccordionTabs, 'ResponsiveAccordionTabs');
}(jQuery);
/**!

 @license
 handlebars v4.5.1

Copyright (C) 2011-2017 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["Handlebars"] = factory();
	else
		root["Handlebars"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;

	var _handlebarsRuntime = __webpack_require__(2);

	var _handlebarsRuntime2 = _interopRequireDefault(_handlebarsRuntime);

	// Compiler imports

	var _handlebarsCompilerAst = __webpack_require__(35);

	var _handlebarsCompilerAst2 = _interopRequireDefault(_handlebarsCompilerAst);

	var _handlebarsCompilerBase = __webpack_require__(36);

	var _handlebarsCompilerCompiler = __webpack_require__(41);

	var _handlebarsCompilerJavascriptCompiler = __webpack_require__(42);

	var _handlebarsCompilerJavascriptCompiler2 = _interopRequireDefault(_handlebarsCompilerJavascriptCompiler);

	var _handlebarsCompilerVisitor = __webpack_require__(39);

	var _handlebarsCompilerVisitor2 = _interopRequireDefault(_handlebarsCompilerVisitor);

	var _handlebarsNoConflict = __webpack_require__(34);

	var _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);

	var _create = _handlebarsRuntime2['default'].create;
	function create() {
	  var hb = _create();

	  hb.compile = function (input, options) {
	    return _handlebarsCompilerCompiler.compile(input, options, hb);
	  };
	  hb.precompile = function (input, options) {
	    return _handlebarsCompilerCompiler.precompile(input, options, hb);
	  };

	  hb.AST = _handlebarsCompilerAst2['default'];
	  hb.Compiler = _handlebarsCompilerCompiler.Compiler;
	  hb.JavaScriptCompiler = _handlebarsCompilerJavascriptCompiler2['default'];
	  hb.Parser = _handlebarsCompilerBase.parser;
	  hb.parse = _handlebarsCompilerBase.parse;
	  hb.parseWithoutProcessing = _handlebarsCompilerBase.parseWithoutProcessing;

	  return hb;
	}

	var inst = create();
	inst.create = create;

	_handlebarsNoConflict2['default'](inst);

	inst.Visitor = _handlebarsCompilerVisitor2['default'];

	inst['default'] = inst;

	exports['default'] = inst;
	module.exports = exports['default'];

/***/ }),
/* 1 */
/***/ (function(module, exports) {

	"use strict";

	exports["default"] = function (obj) {
	  return obj && obj.__esModule ? obj : {
	    "default": obj
	  };
	};

	exports.__esModule = true;

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireWildcard = __webpack_require__(3)['default'];

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;

	var _handlebarsBase = __webpack_require__(4);

	var base = _interopRequireWildcard(_handlebarsBase);

	// Each of these augment the Handlebars object. No need to setup here.
	// (This is done to easily share code between commonjs and browse envs)

	var _handlebarsSafeString = __webpack_require__(21);

	var _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);

	var _handlebarsException = __webpack_require__(6);

	var _handlebarsException2 = _interopRequireDefault(_handlebarsException);

	var _handlebarsUtils = __webpack_require__(5);

	var Utils = _interopRequireWildcard(_handlebarsUtils);

	var _handlebarsRuntime = __webpack_require__(22);

	var runtime = _interopRequireWildcard(_handlebarsRuntime);

	var _handlebarsNoConflict = __webpack_require__(34);

	var _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);

	// For compatibility and usage outside of module systems, make the Handlebars object a namespace
	function create() {
	  var hb = new base.HandlebarsEnvironment();

	  Utils.extend(hb, base);
	  hb.SafeString = _handlebarsSafeString2['default'];
	  hb.Exception = _handlebarsException2['default'];
	  hb.Utils = Utils;
	  hb.escapeExpression = Utils.escapeExpression;

	  hb.VM = runtime;
	  hb.template = function (spec) {
	    return runtime.template(spec, hb);
	  };

	  return hb;
	}

	var inst = create();
	inst.create = create;

	_handlebarsNoConflict2['default'](inst);

	inst['default'] = inst;

	exports['default'] = inst;
	module.exports = exports['default'];

/***/ }),
/* 3 */
/***/ (function(module, exports) {

	"use strict";

	exports["default"] = function (obj) {
	  if (obj && obj.__esModule) {
	    return obj;
	  } else {
	    var newObj = {};

	    if (obj != null) {
	      for (var key in obj) {
	        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
	      }
	    }

	    newObj["default"] = obj;
	    return newObj;
	  }
	};

	exports.__esModule = true;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;
	exports.HandlebarsEnvironment = HandlebarsEnvironment;

	var _utils = __webpack_require__(5);

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	var _helpers = __webpack_require__(10);

	var _decorators = __webpack_require__(18);

	var _logger = __webpack_require__(20);

	var _logger2 = _interopRequireDefault(_logger);

	var VERSION = '4.5.1';
	exports.VERSION = VERSION;
	var COMPILER_REVISION = 8;
	exports.COMPILER_REVISION = COMPILER_REVISION;
	var LAST_COMPATIBLE_COMPILER_REVISION = 7;

	exports.LAST_COMPATIBLE_COMPILER_REVISION = LAST_COMPATIBLE_COMPILER_REVISION;
	var REVISION_CHANGES = {
	  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it
	  2: '== 1.0.0-rc.3',
	  3: '== 1.0.0-rc.4',
	  4: '== 1.x.x',
	  5: '== 2.0.0-alpha.x',
	  6: '>= 2.0.0-beta.1',
	  7: '>= 4.0.0 <4.3.0',
	  8: '>= 4.3.0'
	};

	exports.REVISION_CHANGES = REVISION_CHANGES;
	var objectType = '[object Object]';

	function HandlebarsEnvironment(helpers, partials, decorators) {
	  this.helpers = helpers || {};
	  this.partials = partials || {};
	  this.decorators = decorators || {};

	  _helpers.registerDefaultHelpers(this);
	  _decorators.registerDefaultDecorators(this);
	}

	HandlebarsEnvironment.prototype = {
	  constructor: HandlebarsEnvironment,

	  logger: _logger2['default'],
	  log: _logger2['default'].log,

	  registerHelper: function registerHelper(name, fn) {
	    if (_utils.toString.call(name) === objectType) {
	      if (fn) {
	        throw new _exception2['default']('Arg not supported with multiple helpers');
	      }
	      _utils.extend(this.helpers, name);
	    } else {
	      this.helpers[name] = fn;
	    }
	  },
	  unregisterHelper: function unregisterHelper(name) {
	    delete this.helpers[name];
	  },

	  registerPartial: function registerPartial(name, partial) {
	    if (_utils.toString.call(name) === objectType) {
	      _utils.extend(this.partials, name);
	    } else {
	      if (typeof partial === 'undefined') {
	        throw new _exception2['default']('Attempting to register a partial called "' + name + '" as undefined');
	      }
	      this.partials[name] = partial;
	    }
	  },
	  unregisterPartial: function unregisterPartial(name) {
	    delete this.partials[name];
	  },

	  registerDecorator: function registerDecorator(name, fn) {
	    if (_utils.toString.call(name) === objectType) {
	      if (fn) {
	        throw new _exception2['default']('Arg not supported with multiple decorators');
	      }
	      _utils.extend(this.decorators, name);
	    } else {
	      this.decorators[name] = fn;
	    }
	  },
	  unregisterDecorator: function unregisterDecorator(name) {
	    delete this.decorators[name];
	  }
	};

	var log = _logger2['default'].log;

	exports.log = log;
	exports.createFrame = _utils.createFrame;
	exports.logger = _logger2['default'];

/***/ }),
/* 5 */
/***/ (function(module, exports) {

	'use strict';

	exports.__esModule = true;
	exports.extend = extend;
	exports.indexOf = indexOf;
	exports.escapeExpression = escapeExpression;
	exports.isEmpty = isEmpty;
	exports.createFrame = createFrame;
	exports.blockParams = blockParams;
	exports.appendContextPath = appendContextPath;

	var escape = {
	  '&': '&amp;',
	  '<': '&lt;',
	  '>': '&gt;',
	  '"': '&quot;',
	  "'": '&#x27;',
	  '`': '&#x60;',
	  '=': '&#x3D;'
	};

	var badChars = /[&<>"'`=]/g,
	    possible = /[&<>"'`=]/;

	function escapeChar(chr) {
	  return escape[chr];
	}

	function extend(obj /* , ...source */) {
	  for (var i = 1; i < arguments.length; i++) {
	    for (var key in arguments[i]) {
	      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {
	        obj[key] = arguments[i][key];
	      }
	    }
	  }

	  return obj;
	}

	var toString = Object.prototype.toString;

	exports.toString = toString;
	// Sourced from lodash
	// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt
	/* eslint-disable func-style */
	var isFunction = function isFunction(value) {
	  return typeof value === 'function';
	};
	// fallback for older versions of Chrome and Safari
	/* istanbul ignore next */
	if (isFunction(/x/)) {
	  exports.isFunction = isFunction = function (value) {
	    return typeof value === 'function' && toString.call(value) === '[object Function]';
	  };
	}
	exports.isFunction = isFunction;

	/* eslint-enable func-style */

	/* istanbul ignore next */
	var isArray = Array.isArray || function (value) {
	  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;
	};

	exports.isArray = isArray;
	// Older IE versions do not directly support indexOf so we must implement our own, sadly.

	function indexOf(array, value) {
	  for (var i = 0, len = array.length; i < len; i++) {
	    if (array[i] === value) {
	      return i;
	    }
	  }
	  return -1;
	}

	function escapeExpression(string) {
	  if (typeof string !== 'string') {
	    // don't escape SafeStrings, since they're already safe
	    if (string && string.toHTML) {
	      return string.toHTML();
	    } else if (string == null) {
	      return '';
	    } else if (!string) {
	      return string + '';
	    }

	    // Force a string conversion as this will be done by the append regardless and
	    // the regex test will do this transparently behind the scenes, causing issues if
	    // an object's to string has escaped characters in it.
	    string = '' + string;
	  }

	  if (!possible.test(string)) {
	    return string;
	  }
	  return string.replace(badChars, escapeChar);
	}

	function isEmpty(value) {
	  if (!value && value !== 0) {
	    return true;
	  } else if (isArray(value) && value.length === 0) {
	    return true;
	  } else {
	    return false;
	  }
	}

	function createFrame(object) {
	  var frame = extend({}, object);
	  frame._parent = object;
	  return frame;
	}

	function blockParams(params, ids) {
	  params.path = ids;
	  return params;
	}

	function appendContextPath(contextPath, id) {
	  return (contextPath ? contextPath + '.' : '') + id;
	}

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _Object$defineProperty = __webpack_require__(7)['default'];

	exports.__esModule = true;

	var errorProps = ['description', 'fileName', 'lineNumber', 'endLineNumber', 'message', 'name', 'number', 'stack'];

	function Exception(message, node) {
	  var loc = node && node.loc,
	      line = undefined,
	      endLineNumber = undefined,
	      column = undefined,
	      endColumn = undefined;

	  if (loc) {
	    line = loc.start.line;
	    endLineNumber = loc.end.line;
	    column = loc.start.column;
	    endColumn = loc.end.column;

	    message += ' - ' + line + ':' + column;
	  }

	  var tmp = Error.prototype.constructor.call(this, message);

	  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.
	  for (var idx = 0; idx < errorProps.length; idx++) {
	    this[errorProps[idx]] = tmp[errorProps[idx]];
	  }

	  /* istanbul ignore else */
	  if (Error.captureStackTrace) {
	    Error.captureStackTrace(this, Exception);
	  }

	  try {
	    if (loc) {
	      this.lineNumber = line;
	      this.endLineNumber = endLineNumber;

	      // Work around issue under safari where we can't directly set the column value
	      /* istanbul ignore next */
	      if (_Object$defineProperty) {
	        Object.defineProperty(this, 'column', {
	          value: column,
	          enumerable: true
	        });
	        Object.defineProperty(this, 'endColumn', {
	          value: endColumn,
	          enumerable: true
	        });
	      } else {
	        this.column = column;
	        this.endColumn = endColumn;
	      }
	    }
	  } catch (nop) {
	    /* Ignore if the browser is very particular */
	  }
	}

	Exception.prototype = new Error();

	exports['default'] = Exception;
	module.exports = exports['default'];

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(8), __esModule: true };

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

	var $ = __webpack_require__(9);
	module.exports = function defineProperty(it, key, desc){
	  return $.setDesc(it, key, desc);
	};

/***/ }),
/* 9 */
/***/ (function(module, exports) {

	var $Object = Object;
	module.exports = {
	  create:     $Object.create,
	  getProto:   $Object.getPrototypeOf,
	  isEnum:     {}.propertyIsEnumerable,
	  getDesc:    $Object.getOwnPropertyDescriptor,
	  setDesc:    $Object.defineProperty,
	  setDescs:   $Object.defineProperties,
	  getKeys:    $Object.keys,
	  getNames:   $Object.getOwnPropertyNames,
	  getSymbols: $Object.getOwnPropertySymbols,
	  each:       [].forEach
	};

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;
	exports.registerDefaultHelpers = registerDefaultHelpers;
	exports.moveHelperToHooks = moveHelperToHooks;

	var _helpersBlockHelperMissing = __webpack_require__(11);

	var _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);

	var _helpersEach = __webpack_require__(12);

	var _helpersEach2 = _interopRequireDefault(_helpersEach);

	var _helpersHelperMissing = __webpack_require__(13);

	var _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);

	var _helpersIf = __webpack_require__(14);

	var _helpersIf2 = _interopRequireDefault(_helpersIf);

	var _helpersLog = __webpack_require__(15);

	var _helpersLog2 = _interopRequireDefault(_helpersLog);

	var _helpersLookup = __webpack_require__(16);

	var _helpersLookup2 = _interopRequireDefault(_helpersLookup);

	var _helpersWith = __webpack_require__(17);

	var _helpersWith2 = _interopRequireDefault(_helpersWith);

	function registerDefaultHelpers(instance) {
	  _helpersBlockHelperMissing2['default'](instance);
	  _helpersEach2['default'](instance);
	  _helpersHelperMissing2['default'](instance);
	  _helpersIf2['default'](instance);
	  _helpersLog2['default'](instance);
	  _helpersLookup2['default'](instance);
	  _helpersWith2['default'](instance);
	}

	function moveHelperToHooks(instance, helperName, keepHelper) {
	  if (instance.helpers[helperName]) {
	    instance.hooks[helperName] = instance.helpers[helperName];
	    if (!keepHelper) {
	      delete instance.helpers[helperName];
	    }
	  }
	}

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;

	var _utils = __webpack_require__(5);

	exports['default'] = function (instance) {
	  instance.registerHelper('blockHelperMissing', function (context, options) {
	    var inverse = options.inverse,
	        fn = options.fn;

	    if (context === true) {
	      return fn(this);
	    } else if (context === false || context == null) {
	      return inverse(this);
	    } else if (_utils.isArray(context)) {
	      if (context.length > 0) {
	        if (options.ids) {
	          options.ids = [options.name];
	        }

	        return instance.helpers.each(context, options);
	      } else {
	        return inverse(this);
	      }
	    } else {
	      if (options.data && options.ids) {
	        var data = _utils.createFrame(options.data);
	        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);
	        options = { data: data };
	      }

	      return fn(context, options);
	    }
	  });
	};

	module.exports = exports['default'];

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

	/* WEBPACK VAR INJECTION */(function(global) {'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;

	var _utils = __webpack_require__(5);

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	exports['default'] = function (instance) {
	  instance.registerHelper('each', function (context, options) {
	    if (!options) {
	      throw new _exception2['default']('Must pass iterator to #each');
	    }

	    var fn = options.fn,
	        inverse = options.inverse,
	        i = 0,
	        ret = '',
	        data = undefined,
	        contextPath = undefined;

	    if (options.data && options.ids) {
	      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';
	    }

	    if (_utils.isFunction(context)) {
	      context = context.call(this);
	    }

	    if (options.data) {
	      data = _utils.createFrame(options.data);
	    }

	    function execIteration(field, index, last) {
	      if (data) {
	        data.key = field;
	        data.index = index;
	        data.first = index === 0;
	        data.last = !!last;

	        if (contextPath) {
	          data.contextPath = contextPath + field;
	        }
	      }

	      ret = ret + fn(context[field], {
	        data: data,
	        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])
	      });
	    }

	    if (context && typeof context === 'object') {
	      if (_utils.isArray(context)) {
	        for (var j = context.length; i < j; i++) {
	          if (i in context) {
	            execIteration(i, i, i === context.length - 1);
	          }
	        }
	      } else if (global.Symbol && context[global.Symbol.iterator]) {
	        var newContext = [];
	        var iterator = context[global.Symbol.iterator]();
	        for (var it = iterator.next(); !it.done; it = iterator.next()) {
	          newContext.push(it.value);
	        }
	        context = newContext;
	        for (var j = context.length; i < j; i++) {
	          execIteration(i, i, i === context.length - 1);
	        }
	      } else {
	        var priorKey = undefined;

	        for (var key in context) {
	          if (context.hasOwnProperty(key)) {
	            // We're running the iterations one step out of sync so we can detect
	            // the last iteration without have to scan the object twice and create
	            // an itermediate keys array.
	            if (priorKey !== undefined) {
	              execIteration(priorKey, i - 1);
	            }
	            priorKey = key;
	            i++;
	          }
	        }
	        if (priorKey !== undefined) {
	          execIteration(priorKey, i - 1, true);
	        }
	      }
	    }

	    if (i === 0) {
	      ret = inverse(this);
	    }

	    return ret;
	  });
	};

	module.exports = exports['default'];
	/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	exports['default'] = function (instance) {
	  instance.registerHelper('helperMissing', function () /* [args, ]options */{
	    if (arguments.length === 1) {
	      // A missing field in a {{foo}} construct.
	      return undefined;
	    } else {
	      // Someone is actually trying to call something, blow up.
	      throw new _exception2['default']('Missing helper: "' + arguments[arguments.length - 1].name + '"');
	    }
	  });
	};

	module.exports = exports['default'];

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;

	var _utils = __webpack_require__(5);

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	exports['default'] = function (instance) {
	  instance.registerHelper('if', function (conditional, options) {
	    if (arguments.length != 2) {
	      throw new _exception2['default']('#if requires exactly one argument');
	    }
	    if (_utils.isFunction(conditional)) {
	      conditional = conditional.call(this);
	    }

	    // Default behavior is to render the positive path if the value is truthy and not empty.
	    // The `includeZero` option may be set to treat the condtional as purely not empty based on the
	    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.
	    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {
	      return options.inverse(this);
	    } else {
	      return options.fn(this);
	    }
	  });

	  instance.registerHelper('unless', function (conditional, options) {
	    if (arguments.length != 2) {
	      throw new _exception2['default']('#unless requires exactly one argument');
	    }
	    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });
	  });
	};

	module.exports = exports['default'];

/***/ }),
/* 15 */
/***/ (function(module, exports) {

	'use strict';

	exports.__esModule = true;

	exports['default'] = function (instance) {
	  instance.registerHelper('log', function () /* message, options */{
	    var args = [undefined],
	        options = arguments[arguments.length - 1];
	    for (var i = 0; i < arguments.length - 1; i++) {
	      args.push(arguments[i]);
	    }

	    var level = 1;
	    if (options.hash.level != null) {
	      level = options.hash.level;
	    } else if (options.data && options.data.level != null) {
	      level = options.data.level;
	    }
	    args[0] = level;

	    instance.log.apply(instance, args);
	  });
	};

	module.exports = exports['default'];

/***/ }),
/* 16 */
/***/ (function(module, exports) {

	'use strict';

	exports.__esModule = true;

	exports['default'] = function (instance) {
	  instance.registerHelper('lookup', function (obj, field) {
	    if (!obj) {
	      return obj;
	    }
	    if (field === 'constructor' && !obj.propertyIsEnumerable(field)) {
	      return undefined;
	    }
	    return obj[field];
	  });
	};

	module.exports = exports['default'];

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;

	var _utils = __webpack_require__(5);

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	exports['default'] = function (instance) {
	  instance.registerHelper('with', function (context, options) {
	    if (arguments.length != 2) {
	      throw new _exception2['default']('#with requires exactly one argument');
	    }
	    if (_utils.isFunction(context)) {
	      context = context.call(this);
	    }

	    var fn = options.fn;

	    if (!_utils.isEmpty(context)) {
	      var data = options.data;
	      if (options.data && options.ids) {
	        data = _utils.createFrame(options.data);
	        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);
	      }

	      return fn(context, {
	        data: data,
	        blockParams: _utils.blockParams([context], [data && data.contextPath])
	      });
	    } else {
	      return options.inverse(this);
	    }
	  });
	};

	module.exports = exports['default'];

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;
	exports.registerDefaultDecorators = registerDefaultDecorators;

	var _decoratorsInline = __webpack_require__(19);

	var _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);

	function registerDefaultDecorators(instance) {
	  _decoratorsInline2['default'](instance);
	}

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;

	var _utils = __webpack_require__(5);

	exports['default'] = function (instance) {
	  instance.registerDecorator('inline', function (fn, props, container, options) {
	    var ret = fn;
	    if (!props.partials) {
	      props.partials = {};
	      ret = function (context, options) {
	        // Create a new partials stack frame prior to exec.
	        var original = container.partials;
	        container.partials = _utils.extend({}, original, props.partials);
	        var ret = fn(context, options);
	        container.partials = original;
	        return ret;
	      };
	    }

	    props.partials[options.args[0]] = options.fn;

	    return ret;
	  });
	};

	module.exports = exports['default'];

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;

	var _utils = __webpack_require__(5);

	var logger = {
	  methodMap: ['debug', 'info', 'warn', 'error'],
	  level: 'info',

	  // Maps a given level value to the `methodMap` indexes above.
	  lookupLevel: function lookupLevel(level) {
	    if (typeof level === 'string') {
	      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());
	      if (levelMap >= 0) {
	        level = levelMap;
	      } else {
	        level = parseInt(level, 10);
	      }
	    }

	    return level;
	  },

	  // Can be overridden in the host environment
	  log: function log(level) {
	    level = logger.lookupLevel(level);

	    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {
	      var method = logger.methodMap[level];
	      if (!console[method]) {
	        // eslint-disable-line no-console
	        method = 'log';
	      }

	      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
	        message[_key - 1] = arguments[_key];
	      }

	      console[method].apply(console, message); // eslint-disable-line no-console
	    }
	  }
	};

	exports['default'] = logger;
	module.exports = exports['default'];

/***/ }),
/* 21 */
/***/ (function(module, exports) {

	// Build out our basic SafeString type
	'use strict';

	exports.__esModule = true;
	function SafeString(string) {
	  this.string = string;
	}

	SafeString.prototype.toString = SafeString.prototype.toHTML = function () {
	  return '' + this.string;
	};

	exports['default'] = SafeString;
	module.exports = exports['default'];

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _Object$seal = __webpack_require__(23)['default'];

	var _interopRequireWildcard = __webpack_require__(3)['default'];

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;
	exports.checkRevision = checkRevision;
	exports.template = template;
	exports.wrapProgram = wrapProgram;
	exports.resolvePartial = resolvePartial;
	exports.invokePartial = invokePartial;
	exports.noop = noop;

	var _utils = __webpack_require__(5);

	var Utils = _interopRequireWildcard(_utils);

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	var _base = __webpack_require__(4);

	var _helpers = __webpack_require__(10);

	function checkRevision(compilerInfo) {
	  var compilerRevision = compilerInfo && compilerInfo[0] || 1,
	      currentRevision = _base.COMPILER_REVISION;

	  if (compilerRevision >= _base.LAST_COMPATIBLE_COMPILER_REVISION && compilerRevision <= _base.COMPILER_REVISION) {
	    return;
	  }

	  if (compilerRevision < _base.LAST_COMPATIBLE_COMPILER_REVISION) {
	    var runtimeVersions = _base.REVISION_CHANGES[currentRevision],
	        compilerVersions = _base.REVISION_CHANGES[compilerRevision];
	    throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');
	  } else {
	    // Use the embedded version info since the runtime doesn't know about this revision yet
	    throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');
	  }
	}

	function template(templateSpec, env) {

	  /* istanbul ignore next */
	  if (!env) {
	    throw new _exception2['default']('No environment passed to template');
	  }
	  if (!templateSpec || !templateSpec.main) {
	    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);
	  }

	  templateSpec.main.decorator = templateSpec.main_d;

	  // Note: Using env.VM references rather than local var references throughout this section to allow
	  // for external users to override these as pseudo-supported APIs.
	  env.VM.checkRevision(templateSpec.compiler);

	  // backwards compatibility for precompiled templates with compiler-version 7 (<4.3.0)
	  var templateWasPrecompiledWithCompilerV7 = templateSpec.compiler && templateSpec.compiler[0] === 7;

	  function invokePartialWrapper(partial, context, options) {
	    if (options.hash) {
	      context = Utils.extend({}, context, options.hash);
	      if (options.ids) {
	        options.ids[0] = true;
	      }
	    }
	    partial = env.VM.resolvePartial.call(this, partial, context, options);

	    var optionsWithHooks = Utils.extend({}, options, { hooks: this.hooks });

	    var result = env.VM.invokePartial.call(this, partial, context, optionsWithHooks);

	    if (result == null && env.compile) {
	      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);
	      result = options.partials[options.name](context, optionsWithHooks);
	    }
	    if (result != null) {
	      if (options.indent) {
	        var lines = result.split('\n');
	        for (var i = 0, l = lines.length; i < l; i++) {
	          if (!lines[i] && i + 1 === l) {
	            break;
	          }

	          lines[i] = options.indent + lines[i];
	        }
	        result = lines.join('\n');
	      }
	      return result;
	    } else {
	      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');
	    }
	  }

	  // Just add water
	  var container = {
	    strict: function strict(obj, name, loc) {
	      if (!obj || !(name in obj)) {
	        throw new _exception2['default']('"' + name + '" not defined in ' + obj, { loc: loc });
	      }
	      return obj[name];
	    },
	    lookup: function lookup(depths, name) {
	      var len = depths.length;
	      for (var i = 0; i < len; i++) {
	        if (depths[i] && depths[i][name] != null) {
	          return depths[i][name];
	        }
	      }
	    },
	    lambda: function lambda(current, context) {
	      return typeof current === 'function' ? current.call(context) : current;
	    },

	    escapeExpression: Utils.escapeExpression,
	    invokePartial: invokePartialWrapper,

	    fn: function fn(i) {
	      var ret = templateSpec[i];
	      ret.decorator = templateSpec[i + '_d'];
	      return ret;
	    },

	    programs: [],
	    program: function program(i, data, declaredBlockParams, blockParams, depths) {
	      var programWrapper = this.programs[i],
	          fn = this.fn(i);
	      if (data || depths || blockParams || declaredBlockParams) {
	        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);
	      } else if (!programWrapper) {
	        programWrapper = this.programs[i] = wrapProgram(this, i, fn);
	      }
	      return programWrapper;
	    },

	    data: function data(value, depth) {
	      while (value && depth--) {
	        value = value._parent;
	      }
	      return value;
	    },
	    // An empty object to use as replacement for null-contexts
	    nullContext: _Object$seal({}),

	    noop: env.VM.noop,
	    compilerInfo: templateSpec.compiler
	  };

	  function ret(context) {
	    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

	    var data = options.data;

	    ret._setup(options);
	    if (!options.partial && templateSpec.useData) {
	      data = initData(context, data);
	    }
	    var depths = undefined,
	        blockParams = templateSpec.useBlockParams ? [] : undefined;
	    if (templateSpec.useDepths) {
	      if (options.depths) {
	        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;
	      } else {
	        depths = [context];
	      }
	    }

	    function main(context /*, options*/) {
	      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);
	    }
	    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);
	    return main(context, options);
	  }
	  ret.isTop = true;

	  ret._setup = function (options) {
	    if (!options.partial) {
	      container.helpers = Utils.extend({}, env.helpers, options.helpers);

	      if (templateSpec.usePartial) {
	        container.partials = Utils.extend({}, env.partials, options.partials);
	      }
	      if (templateSpec.usePartial || templateSpec.useDecorators) {
	        container.decorators = Utils.extend({}, env.decorators, options.decorators);
	      }

	      container.hooks = {};

	      var keepHelperInHelpers = options.allowCallsToHelperMissing || templateWasPrecompiledWithCompilerV7;
	      _helpers.moveHelperToHooks(container, 'helperMissing', keepHelperInHelpers);
	      _helpers.moveHelperToHooks(container, 'blockHelperMissing', keepHelperInHelpers);
	    } else {
	      container.helpers = options.helpers;
	      container.partials = options.partials;
	      container.decorators = options.decorators;
	      container.hooks = options.hooks;
	    }
	  };

	  ret._child = function (i, data, blockParams, depths) {
	    if (templateSpec.useBlockParams && !blockParams) {
	      throw new _exception2['default']('must pass block params');
	    }
	    if (templateSpec.useDepths && !depths) {
	      throw new _exception2['default']('must pass parent depths');
	    }

	    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);
	  };
	  return ret;
	}

	function wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {
	  function prog(context) {
	    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

	    var currentDepths = depths;
	    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {
	      currentDepths = [context].concat(depths);
	    }

	    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);
	  }

	  prog = executeDecorators(fn, prog, container, depths, data, blockParams);

	  prog.program = i;
	  prog.depth = depths ? depths.length : 0;
	  prog.blockParams = declaredBlockParams || 0;
	  return prog;
	}

	/**
	 * This is currently part of the official API, therefore implementation details should not be changed.
	 */

	function resolvePartial(partial, context, options) {
	  if (!partial) {
	    if (options.name === '@partial-block') {
	      partial = options.data['partial-block'];
	    } else {
	      partial = options.partials[options.name];
	    }
	  } else if (!partial.call && !options.name) {
	    // This is a dynamic partial that returned a string
	    options.name = partial;
	    partial = options.partials[partial];
	  }
	  return partial;
	}

	function invokePartial(partial, context, options) {
	  // Use the current closure context to save the partial-block if this partial
	  var currentPartialBlock = options.data && options.data['partial-block'];
	  options.partial = true;
	  if (options.ids) {
	    options.data.contextPath = options.ids[0] || options.data.contextPath;
	  }

	  var partialBlock = undefined;
	  if (options.fn && options.fn !== noop) {
	    (function () {
	      options.data = _base.createFrame(options.data);
	      // Wrapper function to get access to currentPartialBlock from the closure
	      var fn = options.fn;
	      partialBlock = options.data['partial-block'] = function partialBlockWrapper(context) {
	        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

	        // Restore the partial-block from the closure for the execution of the block
	        // i.e. the part inside the block of the partial call.
	        options.data = _base.createFrame(options.data);
	        options.data['partial-block'] = currentPartialBlock;
	        return fn(context, options);
	      };
	      if (fn.partials) {
	        options.partials = Utils.extend({}, options.partials, fn.partials);
	      }
	    })();
	  }

	  if (partial === undefined && partialBlock) {
	    partial = partialBlock;
	  }

	  if (partial === undefined) {
	    throw new _exception2['default']('The partial ' + options.name + ' could not be found');
	  } else if (partial instanceof Function) {
	    return partial(context, options);
	  }
	}

	function noop() {
	  return '';
	}

	function initData(context, data) {
	  if (!data || !('root' in data)) {
	    data = data ? _base.createFrame(data) : {};
	    data.root = context;
	  }
	  return data;
	}

	function executeDecorators(fn, prog, container, depths, data, blockParams) {
	  if (fn.decorator) {
	    var props = {};
	    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);
	    Utils.extend(prog, props);
	  }
	  return prog;
	}

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(24), __esModule: true };

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

	__webpack_require__(25);
	module.exports = __webpack_require__(30).Object.seal;

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

	// 19.1.2.17 Object.seal(O)
	var isObject = __webpack_require__(26);

	__webpack_require__(27)('seal', function($seal){
	  return function seal(it){
	    return $seal && isObject(it) ? $seal(it) : it;
	  };
	});

/***/ }),
/* 26 */
/***/ (function(module, exports) {

	module.exports = function(it){
	  return typeof it === 'object' ? it !== null : typeof it === 'function';
	};

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

	// most Object methods by ES6 should accept primitives
	var $export = __webpack_require__(28)
	  , core    = __webpack_require__(30)
	  , fails   = __webpack_require__(33);
	module.exports = function(KEY, exec){
	  var fn  = (core.Object || {})[KEY] || Object[KEY]
	    , exp = {};
	  exp[KEY] = exec(fn);
	  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);
	};

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

	var global    = __webpack_require__(29)
	  , core      = __webpack_require__(30)
	  , ctx       = __webpack_require__(31)
	  , PROTOTYPE = 'prototype';

	var $export = function(type, name, source){
	  var IS_FORCED = type & $export.F
	    , IS_GLOBAL = type & $export.G
	    , IS_STATIC = type & $export.S
	    , IS_PROTO  = type & $export.P
	    , IS_BIND   = type & $export.B
	    , IS_WRAP   = type & $export.W
	    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})
	    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]
	    , key, own, out;
	  if(IS_GLOBAL)source = name;
	  for(key in source){
	    // contains in native
	    own = !IS_FORCED && target && key in target;
	    if(own && key in exports)continue;
	    // export native or passed
	    out = own ? target[key] : source[key];
	    // prevent global pollution for namespaces
	    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]
	    // bind timers to global for call from export context
	    : IS_BIND && own ? ctx(out, global)
	    // wrap global constructors for prevent change them in library
	    : IS_WRAP && target[key] == out ? (function(C){
	      var F = function(param){
	        return this instanceof C ? new C(param) : C(param);
	      };
	      F[PROTOTYPE] = C[PROTOTYPE];
	      return F;
	    // make static versions for prototype methods
	    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
	    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;
	  }
	};
	// type bitmap
	$export.F = 1;  // forced
	$export.G = 2;  // global
	$export.S = 4;  // static
	$export.P = 8;  // proto
	$export.B = 16; // bind
	$export.W = 32; // wrap
	module.exports = $export;

/***/ }),
/* 29 */
/***/ (function(module, exports) {

	// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
	var global = module.exports = typeof window != 'undefined' && window.Math == Math
	  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();
	if(typeof __g == 'number')__g = global; // eslint-disable-line no-undef

/***/ }),
/* 30 */
/***/ (function(module, exports) {

	var core = module.exports = {version: '1.2.6'};
	if(typeof __e == 'number')__e = core; // eslint-disable-line no-undef

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

	// optional / simple context binding
	var aFunction = __webpack_require__(32);
	module.exports = function(fn, that, length){
	  aFunction(fn);
	  if(that === undefined)return fn;
	  switch(length){
	    case 1: return function(a){
	      return fn.call(that, a);
	    };
	    case 2: return function(a, b){
	      return fn.call(that, a, b);
	    };
	    case 3: return function(a, b, c){
	      return fn.call(that, a, b, c);
	    };
	  }
	  return function(/* ...args */){
	    return fn.apply(that, arguments);
	  };
	};

/***/ }),
/* 32 */
/***/ (function(module, exports) {

	module.exports = function(it){
	  if(typeof it != 'function')throw TypeError(it + ' is not a function!');
	  return it;
	};

/***/ }),
/* 33 */
/***/ (function(module, exports) {

	module.exports = function(exec){
	  try {
	    return !!exec();
	  } catch(e){
	    return true;
	  }
	};

/***/ }),
/* 34 */
/***/ (function(module, exports) {

	/* WEBPACK VAR INJECTION */(function(global) {/* global window */
	'use strict';

	exports.__esModule = true;

	exports['default'] = function (Handlebars) {
	  /* istanbul ignore next */
	  var root = typeof global !== 'undefined' ? global : window,
	      $Handlebars = root.Handlebars;
	  /* istanbul ignore next */
	  Handlebars.noConflict = function () {
	    if (root.Handlebars === Handlebars) {
	      root.Handlebars = $Handlebars;
	    }
	    return Handlebars;
	  };
	};

	module.exports = exports['default'];
	/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))

/***/ }),
/* 35 */
/***/ (function(module, exports) {

	'use strict';

	exports.__esModule = true;
	var AST = {
	  // Public API used to evaluate derived attributes regarding AST nodes
	  helpers: {
	    // a mustache is definitely a helper if:
	    // * it is an eligible helper, and
	    // * it has at least one parameter or hash segment
	    helperExpression: function helperExpression(node) {
	      return node.type === 'SubExpression' || (node.type === 'MustacheStatement' || node.type === 'BlockStatement') && !!(node.params && node.params.length || node.hash);
	    },

	    scopedId: function scopedId(path) {
	      return (/^\.|this\b/.test(path.original)
	      );
	    },

	    // an ID is simple if it only has one part, and that part is not
	    // `..` or `this`.
	    simpleId: function simpleId(path) {
	      return path.parts.length === 1 && !AST.helpers.scopedId(path) && !path.depth;
	    }
	  }
	};

	// Must be exported as an object rather than the root of the module as the jison lexer
	// must modify the object to operate properly.
	exports['default'] = AST;
	module.exports = exports['default'];

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	var _interopRequireWildcard = __webpack_require__(3)['default'];

	exports.__esModule = true;
	exports.parseWithoutProcessing = parseWithoutProcessing;
	exports.parse = parse;

	var _parser = __webpack_require__(37);

	var _parser2 = _interopRequireDefault(_parser);

	var _whitespaceControl = __webpack_require__(38);

	var _whitespaceControl2 = _interopRequireDefault(_whitespaceControl);

	var _helpers = __webpack_require__(40);

	var Helpers = _interopRequireWildcard(_helpers);

	var _utils = __webpack_require__(5);

	exports.parser = _parser2['default'];

	var yy = {};
	_utils.extend(yy, Helpers);

	function parseWithoutProcessing(input, options) {
	  // Just return if an already-compiled AST was passed in.
	  if (input.type === 'Program') {
	    return input;
	  }

	  _parser2['default'].yy = yy;

	  // Altering the shared object here, but this is ok as parser is a sync operation
	  yy.locInfo = function (locInfo) {
	    return new yy.SourceLocation(options && options.srcName, locInfo);
	  };

	  var ast = _parser2['default'].parse(input);

	  return ast;
	}

	function parse(input, options) {
	  var ast = parseWithoutProcessing(input, options);
	  var strip = new _whitespaceControl2['default'](options);

	  return strip.accept(ast);
	}

/***/ }),
/* 37 */
/***/ (function(module, exports) {

	// File ignored in coverage tests via setting in .istanbul.yml
	/* Jison generated parser */
	"use strict";

	exports.__esModule = true;
	var handlebars = (function () {
	    var parser = { trace: function trace() {},
	        yy: {},
	        symbols_: { "error": 2, "root": 3, "program": 4, "EOF": 5, "program_repetition0": 6, "statement": 7, "mustache": 8, "block": 9, "rawBlock": 10, "partial": 11, "partialBlock": 12, "content": 13, "COMMENT": 14, "CONTENT": 15, "openRawBlock": 16, "rawBlock_repetition0": 17, "END_RAW_BLOCK": 18, "OPEN_RAW_BLOCK": 19, "helperName": 20, "openRawBlock_repetition0": 21, "openRawBlock_option0": 22, "CLOSE_RAW_BLOCK": 23, "openBlock": 24, "block_option0": 25, "closeBlock": 26, "openInverse": 27, "block_option1": 28, "OPEN_BLOCK": 29, "openBlock_repetition0": 30, "openBlock_option0": 31, "openBlock_option1": 32, "CLOSE": 33, "OPEN_INVERSE": 34, "openInverse_repetition0": 35, "openInverse_option0": 36, "openInverse_option1": 37, "openInverseChain": 38, "OPEN_INVERSE_CHAIN": 39, "openInverseChain_repetition0": 40, "openInverseChain_option0": 41, "openInverseChain_option1": 42, "inverseAndProgram": 43, "INVERSE": 44, "inverseChain": 45, "inverseChain_option0": 46, "OPEN_ENDBLOCK": 47, "OPEN": 48, "mustache_repetition0": 49, "mustache_option0": 50, "OPEN_UNESCAPED": 51, "mustache_repetition1": 52, "mustache_option1": 53, "CLOSE_UNESCAPED": 54, "OPEN_PARTIAL": 55, "partialName": 56, "partial_repetition0": 57, "partial_option0": 58, "openPartialBlock": 59, "OPEN_PARTIAL_BLOCK": 60, "openPartialBlock_repetition0": 61, "openPartialBlock_option0": 62, "param": 63, "sexpr": 64, "OPEN_SEXPR": 65, "sexpr_repetition0": 66, "sexpr_option0": 67, "CLOSE_SEXPR": 68, "hash": 69, "hash_repetition_plus0": 70, "hashSegment": 71, "ID": 72, "EQUALS": 73, "blockParams": 74, "OPEN_BLOCK_PARAMS": 75, "blockParams_repetition_plus0": 76, "CLOSE_BLOCK_PARAMS": 77, "path": 78, "dataName": 79, "STRING": 80, "NUMBER": 81, "BOOLEAN": 82, "UNDEFINED": 83, "NULL": 84, "DATA": 85, "pathSegments": 86, "SEP": 87, "$accept": 0, "$end": 1 },
	        terminals_: { 2: "error", 5: "EOF", 14: "COMMENT", 15: "CONTENT", 18: "END_RAW_BLOCK", 19: "OPEN_RAW_BLOCK", 23: "CLOSE_RAW_BLOCK", 29: "OPEN_BLOCK", 33: "CLOSE", 34: "OPEN_INVERSE", 39: "OPEN_INVERSE_CHAIN", 44: "INVERSE", 47: "OPEN_ENDBLOCK", 48: "OPEN", 51: "OPEN_UNESCAPED", 54: "CLOSE_UNESCAPED", 55: "OPEN_PARTIAL", 60: "OPEN_PARTIAL_BLOCK", 65: "OPEN_SEXPR", 68: "CLOSE_SEXPR", 72: "ID", 73: "EQUALS", 75: "OPEN_BLOCK_PARAMS", 77: "CLOSE_BLOCK_PARAMS", 80: "STRING", 81: "NUMBER", 82: "BOOLEAN", 83: "UNDEFINED", 84: "NULL", 85: "DATA", 87: "SEP" },
	        productions_: [0, [3, 2], [4, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [13, 1], [10, 3], [16, 5], [9, 4], [9, 4], [24, 6], [27, 6], [38, 6], [43, 2], [45, 3], [45, 1], [26, 3], [8, 5], [8, 5], [11, 5], [12, 3], [59, 5], [63, 1], [63, 1], [64, 5], [69, 1], [71, 3], [74, 3], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [56, 1], [56, 1], [79, 2], [78, 1], [86, 3], [86, 1], [6, 0], [6, 2], [17, 0], [17, 2], [21, 0], [21, 2], [22, 0], [22, 1], [25, 0], [25, 1], [28, 0], [28, 1], [30, 0], [30, 2], [31, 0], [31, 1], [32, 0], [32, 1], [35, 0], [35, 2], [36, 0], [36, 1], [37, 0], [37, 1], [40, 0], [40, 2], [41, 0], [41, 1], [42, 0], [42, 1], [46, 0], [46, 1], [49, 0], [49, 2], [50, 0], [50, 1], [52, 0], [52, 2], [53, 0], [53, 1], [57, 0], [57, 2], [58, 0], [58, 1], [61, 0], [61, 2], [62, 0], [62, 1], [66, 0], [66, 2], [67, 0], [67, 1], [70, 1], [70, 2], [76, 1], [76, 2]],
	        performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {

	            var $0 = $$.length - 1;
	            switch (yystate) {
	                case 1:
	                    return $$[$0 - 1];
	                    break;
	                case 2:
	                    this.$ = yy.prepareProgram($$[$0]);
	                    break;
	                case 3:
	                    this.$ = $$[$0];
	                    break;
	                case 4:
	                    this.$ = $$[$0];
	                    break;
	                case 5:
	                    this.$ = $$[$0];
	                    break;
	                case 6:
	                    this.$ = $$[$0];
	                    break;
	                case 7:
	                    this.$ = $$[$0];
	                    break;
	                case 8:
	                    this.$ = $$[$0];
	                    break;
	                case 9:
	                    this.$ = {
	                        type: 'CommentStatement',
	                        value: yy.stripComment($$[$0]),
	                        strip: yy.stripFlags($$[$0], $$[$0]),
	                        loc: yy.locInfo(this._$)
	                    };

	                    break;
	                case 10:
	                    this.$ = {
	                        type: 'ContentStatement',
	                        original: $$[$0],
	                        value: $$[$0],
	                        loc: yy.locInfo(this._$)
	                    };

	                    break;
	                case 11:
	                    this.$ = yy.prepareRawBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$);
	                    break;
	                case 12:
	                    this.$ = { path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1] };
	                    break;
	                case 13:
	                    this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], false, this._$);
	                    break;
	                case 14:
	                    this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], true, this._$);
	                    break;
	                case 15:
	                    this.$ = { open: $$[$0 - 5], path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };
	                    break;
	                case 16:
	                    this.$ = { path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };
	                    break;
	                case 17:
	                    this.$ = { path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };
	                    break;
	                case 18:
	                    this.$ = { strip: yy.stripFlags($$[$0 - 1], $$[$0 - 1]), program: $$[$0] };
	                    break;
	                case 19:
	                    var inverse = yy.prepareBlock($$[$0 - 2], $$[$0 - 1], $$[$0], $$[$0], false, this._$),
	                        program = yy.prepareProgram([inverse], $$[$0 - 1].loc);
	                    program.chained = true;

	                    this.$ = { strip: $$[$0 - 2].strip, program: program, chain: true };

	                    break;
	                case 20:
	                    this.$ = $$[$0];
	                    break;
	                case 21:
	                    this.$ = { path: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 2], $$[$0]) };
	                    break;
	                case 22:
	                    this.$ = yy.prepareMustache($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0 - 4], yy.stripFlags($$[$0 - 4], $$[$0]), this._$);
	                    break;
	                case 23:
	                    this.$ = yy.prepareMustache($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0 - 4], yy.stripFlags($$[$0 - 4], $$[$0]), this._$);
	                    break;
	                case 24:
	                    this.$ = {
	                        type: 'PartialStatement',
	                        name: $$[$0 - 3],
	                        params: $$[$0 - 2],
	                        hash: $$[$0 - 1],
	                        indent: '',
	                        strip: yy.stripFlags($$[$0 - 4], $$[$0]),
	                        loc: yy.locInfo(this._$)
	                    };

	                    break;
	                case 25:
	                    this.$ = yy.preparePartialBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$);
	                    break;
	                case 26:
	                    this.$ = { path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 4], $$[$0]) };
	                    break;
	                case 27:
	                    this.$ = $$[$0];
	                    break;
	                case 28:
	                    this.$ = $$[$0];
	                    break;
	                case 29:
	                    this.$ = {
	                        type: 'SubExpression',
	                        path: $$[$0 - 3],
	                        params: $$[$0 - 2],
	                        hash: $$[$0 - 1],
	                        loc: yy.locInfo(this._$)
	                    };

	                    break;
	                case 30:
	                    this.$ = { type: 'Hash', pairs: $$[$0], loc: yy.locInfo(this._$) };
	                    break;
	                case 31:
	                    this.$ = { type: 'HashPair', key: yy.id($$[$0 - 2]), value: $$[$0], loc: yy.locInfo(this._$) };
	                    break;
	                case 32:
	                    this.$ = yy.id($$[$0 - 1]);
	                    break;
	                case 33:
	                    this.$ = $$[$0];
	                    break;
	                case 34:
	                    this.$ = $$[$0];
	                    break;
	                case 35:
	                    this.$ = { type: 'StringLiteral', value: $$[$0], original: $$[$0], loc: yy.locInfo(this._$) };
	                    break;
	                case 36:
	                    this.$ = { type: 'NumberLiteral', value: Number($$[$0]), original: Number($$[$0]), loc: yy.locInfo(this._$) };
	                    break;
	                case 37:
	                    this.$ = { type: 'BooleanLiteral', value: $$[$0] === 'true', original: $$[$0] === 'true', loc: yy.locInfo(this._$) };
	                    break;
	                case 38:
	                    this.$ = { type: 'UndefinedLiteral', original: undefined, value: undefined, loc: yy.locInfo(this._$) };
	                    break;
	                case 39:
	                    this.$ = { type: 'NullLiteral', original: null, value: null, loc: yy.locInfo(this._$) };
	                    break;
	                case 40:
	                    this.$ = $$[$0];
	                    break;
	                case 41:
	                    this.$ = $$[$0];
	                    break;
	                case 42:
	                    this.$ = yy.preparePath(true, $$[$0], this._$);
	                    break;
	                case 43:
	                    this.$ = yy.preparePath(false, $$[$0], this._$);
	                    break;
	                case 44:
	                    $$[$0 - 2].push({ part: yy.id($$[$0]), original: $$[$0], separator: $$[$0 - 1] });this.$ = $$[$0 - 2];
	                    break;
	                case 45:
	                    this.$ = [{ part: yy.id($$[$0]), original: $$[$0] }];
	                    break;
	                case 46:
	                    this.$ = [];
	                    break;
	                case 47:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 48:
	                    this.$ = [];
	                    break;
	                case 49:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 50:
	                    this.$ = [];
	                    break;
	                case 51:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 58:
	                    this.$ = [];
	                    break;
	                case 59:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 64:
	                    this.$ = [];
	                    break;
	                case 65:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 70:
	                    this.$ = [];
	                    break;
	                case 71:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 78:
	                    this.$ = [];
	                    break;
	                case 79:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 82:
	                    this.$ = [];
	                    break;
	                case 83:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 86:
	                    this.$ = [];
	                    break;
	                case 87:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 90:
	                    this.$ = [];
	                    break;
	                case 91:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 94:
	                    this.$ = [];
	                    break;
	                case 95:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 98:
	                    this.$ = [$$[$0]];
	                    break;
	                case 99:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	                case 100:
	                    this.$ = [$$[$0]];
	                    break;
	                case 101:
	                    $$[$0 - 1].push($$[$0]);
	                    break;
	            }
	        },
	        table: [{ 3: 1, 4: 2, 5: [2, 46], 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 1: [3] }, { 5: [1, 4] }, { 5: [2, 2], 7: 5, 8: 6, 9: 7, 10: 8, 11: 9, 12: 10, 13: 11, 14: [1, 12], 15: [1, 20], 16: 17, 19: [1, 23], 24: 15, 27: 16, 29: [1, 21], 34: [1, 22], 39: [2, 2], 44: [2, 2], 47: [2, 2], 48: [1, 13], 51: [1, 14], 55: [1, 18], 59: 19, 60: [1, 24] }, { 1: [2, 1] }, { 5: [2, 47], 14: [2, 47], 15: [2, 47], 19: [2, 47], 29: [2, 47], 34: [2, 47], 39: [2, 47], 44: [2, 47], 47: [2, 47], 48: [2, 47], 51: [2, 47], 55: [2, 47], 60: [2, 47] }, { 5: [2, 3], 14: [2, 3], 15: [2, 3], 19: [2, 3], 29: [2, 3], 34: [2, 3], 39: [2, 3], 44: [2, 3], 47: [2, 3], 48: [2, 3], 51: [2, 3], 55: [2, 3], 60: [2, 3] }, { 5: [2, 4], 14: [2, 4], 15: [2, 4], 19: [2, 4], 29: [2, 4], 34: [2, 4], 39: [2, 4], 44: [2, 4], 47: [2, 4], 48: [2, 4], 51: [2, 4], 55: [2, 4], 60: [2, 4] }, { 5: [2, 5], 14: [2, 5], 15: [2, 5], 19: [2, 5], 29: [2, 5], 34: [2, 5], 39: [2, 5], 44: [2, 5], 47: [2, 5], 48: [2, 5], 51: [2, 5], 55: [2, 5], 60: [2, 5] }, { 5: [2, 6], 14: [2, 6], 15: [2, 6], 19: [2, 6], 29: [2, 6], 34: [2, 6], 39: [2, 6], 44: [2, 6], 47: [2, 6], 48: [2, 6], 51: [2, 6], 55: [2, 6], 60: [2, 6] }, { 5: [2, 7], 14: [2, 7], 15: [2, 7], 19: [2, 7], 29: [2, 7], 34: [2, 7], 39: [2, 7], 44: [2, 7], 47: [2, 7], 48: [2, 7], 51: [2, 7], 55: [2, 7], 60: [2, 7] }, { 5: [2, 8], 14: [2, 8], 15: [2, 8], 19: [2, 8], 29: [2, 8], 34: [2, 8], 39: [2, 8], 44: [2, 8], 47: [2, 8], 48: [2, 8], 51: [2, 8], 55: [2, 8], 60: [2, 8] }, { 5: [2, 9], 14: [2, 9], 15: [2, 9], 19: [2, 9], 29: [2, 9], 34: [2, 9], 39: [2, 9], 44: [2, 9], 47: [2, 9], 48: [2, 9], 51: [2, 9], 55: [2, 9], 60: [2, 9] }, { 20: 25, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 36, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 37, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 4: 38, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 15: [2, 48], 17: 39, 18: [2, 48] }, { 20: 41, 56: 40, 64: 42, 65: [1, 43], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 44, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 5: [2, 10], 14: [2, 10], 15: [2, 10], 18: [2, 10], 19: [2, 10], 29: [2, 10], 34: [2, 10], 39: [2, 10], 44: [2, 10], 47: [2, 10], 48: [2, 10], 51: [2, 10], 55: [2, 10], 60: [2, 10] }, { 20: 45, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 46, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 47, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 41, 56: 48, 64: 42, 65: [1, 43], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [2, 78], 49: 49, 65: [2, 78], 72: [2, 78], 80: [2, 78], 81: [2, 78], 82: [2, 78], 83: [2, 78], 84: [2, 78], 85: [2, 78] }, { 23: [2, 33], 33: [2, 33], 54: [2, 33], 65: [2, 33], 68: [2, 33], 72: [2, 33], 75: [2, 33], 80: [2, 33], 81: [2, 33], 82: [2, 33], 83: [2, 33], 84: [2, 33], 85: [2, 33] }, { 23: [2, 34], 33: [2, 34], 54: [2, 34], 65: [2, 34], 68: [2, 34], 72: [2, 34], 75: [2, 34], 80: [2, 34], 81: [2, 34], 82: [2, 34], 83: [2, 34], 84: [2, 34], 85: [2, 34] }, { 23: [2, 35], 33: [2, 35], 54: [2, 35], 65: [2, 35], 68: [2, 35], 72: [2, 35], 75: [2, 35], 80: [2, 35], 81: [2, 35], 82: [2, 35], 83: [2, 35], 84: [2, 35], 85: [2, 35] }, { 23: [2, 36], 33: [2, 36], 54: [2, 36], 65: [2, 36], 68: [2, 36], 72: [2, 36], 75: [2, 36], 80: [2, 36], 81: [2, 36], 82: [2, 36], 83: [2, 36], 84: [2, 36], 85: [2, 36] }, { 23: [2, 37], 33: [2, 37], 54: [2, 37], 65: [2, 37], 68: [2, 37], 72: [2, 37], 75: [2, 37], 80: [2, 37], 81: [2, 37], 82: [2, 37], 83: [2, 37], 84: [2, 37], 85: [2, 37] }, { 23: [2, 38], 33: [2, 38], 54: [2, 38], 65: [2, 38], 68: [2, 38], 72: [2, 38], 75: [2, 38], 80: [2, 38], 81: [2, 38], 82: [2, 38], 83: [2, 38], 84: [2, 38], 85: [2, 38] }, { 23: [2, 39], 33: [2, 39], 54: [2, 39], 65: [2, 39], 68: [2, 39], 72: [2, 39], 75: [2, 39], 80: [2, 39], 81: [2, 39], 82: [2, 39], 83: [2, 39], 84: [2, 39], 85: [2, 39] }, { 23: [2, 43], 33: [2, 43], 54: [2, 43], 65: [2, 43], 68: [2, 43], 72: [2, 43], 75: [2, 43], 80: [2, 43], 81: [2, 43], 82: [2, 43], 83: [2, 43], 84: [2, 43], 85: [2, 43], 87: [1, 50] }, { 72: [1, 35], 86: 51 }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 52: 52, 54: [2, 82], 65: [2, 82], 72: [2, 82], 80: [2, 82], 81: [2, 82], 82: [2, 82], 83: [2, 82], 84: [2, 82], 85: [2, 82] }, { 25: 53, 38: 55, 39: [1, 57], 43: 56, 44: [1, 58], 45: 54, 47: [2, 54] }, { 28: 59, 43: 60, 44: [1, 58], 47: [2, 56] }, { 13: 62, 15: [1, 20], 18: [1, 61] }, { 33: [2, 86], 57: 63, 65: [2, 86], 72: [2, 86], 80: [2, 86], 81: [2, 86], 82: [2, 86], 83: [2, 86], 84: [2, 86], 85: [2, 86] }, { 33: [2, 40], 65: [2, 40], 72: [2, 40], 80: [2, 40], 81: [2, 40], 82: [2, 40], 83: [2, 40], 84: [2, 40], 85: [2, 40] }, { 33: [2, 41], 65: [2, 41], 72: [2, 41], 80: [2, 41], 81: [2, 41], 82: [2, 41], 83: [2, 41], 84: [2, 41], 85: [2, 41] }, { 20: 64, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 65, 47: [1, 66] }, { 30: 67, 33: [2, 58], 65: [2, 58], 72: [2, 58], 75: [2, 58], 80: [2, 58], 81: [2, 58], 82: [2, 58], 83: [2, 58], 84: [2, 58], 85: [2, 58] }, { 33: [2, 64], 35: 68, 65: [2, 64], 72: [2, 64], 75: [2, 64], 80: [2, 64], 81: [2, 64], 82: [2, 64], 83: [2, 64], 84: [2, 64], 85: [2, 64] }, { 21: 69, 23: [2, 50], 65: [2, 50], 72: [2, 50], 80: [2, 50], 81: [2, 50], 82: [2, 50], 83: [2, 50], 84: [2, 50], 85: [2, 50] }, { 33: [2, 90], 61: 70, 65: [2, 90], 72: [2, 90], 80: [2, 90], 81: [2, 90], 82: [2, 90], 83: [2, 90], 84: [2, 90], 85: [2, 90] }, { 20: 74, 33: [2, 80], 50: 71, 63: 72, 64: 75, 65: [1, 43], 69: 73, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 72: [1, 79] }, { 23: [2, 42], 33: [2, 42], 54: [2, 42], 65: [2, 42], 68: [2, 42], 72: [2, 42], 75: [2, 42], 80: [2, 42], 81: [2, 42], 82: [2, 42], 83: [2, 42], 84: [2, 42], 85: [2, 42], 87: [1, 50] }, { 20: 74, 53: 80, 54: [2, 84], 63: 81, 64: 75, 65: [1, 43], 69: 82, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 83, 47: [1, 66] }, { 47: [2, 55] }, { 4: 84, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 47: [2, 20] }, { 20: 85, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 86, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 26: 87, 47: [1, 66] }, { 47: [2, 57] }, { 5: [2, 11], 14: [2, 11], 15: [2, 11], 19: [2, 11], 29: [2, 11], 34: [2, 11], 39: [2, 11], 44: [2, 11], 47: [2, 11], 48: [2, 11], 51: [2, 11], 55: [2, 11], 60: [2, 11] }, { 15: [2, 49], 18: [2, 49] }, { 20: 74, 33: [2, 88], 58: 88, 63: 89, 64: 75, 65: [1, 43], 69: 90, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 65: [2, 94], 66: 91, 68: [2, 94], 72: [2, 94], 80: [2, 94], 81: [2, 94], 82: [2, 94], 83: [2, 94], 84: [2, 94], 85: [2, 94] }, { 5: [2, 25], 14: [2, 25], 15: [2, 25], 19: [2, 25], 29: [2, 25], 34: [2, 25], 39: [2, 25], 44: [2, 25], 47: [2, 25], 48: [2, 25], 51: [2, 25], 55: [2, 25], 60: [2, 25] }, { 20: 92, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 74, 31: 93, 33: [2, 60], 63: 94, 64: 75, 65: [1, 43], 69: 95, 70: 76, 71: 77, 72: [1, 78], 75: [2, 60], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 74, 33: [2, 66], 36: 96, 63: 97, 64: 75, 65: [1, 43], 69: 98, 70: 76, 71: 77, 72: [1, 78], 75: [2, 66], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 74, 22: 99, 23: [2, 52], 63: 100, 64: 75, 65: [1, 43], 69: 101, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 74, 33: [2, 92], 62: 102, 63: 103, 64: 75, 65: [1, 43], 69: 104, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 105] }, { 33: [2, 79], 65: [2, 79], 72: [2, 79], 80: [2, 79], 81: [2, 79], 82: [2, 79], 83: [2, 79], 84: [2, 79], 85: [2, 79] }, { 33: [2, 81] }, { 23: [2, 27], 33: [2, 27], 54: [2, 27], 65: [2, 27], 68: [2, 27], 72: [2, 27], 75: [2, 27], 80: [2, 27], 81: [2, 27], 82: [2, 27], 83: [2, 27], 84: [2, 27], 85: [2, 27] }, { 23: [2, 28], 33: [2, 28], 54: [2, 28], 65: [2, 28], 68: [2, 28], 72: [2, 28], 75: [2, 28], 80: [2, 28], 81: [2, 28], 82: [2, 28], 83: [2, 28], 84: [2, 28], 85: [2, 28] }, { 23: [2, 30], 33: [2, 30], 54: [2, 30], 68: [2, 30], 71: 106, 72: [1, 107], 75: [2, 30] }, { 23: [2, 98], 33: [2, 98], 54: [2, 98], 68: [2, 98], 72: [2, 98], 75: [2, 98] }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 73: [1, 108], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 23: [2, 44], 33: [2, 44], 54: [2, 44], 65: [2, 44], 68: [2, 44], 72: [2, 44], 75: [2, 44], 80: [2, 44], 81: [2, 44], 82: [2, 44], 83: [2, 44], 84: [2, 44], 85: [2, 44], 87: [2, 44] }, { 54: [1, 109] }, { 54: [2, 83], 65: [2, 83], 72: [2, 83], 80: [2, 83], 81: [2, 83], 82: [2, 83], 83: [2, 83], 84: [2, 83], 85: [2, 83] }, { 54: [2, 85] }, { 5: [2, 13], 14: [2, 13], 15: [2, 13], 19: [2, 13], 29: [2, 13], 34: [2, 13], 39: [2, 13], 44: [2, 13], 47: [2, 13], 48: [2, 13], 51: [2, 13], 55: [2, 13], 60: [2, 13] }, { 38: 55, 39: [1, 57], 43: 56, 44: [1, 58], 45: 111, 46: 110, 47: [2, 76] }, { 33: [2, 70], 40: 112, 65: [2, 70], 72: [2, 70], 75: [2, 70], 80: [2, 70], 81: [2, 70], 82: [2, 70], 83: [2, 70], 84: [2, 70], 85: [2, 70] }, { 47: [2, 18] }, { 5: [2, 14], 14: [2, 14], 15: [2, 14], 19: [2, 14], 29: [2, 14], 34: [2, 14], 39: [2, 14], 44: [2, 14], 47: [2, 14], 48: [2, 14], 51: [2, 14], 55: [2, 14], 60: [2, 14] }, { 33: [1, 113] }, { 33: [2, 87], 65: [2, 87], 72: [2, 87], 80: [2, 87], 81: [2, 87], 82: [2, 87], 83: [2, 87], 84: [2, 87], 85: [2, 87] }, { 33: [2, 89] }, { 20: 74, 63: 115, 64: 75, 65: [1, 43], 67: 114, 68: [2, 96], 69: 116, 70: 76, 71: 77, 72: [1, 78], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 117] }, { 32: 118, 33: [2, 62], 74: 119, 75: [1, 120] }, { 33: [2, 59], 65: [2, 59], 72: [2, 59], 75: [2, 59], 80: [2, 59], 81: [2, 59], 82: [2, 59], 83: [2, 59], 84: [2, 59], 85: [2, 59] }, { 33: [2, 61], 75: [2, 61] }, { 33: [2, 68], 37: 121, 74: 122, 75: [1, 120] }, { 33: [2, 65], 65: [2, 65], 72: [2, 65], 75: [2, 65], 80: [2, 65], 81: [2, 65], 82: [2, 65], 83: [2, 65], 84: [2, 65], 85: [2, 65] }, { 33: [2, 67], 75: [2, 67] }, { 23: [1, 123] }, { 23: [2, 51], 65: [2, 51], 72: [2, 51], 80: [2, 51], 81: [2, 51], 82: [2, 51], 83: [2, 51], 84: [2, 51], 85: [2, 51] }, { 23: [2, 53] }, { 33: [1, 124] }, { 33: [2, 91], 65: [2, 91], 72: [2, 91], 80: [2, 91], 81: [2, 91], 82: [2, 91], 83: [2, 91], 84: [2, 91], 85: [2, 91] }, { 33: [2, 93] }, { 5: [2, 22], 14: [2, 22], 15: [2, 22], 19: [2, 22], 29: [2, 22], 34: [2, 22], 39: [2, 22], 44: [2, 22], 47: [2, 22], 48: [2, 22], 51: [2, 22], 55: [2, 22], 60: [2, 22] }, { 23: [2, 99], 33: [2, 99], 54: [2, 99], 68: [2, 99], 72: [2, 99], 75: [2, 99] }, { 73: [1, 108] }, { 20: 74, 63: 125, 64: 75, 65: [1, 43], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 23], 14: [2, 23], 15: [2, 23], 19: [2, 23], 29: [2, 23], 34: [2, 23], 39: [2, 23], 44: [2, 23], 47: [2, 23], 48: [2, 23], 51: [2, 23], 55: [2, 23], 60: [2, 23] }, { 47: [2, 19] }, { 47: [2, 77] }, { 20: 74, 33: [2, 72], 41: 126, 63: 127, 64: 75, 65: [1, 43], 69: 128, 70: 76, 71: 77, 72: [1, 78], 75: [2, 72], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 24], 14: [2, 24], 15: [2, 24], 19: [2, 24], 29: [2, 24], 34: [2, 24], 39: [2, 24], 44: [2, 24], 47: [2, 24], 48: [2, 24], 51: [2, 24], 55: [2, 24], 60: [2, 24] }, { 68: [1, 129] }, { 65: [2, 95], 68: [2, 95], 72: [2, 95], 80: [2, 95], 81: [2, 95], 82: [2, 95], 83: [2, 95], 84: [2, 95], 85: [2, 95] }, { 68: [2, 97] }, { 5: [2, 21], 14: [2, 21], 15: [2, 21], 19: [2, 21], 29: [2, 21], 34: [2, 21], 39: [2, 21], 44: [2, 21], 47: [2, 21], 48: [2, 21], 51: [2, 21], 55: [2, 21], 60: [2, 21] }, { 33: [1, 130] }, { 33: [2, 63] }, { 72: [1, 132], 76: 131 }, { 33: [1, 133] }, { 33: [2, 69] }, { 15: [2, 12], 18: [2, 12] }, { 14: [2, 26], 15: [2, 26], 19: [2, 26], 29: [2, 26], 34: [2, 26], 47: [2, 26], 48: [2, 26], 51: [2, 26], 55: [2, 26], 60: [2, 26] }, { 23: [2, 31], 33: [2, 31], 54: [2, 31], 68: [2, 31], 72: [2, 31], 75: [2, 31] }, { 33: [2, 74], 42: 134, 74: 135, 75: [1, 120] }, { 33: [2, 71], 65: [2, 71], 72: [2, 71], 75: [2, 71], 80: [2, 71], 81: [2, 71], 82: [2, 71], 83: [2, 71], 84: [2, 71], 85: [2, 71] }, { 33: [2, 73], 75: [2, 73] }, { 23: [2, 29], 33: [2, 29], 54: [2, 29], 65: [2, 29], 68: [2, 29], 72: [2, 29], 75: [2, 29], 80: [2, 29], 81: [2, 29], 82: [2, 29], 83: [2, 29], 84: [2, 29], 85: [2, 29] }, { 14: [2, 15], 15: [2, 15], 19: [2, 15], 29: [2, 15], 34: [2, 15], 39: [2, 15], 44: [2, 15], 47: [2, 15], 48: [2, 15], 51: [2, 15], 55: [2, 15], 60: [2, 15] }, { 72: [1, 137], 77: [1, 136] }, { 72: [2, 100], 77: [2, 100] }, { 14: [2, 16], 15: [2, 16], 19: [2, 16], 29: [2, 16], 34: [2, 16], 44: [2, 16], 47: [2, 16], 48: [2, 16], 51: [2, 16], 55: [2, 16], 60: [2, 16] }, { 33: [1, 138] }, { 33: [2, 75] }, { 33: [2, 32] }, { 72: [2, 101], 77: [2, 101] }, { 14: [2, 17], 15: [2, 17], 19: [2, 17], 29: [2, 17], 34: [2, 17], 39: [2, 17], 44: [2, 17], 47: [2, 17], 48: [2, 17], 51: [2, 17], 55: [2, 17], 60: [2, 17] }],
	        defaultActions: { 4: [2, 1], 54: [2, 55], 56: [2, 20], 60: [2, 57], 73: [2, 81], 82: [2, 85], 86: [2, 18], 90: [2, 89], 101: [2, 53], 104: [2, 93], 110: [2, 19], 111: [2, 77], 116: [2, 97], 119: [2, 63], 122: [2, 69], 135: [2, 75], 136: [2, 32] },
	        parseError: function parseError(str, hash) {
	            throw new Error(str);
	        },
	        parse: function parse(input) {
	            var self = this,
	                stack = [0],
	                vstack = [null],
	                lstack = [],
	                table = this.table,
	                yytext = "",
	                yylineno = 0,
	                yyleng = 0,
	                recovering = 0,
	                TERROR = 2,
	                EOF = 1;
	            this.lexer.setInput(input);
	            this.lexer.yy = this.yy;
	            this.yy.lexer = this.lexer;
	            this.yy.parser = this;
	            if (typeof this.lexer.yylloc == "undefined") this.lexer.yylloc = {};
	            var yyloc = this.lexer.yylloc;
	            lstack.push(yyloc);
	            var ranges = this.lexer.options && this.lexer.options.ranges;
	            if (typeof this.yy.parseError === "function") this.parseError = this.yy.parseError;
	            function popStack(n) {
	                stack.length = stack.length - 2 * n;
	                vstack.length = vstack.length - n;
	                lstack.length = lstack.length - n;
	            }
	            function lex() {
	                var token;
	                token = self.lexer.lex() || 1;
	                if (typeof token !== "number") {
	                    token = self.symbols_[token] || token;
	                }
	                return token;
	            }
	            var symbol,
	                preErrorSymbol,
	                state,
	                action,
	                a,
	                r,
	                yyval = {},
	                p,
	                len,
	                newState,
	                expected;
	            while (true) {
	                state = stack[stack.length - 1];
	                if (this.defaultActions[state]) {
	                    action = this.defaultActions[state];
	                } else {
	                    if (symbol === null || typeof symbol == "undefined") {
	                        symbol = lex();
	                    }
	                    action = table[state] && table[state][symbol];
	                }
	                if (typeof action === "undefined" || !action.length || !action[0]) {
	                    var errStr = "";
	                    if (!recovering) {
	                        expected = [];
	                        for (p in table[state]) if (this.terminals_[p] && p > 2) {
	                            expected.push("'" + this.terminals_[p] + "'");
	                        }
	                        if (this.lexer.showPosition) {
	                            errStr = "Parse error on line " + (yylineno + 1) + ":\n" + this.lexer.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
	                        } else {
	                            errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == 1 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
	                        }
	                        this.parseError(errStr, { text: this.lexer.match, token: this.terminals_[symbol] || symbol, line: this.lexer.yylineno, loc: yyloc, expected: expected });
	                    }
	                }
	                if (action[0] instanceof Array && action.length > 1) {
	                    throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
	                }
	                switch (action[0]) {
	                    case 1:
	                        stack.push(symbol);
	                        vstack.push(this.lexer.yytext);
	                        lstack.push(this.lexer.yylloc);
	                        stack.push(action[1]);
	                        symbol = null;
	                        if (!preErrorSymbol) {
	                            yyleng = this.lexer.yyleng;
	                            yytext = this.lexer.yytext;
	                            yylineno = this.lexer.yylineno;
	                            yyloc = this.lexer.yylloc;
	                            if (recovering > 0) recovering--;
	                        } else {
	                            symbol = preErrorSymbol;
	                            preErrorSymbol = null;
	                        }
	                        break;
	                    case 2:
	                        len = this.productions_[action[1]][1];
	                        yyval.$ = vstack[vstack.length - len];
	                        yyval._$ = { first_line: lstack[lstack.length - (len || 1)].first_line, last_line: lstack[lstack.length - 1].last_line, first_column: lstack[lstack.length - (len || 1)].first_column, last_column: lstack[lstack.length - 1].last_column };
	                        if (ranges) {
	                            yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];
	                        }
	                        r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);
	                        if (typeof r !== "undefined") {
	                            return r;
	                        }
	                        if (len) {
	                            stack = stack.slice(0, -1 * len * 2);
	                            vstack = vstack.slice(0, -1 * len);
	                            lstack = lstack.slice(0, -1 * len);
	                        }
	                        stack.push(this.productions_[action[1]][0]);
	                        vstack.push(yyval.$);
	                        lstack.push(yyval._$);
	                        newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
	                        stack.push(newState);
	                        break;
	                    case 3:
	                        return true;
	                }
	            }
	            return true;
	        }
	    };
	    /* Jison generated lexer */
	    var lexer = (function () {
	        var lexer = { EOF: 1,
	            parseError: function parseError(str, hash) {
	                if (this.yy.parser) {
	                    this.yy.parser.parseError(str, hash);
	                } else {
	                    throw new Error(str);
	                }
	            },
	            setInput: function setInput(input) {
	                this._input = input;
	                this._more = this._less = this.done = false;
	                this.yylineno = this.yyleng = 0;
	                this.yytext = this.matched = this.match = '';
	                this.conditionStack = ['INITIAL'];
	                this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 };
	                if (this.options.ranges) this.yylloc.range = [0, 0];
	                this.offset = 0;
	                return this;
	            },
	            input: function input() {
	                var ch = this._input[0];
	                this.yytext += ch;
	                this.yyleng++;
	                this.offset++;
	                this.match += ch;
	                this.matched += ch;
	                var lines = ch.match(/(?:\r\n?|\n).*/g);
	                if (lines) {
	                    this.yylineno++;
	                    this.yylloc.last_line++;
	                } else {
	                    this.yylloc.last_column++;
	                }
	                if (this.options.ranges) this.yylloc.range[1]++;

	                this._input = this._input.slice(1);
	                return ch;
	            },
	            unput: function unput(ch) {
	                var len = ch.length;
	                var lines = ch.split(/(?:\r\n?|\n)/g);

	                this._input = ch + this._input;
	                this.yytext = this.yytext.substr(0, this.yytext.length - len - 1);
	                //this.yyleng -= len;
	                this.offset -= len;
	                var oldLines = this.match.split(/(?:\r\n?|\n)/g);
	                this.match = this.match.substr(0, this.match.length - 1);
	                this.matched = this.matched.substr(0, this.matched.length - 1);

	                if (lines.length - 1) this.yylineno -= lines.length - 1;
	                var r = this.yylloc.range;

	                this.yylloc = { first_line: this.yylloc.first_line,
	                    last_line: this.yylineno + 1,
	                    first_column: this.yylloc.first_column,
	                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
	                };

	                if (this.options.ranges) {
	                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];
	                }
	                return this;
	            },
	            more: function more() {
	                this._more = true;
	                return this;
	            },
	            less: function less(n) {
	                this.unput(this.match.slice(n));
	            },
	            pastInput: function pastInput() {
	                var past = this.matched.substr(0, this.matched.length - this.match.length);
	                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\n/g, "");
	            },
	            upcomingInput: function upcomingInput() {
	                var next = this.match;
	                if (next.length < 20) {
	                    next += this._input.substr(0, 20 - next.length);
	                }
	                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\n/g, "");
	            },
	            showPosition: function showPosition() {
	                var pre = this.pastInput();
	                var c = new Array(pre.length + 1).join("-");
	                return pre + this.upcomingInput() + "\n" + c + "^";
	            },
	            next: function next() {
	                if (this.done) {
	                    return this.EOF;
	                }
	                if (!this._input) this.done = true;

	                var token, match, tempMatch, index, col, lines;
	                if (!this._more) {
	                    this.yytext = '';
	                    this.match = '';
	                }
	                var rules = this._currentRules();
	                for (var i = 0; i < rules.length; i++) {
	                    tempMatch = this._input.match(this.rules[rules[i]]);
	                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
	                        match = tempMatch;
	                        index = i;
	                        if (!this.options.flex) break;
	                    }
	                }
	                if (match) {
	                    lines = match[0].match(/(?:\r\n?|\n).*/g);
	                    if (lines) this.yylineno += lines.length;
	                    this.yylloc = { first_line: this.yylloc.last_line,
	                        last_line: this.yylineno + 1,
	                        first_column: this.yylloc.last_column,
	                        last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length };
	                    this.yytext += match[0];
	                    this.match += match[0];
	                    this.matches = match;
	                    this.yyleng = this.yytext.length;
	                    if (this.options.ranges) {
	                        this.yylloc.range = [this.offset, this.offset += this.yyleng];
	                    }
	                    this._more = false;
	                    this._input = this._input.slice(match[0].length);
	                    this.matched += match[0];
	                    token = this.performAction.call(this, this.yy, this, rules[index], this.conditionStack[this.conditionStack.length - 1]);
	                    if (this.done && this._input) this.done = false;
	                    if (token) return token;else return;
	                }
	                if (this._input === "") {
	                    return this.EOF;
	                } else {
	                    return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\n' + this.showPosition(), { text: "", token: null, line: this.yylineno });
	                }
	            },
	            lex: function lex() {
	                var r = this.next();
	                if (typeof r !== 'undefined') {
	                    return r;
	                } else {
	                    return this.lex();
	                }
	            },
	            begin: function begin(condition) {
	                this.conditionStack.push(condition);
	            },
	            popState: function popState() {
	                return this.conditionStack.pop();
	            },
	            _currentRules: function _currentRules() {
	                return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
	            },
	            topState: function topState() {
	                return this.conditionStack[this.conditionStack.length - 2];
	            },
	            pushState: function begin(condition) {
	                this.begin(condition);
	            } };
	        lexer.options = {};
	        lexer.performAction = function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {

	            function strip(start, end) {
	                return yy_.yytext = yy_.yytext.substring(start, yy_.yyleng - end + start);
	            }

	            var YYSTATE = YY_START;
	            switch ($avoiding_name_collisions) {
	                case 0:
	                    if (yy_.yytext.slice(-2) === "\\\\") {
	                        strip(0, 1);
	                        this.begin("mu");
	                    } else if (yy_.yytext.slice(-1) === "\\") {
	                        strip(0, 1);
	                        this.begin("emu");
	                    } else {
	                        this.begin("mu");
	                    }
	                    if (yy_.yytext) return 15;

	                    break;
	                case 1:
	                    return 15;
	                    break;
	                case 2:
	                    this.popState();
	                    return 15;

	                    break;
	                case 3:
	                    this.begin('raw');return 15;
	                    break;
	                case 4:
	                    this.popState();
	                    // Should be using `this.topState()` below, but it currently
	                    // returns the second top instead of the first top. Opened an
	                    // issue about it at https://github.com/zaach/jison/issues/291
	                    if (this.conditionStack[this.conditionStack.length - 1] === 'raw') {
	                        return 15;
	                    } else {
	                        strip(5, 9);
	                        return 'END_RAW_BLOCK';
	                    }

	                    break;
	                case 5:
	                    return 15;
	                    break;
	                case 6:
	                    this.popState();
	                    return 14;

	                    break;
	                case 7:
	                    return 65;
	                    break;
	                case 8:
	                    return 68;
	                    break;
	                case 9:
	                    return 19;
	                    break;
	                case 10:
	                    this.popState();
	                    this.begin('raw');
	                    return 23;

	                    break;
	                case 11:
	                    return 55;
	                    break;
	                case 12:
	                    return 60;
	                    break;
	                case 13:
	                    return 29;
	                    break;
	                case 14:
	                    return 47;
	                    break;
	                case 15:
	                    this.popState();return 44;
	                    break;
	                case 16:
	                    this.popState();return 44;
	                    break;
	                case 17:
	                    return 34;
	                    break;
	                case 18:
	                    return 39;
	                    break;
	                case 19:
	                    return 51;
	                    break;
	                case 20:
	                    return 48;
	                    break;
	                case 21:
	                    this.unput(yy_.yytext);
	                    this.popState();
	                    this.begin('com');

	                    break;
	                case 22:
	                    this.popState();
	                    return 14;

	                    break;
	                case 23:
	                    return 48;
	                    break;
	                case 24:
	                    return 73;
	                    break;
	                case 25:
	                    return 72;
	                    break;
	                case 26:
	                    return 72;
	                    break;
	                case 27:
	                    return 87;
	                    break;
	                case 28:
	                    // ignore whitespace
	                    break;
	                case 29:
	                    this.popState();return 54;
	                    break;
	                case 30:
	                    this.popState();return 33;
	                    break;
	                case 31:
	                    yy_.yytext = strip(1, 2).replace(/\\"/g, '"');return 80;
	                    break;
	                case 32:
	                    yy_.yytext = strip(1, 2).replace(/\\'/g, "'");return 80;
	                    break;
	                case 33:
	                    return 85;
	                    break;
	                case 34:
	                    return 82;
	                    break;
	                case 35:
	                    return 82;
	                    break;
	                case 36:
	                    return 83;
	                    break;
	                case 37:
	                    return 84;
	                    break;
	                case 38:
	                    return 81;
	                    break;
	                case 39:
	                    return 75;
	                    break;
	                case 40:
	                    return 77;
	                    break;
	                case 41:
	                    return 72;
	                    break;
	                case 42:
	                    yy_.yytext = yy_.yytext.replace(/\\([\\\]])/g, '$1');return 72;
	                    break;
	                case 43:
	                    return 'INVALID';
	                    break;
	                case 44:
	                    return 5;
	                    break;
	            }
	        };
	        lexer.rules = [/^(?:[^\x00]*?(?=(\{\{)))/, /^(?:[^\x00]+)/, /^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/, /^(?:\{\{\{\{(?=[^\/]))/, /^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/, /^(?:[^\x00]+?(?=(\{\{\{\{)))/, /^(?:[\s\S]*?--(~)?\}\})/, /^(?:\()/, /^(?:\))/, /^(?:\{\{\{\{)/, /^(?:\}\}\}\})/, /^(?:\{\{(~)?>)/, /^(?:\{\{(~)?#>)/, /^(?:\{\{(~)?#\*?)/, /^(?:\{\{(~)?\/)/, /^(?:\{\{(~)?\^\s*(~)?\}\})/, /^(?:\{\{(~)?\s*else\s*(~)?\}\})/, /^(?:\{\{(~)?\^)/, /^(?:\{\{(~)?\s*else\b)/, /^(?:\{\{(~)?\{)/, /^(?:\{\{(~)?&)/, /^(?:\{\{(~)?!--)/, /^(?:\{\{(~)?![\s\S]*?\}\})/, /^(?:\{\{(~)?\*?)/, /^(?:=)/, /^(?:\.\.)/, /^(?:\.(?=([=~}\s\/.)|])))/, /^(?:[\/.])/, /^(?:\s+)/, /^(?:\}(~)?\}\})/, /^(?:(~)?\}\})/, /^(?:"(\\["]|[^"])*")/, /^(?:'(\\[']|[^'])*')/, /^(?:@)/, /^(?:true(?=([~}\s)])))/, /^(?:false(?=([~}\s)])))/, /^(?:undefined(?=([~}\s)])))/, /^(?:null(?=([~}\s)])))/, /^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/, /^(?:as\s+\|)/, /^(?:\|)/, /^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/, /^(?:\[(\\\]|[^\]])*\])/, /^(?:.)/, /^(?:$)/];
	        lexer.conditions = { "mu": { "rules": [7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44], "inclusive": false }, "emu": { "rules": [2], "inclusive": false }, "com": { "rules": [6], "inclusive": false }, "raw": { "rules": [3, 4, 5], "inclusive": false }, "INITIAL": { "rules": [0, 1, 44], "inclusive": true } };
	        return lexer;
	    })();
	    parser.lexer = lexer;
	    function Parser() {
	        this.yy = {};
	    }Parser.prototype = parser;parser.Parser = Parser;
	    return new Parser();
	})();exports["default"] = handlebars;
	module.exports = exports["default"];

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;

	var _visitor = __webpack_require__(39);

	var _visitor2 = _interopRequireDefault(_visitor);

	function WhitespaceControl() {
	  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

	  this.options = options;
	}
	WhitespaceControl.prototype = new _visitor2['default']();

	WhitespaceControl.prototype.Program = function (program) {
	  var doStandalone = !this.options.ignoreStandalone;

	  var isRoot = !this.isRootSeen;
	  this.isRootSeen = true;

	  var body = program.body;
	  for (var i = 0, l = body.length; i < l; i++) {
	    var current = body[i],
	        strip = this.accept(current);

	    if (!strip) {
	      continue;
	    }

	    var _isPrevWhitespace = isPrevWhitespace(body, i, isRoot),
	        _isNextWhitespace = isNextWhitespace(body, i, isRoot),
	        openStandalone = strip.openStandalone && _isPrevWhitespace,
	        closeStandalone = strip.closeStandalone && _isNextWhitespace,
	        inlineStandalone = strip.inlineStandalone && _isPrevWhitespace && _isNextWhitespace;

	    if (strip.close) {
	      omitRight(body, i, true);
	    }
	    if (strip.open) {
	      omitLeft(body, i, true);
	    }

	    if (doStandalone && inlineStandalone) {
	      omitRight(body, i);

	      if (omitLeft(body, i)) {
	        // If we are on a standalone node, save the indent info for partials
	        if (current.type === 'PartialStatement') {
	          // Pull out the whitespace from the final line
	          current.indent = /([ \t]+$)/.exec(body[i - 1].original)[1];
	        }
	      }
	    }
	    if (doStandalone && openStandalone) {
	      omitRight((current.program || current.inverse).body);

	      // Strip out the previous content node if it's whitespace only
	      omitLeft(body, i);
	    }
	    if (doStandalone && closeStandalone) {
	      // Always strip the next node
	      omitRight(body, i);

	      omitLeft((current.inverse || current.program).body);
	    }
	  }

	  return program;
	};

	WhitespaceControl.prototype.BlockStatement = WhitespaceControl.prototype.DecoratorBlock = WhitespaceControl.prototype.PartialBlockStatement = function (block) {
	  this.accept(block.program);
	  this.accept(block.inverse);

	  // Find the inverse program that is involed with whitespace stripping.
	  var program = block.program || block.inverse,
	      inverse = block.program && block.inverse,
	      firstInverse = inverse,
	      lastInverse = inverse;

	  if (inverse && inverse.chained) {
	    firstInverse = inverse.body[0].program;

	    // Walk the inverse chain to find the last inverse that is actually in the chain.
	    while (lastInverse.chained) {
	      lastInverse = lastInverse.body[lastInverse.body.length - 1].program;
	    }
	  }

	  var strip = {
	    open: block.openStrip.open,
	    close: block.closeStrip.close,

	    // Determine the standalone candiacy. Basically flag our content as being possibly standalone
	    // so our parent can determine if we actually are standalone
	    openStandalone: isNextWhitespace(program.body),
	    closeStandalone: isPrevWhitespace((firstInverse || program).body)
	  };

	  if (block.openStrip.close) {
	    omitRight(program.body, null, true);
	  }

	  if (inverse) {
	    var inverseStrip = block.inverseStrip;

	    if (inverseStrip.open) {
	      omitLeft(program.body, null, true);
	    }

	    if (inverseStrip.close) {
	      omitRight(firstInverse.body, null, true);
	    }
	    if (block.closeStrip.open) {
	      omitLeft(lastInverse.body, null, true);
	    }

	    // Find standalone else statments
	    if (!this.options.ignoreStandalone && isPrevWhitespace(program.body) && isNextWhitespace(firstInverse.body)) {
	      omitLeft(program.body);
	      omitRight(firstInverse.body);
	    }
	  } else if (block.closeStrip.open) {
	    omitLeft(program.body, null, true);
	  }

	  return strip;
	};

	WhitespaceControl.prototype.Decorator = WhitespaceControl.prototype.MustacheStatement = function (mustache) {
	  return mustache.strip;
	};

	WhitespaceControl.prototype.PartialStatement = WhitespaceControl.prototype.CommentStatement = function (node) {
	  /* istanbul ignore next */
	  var strip = node.strip || {};
	  return {
	    inlineStandalone: true,
	    open: strip.open,
	    close: strip.close
	  };
	};

	function isPrevWhitespace(body, i, isRoot) {
	  if (i === undefined) {
	    i = body.length;
	  }

	  // Nodes that end with newlines are considered whitespace (but are special
	  // cased for strip operations)
	  var prev = body[i - 1],
	      sibling = body[i - 2];
	  if (!prev) {
	    return isRoot;
	  }

	  if (prev.type === 'ContentStatement') {
	    return (sibling || !isRoot ? /\r?\n\s*?$/ : /(^|\r?\n)\s*?$/).test(prev.original);
	  }
	}
	function isNextWhitespace(body, i, isRoot) {
	  if (i === undefined) {
	    i = -1;
	  }

	  var next = body[i + 1],
	      sibling = body[i + 2];
	  if (!next) {
	    return isRoot;
	  }

	  if (next.type === 'ContentStatement') {
	    return (sibling || !isRoot ? /^\s*?\r?\n/ : /^\s*?(\r?\n|$)/).test(next.original);
	  }
	}

	// Marks the node to the right of the position as omitted.
	// I.e. {{foo}}' ' will mark the ' ' node as omitted.
	//
	// If i is undefined, then the first child will be marked as such.
	//
	// If mulitple is truthy then all whitespace will be stripped out until non-whitespace
	// content is met.
	function omitRight(body, i, multiple) {
	  var current = body[i == null ? 0 : i + 1];
	  if (!current || current.type !== 'ContentStatement' || !multiple && current.rightStripped) {
	    return;
	  }

	  var original = current.value;
	  current.value = current.value.replace(multiple ? /^\s+/ : /^[ \t]*\r?\n?/, '');
	  current.rightStripped = current.value !== original;
	}

	// Marks the node to the left of the position as omitted.
	// I.e. ' '{{foo}} will mark the ' ' node as omitted.
	//
	// If i is undefined then the last child will be marked as such.
	//
	// If mulitple is truthy then all whitespace will be stripped out until non-whitespace
	// content is met.
	function omitLeft(body, i, multiple) {
	  var current = body[i == null ? body.length - 1 : i - 1];
	  if (!current || current.type !== 'ContentStatement' || !multiple && current.leftStripped) {
	    return;
	  }

	  // We omit the last node if it's whitespace only and not preceded by a non-content node.
	  var original = current.value;
	  current.value = current.value.replace(multiple ? /\s+$/ : /[ \t]+$/, '');
	  current.leftStripped = current.value !== original;
	  return current.leftStripped;
	}

	exports['default'] = WhitespaceControl;
	module.exports = exports['default'];

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	function Visitor() {
	  this.parents = [];
	}

	Visitor.prototype = {
	  constructor: Visitor,
	  mutating: false,

	  // Visits a given value. If mutating, will replace the value if necessary.
	  acceptKey: function acceptKey(node, name) {
	    var value = this.accept(node[name]);
	    if (this.mutating) {
	      // Hacky sanity check: This may have a few false positives for type for the helper
	      // methods but will generally do the right thing without a lot of overhead.
	      if (value && !Visitor.prototype[value.type]) {
	        throw new _exception2['default']('Unexpected node type "' + value.type + '" found when accepting ' + name + ' on ' + node.type);
	      }
	      node[name] = value;
	    }
	  },

	  // Performs an accept operation with added sanity check to ensure
	  // required keys are not removed.
	  acceptRequired: function acceptRequired(node, name) {
	    this.acceptKey(node, name);

	    if (!node[name]) {
	      throw new _exception2['default'](node.type + ' requires ' + name);
	    }
	  },

	  // Traverses a given array. If mutating, empty respnses will be removed
	  // for child elements.
	  acceptArray: function acceptArray(array) {
	    for (var i = 0, l = array.length; i < l; i++) {
	      this.acceptKey(array, i);

	      if (!array[i]) {
	        array.splice(i, 1);
	        i--;
	        l--;
	      }
	    }
	  },

	  accept: function accept(object) {
	    if (!object) {
	      return;
	    }

	    /* istanbul ignore next: Sanity code */
	    if (!this[object.type]) {
	      throw new _exception2['default']('Unknown type: ' + object.type, object);
	    }

	    if (this.current) {
	      this.parents.unshift(this.current);
	    }
	    this.current = object;

	    var ret = this[object.type](object);

	    this.current = this.parents.shift();

	    if (!this.mutating || ret) {
	      return ret;
	    } else if (ret !== false) {
	      return object;
	    }
	  },

	  Program: function Program(program) {
	    this.acceptArray(program.body);
	  },

	  MustacheStatement: visitSubExpression,
	  Decorator: visitSubExpression,

	  BlockStatement: visitBlock,
	  DecoratorBlock: visitBlock,

	  PartialStatement: visitPartial,
	  PartialBlockStatement: function PartialBlockStatement(partial) {
	    visitPartial.call(this, partial);

	    this.acceptKey(partial, 'program');
	  },

	  ContentStatement: function ContentStatement() /* content */{},
	  CommentStatement: function CommentStatement() /* comment */{},

	  SubExpression: visitSubExpression,

	  PathExpression: function PathExpression() /* path */{},

	  StringLiteral: function StringLiteral() /* string */{},
	  NumberLiteral: function NumberLiteral() /* number */{},
	  BooleanLiteral: function BooleanLiteral() /* bool */{},
	  UndefinedLiteral: function UndefinedLiteral() /* literal */{},
	  NullLiteral: function NullLiteral() /* literal */{},

	  Hash: function Hash(hash) {
	    this.acceptArray(hash.pairs);
	  },
	  HashPair: function HashPair(pair) {
	    this.acceptRequired(pair, 'value');
	  }
	};

	function visitSubExpression(mustache) {
	  this.acceptRequired(mustache, 'path');
	  this.acceptArray(mustache.params);
	  this.acceptKey(mustache, 'hash');
	}
	function visitBlock(block) {
	  visitSubExpression.call(this, block);

	  this.acceptKey(block, 'program');
	  this.acceptKey(block, 'inverse');
	}
	function visitPartial(partial) {
	  this.acceptRequired(partial, 'name');
	  this.acceptArray(partial.params);
	  this.acceptKey(partial, 'hash');
	}

	exports['default'] = Visitor;
	module.exports = exports['default'];

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;
	exports.SourceLocation = SourceLocation;
	exports.id = id;
	exports.stripFlags = stripFlags;
	exports.stripComment = stripComment;
	exports.preparePath = preparePath;
	exports.prepareMustache = prepareMustache;
	exports.prepareRawBlock = prepareRawBlock;
	exports.prepareBlock = prepareBlock;
	exports.prepareProgram = prepareProgram;
	exports.preparePartialBlock = preparePartialBlock;

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	function validateClose(open, close) {
	  close = close.path ? close.path.original : close;

	  if (open.path.original !== close) {
	    var errorNode = { loc: open.path.loc };

	    throw new _exception2['default'](open.path.original + " doesn't match " + close, errorNode);
	  }
	}

	function SourceLocation(source, locInfo) {
	  this.source = source;
	  this.start = {
	    line: locInfo.first_line,
	    column: locInfo.first_column
	  };
	  this.end = {
	    line: locInfo.last_line,
	    column: locInfo.last_column
	  };
	}

	function id(token) {
	  if (/^\[.*\]$/.test(token)) {
	    return token.substring(1, token.length - 1);
	  } else {
	    return token;
	  }
	}

	function stripFlags(open, close) {
	  return {
	    open: open.charAt(2) === '~',
	    close: close.charAt(close.length - 3) === '~'
	  };
	}

	function stripComment(comment) {
	  return comment.replace(/^\{\{~?!-?-?/, '').replace(/-?-?~?\}\}$/, '');
	}

	function preparePath(data, parts, loc) {
	  loc = this.locInfo(loc);

	  var original = data ? '@' : '',
	      dig = [],
	      depth = 0;

	  for (var i = 0, l = parts.length; i < l; i++) {
	    var part = parts[i].part,

	    // If we have [] syntax then we do not treat path references as operators,
	    // i.e. foo.[this] resolves to approximately context.foo['this']
	    isLiteral = parts[i].original !== part;
	    original += (parts[i].separator || '') + part;

	    if (!isLiteral && (part === '..' || part === '.' || part === 'this')) {
	      if (dig.length > 0) {
	        throw new _exception2['default']('Invalid path: ' + original, { loc: loc });
	      } else if (part === '..') {
	        depth++;
	      }
	    } else {
	      dig.push(part);
	    }
	  }

	  return {
	    type: 'PathExpression',
	    data: data,
	    depth: depth,
	    parts: dig,
	    original: original,
	    loc: loc
	  };
	}

	function prepareMustache(path, params, hash, open, strip, locInfo) {
	  // Must use charAt to support IE pre-10
	  var escapeFlag = open.charAt(3) || open.charAt(2),
	      escaped = escapeFlag !== '{' && escapeFlag !== '&';

	  var decorator = /\*/.test(open);
	  return {
	    type: decorator ? 'Decorator' : 'MustacheStatement',
	    path: path,
	    params: params,
	    hash: hash,
	    escaped: escaped,
	    strip: strip,
	    loc: this.locInfo(locInfo)
	  };
	}

	function prepareRawBlock(openRawBlock, contents, close, locInfo) {
	  validateClose(openRawBlock, close);

	  locInfo = this.locInfo(locInfo);
	  var program = {
	    type: 'Program',
	    body: contents,
	    strip: {},
	    loc: locInfo
	  };

	  return {
	    type: 'BlockStatement',
	    path: openRawBlock.path,
	    params: openRawBlock.params,
	    hash: openRawBlock.hash,
	    program: program,
	    openStrip: {},
	    inverseStrip: {},
	    closeStrip: {},
	    loc: locInfo
	  };
	}

	function prepareBlock(openBlock, program, inverseAndProgram, close, inverted, locInfo) {
	  if (close && close.path) {
	    validateClose(openBlock, close);
	  }

	  var decorator = /\*/.test(openBlock.open);

	  program.blockParams = openBlock.blockParams;

	  var inverse = undefined,
	      inverseStrip = undefined;

	  if (inverseAndProgram) {
	    if (decorator) {
	      throw new _exception2['default']('Unexpected inverse block on decorator', inverseAndProgram);
	    }

	    if (inverseAndProgram.chain) {
	      inverseAndProgram.program.body[0].closeStrip = close.strip;
	    }

	    inverseStrip = inverseAndProgram.strip;
	    inverse = inverseAndProgram.program;
	  }

	  if (inverted) {
	    inverted = inverse;
	    inverse = program;
	    program = inverted;
	  }

	  return {
	    type: decorator ? 'DecoratorBlock' : 'BlockStatement',
	    path: openBlock.path,
	    params: openBlock.params,
	    hash: openBlock.hash,
	    program: program,
	    inverse: inverse,
	    openStrip: openBlock.strip,
	    inverseStrip: inverseStrip,
	    closeStrip: close && close.strip,
	    loc: this.locInfo(locInfo)
	  };
	}

	function prepareProgram(statements, loc) {
	  if (!loc && statements.length) {
	    var firstLoc = statements[0].loc,
	        lastLoc = statements[statements.length - 1].loc;

	    /* istanbul ignore else */
	    if (firstLoc && lastLoc) {
	      loc = {
	        source: firstLoc.source,
	        start: {
	          line: firstLoc.start.line,
	          column: firstLoc.start.column
	        },
	        end: {
	          line: lastLoc.end.line,
	          column: lastLoc.end.column
	        }
	      };
	    }
	  }

	  return {
	    type: 'Program',
	    body: statements,
	    strip: {},
	    loc: loc
	  };
	}

	function preparePartialBlock(open, program, close, locInfo) {
	  validateClose(open, close);

	  return {
	    type: 'PartialBlockStatement',
	    name: open.path,
	    params: open.params,
	    hash: open.hash,
	    program: program,
	    openStrip: open.strip,
	    closeStrip: close && close.strip,
	    loc: this.locInfo(locInfo)
	  };
	}

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

	/* eslint-disable new-cap */

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;
	exports.Compiler = Compiler;
	exports.precompile = precompile;
	exports.compile = compile;

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	var _utils = __webpack_require__(5);

	var _ast = __webpack_require__(35);

	var _ast2 = _interopRequireDefault(_ast);

	var slice = [].slice;

	function Compiler() {}

	// the foundHelper register will disambiguate helper lookup from finding a
	// function in a context. This is necessary for mustache compatibility, which
	// requires that context functions in blocks are evaluated by blockHelperMissing,
	// and then proceed as if the resulting value was provided to blockHelperMissing.

	Compiler.prototype = {
	  compiler: Compiler,

	  equals: function equals(other) {
	    var len = this.opcodes.length;
	    if (other.opcodes.length !== len) {
	      return false;
	    }

	    for (var i = 0; i < len; i++) {
	      var opcode = this.opcodes[i],
	          otherOpcode = other.opcodes[i];
	      if (opcode.opcode !== otherOpcode.opcode || !argEquals(opcode.args, otherOpcode.args)) {
	        return false;
	      }
	    }

	    // We know that length is the same between the two arrays because they are directly tied
	    // to the opcode behavior above.
	    len = this.children.length;
	    for (var i = 0; i < len; i++) {
	      if (!this.children[i].equals(other.children[i])) {
	        return false;
	      }
	    }

	    return true;
	  },

	  guid: 0,

	  compile: function compile(program, options) {
	    this.sourceNode = [];
	    this.opcodes = [];
	    this.children = [];
	    this.options = options;
	    this.stringParams = options.stringParams;
	    this.trackIds = options.trackIds;

	    options.blockParams = options.blockParams || [];

	    // These changes will propagate to the other compiler components
	    var knownHelpers = options.knownHelpers;
	    options.knownHelpers = {
	      'helperMissing': true,
	      'blockHelperMissing': true,
	      'each': true,
	      'if': true,
	      'unless': true,
	      'with': true,
	      'log': true,
	      'lookup': true
	    };
	    if (knownHelpers) {
	      // the next line should use "Object.keys", but the code has been like this a long time and changing it, might
	      // cause backwards-compatibility issues... It's an old library...
	      // eslint-disable-next-line guard-for-in
	      for (var _name in knownHelpers) {
	        this.options.knownHelpers[_name] = knownHelpers[_name];
	      }
	    }

	    return this.accept(program);
	  },

	  compileProgram: function compileProgram(program) {
	    var childCompiler = new this.compiler(),
	        // eslint-disable-line new-cap
	    result = childCompiler.compile(program, this.options),
	        guid = this.guid++;

	    this.usePartial = this.usePartial || result.usePartial;

	    this.children[guid] = result;
	    this.useDepths = this.useDepths || result.useDepths;

	    return guid;
	  },

	  accept: function accept(node) {
	    /* istanbul ignore next: Sanity code */
	    if (!this[node.type]) {
	      throw new _exception2['default']('Unknown type: ' + node.type, node);
	    }

	    this.sourceNode.unshift(node);
	    var ret = this[node.type](node);
	    this.sourceNode.shift();
	    return ret;
	  },

	  Program: function Program(program) {
	    this.options.blockParams.unshift(program.blockParams);

	    var body = program.body,
	        bodyLength = body.length;
	    for (var i = 0; i < bodyLength; i++) {
	      this.accept(body[i]);
	    }

	    this.options.blockParams.shift();

	    this.isSimple = bodyLength === 1;
	    this.blockParams = program.blockParams ? program.blockParams.length : 0;

	    return this;
	  },

	  BlockStatement: function BlockStatement(block) {
	    transformLiteralToPath(block);

	    var program = block.program,
	        inverse = block.inverse;

	    program = program && this.compileProgram(program);
	    inverse = inverse && this.compileProgram(inverse);

	    var type = this.classifySexpr(block);

	    if (type === 'helper') {
	      this.helperSexpr(block, program, inverse);
	    } else if (type === 'simple') {
	      this.simpleSexpr(block);

	      // now that the simple mustache is resolved, we need to
	      // evaluate it by executing `blockHelperMissing`
	      this.opcode('pushProgram', program);
	      this.opcode('pushProgram', inverse);
	      this.opcode('emptyHash');
	      this.opcode('blockValue', block.path.original);
	    } else {
	      this.ambiguousSexpr(block, program, inverse);

	      // now that the simple mustache is resolved, we need to
	      // evaluate it by executing `blockHelperMissing`
	      this.opcode('pushProgram', program);
	      this.opcode('pushProgram', inverse);
	      this.opcode('emptyHash');
	      this.opcode('ambiguousBlockValue');
	    }

	    this.opcode('append');
	  },

	  DecoratorBlock: function DecoratorBlock(decorator) {
	    var program = decorator.program && this.compileProgram(decorator.program);
	    var params = this.setupFullMustacheParams(decorator, program, undefined),
	        path = decorator.path;

	    this.useDecorators = true;
	    this.opcode('registerDecorator', params.length, path.original);
	  },

	  PartialStatement: function PartialStatement(partial) {
	    this.usePartial = true;

	    var program = partial.program;
	    if (program) {
	      program = this.compileProgram(partial.program);
	    }

	    var params = partial.params;
	    if (params.length > 1) {
	      throw new _exception2['default']('Unsupported number of partial arguments: ' + params.length, partial);
	    } else if (!params.length) {
	      if (this.options.explicitPartialContext) {
	        this.opcode('pushLiteral', 'undefined');
	      } else {
	        params.push({ type: 'PathExpression', parts: [], depth: 0 });
	      }
	    }

	    var partialName = partial.name.original,
	        isDynamic = partial.name.type === 'SubExpression';
	    if (isDynamic) {
	      this.accept(partial.name);
	    }

	    this.setupFullMustacheParams(partial, program, undefined, true);

	    var indent = partial.indent || '';
	    if (this.options.preventIndent && indent) {
	      this.opcode('appendContent', indent);
	      indent = '';
	    }

	    this.opcode('invokePartial', isDynamic, partialName, indent);
	    this.opcode('append');
	  },
	  PartialBlockStatement: function PartialBlockStatement(partialBlock) {
	    this.PartialStatement(partialBlock);
	  },

	  MustacheStatement: function MustacheStatement(mustache) {
	    this.SubExpression(mustache);

	    if (mustache.escaped && !this.options.noEscape) {
	      this.opcode('appendEscaped');
	    } else {
	      this.opcode('append');
	    }
	  },
	  Decorator: function Decorator(decorator) {
	    this.DecoratorBlock(decorator);
	  },

	  ContentStatement: function ContentStatement(content) {
	    if (content.value) {
	      this.opcode('appendContent', content.value);
	    }
	  },

	  CommentStatement: function CommentStatement() {},

	  SubExpression: function SubExpression(sexpr) {
	    transformLiteralToPath(sexpr);
	    var type = this.classifySexpr(sexpr);

	    if (type === 'simple') {
	      this.simpleSexpr(sexpr);
	    } else if (type === 'helper') {
	      this.helperSexpr(sexpr);
	    } else {
	      this.ambiguousSexpr(sexpr);
	    }
	  },
	  ambiguousSexpr: function ambiguousSexpr(sexpr, program, inverse) {
	    var path = sexpr.path,
	        name = path.parts[0],
	        isBlock = program != null || inverse != null;

	    this.opcode('getContext', path.depth);

	    this.opcode('pushProgram', program);
	    this.opcode('pushProgram', inverse);

	    path.strict = true;
	    this.accept(path);

	    this.opcode('invokeAmbiguous', name, isBlock);
	  },

	  simpleSexpr: function simpleSexpr(sexpr) {
	    var path = sexpr.path;
	    path.strict = true;
	    this.accept(path);
	    this.opcode('resolvePossibleLambda');
	  },

	  helperSexpr: function helperSexpr(sexpr, program, inverse) {
	    var params = this.setupFullMustacheParams(sexpr, program, inverse),
	        path = sexpr.path,
	        name = path.parts[0];

	    if (this.options.knownHelpers[name]) {
	      this.opcode('invokeKnownHelper', params.length, name);
	    } else if (this.options.knownHelpersOnly) {
	      throw new _exception2['default']('You specified knownHelpersOnly, but used the unknown helper ' + name, sexpr);
	    } else {
	      path.strict = true;
	      path.falsy = true;

	      this.accept(path);
	      this.opcode('invokeHelper', params.length, path.original, _ast2['default'].helpers.simpleId(path));
	    }
	  },

	  PathExpression: function PathExpression(path) {
	    this.addDepth(path.depth);
	    this.opcode('getContext', path.depth);

	    var name = path.parts[0],
	        scoped = _ast2['default'].helpers.scopedId(path),
	        blockParamId = !path.depth && !scoped && this.blockParamIndex(name);

	    if (blockParamId) {
	      this.opcode('lookupBlockParam', blockParamId, path.parts);
	    } else if (!name) {
	      // Context reference, i.e. `{{foo .}}` or `{{foo ..}}`
	      this.opcode('pushContext');
	    } else if (path.data) {
	      this.options.data = true;
	      this.opcode('lookupData', path.depth, path.parts, path.strict);
	    } else {
	      this.opcode('lookupOnContext', path.parts, path.falsy, path.strict, scoped);
	    }
	  },

	  StringLiteral: function StringLiteral(string) {
	    this.opcode('pushString', string.value);
	  },

	  NumberLiteral: function NumberLiteral(number) {
	    this.opcode('pushLiteral', number.value);
	  },

	  BooleanLiteral: function BooleanLiteral(bool) {
	    this.opcode('pushLiteral', bool.value);
	  },

	  UndefinedLiteral: function UndefinedLiteral() {
	    this.opcode('pushLiteral', 'undefined');
	  },

	  NullLiteral: function NullLiteral() {
	    this.opcode('pushLiteral', 'null');
	  },

	  Hash: function Hash(hash) {
	    var pairs = hash.pairs,
	        i = 0,
	        l = pairs.length;

	    this.opcode('pushHash');

	    for (; i < l; i++) {
	      this.pushParam(pairs[i].value);
	    }
	    while (i--) {
	      this.opcode('assignToHash', pairs[i].key);
	    }
	    this.opcode('popHash');
	  },

	  // HELPERS
	  opcode: function opcode(name) {
	    this.opcodes.push({ opcode: name, args: slice.call(arguments, 1), loc: this.sourceNode[0].loc });
	  },

	  addDepth: function addDepth(depth) {
	    if (!depth) {
	      return;
	    }

	    this.useDepths = true;
	  },

	  classifySexpr: function classifySexpr(sexpr) {
	    var isSimple = _ast2['default'].helpers.simpleId(sexpr.path);

	    var isBlockParam = isSimple && !!this.blockParamIndex(sexpr.path.parts[0]);

	    // a mustache is an eligible helper if:
	    // * its id is simple (a single part, not `this` or `..`)
	    var isHelper = !isBlockParam && _ast2['default'].helpers.helperExpression(sexpr);

	    // if a mustache is an eligible helper but not a definite
	    // helper, it is ambiguous, and will be resolved in a later
	    // pass or at runtime.
	    var isEligible = !isBlockParam && (isHelper || isSimple);

	    // if ambiguous, we can possibly resolve the ambiguity now
	    // An eligible helper is one that does not have a complex path, i.e. `this.foo`, `../foo` etc.
	    if (isEligible && !isHelper) {
	      var _name2 = sexpr.path.parts[0],
	          options = this.options;

	      if (options.knownHelpers[_name2]) {
	        isHelper = true;
	      } else if (options.knownHelpersOnly) {
	        isEligible = false;
	      }
	    }

	    if (isHelper) {
	      return 'helper';
	    } else if (isEligible) {
	      return 'ambiguous';
	    } else {
	      return 'simple';
	    }
	  },

	  pushParams: function pushParams(params) {
	    for (var i = 0, l = params.length; i < l; i++) {
	      this.pushParam(params[i]);
	    }
	  },

	  pushParam: function pushParam(val) {
	    var value = val.value != null ? val.value : val.original || '';

	    if (this.stringParams) {
	      if (value.replace) {
	        value = value.replace(/^(\.?\.\/)*/g, '').replace(/\//g, '.');
	      }

	      if (val.depth) {
	        this.addDepth(val.depth);
	      }
	      this.opcode('getContext', val.depth || 0);
	      this.opcode('pushStringParam', value, val.type);

	      if (val.type === 'SubExpression') {
	        // SubExpressions get evaluated and passed in
	        // in string params mode.
	        this.accept(val);
	      }
	    } else {
	      if (this.trackIds) {
	        var blockParamIndex = undefined;
	        if (val.parts && !_ast2['default'].helpers.scopedId(val) && !val.depth) {
	          blockParamIndex = this.blockParamIndex(val.parts[0]);
	        }
	        if (blockParamIndex) {
	          var blockParamChild = val.parts.slice(1).join('.');
	          this.opcode('pushId', 'BlockParam', blockParamIndex, blockParamChild);
	        } else {
	          value = val.original || value;
	          if (value.replace) {
	            value = value.replace(/^this(?:\.|$)/, '').replace(/^\.\//, '').replace(/^\.$/, '');
	          }

	          this.opcode('pushId', val.type, value);
	        }
	      }
	      this.accept(val);
	    }
	  },

	  setupFullMustacheParams: function setupFullMustacheParams(sexpr, program, inverse, omitEmpty) {
	    var params = sexpr.params;
	    this.pushParams(params);

	    this.opcode('pushProgram', program);
	    this.opcode('pushProgram', inverse);

	    if (sexpr.hash) {
	      this.accept(sexpr.hash);
	    } else {
	      this.opcode('emptyHash', omitEmpty);
	    }

	    return params;
	  },

	  blockParamIndex: function blockParamIndex(name) {
	    for (var depth = 0, len = this.options.blockParams.length; depth < len; depth++) {
	      var blockParams = this.options.blockParams[depth],
	          param = blockParams && _utils.indexOf(blockParams, name);
	      if (blockParams && param >= 0) {
	        return [depth, param];
	      }
	    }
	  }
	};

	function precompile(input, options, env) {
	  if (input == null || typeof input !== 'string' && input.type !== 'Program') {
	    throw new _exception2['default']('You must pass a string or Handlebars AST to Handlebars.precompile. You passed ' + input);
	  }

	  options = options || {};
	  if (!('data' in options)) {
	    options.data = true;
	  }
	  if (options.compat) {
	    options.useDepths = true;
	  }

	  var ast = env.parse(input, options),
	      environment = new env.Compiler().compile(ast, options);
	  return new env.JavaScriptCompiler().compile(environment, options);
	}

	function compile(input, options, env) {
	  if (options === undefined) options = {};

	  if (input == null || typeof input !== 'string' && input.type !== 'Program') {
	    throw new _exception2['default']('You must pass a string or Handlebars AST to Handlebars.compile. You passed ' + input);
	  }

	  options = _utils.extend({}, options);
	  if (!('data' in options)) {
	    options.data = true;
	  }
	  if (options.compat) {
	    options.useDepths = true;
	  }

	  var compiled = undefined;

	  function compileInput() {
	    var ast = env.parse(input, options),
	        environment = new env.Compiler().compile(ast, options),
	        templateSpec = new env.JavaScriptCompiler().compile(environment, options, undefined, true);
	    return env.template(templateSpec);
	  }

	  // Template is only compiled on first use and cached after that point.
	  function ret(context, execOptions) {
	    if (!compiled) {
	      compiled = compileInput();
	    }
	    return compiled.call(this, context, execOptions);
	  }
	  ret._setup = function (setupOptions) {
	    if (!compiled) {
	      compiled = compileInput();
	    }
	    return compiled._setup(setupOptions);
	  };
	  ret._child = function (i, data, blockParams, depths) {
	    if (!compiled) {
	      compiled = compileInput();
	    }
	    return compiled._child(i, data, blockParams, depths);
	  };
	  return ret;
	}

	function argEquals(a, b) {
	  if (a === b) {
	    return true;
	  }

	  if (_utils.isArray(a) && _utils.isArray(b) && a.length === b.length) {
	    for (var i = 0; i < a.length; i++) {
	      if (!argEquals(a[i], b[i])) {
	        return false;
	      }
	    }
	    return true;
	  }
	}

	function transformLiteralToPath(sexpr) {
	  if (!sexpr.path.parts) {
	    var literal = sexpr.path;
	    // Casting to string here to make false and 0 literal values play nicely with the rest
	    // of the system.
	    sexpr.path = {
	      type: 'PathExpression',
	      data: false,
	      depth: 0,
	      parts: [literal.original + ''],
	      original: literal.original + '',
	      loc: literal.loc
	    };
	  }
	}

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _interopRequireDefault = __webpack_require__(1)['default'];

	exports.__esModule = true;

	var _base = __webpack_require__(4);

	var _exception = __webpack_require__(6);

	var _exception2 = _interopRequireDefault(_exception);

	var _utils = __webpack_require__(5);

	var _codeGen = __webpack_require__(43);

	var _codeGen2 = _interopRequireDefault(_codeGen);

	function Literal(value) {
	  this.value = value;
	}

	function JavaScriptCompiler() {}

	JavaScriptCompiler.prototype = {
	  // PUBLIC API: You can override these methods in a subclass to provide
	  // alternative compiled forms for name lookup and buffering semantics
	  nameLookup: function nameLookup(parent, name /* , type*/) {
	    var isEnumerable = [this.aliasable('container.propertyIsEnumerable'), '.call(', parent, ',"constructor")'];

	    if (name === 'constructor') {
	      return ['(', isEnumerable, '?', _actualLookup(), ' : undefined)'];
	    }
	    return _actualLookup();

	    function _actualLookup() {
	      if (JavaScriptCompiler.isValidJavaScriptVariableName(name)) {
	        return [parent, '.', name];
	      } else {
	        return [parent, '[', JSON.stringify(name), ']'];
	      }
	    }
	  },
	  depthedLookup: function depthedLookup(name) {
	    return [this.aliasable('container.lookup'), '(depths, "', name, '")'];
	  },

	  compilerInfo: function compilerInfo() {
	    var revision = _base.COMPILER_REVISION,
	        versions = _base.REVISION_CHANGES[revision];
	    return [revision, versions];
	  },

	  appendToBuffer: function appendToBuffer(source, location, explicit) {
	    // Force a source as this simplifies the merge logic.
	    if (!_utils.isArray(source)) {
	      source = [source];
	    }
	    source = this.source.wrap(source, location);

	    if (this.environment.isSimple) {
	      return ['return ', source, ';'];
	    } else if (explicit) {
	      // This is a case where the buffer operation occurs as a child of another
	      // construct, generally braces. We have to explicitly output these buffer
	      // operations to ensure that the emitted code goes in the correct location.
	      return ['buffer += ', source, ';'];
	    } else {
	      source.appendToBuffer = true;
	      return source;
	    }
	  },

	  initializeBuffer: function initializeBuffer() {
	    return this.quotedString('');
	  },
	  // END PUBLIC API

	  compile: function compile(environment, options, context, asObject) {
	    this.environment = environment;
	    this.options = options;
	    this.stringParams = this.options.stringParams;
	    this.trackIds = this.options.trackIds;
	    this.precompile = !asObject;

	    this.name = this.environment.name;
	    this.isChild = !!context;
	    this.context = context || {
	      decorators: [],
	      programs: [],
	      environments: []
	    };

	    this.preamble();

	    this.stackSlot = 0;
	    this.stackVars = [];
	    this.aliases = {};
	    this.registers = { list: [] };
	    this.hashes = [];
	    this.compileStack = [];
	    this.inlineStack = [];
	    this.blockParams = [];

	    this.compileChildren(environment, options);

	    this.useDepths = this.useDepths || environment.useDepths || environment.useDecorators || this.options.compat;
	    this.useBlockParams = this.useBlockParams || environment.useBlockParams;

	    var opcodes = environment.opcodes,
	        opcode = undefined,
	        firstLoc = undefined,
	        i = undefined,
	        l = undefined;

	    for (i = 0, l = opcodes.length; i < l; i++) {
	      opcode = opcodes[i];

	      this.source.currentLocation = opcode.loc;
	      firstLoc = firstLoc || opcode.loc;
	      this[opcode.opcode].apply(this, opcode.args);
	    }

	    // Flush any trailing content that might be pending.
	    this.source.currentLocation = firstLoc;
	    this.pushSource('');

	    /* istanbul ignore next */
	    if (this.stackSlot || this.inlineStack.length || this.compileStack.length) {
	      throw new _exception2['default']('Compile completed with content left on stack');
	    }

	    if (!this.decorators.isEmpty()) {
	      this.useDecorators = true;

	      this.decorators.prepend('var decorators = container.decorators;\n');
	      this.decorators.push('return fn;');

	      if (asObject) {
	        this.decorators = Function.apply(this, ['fn', 'props', 'container', 'depth0', 'data', 'blockParams', 'depths', this.decorators.merge()]);
	      } else {
	        this.decorators.prepend('function(fn, props, container, depth0, data, blockParams, depths) {\n');
	        this.decorators.push('}\n');
	        this.decorators = this.decorators.merge();
	      }
	    } else {
	      this.decorators = undefined;
	    }

	    var fn = this.createFunctionContext(asObject);
	    if (!this.isChild) {
	      var ret = {
	        compiler: this.compilerInfo(),
	        main: fn
	      };

	      if (this.decorators) {
	        ret.main_d = this.decorators; // eslint-disable-line camelcase
	        ret.useDecorators = true;
	      }

	      var _context = this.context;
	      var programs = _context.programs;
	      var decorators = _context.decorators;

	      for (i = 0, l = programs.length; i < l; i++) {
	        if (programs[i]) {
	          ret[i] = programs[i];
	          if (decorators[i]) {
	            ret[i + '_d'] = decorators[i];
	            ret.useDecorators = true;
	          }
	        }
	      }

	      if (this.environment.usePartial) {
	        ret.usePartial = true;
	      }
	      if (this.options.data) {
	        ret.useData = true;
	      }
	      if (this.useDepths) {
	        ret.useDepths = true;
	      }
	      if (this.useBlockParams) {
	        ret.useBlockParams = true;
	      }
	      if (this.options.compat) {
	        ret.compat = true;
	      }

	      if (!asObject) {
	        ret.compiler = JSON.stringify(ret.compiler);

	        this.source.currentLocation = { start: { line: 1, column: 0 } };
	        ret = this.objectLiteral(ret);

	        if (options.srcName) {
	          ret = ret.toStringWithSourceMap({ file: options.destName });
	          ret.map = ret.map && ret.map.toString();
	        } else {
	          ret = ret.toString();
	        }
	      } else {
	        ret.compilerOptions = this.options;
	      }

	      return ret;
	    } else {
	      return fn;
	    }
	  },

	  preamble: function preamble() {
	    // track the last context pushed into place to allow skipping the
	    // getContext opcode when it would be a noop
	    this.lastContext = 0;
	    this.source = new _codeGen2['default'](this.options.srcName);
	    this.decorators = new _codeGen2['default'](this.options.srcName);
	  },

	  createFunctionContext: function createFunctionContext(asObject) {
	    var varDeclarations = '';

	    var locals = this.stackVars.concat(this.registers.list);
	    if (locals.length > 0) {
	      varDeclarations += ', ' + locals.join(', ');
	    }

	    // Generate minimizer alias mappings
	    //
	    // When using true SourceNodes, this will update all references to the given alias
	    // as the source nodes are reused in situ. For the non-source node compilation mode,
	    // aliases will not be used, but this case is already being run on the client and
	    // we aren't concern about minimizing the template size.
	    var aliasCount = 0;
	    for (var alias in this.aliases) {
	      // eslint-disable-line guard-for-in
	      var node = this.aliases[alias];
	      if (this.aliases.hasOwnProperty(alias) && node.children && node.referenceCount > 1) {
	        varDeclarations += ', alias' + ++aliasCount + '=' + alias;
	        node.children[0] = 'alias' + aliasCount;
	      }
	    }

	    var params = ['container', 'depth0', 'helpers', 'partials', 'data'];

	    if (this.useBlockParams || this.useDepths) {
	      params.push('blockParams');
	    }
	    if (this.useDepths) {
	      params.push('depths');
	    }

	    // Perform a second pass over the output to merge content when possible
	    var source = this.mergeSource(varDeclarations);

	    if (asObject) {
	      params.push(source);

	      return Function.apply(this, params);
	    } else {
	      return this.source.wrap(['function(', params.join(','), ') {\n  ', source, '}']);
	    }
	  },
	  mergeSource: function mergeSource(varDeclarations) {
	    var isSimple = this.environment.isSimple,
	        appendOnly = !this.forceBuffer,
	        appendFirst = undefined,
	        sourceSeen = undefined,
	        bufferStart = undefined,
	        bufferEnd = undefined;
	    this.source.each(function (line) {
	      if (line.appendToBuffer) {
	        if (bufferStart) {
	          line.prepend('  + ');
	        } else {
	          bufferStart = line;
	        }
	        bufferEnd = line;
	      } else {
	        if (bufferStart) {
	          if (!sourceSeen) {
	            appendFirst = true;
	          } else {
	            bufferStart.prepend('buffer += ');
	          }
	          bufferEnd.add(';');
	          bufferStart = bufferEnd = undefined;
	        }

	        sourceSeen = true;
	        if (!isSimple) {
	          appendOnly = false;
	        }
	      }
	    });

	    if (appendOnly) {
	      if (bufferStart) {
	        bufferStart.prepend('return ');
	        bufferEnd.add(';');
	      } else if (!sourceSeen) {
	        this.source.push('return "";');
	      }
	    } else {
	      varDeclarations += ', buffer = ' + (appendFirst ? '' : this.initializeBuffer());

	      if (bufferStart) {
	        bufferStart.prepend('return buffer + ');
	        bufferEnd.add(';');
	      } else {
	        this.source.push('return buffer;');
	      }
	    }

	    if (varDeclarations) {
	      this.source.prepend('var ' + varDeclarations.substring(2) + (appendFirst ? '' : ';\n'));
	    }

	    return this.source.merge();
	  },

	  // [blockValue]
	  //
	  // On stack, before: hash, inverse, program, value
	  // On stack, after: return value of blockHelperMissing
	  //
	  // The purpose of this opcode is to take a block of the form
	  // `{{#this.foo}}...{{/this.foo}}`, resolve the value of `foo`, and
	  // replace it on the stack with the result of properly
	  // invoking blockHelperMissing.
	  blockValue: function blockValue(name) {
	    var blockHelperMissing = this.aliasable('container.hooks.blockHelperMissing'),
	        params = [this.contextName(0)];
	    this.setupHelperArgs(name, 0, params);

	    var blockName = this.popStack();
	    params.splice(1, 0, blockName);

	    this.push(this.source.functionCall(blockHelperMissing, 'call', params));
	  },

	  // [ambiguousBlockValue]
	  //
	  // On stack, before: hash, inverse, program, value
	  // Compiler value, before: lastHelper=value of last found helper, if any
	  // On stack, after, if no lastHelper: same as [blockValue]
	  // On stack, after, if lastHelper: value
	  ambiguousBlockValue: function ambiguousBlockValue() {
	    // We're being a bit cheeky and reusing the options value from the prior exec
	    var blockHelperMissing = this.aliasable('container.hooks.blockHelperMissing'),
	        params = [this.contextName(0)];
	    this.setupHelperArgs('', 0, params, true);

	    this.flushInline();

	    var current = this.topStack();
	    params.splice(1, 0, current);

	    this.pushSource(['if (!', this.lastHelper, ') { ', current, ' = ', this.source.functionCall(blockHelperMissing, 'call', params), '}']);
	  },

	  // [appendContent]
	  //
	  // On stack, before: ...
	  // On stack, after: ...
	  //
	  // Appends the string value of `content` to the current buffer
	  appendContent: function appendContent(content) {
	    if (this.pendingContent) {
	      content = this.pendingContent + content;
	    } else {
	      this.pendingLocation = this.source.currentLocation;
	    }

	    this.pendingContent = content;
	  },

	  // [append]
	  //
	  // On stack, before: value, ...
	  // On stack, after: ...
	  //
	  // Coerces `value` to a String and appends it to the current buffer.
	  //
	  // If `value` is truthy, or 0, it is coerced into a string and appended
	  // Otherwise, the empty string is appended
	  append: function append() {
	    if (this.isInline()) {
	      this.replaceStack(function (current) {
	        return [' != null ? ', current, ' : ""'];
	      });

	      this.pushSource(this.appendToBuffer(this.popStack()));
	    } else {
	      var local = this.popStack();
	      this.pushSource(['if (', local, ' != null) { ', this.appendToBuffer(local, undefined, true), ' }']);
	      if (this.environment.isSimple) {
	        this.pushSource(['else { ', this.appendToBuffer("''", undefined, true), ' }']);
	      }
	    }
	  },

	  // [appendEscaped]
	  //
	  // On stack, before: value, ...
	  // On stack, after: ...
	  //
	  // Escape `value` and append it to the buffer
	  appendEscaped: function appendEscaped() {
	    this.pushSource(this.appendToBuffer([this.aliasable('container.escapeExpression'), '(', this.popStack(), ')']));
	  },

	  // [getContext]
	  //
	  // On stack, before: ...
	  // On stack, after: ...
	  // Compiler value, after: lastContext=depth
	  //
	  // Set the value of the `lastContext` compiler value to the depth
	  getContext: function getContext(depth) {
	    this.lastContext = depth;
	  },

	  // [pushContext]
	  //
	  // On stack, before: ...
	  // On stack, after: currentContext, ...
	  //
	  // Pushes the value of the current context onto the stack.
	  pushContext: function pushContext() {
	    this.pushStackLiteral(this.contextName(this.lastContext));
	  },

	  // [lookupOnContext]
	  //
	  // On stack, before: ...
	  // On stack, after: currentContext[name], ...
	  //
	  // Looks up the value of `name` on the current context and pushes
	  // it onto the stack.
	  lookupOnContext: function lookupOnContext(parts, falsy, strict, scoped) {
	    var i = 0;

	    if (!scoped && this.options.compat && !this.lastContext) {
	      // The depthed query is expected to handle the undefined logic for the root level that
	      // is implemented below, so we evaluate that directly in compat mode
	      this.push(this.depthedLookup(parts[i++]));
	    } else {
	      this.pushContext();
	    }

	    this.resolvePath('context', parts, i, falsy, strict);
	  },

	  // [lookupBlockParam]
	  //
	  // On stack, before: ...
	  // On stack, after: blockParam[name], ...
	  //
	  // Looks up the value of `parts` on the given block param and pushes
	  // it onto the stack.
	  lookupBlockParam: function lookupBlockParam(blockParamId, parts) {
	    this.useBlockParams = true;

	    this.push(['blockParams[', blockParamId[0], '][', blockParamId[1], ']']);
	    this.resolvePath('context', parts, 1);
	  },

	  // [lookupData]
	  //
	  // On stack, before: ...
	  // On stack, after: data, ...
	  //
	  // Push the data lookup operator
	  lookupData: function lookupData(depth, parts, strict) {
	    if (!depth) {
	      this.pushStackLiteral('data');
	    } else {
	      this.pushStackLiteral('container.data(data, ' + depth + ')');
	    }

	    this.resolvePath('data', parts, 0, true, strict);
	  },

	  resolvePath: function resolvePath(type, parts, i, falsy, strict) {
	    // istanbul ignore next

	    var _this = this;

	    if (this.options.strict || this.options.assumeObjects) {
	      this.push(strictLookup(this.options.strict && strict, this, parts, type));
	      return;
	    }

	    var len = parts.length;
	    for (; i < len; i++) {
	      /* eslint-disable no-loop-func */
	      this.replaceStack(function (current) {
	        var lookup = _this.nameLookup(current, parts[i], type);
	        // We want to ensure that zero and false are handled properly if the context (falsy flag)
	        // needs to have the special handling for these values.
	        if (!falsy) {
	          return [' != null ? ', lookup, ' : ', current];
	        } else {
	          // Otherwise we can use generic falsy handling
	          return [' && ', lookup];
	        }
	      });
	      /* eslint-enable no-loop-func */
	    }
	  },

	  // [resolvePossibleLambda]
	  //
	  // On stack, before: value, ...
	  // On stack, after: resolved value, ...
	  //
	  // If the `value` is a lambda, replace it on the stack by
	  // the return value of the lambda
	  resolvePossibleLambda: function resolvePossibleLambda() {
	    this.push([this.aliasable('container.lambda'), '(', this.popStack(), ', ', this.contextName(0), ')']);
	  },

	  // [pushStringParam]
	  //
	  // On stack, before: ...
	  // On stack, after: string, currentContext, ...
	  //
	  // This opcode is designed for use in string mode, which
	  // provides the string value of a parameter along with its
	  // depth rather than resolving it immediately.
	  pushStringParam: function pushStringParam(string, type) {
	    this.pushContext();
	    this.pushString(type);

	    // If it's a subexpression, the string result
	    // will be pushed after this opcode.
	    if (type !== 'SubExpression') {
	      if (typeof string === 'string') {
	        this.pushString(string);
	      } else {
	        this.pushStackLiteral(string);
	      }
	    }
	  },

	  emptyHash: function emptyHash(omitEmpty) {
	    if (this.trackIds) {
	      this.push('{}'); // hashIds
	    }
	    if (this.stringParams) {
	      this.push('{}'); // hashContexts
	      this.push('{}'); // hashTypes
	    }
	    this.pushStackLiteral(omitEmpty ? 'undefined' : '{}');
	  },
	  pushHash: function pushHash() {
	    if (this.hash) {
	      this.hashes.push(this.hash);
	    }
	    this.hash = { values: {}, types: [], contexts: [], ids: [] };
	  },
	  popHash: function popHash() {
	    var hash = this.hash;
	    this.hash = this.hashes.pop();

	    if (this.trackIds) {
	      this.push(this.objectLiteral(hash.ids));
	    }
	    if (this.stringParams) {
	      this.push(this.objectLiteral(hash.contexts));
	      this.push(this.objectLiteral(hash.types));
	    }

	    this.push(this.objectLiteral(hash.values));
	  },

	  // [pushString]
	  //
	  // On stack, before: ...
	  // On stack, after: quotedString(string), ...
	  //
	  // Push a quoted version of `string` onto the stack
	  pushString: function pushString(string) {
	    this.pushStackLiteral(this.quotedString(string));
	  },

	  // [pushLiteral]
	  //
	  // On stack, before: ...
	  // On stack, after: value, ...
	  //
	  // Pushes a value onto the stack. This operation prevents
	  // the compiler from creating a temporary variable to hold
	  // it.
	  pushLiteral: function pushLiteral(value) {
	    this.pushStackLiteral(value);
	  },

	  // [pushProgram]
	  //
	  // On stack, before: ...
	  // On stack, after: program(guid), ...
	  //
	  // Push a program expression onto the stack. This takes
	  // a compile-time guid and converts it into a runtime-accessible
	  // expression.
	  pushProgram: function pushProgram(guid) {
	    if (guid != null) {
	      this.pushStackLiteral(this.programExpression(guid));
	    } else {
	      this.pushStackLiteral(null);
	    }
	  },

	  // [registerDecorator]
	  //
	  // On stack, before: hash, program, params..., ...
	  // On stack, after: ...
	  //
	  // Pops off the decorator's parameters, invokes the decorator,
	  // and inserts the decorator into the decorators list.
	  registerDecorator: function registerDecorator(paramSize, name) {
	    var foundDecorator = this.nameLookup('decorators', name, 'decorator'),
	        options = this.setupHelperArgs(name, paramSize);

	    this.decorators.push(['fn = ', this.decorators.functionCall(foundDecorator, '', ['fn', 'props', 'container', options]), ' || fn;']);
	  },

	  // [invokeHelper]
	  //
	  // On stack, before: hash, inverse, program, params..., ...
	  // On stack, after: result of helper invocation
	  //
	  // Pops off the helper's parameters, invokes the helper,
	  // and pushes the helper's return value onto the stack.
	  //
	  // If the helper is not found, `helperMissing` is called.
	  invokeHelper: function invokeHelper(paramSize, name, isSimple) {
	    var nonHelper = this.popStack(),
	        helper = this.setupHelper(paramSize, name);

	    var possibleFunctionCalls = [];

	    if (isSimple) {
	      // direct call to helper
	      possibleFunctionCalls.push(helper.name);
	    }
	    // call a function from the input object
	    possibleFunctionCalls.push(nonHelper);
	    if (!this.options.strict) {
	      possibleFunctionCalls.push(this.aliasable('container.hooks.helperMissing'));
	    }

	    var functionLookupCode = ['(', this.itemsSeparatedBy(possibleFunctionCalls, '||'), ')'];
	    var functionCall = this.source.functionCall(functionLookupCode, 'call', helper.callParams);
	    this.push(functionCall);
	  },

	  itemsSeparatedBy: function itemsSeparatedBy(items, separator) {
	    var result = [];
	    result.push(items[0]);
	    for (var i = 1; i < items.length; i++) {
	      result.push(separator, items[i]);
	    }
	    return result;
	  },
	  // [invokeKnownHelper]
	  //
	  // On stack, before: hash, inverse, program, params..., ...
	  // On stack, after: result of helper invocation
	  //
	  // This operation is used when the helper is known to exist,
	  // so a `helperMissing` fallback is not required.
	  invokeKnownHelper: function invokeKnownHelper(paramSize, name) {
	    var helper = this.setupHelper(paramSize, name);
	    this.push(this.source.functionCall(helper.name, 'call', helper.callParams));
	  },

	  // [invokeAmbiguous]
	  //
	  // On stack, before: hash, inverse, program, params..., ...
	  // On stack, after: result of disambiguation
	  //
	  // This operation is used when an expression like `{{foo}}`
	  // is provided, but we don't know at compile-time whether it
	  // is a helper or a path.
	  //
	  // This operation emits more code than the other options,
	  // and can be avoided by passing the `knownHelpers` and
	  // `knownHelpersOnly` flags at compile-time.
	  invokeAmbiguous: function invokeAmbiguous(name, helperCall) {
	    this.useRegister('helper');

	    var nonHelper = this.popStack();

	    this.emptyHash();
	    var helper = this.setupHelper(0, name, helperCall);

	    var helperName = this.lastHelper = this.nameLookup('helpers', name, 'helper');

	    var lookup = ['(', '(helper = ', helperName, ' || ', nonHelper, ')'];
	    if (!this.options.strict) {
	      lookup[0] = '(helper = ';
	      lookup.push(' != null ? helper : ', this.aliasable('container.hooks.helperMissing'));
	    }

	    this.push(['(', lookup, helper.paramsInit ? ['),(', helper.paramsInit] : [], '),', '(typeof helper === ', this.aliasable('"function"'), ' ? ', this.source.functionCall('helper', 'call', helper.callParams), ' : helper))']);
	  },

	  // [invokePartial]
	  //
	  // On stack, before: context, ...
	  // On stack after: result of partial invocation
	  //
	  // This operation pops off a context, invokes a partial with that context,
	  // and pushes the result of the invocation back.
	  invokePartial: function invokePartial(isDynamic, name, indent) {
	    var params = [],
	        options = this.setupParams(name, 1, params);

	    if (isDynamic) {
	      name = this.popStack();
	      delete options.name;
	    }

	    if (indent) {
	      options.indent = JSON.stringify(indent);
	    }
	    options.helpers = 'helpers';
	    options.partials = 'partials';
	    options.decorators = 'container.decorators';

	    if (!isDynamic) {
	      params.unshift(this.nameLookup('partials', name, 'partial'));
	    } else {
	      params.unshift(name);
	    }

	    if (this.options.compat) {
	      options.depths = 'depths';
	    }
	    options = this.objectLiteral(options);
	    params.push(options);

	    this.push(this.source.functionCall('container.invokePartial', '', params));
	  },

	  // [assignToHash]
	  //
	  // On stack, before: value, ..., hash, ...
	  // On stack, after: ..., hash, ...
	  //
	  // Pops a value off the stack and assigns it to the current hash
	  assignToHash: function assignToHash(key) {
	    var value = this.popStack(),
	        context = undefined,
	        type = undefined,
	        id = undefined;

	    if (this.trackIds) {
	      id = this.popStack();
	    }
	    if (this.stringParams) {
	      type = this.popStack();
	      context = this.popStack();
	    }

	    var hash = this.hash;
	    if (context) {
	      hash.contexts[key] = context;
	    }
	    if (type) {
	      hash.types[key] = type;
	    }
	    if (id) {
	      hash.ids[key] = id;
	    }
	    hash.values[key] = value;
	  },

	  pushId: function pushId(type, name, child) {
	    if (type === 'BlockParam') {
	      this.pushStackLiteral('blockParams[' + name[0] + '].path[' + name[1] + ']' + (child ? ' + ' + JSON.stringify('.' + child) : ''));
	    } else if (type === 'PathExpression') {
	      this.pushString(name);
	    } else if (type === 'SubExpression') {
	      this.pushStackLiteral('true');
	    } else {
	      this.pushStackLiteral('null');
	    }
	  },

	  // HELPERS

	  compiler: JavaScriptCompiler,

	  compileChildren: function compileChildren(environment, options) {
	    var children = environment.children,
	        child = undefined,
	        compiler = undefined;

	    for (var i = 0, l = children.length; i < l; i++) {
	      child = children[i];
	      compiler = new this.compiler(); // eslint-disable-line new-cap

	      var existing = this.matchExistingProgram(child);

	      if (existing == null) {
	        this.context.programs.push(''); // Placeholder to prevent name conflicts for nested children
	        var index = this.context.programs.length;
	        child.index = index;
	        child.name = 'program' + index;
	        this.context.programs[index] = compiler.compile(child, options, this.context, !this.precompile);
	        this.context.decorators[index] = compiler.decorators;
	        this.context.environments[index] = child;

	        this.useDepths = this.useDepths || compiler.useDepths;
	        this.useBlockParams = this.useBlockParams || compiler.useBlockParams;
	        child.useDepths = this.useDepths;
	        child.useBlockParams = this.useBlockParams;
	      } else {
	        child.index = existing.index;
	        child.name = 'program' + existing.index;

	        this.useDepths = this.useDepths || existing.useDepths;
	        this.useBlockParams = this.useBlockParams || existing.useBlockParams;
	      }
	    }
	  },
	  matchExistingProgram: function matchExistingProgram(child) {
	    for (var i = 0, len = this.context.environments.length; i < len; i++) {
	      var environment = this.context.environments[i];
	      if (environment && environment.equals(child)) {
	        return environment;
	      }
	    }
	  },

	  programExpression: function programExpression(guid) {
	    var child = this.environment.children[guid],
	        programParams = [child.index, 'data', child.blockParams];

	    if (this.useBlockParams || this.useDepths) {
	      programParams.push('blockParams');
	    }
	    if (this.useDepths) {
	      programParams.push('depths');
	    }

	    return 'container.program(' + programParams.join(', ') + ')';
	  },

	  useRegister: function useRegister(name) {
	    if (!this.registers[name]) {
	      this.registers[name] = true;
	      this.registers.list.push(name);
	    }
	  },

	  push: function push(expr) {
	    if (!(expr instanceof Literal)) {
	      expr = this.source.wrap(expr);
	    }

	    this.inlineStack.push(expr);
	    return expr;
	  },

	  pushStackLiteral: function pushStackLiteral(item) {
	    this.push(new Literal(item));
	  },

	  pushSource: function pushSource(source) {
	    if (this.pendingContent) {
	      this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent), this.pendingLocation));
	      this.pendingContent = undefined;
	    }

	    if (source) {
	      this.source.push(source);
	    }
	  },

	  replaceStack: function replaceStack(callback) {
	    var prefix = ['('],
	        stack = undefined,
	        createdStack = undefined,
	        usedLiteral = undefined;

	    /* istanbul ignore next */
	    if (!this.isInline()) {
	      throw new _exception2['default']('replaceStack on non-inline');
	    }

	    // We want to merge the inline statement into the replacement statement via ','
	    var top = this.popStack(true);

	    if (top instanceof Literal) {
	      // Literals do not need to be inlined
	      stack = [top.value];
	      prefix = ['(', stack];
	      usedLiteral = true;
	    } else {
	      // Get or create the current stack name for use by the inline
	      createdStack = true;
	      var _name = this.incrStack();

	      prefix = ['((', this.push(_name), ' = ', top, ')'];
	      stack = this.topStack();
	    }

	    var item = callback.call(this, stack);

	    if (!usedLiteral) {
	      this.popStack();
	    }
	    if (createdStack) {
	      this.stackSlot--;
	    }
	    this.push(prefix.concat(item, ')'));
	  },

	  incrStack: function incrStack() {
	    this.stackSlot++;
	    if (this.stackSlot > this.stackVars.length) {
	      this.stackVars.push('stack' + this.stackSlot);
	    }
	    return this.topStackName();
	  },
	  topStackName: function topStackName() {
	    return 'stack' + this.stackSlot;
	  },
	  flushInline: function flushInline() {
	    var inlineStack = this.inlineStack;
	    this.inlineStack = [];
	    for (var i = 0, len = inlineStack.length; i < len; i++) {
	      var entry = inlineStack[i];
	      /* istanbul ignore if */
	      if (entry instanceof Literal) {
	        this.compileStack.push(entry);
	      } else {
	        var stack = this.incrStack();
	        this.pushSource([stack, ' = ', entry, ';']);
	        this.compileStack.push(stack);
	      }
	    }
	  },
	  isInline: function isInline() {
	    return this.inlineStack.length;
	  },

	  popStack: function popStack(wrapped) {
	    var inline = this.isInline(),
	        item = (inline ? this.inlineStack : this.compileStack).pop();

	    if (!wrapped && item instanceof Literal) {
	      return item.value;
	    } else {
	      if (!inline) {
	        /* istanbul ignore next */
	        if (!this.stackSlot) {
	          throw new _exception2['default']('Invalid stack pop');
	        }
	        this.stackSlot--;
	      }
	      return item;
	    }
	  },

	  topStack: function topStack() {
	    var stack = this.isInline() ? this.inlineStack : this.compileStack,
	        item = stack[stack.length - 1];

	    /* istanbul ignore if */
	    if (item instanceof Literal) {
	      return item.value;
	    } else {
	      return item;
	    }
	  },

	  contextName: function contextName(context) {
	    if (this.useDepths && context) {
	      return 'depths[' + context + ']';
	    } else {
	      return 'depth' + context;
	    }
	  },

	  quotedString: function quotedString(str) {
	    return this.source.quotedString(str);
	  },

	  objectLiteral: function objectLiteral(obj) {
	    return this.source.objectLiteral(obj);
	  },

	  aliasable: function aliasable(name) {
	    var ret = this.aliases[name];
	    if (ret) {
	      ret.referenceCount++;
	      return ret;
	    }

	    ret = this.aliases[name] = this.source.wrap(name);
	    ret.aliasable = true;
	    ret.referenceCount = 1;

	    return ret;
	  },

	  setupHelper: function setupHelper(paramSize, name, blockHelper) {
	    var params = [],
	        paramsInit = this.setupHelperArgs(name, paramSize, params, blockHelper);
	    var foundHelper = this.nameLookup('helpers', name, 'helper'),
	        callContext = this.aliasable(this.contextName(0) + ' != null ? ' + this.contextName(0) + ' : (container.nullContext || {})');

	    return {
	      params: params,
	      paramsInit: paramsInit,
	      name: foundHelper,
	      callParams: [callContext].concat(params)
	    };
	  },

	  setupParams: function setupParams(helper, paramSize, params) {
	    var options = {},
	        contexts = [],
	        types = [],
	        ids = [],
	        objectArgs = !params,
	        param = undefined;

	    if (objectArgs) {
	      params = [];
	    }

	    options.name = this.quotedString(helper);
	    options.hash = this.popStack();

	    if (this.trackIds) {
	      options.hashIds = this.popStack();
	    }
	    if (this.stringParams) {
	      options.hashTypes = this.popStack();
	      options.hashContexts = this.popStack();
	    }

	    var inverse = this.popStack(),
	        program = this.popStack();

	    // Avoid setting fn and inverse if neither are set. This allows
	    // helpers to do a check for `if (options.fn)`
	    if (program || inverse) {
	      options.fn = program || 'container.noop';
	      options.inverse = inverse || 'container.noop';
	    }

	    // The parameters go on to the stack in order (making sure that they are evaluated in order)
	    // so we need to pop them off the stack in reverse order
	    var i = paramSize;
	    while (i--) {
	      param = this.popStack();
	      params[i] = param;

	      if (this.trackIds) {
	        ids[i] = this.popStack();
	      }
	      if (this.stringParams) {
	        types[i] = this.popStack();
	        contexts[i] = this.popStack();
	      }
	    }

	    if (objectArgs) {
	      options.args = this.source.generateArray(params);
	    }

	    if (this.trackIds) {
	      options.ids = this.source.generateArray(ids);
	    }
	    if (this.stringParams) {
	      options.types = this.source.generateArray(types);
	      options.contexts = this.source.generateArray(contexts);
	    }

	    if (this.options.data) {
	      options.data = 'data';
	    }
	    if (this.useBlockParams) {
	      options.blockParams = 'blockParams';
	    }
	    return options;
	  },

	  setupHelperArgs: function setupHelperArgs(helper, paramSize, params, useRegister) {
	    var options = this.setupParams(helper, paramSize, params);
	    options.loc = JSON.stringify(this.source.currentLocation);
	    options = this.objectLiteral(options);
	    if (useRegister) {
	      this.useRegister('options');
	      params.push('options');
	      return ['options=', options];
	    } else if (params) {
	      params.push(options);
	      return '';
	    } else {
	      return options;
	    }
	  }
	};

	(function () {
	  var reservedWords = ('break else new var' + ' case finally return void' + ' catch for switch while' + ' continue function this with' + ' default if throw' + ' delete in try' + ' do instanceof typeof' + ' abstract enum int short' + ' boolean export interface static' + ' byte extends long super' + ' char final native synchronized' + ' class float package throws' + ' const goto private transient' + ' debugger implements protected volatile' + ' double import public let yield await' + ' null true false').split(' ');

	  var compilerWords = JavaScriptCompiler.RESERVED_WORDS = {};

	  for (var i = 0, l = reservedWords.length; i < l; i++) {
	    compilerWords[reservedWords[i]] = true;
	  }
	})();

	JavaScriptCompiler.isValidJavaScriptVariableName = function (name) {
	  return !JavaScriptCompiler.RESERVED_WORDS[name] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name);
	};

	function strictLookup(requireTerminal, compiler, parts, type) {
	  var stack = compiler.popStack(),
	      i = 0,
	      len = parts.length;
	  if (requireTerminal) {
	    len--;
	  }

	  for (; i < len; i++) {
	    stack = compiler.nameLookup(stack, parts[i], type);
	  }

	  if (requireTerminal) {
	    return [compiler.aliasable('container.strict'), '(', stack, ', ', compiler.quotedString(parts[i]), ', ', JSON.stringify(compiler.source.currentLocation), ' )'];
	  } else {
	    return stack;
	  }
	}

	exports['default'] = JavaScriptCompiler;
	module.exports = exports['default'];

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

	/* global define */
	'use strict';

	exports.__esModule = true;

	var _utils = __webpack_require__(5);

	var SourceNode = undefined;

	try {
	  /* istanbul ignore next */
	  if (false) {
	    // We don't support this in AMD environments. For these environments, we asusme that
	    // they are running on the browser and thus have no need for the source-map library.
	    var SourceMap = require('source-map');
	    SourceNode = SourceMap.SourceNode;
	  }
	} catch (err) {}
	/* NOP */

	/* istanbul ignore if: tested but not covered in istanbul due to dist build  */
	if (!SourceNode) {
	  SourceNode = function (line, column, srcFile, chunks) {
	    this.src = '';
	    if (chunks) {
	      this.add(chunks);
	    }
	  };
	  /* istanbul ignore next */
	  SourceNode.prototype = {
	    add: function add(chunks) {
	      if (_utils.isArray(chunks)) {
	        chunks = chunks.join('');
	      }
	      this.src += chunks;
	    },
	    prepend: function prepend(chunks) {
	      if (_utils.isArray(chunks)) {
	        chunks = chunks.join('');
	      }
	      this.src = chunks + this.src;
	    },
	    toStringWithSourceMap: function toStringWithSourceMap() {
	      return { code: this.toString() };
	    },
	    toString: function toString() {
	      return this.src;
	    }
	  };
	}

	function castChunk(chunk, codeGen, loc) {
	  if (_utils.isArray(chunk)) {
	    var ret = [];

	    for (var i = 0, len = chunk.length; i < len; i++) {
	      ret.push(codeGen.wrap(chunk[i], loc));
	    }
	    return ret;
	  } else if (typeof chunk === 'boolean' || typeof chunk === 'number') {
	    // Handle primitives that the SourceNode will throw up on
	    return chunk + '';
	  }
	  return chunk;
	}

	function CodeGen(srcFile) {
	  this.srcFile = srcFile;
	  this.source = [];
	}

	CodeGen.prototype = {
	  isEmpty: function isEmpty() {
	    return !this.source.length;
	  },
	  prepend: function prepend(source, loc) {
	    this.source.unshift(this.wrap(source, loc));
	  },
	  push: function push(source, loc) {
	    this.source.push(this.wrap(source, loc));
	  },

	  merge: function merge() {
	    var source = this.empty();
	    this.each(function (line) {
	      source.add(['  ', line, '\n']);
	    });
	    return source;
	  },

	  each: function each(iter) {
	    for (var i = 0, len = this.source.length; i < len; i++) {
	      iter(this.source[i]);
	    }
	  },

	  empty: function empty() {
	    var loc = this.currentLocation || { start: {} };
	    return new SourceNode(loc.start.line, loc.start.column, this.srcFile);
	  },
	  wrap: function wrap(chunk) {
	    var loc = arguments.length <= 1 || arguments[1] === undefined ? this.currentLocation || { start: {} } : arguments[1];

	    if (chunk instanceof SourceNode) {
	      return chunk;
	    }

	    chunk = castChunk(chunk, this, loc);

	    return new SourceNode(loc.start.line, loc.start.column, this.srcFile, chunk);
	  },

	  functionCall: function functionCall(fn, type, params) {
	    params = this.generateList(params);
	    return this.wrap([fn, type ? '.' + type + '(' : '(', params, ')']);
	  },

	  quotedString: function quotedString(str) {
	    return '"' + (str + '').replace(/\\/g, '\\\\').replace(/"/g, '\\"').replace(/\n/g, '\\n').replace(/\r/g, '\\r').replace(/\u2028/g, '\\u2028') // Per Ecma-262 7.3 + 7.8.4
	    .replace(/\u2029/g, '\\u2029') + '"';
	  },

	  objectLiteral: function objectLiteral(obj) {
	    var pairs = [];

	    for (var key in obj) {
	      if (obj.hasOwnProperty(key)) {
	        var value = castChunk(obj[key], this);
	        if (value !== 'undefined') {
	          pairs.push([this.quotedString(key), ':', value]);
	        }
	      }
	    }

	    var ret = this.generateList(pairs);
	    ret.prepend('{');
	    ret.add('}');
	    return ret;
	  },

	  generateList: function generateList(entries) {
	    var ret = this.empty();

	    for (var i = 0, len = entries.length; i < len; i++) {
	      if (i) {
	        ret.add(',');
	      }

	      ret.add(castChunk(entries[i], this));
	    }

	    return ret;
	  },

	  generateArray: function generateArray(entries) {
	    var ret = this.generateList(entries);
	    ret.prepend('[');
	    ret.add(']');

	    return ret;
	  }
	};

	exports['default'] = CodeGen;
	module.exports = exports['default'];

/***/ })
/******/ ])
});
;
(function($, document, window) {
    function isDOMReady(elementToChk) {
        var elementlength = elementToChk.length;
        if (elementlength != 0) {
            return true;
        }
        else {
            return false;
        }
    }

    function unreadCounter($el, path, successHandler) {
        if($el.length) {
            var data = {};

            $.ajax({
                type: "GET",
                url: "/content/siliconlabs/en/community" + path,
                async: true,
                cache: false,
                data: data,
                success: function(json) {
                    $el.text(successHandler(json));
                }
            });
        }
    }

    function readCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') c = c.substring(1, c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
    }

    function getCookie(name) {
        var regexp = new RegExp("(?:^" + name + "|;\s*"+ name + ")=(.*?)(?:;|$)", "g");
        var result = regexp.exec(document.cookie.replace(/\s/g, ''));
        return (result === null) ? null : result[1];
    }

    function deleteCookie(name, path, domain) {
        // If the cookie exists
        if (getCookie(name)) {
            createCookie(name, "", -1, path, domain);
        }
    }

    function createCookie(name, value, expires, path, domain) {
        var cookie = name + "=" + escape(value) + ";";

        if (expires) {
            // If it's a date
            if(expires instanceof Date) {
                // If it isn't a valid date
                if (isNaN(expires.getTime())) {
                    expires = new Date();
                }
            } else  {
                expires = new Date(new Date().getTime() + parseInt(expires) * 1000 * 60 * 60 * 48);
            }
            cookie += "expires=" + expires.toGMTString() + ";";
        }

        if (path) {
            cookie += "path=" + path + ";";
        } else {
            cookie += "path=/;";
        }
        if (domain) {
            cookie += "domain=" + domain + ";";
        }

        document.cookie = cookie;
    }

    function getAccountMenu(showAccountMenu,umenu,currPage){
        var communityNotificationString = '';
        var communityMessagingString = '';
        var communityProfilePageString = '';
        var slsguideString = '';
        var bsharkString = '';
        var partnerString = '';
        var contentString = '';
        var logoutStr = '';
        var iw = $('body').innerWidth();
        var $usermenu = $('.menu-account');

        if (showAccountMenu) {
            //Remove whitepsaces from umenu to avoid errors:
            umenu = umenu.replace(/\s/g, '');

            var cookieMenu = umenu.split("|");
            var menuStrings = {};
            for (i = 0; i < cookieMenu.length; i++) {
                var menuItems = cookieMenu[i].split("=");
                menuStrings[menuItems[0]] = decodeURIComponent(menuItems[1]);
            }

            var uname = menuStrings.FirstName;
            if (uname != null && uname != '') {
                $usermenu.addClass("logged-in");
                var welcomeString = "<a href='#' class='nav-link'>Welcome, ";
                if (iw <= 689) {
                    if (uname.length > 18) {
                        welcomeString = welcomeString + uname.substring(0, 18);
                    }
                    else {
                        welcomeString = welcomeString + uname;
                    }
                }
                else {
                    welcomeString = welcomeString + uname;
                }
                welcomeString = welcomeString + "</a>";


                var acctString = "<a class='sub-nav-link sl-cta' href='" + menuStrings.AccountURL + "'>Account Home</a>".replace('http://', 'https://');
                if (typeof menuStrings.BrainSharkURL !== 'undefined' && menuStrings.BrainSharkURL != '') {
                    bsharkString = "<a class='sub-nav-link sl-cta' href='" + menuStrings.BrainSharkURL + "'>Training</a>".replace('http://', 'https://');
                }
                if (typeof menuStrings.SalesGuideURL !== 'undefined' && menuStrings.SalesGuideURL != '') {
                    slsguideString = "<a class='sub-nav-link sl-cta' href='" + menuStrings.SalesGuideURL + "'>Sales Guide</a>".replace('http://', 'https://');
                }
                if (typeof menuStrings.NdaURL !== 'undefined' && menuStrings.NdaURL != '') {
                    contentString = "<a class='sub-nav-link sl-cta' href='" + menuStrings.NdaURL + "'>NDA Content</a>".replace('http://', 'https://');
                }
                if (typeof menuStrings.PartnerPortalURL !== 'undefined' && menuStrings.PartnerPortalURL != '') {
                    partnerString = "<a class='sub-nav-link sl-cta' href='" + menuStrings.PartnerPortalURL + "'>Partner Portal</a>".replace('http://', 'https://');
                }


                //communityNotificationString = "<a class='sub-nav-link sl-cta' href='/community/notifications'>Notifications (<span id='notification-count'>0</span>)</a>";
                communityProfilePageString = "<a class='sub-nav-link sl-cta' href='/community/profile'>Community Profile</a>";
                communityMessagingString = "<a class='sub-nav-link sl-cta' href='/community/messaging'>Private Messages</a>";
                communityNotificationString = "<a class='sub-nav-link sl-cta' href='/community/notifications'>Notifications</a>";
                logoutStr = "<a class='sub-nav-link sl-cta js-logout'>Log Off</a>";

                var innerHTMLStr = "<li class='nav-item'>" + welcomeString + "<ul class='sub-nav'>";

                if (currPage.indexOf('/community') > 0) {
                    innerHTMLStr = innerHTMLStr + "<li class='sub-nav-item'>" + communityProfilePageString + "</li>";
                    innerHTMLStr = innerHTMLStr + "<li class='sub-nav-item'>" + communityMessagingString + "</li>";
                    innerHTMLStr = innerHTMLStr + "<li class='sub-nav-item'>" + communityNotificationString + "</li>";
                    innerHTMLStr = innerHTMLStr + "<li class='sub-nav-item'>" + acctString.replace("Account", "Silicon Labs Account") + "</li>";
                }else{
                    innerHTMLStr = innerHTMLStr + "<li class='sub-nav-item'>" + acctString + "</li>";
                }
                if (bsharkString != "") {
                    innerHTMLStr = innerHTMLStr + "<li class='sub-nav-item'>" + bsharkString + "</li>";
                }
                if (slsguideString != "") {
                    innerHTMLStr = innerHTMLStr + "<li class='sub-nav-item'>" + slsguideString + "</li>";
                }
                if (contentString != "") {
                    innerHTMLStr = innerHTMLStr + "<li class='sub-nav-item'>" + contentString + "</li>";
                }
                if (partnerString != "") {
                    innerHTMLStr = innerHTMLStr + "<li class='sub-nav-item'>" + partnerString + "</li>";
                }
                innerHTMLStr = innerHTMLStr + "<li class='sub-nav-item'>" + logoutStr + "</li></ul></li></ul>";
                $('.menu-account').html(innerHTMLStr);
                /*if (currPage.indexOf('/community') > 0) {
                 unreadCounter($('#notification-count'),
                 "/notifications/jcr:content/content/primary/notifications.social.0.0.json", function (json) {
                 return json.unreadCount;
                 }
                 );
                 }*/
            }
        }
        else {
            $usermenu.removeClass("logged-in");
            var innerHTMLStr = "<li class=\"menu-account-item\"><a href=\"#\" id=\"top_nav_login\" class=\"menu-account-link\">Log In</a></li>";
            innerHTMLStr = innerHTMLStr + "<li class=\"menu-account-item\"><a href=\"#\" id=\"top_nav_register\" class=\"menu-account-link\">Register</a></li>";
            $('.menu-account').html(innerHTMLStr);
            $('#top_nav_login, .login-link').on('click', function(e){
                e.preventDefault();

                //set cookie and redirect
                createCookie('saml_request_path', document.location.pathname);

                document.location = sl.ssoEndpointUrl;
            });

            $('#top_nav_register, .register-link').on('click', function(e){
                e.preventDefault();
                document.location = sl.registrationUrl;
            });
        }
    }

    $(document).ready(function () {

        setTimeout(function () {
            if (!$("#isInternalsite").length) {
                /*var uname = readCookie('uname');*/

                var umenu = "";
                var currPage = '';
                currPage = $(location).attr('href');

                $('.menu-account').empty();

                // TODO this is not consistent with other ways to tell if we are logged in, should be consistent!
                if (sl.currentRunMode === "dev" || sl.currentRunMode === "") {
                    umenu = readCookie('silabsprofiledev');
                }
                if (sl.currentRunMode === "qa" || sl.currentRunMode === "stage") {
                    umenu = readCookie('silabsprofileqa');
                }
                if (sl.currentRunMode === "prod") {
                    umenu = readCookie('silabsprofile');
                }

                var showAccountMenu = false;
                if ((umenu != null && umenu != '')) {

                    showAccountMenu = true;

                    if (umenu.indexOf("DataUsagePolicyAccepted") > 0) {
                        showAccountMenu = true;
                    } else {
                        showDataUsageMessage = true;

                        var theURL = "/libs/granite/security/currentuser.json";
                        var theHostname = document.location.hostname;
                        if (theHostname.indexOf("www") < 0 && theHostname.indexOf("localhost") < 0){
                            theURL = document.location.protocol + "//" + theURL;
                        }
                        var data = {};
                        $.ajax({
                            type: "GET",
                            url: theURL,
                            async: false,
                            cache: false,
                            data: data,
                            success: function (data) {
                                var theUser = data.authorizableId;
                                if (theUser == "anonymous") {
                                    deleteCookie('saml_request_path');

                                    var domain = getDomain();

                                    if (sl.currentRunMode === "dev") {
                                        deleteCookie('silabsprofiledev', '/', getDomain());
                                    }
                                    if (sl.currentRunMode === "qa" || sl.currentRunMode === "stage") {
                                        deleteCookie('silabsprofileqa', '/', getDomain());
                                    }
                                    if (sl.currentRunMode === "prod") {
                                        deleteCookie('silabsprofile', '/', getDomain());
                                    }

                                    var dataUsageText = 'Thanks for using our products and services. By continuing to use our Services, you are agreeing to our <a href="/reg-consent">Data Usage Policy</a> which also includes our Cookie Policy. The Data Usage Policy explains what information we collect, why we collect it and how the data is being used. Please review it carefully and click “Continue to Login” below to proceed. If you choose to click “Cancel” below, you will be logged out and will have the option to review the policy and accept the next time you log in.'
                                    var theDataUsagePopup = "<div class='datausage-popup'><div class='datausage-popup-inner'><div class='datausage-popup-inner-text'>" + dataUsageText + "</div><div class='datausage-popup-inner-button'><a class='datausage-cancel button primary-blue'>Cancel</a><a class='datausage-continue button primary-blue'>Continue to Login</a></div></div></div></div>";
                                    $('div.off-canvas-wrapper').append(theDataUsagePopup);
                                    $('.datausage-continue').click(function () {
                                        createCookie('saml_request_path', document.location.pathname);

                                        document.location = sl.ssoEndpointUrl;
                                    });
                                    $('.datausage-cancel').click(function () {
                                        $('.datausage-popup').css('display', 'none');
                                        document.location.reload();
                                    });

                                } else {
                                    var pathname = document.location.pathname;
                                    var aemLogoutUrl = "/system/sling/logout.html?resource=" + pathname;
                                    document.location = aemLogoutUrl;
                                }
                            }
                        });
                    }
                }
                if (currPage.indexOf('/community') > 0 && showAccountMenu) {
                    var theURL = "/libs/granite/security/currentuser.json";
                    var theHostname = document.location.hostname;
                    if (theHostname.indexOf("www") < 0 && theHostname.indexOf("localhost") < 0){
                        theURL = document.location.protocol + "//" + theURL;
                    }
                    var data = {};
                    $.ajax({
                        type: "GET",
                        url: theURL,
                        async: false,
                        cache: false,
                        data: data,
                        success: function (data) {
                            var theUser = data.authorizableId;
                            if (theUser == "anonymous"){
                                showAccountMenu = false;
                            }
                            getAccountMenu(showAccountMenu, umenu, currPage);
                        }
                    });
                } else {
                    getAccountMenu(showAccountMenu, umenu, currPage);
                }
            }
        }, 200);

        var rosetta = rosetta || {};
        rosetta.sl = rosetta.sl || {};
        rosetta.sl.login = rosetta.sl.login || function(data,callback){
                'use strict';

                $.ajax({
                    url : '/sl/login',
                    type: 'GET',
                    success: function (data,textStatus,xhr) {
                        console.log('success!');
                    },
                    error: function (jXHR, textStatus, errorThrown) {

                    }
                });
            };

        $('#top_nav_login, .login-link').on('click', function(e){
            e.preventDefault();

            //set cookie and redirect
            createCookie('saml_request_path', document.location.pathname);

            document.location = sl.ssoEndpointUrl;
            return false;
        });

        $('#top_nav_register, .register-link').on('click', function(e){
            e.preventDefault();
            document.location = sl.registrationUrl;
        });

        function getDomain() {

            var domain = document.location.hostname;
            var domainArr = domain.split('.');

            domainArr.shift();
            domainArr = domainArr.join('.');
            domainArr = '.' + domainArr;

            return domainArr;
        };

        $(document).on('click', '.js-logout', function(e) {
            e.preventDefault();


            deleteCookie('saml_request_path');

            var domain = getDomain();

            if (sl.currentRunMode === "dev") {
                deleteCookie('silabsprofiledev', '/', getDomain());
            }
            if (sl.currentRunMode === "qa" || sl.currentRunMode === "stage") {
                deleteCookie('silabsprofileqa', '/', getDomain());
            }
            if (sl.currentRunMode === "prod") {
                deleteCookie('silabsprofile', '/', getDomain());
            }



            document.location = sl.ssoLogoutUrl;
        });

    });

})(jQuery, document, window);


(function($, document, window) {

	var sl = {
		"utils": {
			"setIEClasses": function() {
				if ("ActiveXObject" in window) {
					$('body').addClass('ie');
				}
				if (!String.prototype.startsWith) {
					String.prototype.startsWith = function(searchString, position) {
						position = position || 0;
						return this.indexOf(searchString, position) === position;
					};
				}
				if (!String.prototype.endsWith) {
					String.prototype.endsWith = function(searchString) {
						return this.indexOf(searchString, this.length - searchString.length) !== -1;
					};
				}
			},
			"setOSClasses" : function(){
				if( navigator.platform.indexOf('Win') > -1 ){
					$('body').addClass('os-win');
				}
				if( navigator.platform.indexOf('Mac') > -1 ){
					$('body').addClass('os-mac');
				}
			},
			"toggleLanguageSpecificContent": function() {

				// Toggle language-specific content 
				var currentLanguage = 'en';
				if( $('meta[http-equiv="Content-Language"]').length > 0 ){
					currentLanguage = $('meta[http-equiv="Content-Language"]').attr('content').replace('-', '_');
				}else{
					var domain = window.location.hostname;
					if( domain.indexOf('tw.') == 0 ){
						currentLanguage = 'zh_tw';
					}else if( domain.indexOf('cn.') == 0 ){
						currentLanguage = 'zh_cn';
					}else if( domain.indexOf('jp.') == 0 ){
						currentLanguage = 'ja';
					}
				}

				// If ?lang=* parameter exists it will show the corresponding language
				if( location.search.indexOf('lang=') > -1 ){
					currentLanguage = location.search.replace(/.*lang=(.+?)(\&|$).*/g, '$1');
				}

				// Bug fix for incorrect meta value on japanese site
				if( currentLanguage == 'ja_jp' ){
					currentLanguage = 'ja';
				}

				// Show all items for the current language
				$('.hide.lang-'+currentLanguage).removeClass('hide');

				// Iterate through remaining hidden items, if no sibs are active and it is EN, show it
				$('.hide[class*="lang-"]').each(function() {
					var $thisLangItem = $(this);

					if( $thisLangItem.siblings(':visible').length == 0 && $thisLangItem.is('.lang-en') ){
						$thisLangItem.removeClass('hide');
					}
				})
			}
		},
		"components": {

			"globalHeader": function() {
				var $globalHeader = $('.slbs2-header');

				// click events to open/close sub menus in mobile nav
				$(document).on('click', '.nav-link', function(el) {
					el.preventDefault();

					if (!Foundation.MediaQuery.atLeast('large')) {

						var $thisNavItem = $(el.currentTarget),
							$thisNav = $thisNavItem.parent();

						if ($thisNavItem.hasClass('open')) {
							$thisNavItem.removeClass('open');
							$thisNav.find('.sub-nav').css({
								'max-height': 0
							});
						} else {
							$('.nav-link.open').removeClass('open').parent().find('.sub-nav').css({
								'max-height': 0
							});
							$thisNavItem.addClass('open');
							$thisNav.find('.sub-nav').css({
								'max-height': '1000px'
							});
						}
					}

				})

				// click events to open/close mobile off canvas menu
				$globalHeader.find('.menu-button').on('click', function() {
					$('body').toggleClass('show-menu');
				})

				// when window is resized to > medium breakpoint, hide open menu
				$(window).on('changed.zf.mediaquery', function(event, newSize, oldSize) {

					if (newSize !== 'medium' && newSize !== 'small') {
						$('body').removeClass('show-menu');
					}

				});

				sl.components.setNavHeight();

				$(window).on('resize', function() {
					sl.components.setNavHeight();
				});

			},
			setNavHeight: function() {
				var $navContent = $('.slbs2-header .nav-content');

				if (Foundation.MediaQuery.atLeast('large')) {
					$navContent.removeAttr('style');
				} else {
					var windowHeight = $(window).innerHeight();
					$navContent.css('height', windowHeight);
				}

			},
			/*"headerSearch": function() {
				var runSearch = function(event) {
					event.preventDefault();

					var searchTerm = '',
						url = '';

					searchTerm = $('#toptxtKeywordSearch').val();

					if (!!searchTerm) {
						url = 'http://search.silabs.com/search?q=' + searchTerm + '&site=english&client=silabs&proxystylesheet=silabs&getfields=*&filter=0&entsp=a__en_biasing_policy';
					} else {
						url = 'http://search.silabs.com/search?q=' + searchTerm + '&site=english&client=silabs&proxystylesheet=silabs';
					}

					document.location = url;
				};

				$('#searchForm').on('submit', runSearch);
				$('.js-search-button').on('click', runSearch);

			},*/
			"readCookie": function(cookiePolicyLastUpdated){
				var nameEQ = "silabs-cookie-policy-accept=";
				var ca = document.cookie.split(';');
				for (var i = 0; i < ca.length; i++) {
					var c = ca[i];
					while (c.charAt(0) == ' ') c = c.substring(1, c.length);
					if (c.indexOf(nameEQ) == 0) {
						var cookieAcceptDate = c.substring(nameEQ.length, c.length);
						var acceptExpired = false;
						if (cookiePolicyLastUpdated != null && cookiePolicyLastUpdated != '') {
							acceptExpired = new Date( new Date(cookiePolicyLastUpdated).getUTCFullYear(), new Date(cookiePolicyLastUpdated).getUTCMonth(), new Date(cookiePolicyLastUpdated).getUTCDate(), new Date(cookiePolicyLastUpdated).getUTCHours(), new Date(cookiePolicyLastUpdated).getUTCMinutes(), new Date(cookiePolicyLastUpdated).getUTCSeconds() ) > new Date( new Date(cookieAcceptDate).getUTCFullYear(), new Date(cookieAcceptDate).getUTCMonth(), new Date(cookieAcceptDate).getUTCDate(), new Date(cookieAcceptDate).getUTCHours(), new Date(cookieAcceptDate).getUTCMinutes(), new Date(cookieAcceptDate).getUTCSeconds() );
						}
						if (acceptExpired) {
							var cookie = "silabs-cookie-policy-accept=" + new Date(new Date().getTime()) + ";";
							var expires = new Date();
							expires.setTime(expires.getTime() * -1);
							cookie += "expires=" + expires.toUTCString() + ";";
							document.cookie = cookie;
						} else{
							return cookieAcceptDate;
						}
					}
				}
				return null;
			},
			"createCookie": function(){
				var cookie = "silabs-cookie-policy-accept=" + new Date(new Date().getTime()) + ";";
				var expires = new Date();
				var hostName = window.location.hostname;
				var domain = hostName.substring(hostName.lastIndexOf(".", hostName.lastIndexOf(".") - 1) + 1);

				expires.setTime(expires.getTime() * 3);
				cookie += "expires=" + expires.toUTCString() + ";";
				cookie += "domain=" + domain + ";";
				document.cookie = cookie;
				$('.cookie-popup').css('display','none');
			},
			"cookieCheck": function() {
				var data = {};

				$.ajax({
					type: "GET",
					url: "/content/siliconlabs/en/about-us/legal/cookie-policy/jcr:content.json",
					async: true,
					cache: false,
					data: data,
					success: function(json) {
						var cookiePolicyLastUpdated = '';
						var cookiePolicyText = '';
						var cookiePolicyButtonText = '';
						if(json.hasOwnProperty('cookiePolicyText')) {
							cookiePolicyText = json.cookiePolicyText;
						}
						if(json.hasOwnProperty('cookiePolicyButtonText')) {
							cookiePolicyButtonText = json.cookiePolicyButtonText;
						}
						if (cookiePolicyText != null && cookiePolicyText != '') {
							if (json.hasOwnProperty('cookiePolicyLastUpdated')) {
								cookiePolicyLastUpdated = json.cookiePolicyLastUpdated;
							}
							var isAccepted = sl.components.readCookie(cookiePolicyLastUpdated);
							if (isAccepted == null || isAccepted == '') {
								var theCookiePopup = "<div class='cookie-popup'><div class='cookie-popup-inner'><div class='cookie-popup-inner-text'>" + cookiePolicyText + "</div><div class='cookie-popup-inner-button'><a class='accept-cookie button primary-blue'>" + cookiePolicyButtonText + "</a></a></div></div></div></div>";
								$('div.off-canvas-wrapper').append(theCookiePopup);
								$('.accept-cookie').click(function () {
									sl.components.createCookie();
								});
							}
						}
					}
				});

			}
		}

	};

	$(document).on('ready', function() {

		sl.utils.setIEClasses();
		sl.utils.setOSClasses();
		sl.utils.toggleLanguageSpecificContent();

		if (!isEdit && !isDesign) {

			sl.components.globalHeader();
			//sl.components.headerSearch();
			sl.components.cookieCheck();

		} else {
			console.log('EDIT MODE: No custom scripts running');
		}

	});

	$(document).on('sl.reinit', function(){
		sl.utils.toggleLanguageSpecificContent();
	});


	var $journalEntry = $(".scf-journal-entry");
	var $profileUpdate = $('.userprofile');
	if ($profileUpdate.length > 0) {
		$('.scf-user-info-right').append($('.scf-site-aux'));
		$('.scf-site-aux').removeClass('col-md-4 scf-site-content-right');
		$('.scf-site-primary').css("width", "100%").css("padding", "0");
		$('.scf-user-profile').show();
	}
	if ($journalEntry.length > 0) {
		$('.scf-site-primary').css("width", "100%");
	}
	else {
		$('.scf-site-aux').show();
	}
	if ($(window).width() < 689) {
		$('.sidebar-container').click(function () {
			$(this).toggleClass('blue');
			$(this).find('.fa-caret-right').toggle();
			$(this).find('.fa-caret-down').toggle();
			$(this).find('.scf-journal-sidebar').toggle("slow", function () {
				// Animation complete.
			});

		});
	}

})(jQuery, document, window);
function trackMMenuLinks(e, a, t) {
	var s = t.href,
		o = "";
	o = -1 == e.indexOf("/") ? e : e.split("/")[1] + " Menu",
		_gaq.push(["_trackEvent", o, a, s]),
		setTimeout(function() {
			location.href = s
		}, 400)
}

function OneLink(e, a) {
	var linkToTranslatedSite = "http://" + e + document.location.pathname + document.location.search;
	setTimeout(function() {
		location.href = linkToTranslatedSite;
	}, 400)
}

var _gaq = _gaq || [],
	silabsga_uaNumber = "";
switch (document.location.hostname) {
	case "cn":
	case "cn.silabs.com":
		silabsga_uaNumber = "UA-39450515-1";
		_gaq.push(["_setAccount", silabsga_uaNumber]),
			_gaq.push(["_setDomainName", "none"]);
		break;
	case "jp":
	case "jp.silabs.com":
		silabsga_uaNumber = "UA-39445112-1";
		_gaq.push(["_setAccount", silabsga_uaNumber]),
			_gaq.push(["_setDomainName", "none"]);
		break;
}

var silabsga_href = document.location.href,
	silabsga_loweredHref = silabsga_href.toLowerCase();

if (-1 != silabsga_loweredHref.indexOf("pages/logindocupdate.aspx")) {
	var silabsga_url = silabsGetQueryStringParameterValue(document.location.search, "dl");
	silabsga_url = "/" == silabsga_url.charAt(0) ? silabsga_url : "/" + silabsga_url,
		silabsTrackDocument(silabsga_url, "", "")
}
var pluginUrl = "https://www.google-analytics.com/plugins/ga/inpage_linkid.js";
_gaq.push(["_require", "inpage_linkid", pluginUrl]);
/*!
 DataTables 1.10.13
 ©2008-2016 SpryMedia Ltd - datatables.net/license
*/
(function(h){"function"===typeof define&&define.amd?define(["jquery"],function(E){return h(E,window,document)}):"object"===typeof exports?module.exports=function(E,H){E||(E=window);H||(H="undefined"!==typeof window?require("jquery"):require("jquery")(E));return h(H,E,E.document)}:h(jQuery,window,document)})(function(h,E,H,k){function Y(a){var b,c,d={};h.each(a,function(e){if((b=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(b[1]+" "))c=e.replace(b[0],b[2].toLowerCase()),
d[c]=e,"o"===b[1]&&Y(a[e])});a._hungarianMap=d}function J(a,b,c){a._hungarianMap||Y(a);var d;h.each(b,function(e){d=a._hungarianMap[e];if(d!==k&&(c||b[d]===k))"o"===d.charAt(0)?(b[d]||(b[d]={}),h.extend(!0,b[d],b[e]),J(a[d],b[d],c)):b[d]=b[e]})}function Fa(a){var b=m.defaults.oLanguage,c=a.sZeroRecords;!a.sEmptyTable&&(c&&"No data available in table"===b.sEmptyTable)&&F(a,a,"sZeroRecords","sEmptyTable");!a.sLoadingRecords&&(c&&"Loading..."===b.sLoadingRecords)&&F(a,a,"sZeroRecords","sLoadingRecords");
a.sInfoThousands&&(a.sThousands=a.sInfoThousands);(a=a.sDecimal)&&fb(a)}function gb(a){A(a,"ordering","bSort");A(a,"orderMulti","bSortMulti");A(a,"orderClasses","bSortClasses");A(a,"orderCellsTop","bSortCellsTop");A(a,"order","aaSorting");A(a,"orderFixed","aaSortingFixed");A(a,"paging","bPaginate");A(a,"pagingType","sPaginationType");A(a,"pageLength","iDisplayLength");A(a,"searching","bFilter");"boolean"===typeof a.sScrollX&&(a.sScrollX=a.sScrollX?"100%":"");"boolean"===typeof a.scrollX&&(a.scrollX=
a.scrollX?"100%":"");if(a=a.aoSearchCols)for(var b=0,c=a.length;b<c;b++)a[b]&&J(m.models.oSearch,a[b])}function hb(a){A(a,"orderable","bSortable");A(a,"orderData","aDataSort");A(a,"orderSequence","asSorting");A(a,"orderDataType","sortDataType");var b=a.aDataSort;b&&!h.isArray(b)&&(a.aDataSort=[b])}function ib(a){if(!m.__browser){var b={};m.__browser=b;var c=h("<div/>").css({position:"fixed",top:0,left:-1*h(E).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(h("<div/>").css({position:"absolute",
top:1,left:1,width:100,overflow:"scroll"}).append(h("<div/>").css({width:"100%",height:10}))).appendTo("body"),d=c.children(),e=d.children();b.barWidth=d[0].offsetWidth-d[0].clientWidth;b.bScrollOversize=100===e[0].offsetWidth&&100!==d[0].clientWidth;b.bScrollbarLeft=1!==Math.round(e.offset().left);b.bBounding=c[0].getBoundingClientRect().width?!0:!1;c.remove()}h.extend(a.oBrowser,m.__browser);a.oScroll.iBarWidth=m.__browser.barWidth}function jb(a,b,c,d,e,f){var g,j=!1;c!==k&&(g=c,j=!0);for(;d!==
e;)a.hasOwnProperty(d)&&(g=j?b(g,a[d],d,a):a[d],j=!0,d+=f);return g}function Ga(a,b){var c=m.defaults.column,d=a.aoColumns.length,c=h.extend({},m.models.oColumn,c,{nTh:b?b:H.createElement("th"),sTitle:c.sTitle?c.sTitle:b?b.innerHTML:"",aDataSort:c.aDataSort?c.aDataSort:[d],mData:c.mData?c.mData:d,idx:d});a.aoColumns.push(c);c=a.aoPreSearchCols;c[d]=h.extend({},m.models.oSearch,c[d]);la(a,d,h(b).data())}function la(a,b,c){var b=a.aoColumns[b],d=a.oClasses,e=h(b.nTh);if(!b.sWidthOrig){b.sWidthOrig=
e.attr("width")||null;var f=(e.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);f&&(b.sWidthOrig=f[1])}c!==k&&null!==c&&(hb(c),J(m.defaults.column,c),c.mDataProp!==k&&!c.mData&&(c.mData=c.mDataProp),c.sType&&(b._sManualType=c.sType),c.className&&!c.sClass&&(c.sClass=c.className),h.extend(b,c),F(b,c,"sWidth","sWidthOrig"),c.iDataSort!==k&&(b.aDataSort=[c.iDataSort]),F(b,c,"aDataSort"));var g=b.mData,j=R(g),i=b.mRender?R(b.mRender):null,c=function(a){return"string"===typeof a&&-1!==a.indexOf("@")};
b._bAttrSrc=h.isPlainObject(g)&&(c(g.sort)||c(g.type)||c(g.filter));b._setter=null;b.fnGetData=function(a,b,c){var d=j(a,b,k,c);return i&&b?i(d,b,a,c):d};b.fnSetData=function(a,b,c){return S(g)(a,b,c)};"number"!==typeof g&&(a._rowReadObject=!0);a.oFeatures.bSort||(b.bSortable=!1,e.addClass(d.sSortableNone));a=-1!==h.inArray("asc",b.asSorting);c=-1!==h.inArray("desc",b.asSorting);!b.bSortable||!a&&!c?(b.sSortingClass=d.sSortableNone,b.sSortingClassJUI=""):a&&!c?(b.sSortingClass=d.sSortableAsc,b.sSortingClassJUI=
d.sSortJUIAscAllowed):!a&&c?(b.sSortingClass=d.sSortableDesc,b.sSortingClassJUI=d.sSortJUIDescAllowed):(b.sSortingClass=d.sSortable,b.sSortingClassJUI=d.sSortJUI)}function Z(a){if(!1!==a.oFeatures.bAutoWidth){var b=a.aoColumns;Ha(a);for(var c=0,d=b.length;c<d;c++)b[c].nTh.style.width=b[c].sWidth}b=a.oScroll;(""!==b.sY||""!==b.sX)&&ma(a);s(a,null,"column-sizing",[a])}function $(a,b){var c=na(a,"bVisible");return"number"===typeof c[b]?c[b]:null}function aa(a,b){var c=na(a,"bVisible"),c=h.inArray(b,
c);return-1!==c?c:null}function ba(a){var b=0;h.each(a.aoColumns,function(a,d){d.bVisible&&"none"!==h(d.nTh).css("display")&&b++});return b}function na(a,b){var c=[];h.map(a.aoColumns,function(a,e){a[b]&&c.push(e)});return c}function Ia(a){var b=a.aoColumns,c=a.aoData,d=m.ext.type.detect,e,f,g,j,i,h,l,q,r;e=0;for(f=b.length;e<f;e++)if(l=b[e],r=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){g=0;for(j=d.length;g<j;g++){i=0;for(h=c.length;i<h;i++){r[i]===k&&(r[i]=B(a,i,e,"type"));
q=d[g](r[i],a);if(!q&&g!==d.length-1)break;if("html"===q)break}if(q){l.sType=q;break}}l.sType||(l.sType="string")}}function kb(a,b,c,d){var e,f,g,j,i,n,l=a.aoColumns;if(b)for(e=b.length-1;0<=e;e--){n=b[e];var q=n.targets!==k?n.targets:n.aTargets;h.isArray(q)||(q=[q]);f=0;for(g=q.length;f<g;f++)if("number"===typeof q[f]&&0<=q[f]){for(;l.length<=q[f];)Ga(a);d(q[f],n)}else if("number"===typeof q[f]&&0>q[f])d(l.length+q[f],n);else if("string"===typeof q[f]){j=0;for(i=l.length;j<i;j++)("_all"==q[f]||h(l[j].nTh).hasClass(q[f]))&&
d(j,n)}}if(c){e=0;for(a=c.length;e<a;e++)d(e,c[e])}}function N(a,b,c,d){var e=a.aoData.length,f=h.extend(!0,{},m.models.oRow,{src:c?"dom":"data",idx:e});f._aData=b;a.aoData.push(f);for(var g=a.aoColumns,j=0,i=g.length;j<i;j++)g[j].sType=null;a.aiDisplayMaster.push(e);b=a.rowIdFn(b);b!==k&&(a.aIds[b]=f);(c||!a.oFeatures.bDeferRender)&&Ja(a,e,c,d);return e}function oa(a,b){var c;b instanceof h||(b=h(b));return b.map(function(b,e){c=Ka(a,e);return N(a,c.data,e,c.cells)})}function B(a,b,c,d){var e=a.iDraw,
f=a.aoColumns[c],g=a.aoData[b]._aData,j=f.sDefaultContent,i=f.fnGetData(g,d,{settings:a,row:b,col:c});if(i===k)return a.iDrawError!=e&&null===j&&(K(a,0,"Requested unknown parameter "+("function"==typeof f.mData?"{function}":"'"+f.mData+"'")+" for row "+b+", column "+c,4),a.iDrawError=e),j;if((i===g||null===i)&&null!==j&&d!==k)i=j;else if("function"===typeof i)return i.call(g);return null===i&&"display"==d?"":i}function lb(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d,{settings:a,row:b,col:c})}
function La(a){return h.map(a.match(/(\\.|[^\.])+/g)||[""],function(a){return a.replace(/\\\./g,".")})}function R(a){if(h.isPlainObject(a)){var b={};h.each(a,function(a,c){c&&(b[a]=R(c))});return function(a,c,f,g){var j=b[c]||b._;return j!==k?j(a,c,f,g):a}}if(null===a)return function(a){return a};if("function"===typeof a)return function(b,c,f,g){return a(b,c,f,g)};if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var c=function(a,b,f){var g,j;if(""!==f){j=La(f);
for(var i=0,n=j.length;i<n;i++){f=j[i].match(ca);g=j[i].match(V);if(f){j[i]=j[i].replace(ca,"");""!==j[i]&&(a=a[j[i]]);g=[];j.splice(0,i+1);j=j.join(".");if(h.isArray(a)){i=0;for(n=a.length;i<n;i++)g.push(c(a[i],b,j))}a=f[0].substring(1,f[0].length-1);a=""===a?g:g.join(a);break}else if(g){j[i]=j[i].replace(V,"");a=a[j[i]]();continue}if(null===a||a[j[i]]===k)return k;a=a[j[i]]}}return a};return function(b,e){return c(b,e,a)}}return function(b){return b[a]}}function S(a){if(h.isPlainObject(a))return S(a._);
if(null===a)return function(){};if("function"===typeof a)return function(b,d,e){a(b,"set",d,e)};if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var b=function(a,d,e){var e=La(e),f;f=e[e.length-1];for(var g,j,i=0,n=e.length-1;i<n;i++){g=e[i].match(ca);j=e[i].match(V);if(g){e[i]=e[i].replace(ca,"");a[e[i]]=[];f=e.slice();f.splice(0,i+1);g=f.join(".");if(h.isArray(d)){j=0;for(n=d.length;j<n;j++)f={},b(f,d[j],g),a[e[i]].push(f)}else a[e[i]]=d;return}j&&(e[i]=e[i].replace(V,
""),a=a[e[i]](d));if(null===a[e[i]]||a[e[i]]===k)a[e[i]]={};a=a[e[i]]}if(f.match(V))a[f.replace(V,"")](d);else a[f.replace(ca,"")]=d};return function(c,d){return b(c,d,a)}}return function(b,d){b[a]=d}}function Ma(a){return D(a.aoData,"_aData")}function pa(a){a.aoData.length=0;a.aiDisplayMaster.length=0;a.aiDisplay.length=0;a.aIds={}}function qa(a,b,c){for(var d=-1,e=0,f=a.length;e<f;e++)a[e]==b?d=e:a[e]>b&&a[e]--; -1!=d&&c===k&&a.splice(d,1)}function da(a,b,c,d){var e=a.aoData[b],f,g=function(c,d){for(;c.childNodes.length;)c.removeChild(c.firstChild);
c.innerHTML=B(a,b,d,"display")};if("dom"===c||(!c||"auto"===c)&&"dom"===e.src)e._aData=Ka(a,e,d,d===k?k:e._aData).data;else{var j=e.anCells;if(j)if(d!==k)g(j[d],d);else{c=0;for(f=j.length;c<f;c++)g(j[c],c)}}e._aSortData=null;e._aFilterData=null;g=a.aoColumns;if(d!==k)g[d].sType=null;else{c=0;for(f=g.length;c<f;c++)g[c].sType=null;Na(a,e)}}function Ka(a,b,c,d){var e=[],f=b.firstChild,g,j,i=0,n,l=a.aoColumns,q=a._rowReadObject,d=d!==k?d:q?{}:[],r=function(a,b){if("string"===typeof a){var c=a.indexOf("@");
-1!==c&&(c=a.substring(c+1),S(a)(d,b.getAttribute(c)))}},m=function(a){if(c===k||c===i)j=l[i],n=h.trim(a.innerHTML),j&&j._bAttrSrc?(S(j.mData._)(d,n),r(j.mData.sort,a),r(j.mData.type,a),r(j.mData.filter,a)):q?(j._setter||(j._setter=S(j.mData)),j._setter(d,n)):d[i]=n;i++};if(f)for(;f;){g=f.nodeName.toUpperCase();if("TD"==g||"TH"==g)m(f),e.push(f);f=f.nextSibling}else{e=b.anCells;f=0;for(g=e.length;f<g;f++)m(e[f])}if(b=b.firstChild?b:b.nTr)(b=b.getAttribute("id"))&&S(a.rowId)(d,b);return{data:d,cells:e}}
function Ja(a,b,c,d){var e=a.aoData[b],f=e._aData,g=[],j,i,n,l,q;if(null===e.nTr){j=c||H.createElement("tr");e.nTr=j;e.anCells=g;j._DT_RowIndex=b;Na(a,e);l=0;for(q=a.aoColumns.length;l<q;l++){n=a.aoColumns[l];i=c?d[l]:H.createElement(n.sCellType);i._DT_CellIndex={row:b,column:l};g.push(i);if((!c||n.mRender||n.mData!==l)&&(!h.isPlainObject(n.mData)||n.mData._!==l+".display"))i.innerHTML=B(a,b,l,"display");n.sClass&&(i.className+=" "+n.sClass);n.bVisible&&!c?j.appendChild(i):!n.bVisible&&c&&i.parentNode.removeChild(i);
n.fnCreatedCell&&n.fnCreatedCell.call(a.oInstance,i,B(a,b,l),f,b,l)}s(a,"aoRowCreatedCallback",null,[j,f,b])}e.nTr.setAttribute("role","row")}function Na(a,b){var c=b.nTr,d=b._aData;if(c){var e=a.rowIdFn(d);e&&(c.id=e);d.DT_RowClass&&(e=d.DT_RowClass.split(" "),b.__rowc=b.__rowc?sa(b.__rowc.concat(e)):e,h(c).removeClass(b.__rowc.join(" ")).addClass(d.DT_RowClass));d.DT_RowAttr&&h(c).attr(d.DT_RowAttr);d.DT_RowData&&h(c).data(d.DT_RowData)}}function mb(a){var b,c,d,e,f,g=a.nTHead,j=a.nTFoot,i=0===
h("th, td",g).length,n=a.oClasses,l=a.aoColumns;i&&(e=h("<tr/>").appendTo(g));b=0;for(c=l.length;b<c;b++)f=l[b],d=h(f.nTh).addClass(f.sClass),i&&d.appendTo(e),a.oFeatures.bSort&&(d.addClass(f.sSortingClass),!1!==f.bSortable&&(d.attr("tabindex",a.iTabIndex).attr("aria-controls",a.sTableId),Oa(a,f.nTh,b))),f.sTitle!=d[0].innerHTML&&d.html(f.sTitle),Pa(a,"header")(a,d,f,n);i&&ea(a.aoHeader,g);h(g).find(">tr").attr("role","row");h(g).find(">tr>th, >tr>td").addClass(n.sHeaderTH);h(j).find(">tr>th, >tr>td").addClass(n.sFooterTH);
if(null!==j){a=a.aoFooter[0];b=0;for(c=a.length;b<c;b++)f=l[b],f.nTf=a[b].cell,f.sClass&&h(f.nTf).addClass(f.sClass)}}function fa(a,b,c){var d,e,f,g=[],j=[],i=a.aoColumns.length,n;if(b){c===k&&(c=!1);d=0;for(e=b.length;d<e;d++){g[d]=b[d].slice();g[d].nTr=b[d].nTr;for(f=i-1;0<=f;f--)!a.aoColumns[f].bVisible&&!c&&g[d].splice(f,1);j.push([])}d=0;for(e=g.length;d<e;d++){if(a=g[d].nTr)for(;f=a.firstChild;)a.removeChild(f);f=0;for(b=g[d].length;f<b;f++)if(n=i=1,j[d][f]===k){a.appendChild(g[d][f].cell);
for(j[d][f]=1;g[d+i]!==k&&g[d][f].cell==g[d+i][f].cell;)j[d+i][f]=1,i++;for(;g[d][f+n]!==k&&g[d][f].cell==g[d][f+n].cell;){for(c=0;c<i;c++)j[d+c][f+n]=1;n++}h(g[d][f].cell).attr("rowspan",i).attr("colspan",n)}}}}function O(a){var b=s(a,"aoPreDrawCallback","preDraw",[a]);if(-1!==h.inArray(!1,b))C(a,!1);else{var b=[],c=0,d=a.asStripeClasses,e=d.length,f=a.oLanguage,g=a.iInitDisplayStart,j="ssp"==y(a),i=a.aiDisplay;a.bDrawing=!0;g!==k&&-1!==g&&(a._iDisplayStart=j?g:g>=a.fnRecordsDisplay()?0:g,a.iInitDisplayStart=
-1);var g=a._iDisplayStart,n=a.fnDisplayEnd();if(a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++,C(a,!1);else if(j){if(!a.bDestroying&&!nb(a))return}else a.iDraw++;if(0!==i.length){f=j?a.aoData.length:n;for(j=j?0:g;j<f;j++){var l=i[j],q=a.aoData[l];null===q.nTr&&Ja(a,l);l=q.nTr;if(0!==e){var r=d[c%e];q._sRowStripe!=r&&(h(l).removeClass(q._sRowStripe).addClass(r),q._sRowStripe=r)}s(a,"aoRowCallback",null,[l,q._aData,c,j]);b.push(l);c++}}else c=f.sZeroRecords,1==a.iDraw&&"ajax"==y(a)?c=f.sLoadingRecords:
f.sEmptyTable&&0===a.fnRecordsTotal()&&(c=f.sEmptyTable),b[0]=h("<tr/>",{"class":e?d[0]:""}).append(h("<td />",{valign:"top",colSpan:ba(a),"class":a.oClasses.sRowEmpty}).html(c))[0];s(a,"aoHeaderCallback","header",[h(a.nTHead).children("tr")[0],Ma(a),g,n,i]);s(a,"aoFooterCallback","footer",[h(a.nTFoot).children("tr")[0],Ma(a),g,n,i]);d=h(a.nTBody);d.children().detach();d.append(h(b));s(a,"aoDrawCallback","draw",[a]);a.bSorted=!1;a.bFiltered=!1;a.bDrawing=!1}}function T(a,b){var c=a.oFeatures,d=c.bFilter;
c.bSort&&ob(a);d?ga(a,a.oPreviousSearch):a.aiDisplay=a.aiDisplayMaster.slice();!0!==b&&(a._iDisplayStart=0);a._drawHold=b;O(a);a._drawHold=!1}function pb(a){var b=a.oClasses,c=h(a.nTable),c=h("<div/>").insertBefore(c),d=a.oFeatures,e=h("<div/>",{id:a.sTableId+"_wrapper","class":b.sWrapper+(a.nTFoot?"":" "+b.sNoFooter)});a.nHolding=c[0];a.nTableWrapper=e[0];a.nTableReinsertBefore=a.nTable.nextSibling;for(var f=a.sDom.split(""),g,j,i,n,l,q,k=0;k<f.length;k++){g=null;j=f[k];if("<"==j){i=h("<div/>")[0];
n=f[k+1];if("'"==n||'"'==n){l="";for(q=2;f[k+q]!=n;)l+=f[k+q],q++;"H"==l?l=b.sJUIHeader:"F"==l&&(l=b.sJUIFooter);-1!=l.indexOf(".")?(n=l.split("."),i.id=n[0].substr(1,n[0].length-1),i.className=n[1]):"#"==l.charAt(0)?i.id=l.substr(1,l.length-1):i.className=l;k+=q}e.append(i);e=h(i)}else if(">"==j)e=e.parent();else if("l"==j&&d.bPaginate&&d.bLengthChange)g=qb(a);else if("f"==j&&d.bFilter)g=rb(a);else if("r"==j&&d.bProcessing)g=sb(a);else if("t"==j)g=tb(a);else if("i"==j&&d.bInfo)g=ub(a);else if("p"==
j&&d.bPaginate)g=vb(a);else if(0!==m.ext.feature.length){i=m.ext.feature;q=0;for(n=i.length;q<n;q++)if(j==i[q].cFeature){g=i[q].fnInit(a);break}}g&&(i=a.aanFeatures,i[j]||(i[j]=[]),i[j].push(g),e.append(g))}c.replaceWith(e);a.nHolding=null}function ea(a,b){var c=h(b).children("tr"),d,e,f,g,j,i,n,l,q,k;a.splice(0,a.length);f=0;for(i=c.length;f<i;f++)a.push([]);f=0;for(i=c.length;f<i;f++){d=c[f];for(e=d.firstChild;e;){if("TD"==e.nodeName.toUpperCase()||"TH"==e.nodeName.toUpperCase()){l=1*e.getAttribute("colspan");
q=1*e.getAttribute("rowspan");l=!l||0===l||1===l?1:l;q=!q||0===q||1===q?1:q;g=0;for(j=a[f];j[g];)g++;n=g;k=1===l?!0:!1;for(j=0;j<l;j++)for(g=0;g<q;g++)a[f+g][n+j]={cell:e,unique:k},a[f+g].nTr=d}e=e.nextSibling}}}function ta(a,b,c){var d=[];c||(c=a.aoHeader,b&&(c=[],ea(c,b)));for(var b=0,e=c.length;b<e;b++)for(var f=0,g=c[b].length;f<g;f++)if(c[b][f].unique&&(!d[f]||!a.bSortCellsTop))d[f]=c[b][f].cell;return d}function ua(a,b,c){s(a,"aoServerParams","serverParams",[b]);if(b&&h.isArray(b)){var d={},
e=/(.*?)\[\]$/;h.each(b,function(a,b){var c=b.name.match(e);c?(c=c[0],d[c]||(d[c]=[]),d[c].push(b.value)):d[b.name]=b.value});b=d}var f,g=a.ajax,j=a.oInstance,i=function(b){s(a,null,"xhr",[a,b,a.jqXHR]);c(b)};if(h.isPlainObject(g)&&g.data){f=g.data;var n=h.isFunction(f)?f(b,a):f,b=h.isFunction(f)&&n?n:h.extend(!0,b,n);delete g.data}n={data:b,success:function(b){var c=b.error||b.sError;c&&K(a,0,c);a.json=b;i(b)},dataType:"json",cache:!1,type:a.sServerMethod,error:function(b,c){var d=s(a,null,"xhr",
[a,null,a.jqXHR]);-1===h.inArray(!0,d)&&("parsererror"==c?K(a,0,"Invalid JSON response",1):4===b.readyState&&K(a,0,"Ajax error",7));C(a,!1)}};a.oAjaxData=b;s(a,null,"preXhr",[a,b]);a.fnServerData?a.fnServerData.call(j,a.sAjaxSource,h.map(b,function(a,b){return{name:b,value:a}}),i,a):a.sAjaxSource||"string"===typeof g?a.jqXHR=h.ajax(h.extend(n,{url:g||a.sAjaxSource})):h.isFunction(g)?a.jqXHR=g.call(j,b,i,a):(a.jqXHR=h.ajax(h.extend(n,g)),g.data=f)}function nb(a){return a.bAjaxDataGet?(a.iDraw++,C(a,
!0),ua(a,wb(a),function(b){xb(a,b)}),!1):!0}function wb(a){var b=a.aoColumns,c=b.length,d=a.oFeatures,e=a.oPreviousSearch,f=a.aoPreSearchCols,g,j=[],i,n,l,k=W(a);g=a._iDisplayStart;i=!1!==d.bPaginate?a._iDisplayLength:-1;var r=function(a,b){j.push({name:a,value:b})};r("sEcho",a.iDraw);r("iColumns",c);r("sColumns",D(b,"sName").join(","));r("iDisplayStart",g);r("iDisplayLength",i);var ra={draw:a.iDraw,columns:[],order:[],start:g,length:i,search:{value:e.sSearch,regex:e.bRegex}};for(g=0;g<c;g++)n=b[g],
l=f[g],i="function"==typeof n.mData?"function":n.mData,ra.columns.push({data:i,name:n.sName,searchable:n.bSearchable,orderable:n.bSortable,search:{value:l.sSearch,regex:l.bRegex}}),r("mDataProp_"+g,i),d.bFilter&&(r("sSearch_"+g,l.sSearch),r("bRegex_"+g,l.bRegex),r("bSearchable_"+g,n.bSearchable)),d.bSort&&r("bSortable_"+g,n.bSortable);d.bFilter&&(r("sSearch",e.sSearch),r("bRegex",e.bRegex));d.bSort&&(h.each(k,function(a,b){ra.order.push({column:b.col,dir:b.dir});r("iSortCol_"+a,b.col);r("sSortDir_"+
a,b.dir)}),r("iSortingCols",k.length));b=m.ext.legacy.ajax;return null===b?a.sAjaxSource?j:ra:b?j:ra}function xb(a,b){var c=va(a,b),d=b.sEcho!==k?b.sEcho:b.draw,e=b.iTotalRecords!==k?b.iTotalRecords:b.recordsTotal,f=b.iTotalDisplayRecords!==k?b.iTotalDisplayRecords:b.recordsFiltered;if(d){if(1*d<a.iDraw)return;a.iDraw=1*d}pa(a);a._iRecordsTotal=parseInt(e,10);a._iRecordsDisplay=parseInt(f,10);d=0;for(e=c.length;d<e;d++)N(a,c[d]);a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=!1;O(a);a._bInitComplete||
wa(a,b);a.bAjaxDataGet=!0;C(a,!1)}function va(a,b){var c=h.isPlainObject(a.ajax)&&a.ajax.dataSrc!==k?a.ajax.dataSrc:a.sAjaxDataProp;return"data"===c?b.aaData||b[c]:""!==c?R(c)(b):b}function rb(a){var b=a.oClasses,c=a.sTableId,d=a.oLanguage,e=a.oPreviousSearch,f=a.aanFeatures,g='<input type="search" class="'+b.sFilterInput+'"/>',j=d.sSearch,j=j.match(/_INPUT_/)?j.replace("_INPUT_",g):j+g,b=h("<div/>",{id:!f.f?c+"_filter":null,"class":b.sFilter}).append(h("<label/>").append(j)),f=function(){var b=!this.value?
"":this.value;b!=e.sSearch&&(ga(a,{sSearch:b,bRegex:e.bRegex,bSmart:e.bSmart,bCaseInsensitive:e.bCaseInsensitive}),a._iDisplayStart=0,O(a))},g=null!==a.searchDelay?a.searchDelay:"ssp"===y(a)?400:0,i=h("input",b).val(e.sSearch).attr("placeholder",d.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",g?Qa(f,g):f).on("keypress.DT",function(a){if(13==a.keyCode)return!1}).attr("aria-controls",c);h(a.nTable).on("search.dt.DT",function(b,c){if(a===c)try{i[0]!==H.activeElement&&i.val(e.sSearch)}catch(d){}});
return b[0]}function ga(a,b,c){var d=a.oPreviousSearch,e=a.aoPreSearchCols,f=function(a){d.sSearch=a.sSearch;d.bRegex=a.bRegex;d.bSmart=a.bSmart;d.bCaseInsensitive=a.bCaseInsensitive};Ia(a);if("ssp"!=y(a)){yb(a,b.sSearch,c,b.bEscapeRegex!==k?!b.bEscapeRegex:b.bRegex,b.bSmart,b.bCaseInsensitive);f(b);for(b=0;b<e.length;b++)zb(a,e[b].sSearch,b,e[b].bEscapeRegex!==k?!e[b].bEscapeRegex:e[b].bRegex,e[b].bSmart,e[b].bCaseInsensitive);Ab(a)}else f(b);a.bFiltered=!0;s(a,null,"search",[a])}function Ab(a){for(var b=
m.ext.search,c=a.aiDisplay,d,e,f=0,g=b.length;f<g;f++){for(var j=[],i=0,n=c.length;i<n;i++)e=c[i],d=a.aoData[e],b[f](a,d._aFilterData,e,d._aData,i)&&j.push(e);c.length=0;h.merge(c,j)}}function zb(a,b,c,d,e,f){if(""!==b){for(var g=[],j=a.aiDisplay,d=Ra(b,d,e,f),e=0;e<j.length;e++)b=a.aoData[j[e]]._aFilterData[c],d.test(b)&&g.push(j[e]);a.aiDisplay=g}}function yb(a,b,c,d,e,f){var d=Ra(b,d,e,f),f=a.oPreviousSearch.sSearch,g=a.aiDisplayMaster,j,e=[];0!==m.ext.search.length&&(c=!0);j=Bb(a);if(0>=b.length)a.aiDisplay=
g.slice();else{if(j||c||f.length>b.length||0!==b.indexOf(f)||a.bSorted)a.aiDisplay=g.slice();b=a.aiDisplay;for(c=0;c<b.length;c++)d.test(a.aoData[b[c]]._sFilterRow)&&e.push(b[c]);a.aiDisplay=e}}function Ra(a,b,c,d){a=b?a:Sa(a);c&&(a="^(?=.*?"+h.map(a.match(/"[^"]+"|[^ ]+/g)||[""],function(a){if('"'===a.charAt(0))var b=a.match(/^"(.*)"$/),a=b?b[1]:a;return a.replace('"',"")}).join(")(?=.*?")+").*$");return RegExp(a,d?"i":"")}function Bb(a){var b=a.aoColumns,c,d,e,f,g,j,i,h,l=m.ext.type.search;c=!1;
d=0;for(f=a.aoData.length;d<f;d++)if(h=a.aoData[d],!h._aFilterData){j=[];e=0;for(g=b.length;e<g;e++)c=b[e],c.bSearchable?(i=B(a,d,e,"filter"),l[c.sType]&&(i=l[c.sType](i)),null===i&&(i=""),"string"!==typeof i&&i.toString&&(i=i.toString())):i="",i.indexOf&&-1!==i.indexOf("&")&&(xa.innerHTML=i,i=$b?xa.textContent:xa.innerText),i.replace&&(i=i.replace(/[\r\n]/g,"")),j.push(i);h._aFilterData=j;h._sFilterRow=j.join("  ");c=!0}return c}function Cb(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,
caseInsensitive:a.bCaseInsensitive}}function Db(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,bCaseInsensitive:a.caseInsensitive}}function ub(a){var b=a.sTableId,c=a.aanFeatures.i,d=h("<div/>",{"class":a.oClasses.sInfo,id:!c?b+"_info":null});c||(a.aoDrawCallback.push({fn:Eb,sName:"information"}),d.attr("role","status").attr("aria-live","polite"),h(a.nTable).attr("aria-describedby",b+"_info"));return d[0]}function Eb(a){var b=a.aanFeatures.i;if(0!==b.length){var c=a.oLanguage,d=a._iDisplayStart+
1,e=a.fnDisplayEnd(),f=a.fnRecordsTotal(),g=a.fnRecordsDisplay(),j=g?c.sInfo:c.sInfoEmpty;g!==f&&(j+=" "+c.sInfoFiltered);j+=c.sInfoPostFix;j=Fb(a,j);c=c.fnInfoCallback;null!==c&&(j=c.call(a.oInstance,a,d,e,f,g,j));h(b).html(j)}}function Fb(a,b){var c=a.fnFormatNumber,d=a._iDisplayStart+1,e=a._iDisplayLength,f=a.fnRecordsDisplay(),g=-1===e;return b.replace(/_START_/g,c.call(a,d)).replace(/_END_/g,c.call(a,a.fnDisplayEnd())).replace(/_MAX_/g,c.call(a,a.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(a,
f)).replace(/_PAGE_/g,c.call(a,g?1:Math.ceil(d/e))).replace(/_PAGES_/g,c.call(a,g?1:Math.ceil(f/e)))}function ha(a){var b,c,d=a.iInitDisplayStart,e=a.aoColumns,f;c=a.oFeatures;var g=a.bDeferLoading;if(a.bInitialised){pb(a);mb(a);fa(a,a.aoHeader);fa(a,a.aoFooter);C(a,!0);c.bAutoWidth&&Ha(a);b=0;for(c=e.length;b<c;b++)f=e[b],f.sWidth&&(f.nTh.style.width=v(f.sWidth));s(a,null,"preInit",[a]);T(a);e=y(a);if("ssp"!=e||g)"ajax"==e?ua(a,[],function(c){var f=va(a,c);for(b=0;b<f.length;b++)N(a,f[b]);a.iInitDisplayStart=
d;T(a);C(a,!1);wa(a,c)},a):(C(a,!1),wa(a))}else setTimeout(function(){ha(a)},200)}function wa(a,b){a._bInitComplete=!0;(b||a.oInit.aaData)&&Z(a);s(a,null,"plugin-init",[a,b]);s(a,"aoInitComplete","init",[a,b])}function Ta(a,b){var c=parseInt(b,10);a._iDisplayLength=c;Ua(a);s(a,null,"length",[a,c])}function qb(a){for(var b=a.oClasses,c=a.sTableId,d=a.aLengthMenu,e=h.isArray(d[0]),f=e?d[0]:d,d=e?d[1]:d,e=h("<select/>",{name:c+"_length","aria-controls":c,"class":b.sLengthSelect}),g=0,j=f.length;g<j;g++)e[0][g]=
new Option(d[g],f[g]);var i=h("<div><label/></div>").addClass(b.sLength);a.aanFeatures.l||(i[0].id=c+"_length");i.children().append(a.oLanguage.sLengthMenu.replace("_MENU_",e[0].outerHTML));h("select",i).val(a._iDisplayLength).on("change.DT",function(){Ta(a,h(this).val());O(a)});h(a.nTable).on("length.dt.DT",function(b,c,d){a===c&&h("select",i).val(d)});return i[0]}function vb(a){var b=a.sPaginationType,c=m.ext.pager[b],d="function"===typeof c,e=function(a){O(a)},b=h("<div/>").addClass(a.oClasses.sPaging+
b)[0],f=a.aanFeatures;d||c.fnInit(a,b,e);f.p||(b.id=a.sTableId+"_paginate",a.aoDrawCallback.push({fn:function(a){if(d){var b=a._iDisplayStart,i=a._iDisplayLength,h=a.fnRecordsDisplay(),l=-1===i,b=l?0:Math.ceil(b/i),i=l?1:Math.ceil(h/i),h=c(b,i),k,l=0;for(k=f.p.length;l<k;l++)Pa(a,"pageButton")(a,f.p[l],l,h,b,i)}else c.fnUpdate(a,e)},sName:"pagination"}));return b}function Va(a,b,c){var d=a._iDisplayStart,e=a._iDisplayLength,f=a.fnRecordsDisplay();0===f||-1===e?d=0:"number"===typeof b?(d=b*e,d>f&&
(d=0)):"first"==b?d=0:"previous"==b?(d=0<=e?d-e:0,0>d&&(d=0)):"next"==b?d+e<f&&(d+=e):"last"==b?d=Math.floor((f-1)/e)*e:K(a,0,"Unknown paging action: "+b,5);b=a._iDisplayStart!==d;a._iDisplayStart=d;b&&(s(a,null,"page",[a]),c&&O(a));return b}function sb(a){return h("<div/>",{id:!a.aanFeatures.r?a.sTableId+"_processing":null,"class":a.oClasses.sProcessing}).html(a.oLanguage.sProcessing).insertBefore(a.nTable)[0]}function C(a,b){a.oFeatures.bProcessing&&h(a.aanFeatures.r).css("display",b?"block":"none");
s(a,null,"processing",[a,b])}function tb(a){var b=h(a.nTable);b.attr("role","grid");var c=a.oScroll;if(""===c.sX&&""===c.sY)return a.nTable;var d=c.sX,e=c.sY,f=a.oClasses,g=b.children("caption"),j=g.length?g[0]._captionSide:null,i=h(b[0].cloneNode(!1)),n=h(b[0].cloneNode(!1)),l=b.children("tfoot");l.length||(l=null);i=h("<div/>",{"class":f.sScrollWrapper}).append(h("<div/>",{"class":f.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:d?!d?null:v(d):"100%"}).append(h("<div/>",
{"class":f.sScrollHeadInner}).css({"box-sizing":"content-box",width:c.sXInner||"100%"}).append(i.removeAttr("id").css("margin-left",0).append("top"===j?g:null).append(b.children("thead"))))).append(h("<div/>",{"class":f.sScrollBody}).css({position:"relative",overflow:"auto",width:!d?null:v(d)}).append(b));l&&i.append(h("<div/>",{"class":f.sScrollFoot}).css({overflow:"hidden",border:0,width:d?!d?null:v(d):"100%"}).append(h("<div/>",{"class":f.sScrollFootInner}).append(n.removeAttr("id").css("margin-left",
0).append("bottom"===j?g:null).append(b.children("tfoot")))));var b=i.children(),k=b[0],f=b[1],r=l?b[2]:null;if(d)h(f).on("scroll.DT",function(){var a=this.scrollLeft;k.scrollLeft=a;l&&(r.scrollLeft=a)});h(f).css(e&&c.bCollapse?"max-height":"height",e);a.nScrollHead=k;a.nScrollBody=f;a.nScrollFoot=r;a.aoDrawCallback.push({fn:ma,sName:"scrolling"});return i[0]}function ma(a){var b=a.oScroll,c=b.sX,d=b.sXInner,e=b.sY,b=b.iBarWidth,f=h(a.nScrollHead),g=f[0].style,j=f.children("div"),i=j[0].style,n=j.children("table"),
j=a.nScrollBody,l=h(j),q=j.style,r=h(a.nScrollFoot).children("div"),m=r.children("table"),p=h(a.nTHead),o=h(a.nTable),u=o[0],s=u.style,t=a.nTFoot?h(a.nTFoot):null,x=a.oBrowser,U=x.bScrollOversize,ac=D(a.aoColumns,"nTh"),P,L,Q,w,Wa=[],y=[],z=[],A=[],B,C=function(a){a=a.style;a.paddingTop="0";a.paddingBottom="0";a.borderTopWidth="0";a.borderBottomWidth="0";a.height=0};L=j.scrollHeight>j.clientHeight;if(a.scrollBarVis!==L&&a.scrollBarVis!==k)a.scrollBarVis=L,Z(a);else{a.scrollBarVis=L;o.children("thead, tfoot").remove();
t&&(Q=t.clone().prependTo(o),P=t.find("tr"),Q=Q.find("tr"));w=p.clone().prependTo(o);p=p.find("tr");L=w.find("tr");w.find("th, td").removeAttr("tabindex");c||(q.width="100%",f[0].style.width="100%");h.each(ta(a,w),function(b,c){B=$(a,b);c.style.width=a.aoColumns[B].sWidth});t&&I(function(a){a.style.width=""},Q);f=o.outerWidth();if(""===c){s.width="100%";if(U&&(o.find("tbody").height()>j.offsetHeight||"scroll"==l.css("overflow-y")))s.width=v(o.outerWidth()-b);f=o.outerWidth()}else""!==d&&(s.width=
v(d),f=o.outerWidth());I(C,L);I(function(a){z.push(a.innerHTML);Wa.push(v(h(a).css("width")))},L);I(function(a,b){if(h.inArray(a,ac)!==-1)a.style.width=Wa[b]},p);h(L).height(0);t&&(I(C,Q),I(function(a){A.push(a.innerHTML);y.push(v(h(a).css("width")))},Q),I(function(a,b){a.style.width=y[b]},P),h(Q).height(0));I(function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+z[b]+"</div>";a.style.width=Wa[b]},L);t&&I(function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+
A[b]+"</div>";a.style.width=y[b]},Q);if(o.outerWidth()<f){P=j.scrollHeight>j.offsetHeight||"scroll"==l.css("overflow-y")?f+b:f;if(U&&(j.scrollHeight>j.offsetHeight||"scroll"==l.css("overflow-y")))s.width=v(P-b);(""===c||""!==d)&&K(a,1,"Possible column misalignment",6)}else P="100%";q.width=v(P);g.width=v(P);t&&(a.nScrollFoot.style.width=v(P));!e&&U&&(q.height=v(u.offsetHeight+b));c=o.outerWidth();n[0].style.width=v(c);i.width=v(c);d=o.height()>j.clientHeight||"scroll"==l.css("overflow-y");e="padding"+
(x.bScrollbarLeft?"Left":"Right");i[e]=d?b+"px":"0px";t&&(m[0].style.width=v(c),r[0].style.width=v(c),r[0].style[e]=d?b+"px":"0px");o.children("colgroup").insertBefore(o.children("thead"));l.scroll();if((a.bSorted||a.bFiltered)&&!a._drawHold)j.scrollTop=0}}function I(a,b,c){for(var d=0,e=0,f=b.length,g,j;e<f;){g=b[e].firstChild;for(j=c?c[e].firstChild:null;g;)1===g.nodeType&&(c?a(g,j,d):a(g,d),d++),g=g.nextSibling,j=c?j.nextSibling:null;e++}}function Ha(a){var b=a.nTable,c=a.aoColumns,d=a.oScroll,
e=d.sY,f=d.sX,g=d.sXInner,j=c.length,i=na(a,"bVisible"),n=h("th",a.nTHead),l=b.getAttribute("width"),k=b.parentNode,r=!1,m,p,o=a.oBrowser,d=o.bScrollOversize;(m=b.style.width)&&-1!==m.indexOf("%")&&(l=m);for(m=0;m<i.length;m++)p=c[i[m]],null!==p.sWidth&&(p.sWidth=Gb(p.sWidthOrig,k),r=!0);if(d||!r&&!f&&!e&&j==ba(a)&&j==n.length)for(m=0;m<j;m++)i=$(a,m),null!==i&&(c[i].sWidth=v(n.eq(m).width()));else{j=h(b).clone().css("visibility","hidden").removeAttr("id");j.find("tbody tr").remove();var u=h("<tr/>").appendTo(j.find("tbody"));
j.find("thead, tfoot").remove();j.append(h(a.nTHead).clone()).append(h(a.nTFoot).clone());j.find("tfoot th, tfoot td").css("width","");n=ta(a,j.find("thead")[0]);for(m=0;m<i.length;m++)p=c[i[m]],n[m].style.width=null!==p.sWidthOrig&&""!==p.sWidthOrig?v(p.sWidthOrig):"",p.sWidthOrig&&f&&h(n[m]).append(h("<div/>").css({width:p.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(a.aoData.length)for(m=0;m<i.length;m++)r=i[m],p=c[r],h(Hb(a,r)).clone(!1).append(p.sContentPadding).appendTo(u);h("[name]",
j).removeAttr("name");p=h("<div/>").css(f||e?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(j).appendTo(k);f&&g?j.width(g):f?(j.css("width","auto"),j.removeAttr("width"),j.width()<k.clientWidth&&l&&j.width(k.clientWidth)):e?j.width(k.clientWidth):l&&j.width(l);for(m=e=0;m<i.length;m++)k=h(n[m]),g=k.outerWidth()-k.width(),k=o.bBounding?Math.ceil(n[m].getBoundingClientRect().width):k.outerWidth(),e+=k,c[i[m]].sWidth=v(k-g);b.style.width=v(e);p.remove()}l&&(b.style.width=
v(l));if((l||f)&&!a._reszEvt)b=function(){h(E).on("resize.DT-"+a.sInstance,Qa(function(){Z(a)}))},d?setTimeout(b,1E3):b(),a._reszEvt=!0}function Gb(a,b){if(!a)return 0;var c=h("<div/>").css("width",v(a)).appendTo(b||H.body),d=c[0].offsetWidth;c.remove();return d}function Hb(a,b){var c=Ib(a,b);if(0>c)return null;var d=a.aoData[c];return!d.nTr?h("<td/>").html(B(a,c,b,"display"))[0]:d.anCells[b]}function Ib(a,b){for(var c,d=-1,e=-1,f=0,g=a.aoData.length;f<g;f++)c=B(a,f,b,"display")+"",c=c.replace(bc,
""),c=c.replace(/&nbsp;/g," "),c.length>d&&(d=c.length,e=f);return e}function v(a){return null===a?"0px":"number"==typeof a?0>a?"0px":a+"px":a.match(/\d$/)?a+"px":a}function W(a){var b,c,d=[],e=a.aoColumns,f,g,j,i;b=a.aaSortingFixed;c=h.isPlainObject(b);var n=[];f=function(a){a.length&&!h.isArray(a[0])?n.push(a):h.merge(n,a)};h.isArray(b)&&f(b);c&&b.pre&&f(b.pre);f(a.aaSorting);c&&b.post&&f(b.post);for(a=0;a<n.length;a++){i=n[a][0];f=e[i].aDataSort;b=0;for(c=f.length;b<c;b++)g=f[b],j=e[g].sType||
"string",n[a]._idx===k&&(n[a]._idx=h.inArray(n[a][1],e[g].asSorting)),d.push({src:i,col:g,dir:n[a][1],index:n[a]._idx,type:j,formatter:m.ext.type.order[j+"-pre"]})}return d}function ob(a){var b,c,d=[],e=m.ext.type.order,f=a.aoData,g=0,j,i=a.aiDisplayMaster,h;Ia(a);h=W(a);b=0;for(c=h.length;b<c;b++)j=h[b],j.formatter&&g++,Jb(a,j.col);if("ssp"!=y(a)&&0!==h.length){b=0;for(c=i.length;b<c;b++)d[i[b]]=b;g===h.length?i.sort(function(a,b){var c,e,g,j,i=h.length,k=f[a]._aSortData,m=f[b]._aSortData;for(g=
0;g<i;g++)if(j=h[g],c=k[j.col],e=m[j.col],c=c<e?-1:c>e?1:0,0!==c)return"asc"===j.dir?c:-c;c=d[a];e=d[b];return c<e?-1:c>e?1:0}):i.sort(function(a,b){var c,g,j,i,k=h.length,m=f[a]._aSortData,p=f[b]._aSortData;for(j=0;j<k;j++)if(i=h[j],c=m[i.col],g=p[i.col],i=e[i.type+"-"+i.dir]||e["string-"+i.dir],c=i(c,g),0!==c)return c;c=d[a];g=d[b];return c<g?-1:c>g?1:0})}a.bSorted=!0}function Kb(a){for(var b,c,d=a.aoColumns,e=W(a),a=a.oLanguage.oAria,f=0,g=d.length;f<g;f++){c=d[f];var j=c.asSorting;b=c.sTitle.replace(/<.*?>/g,
"");var i=c.nTh;i.removeAttribute("aria-sort");c.bSortable&&(0<e.length&&e[0].col==f?(i.setAttribute("aria-sort","asc"==e[0].dir?"ascending":"descending"),c=j[e[0].index+1]||j[0]):c=j[0],b+="asc"===c?a.sSortAscending:a.sSortDescending);i.setAttribute("aria-label",b)}}function Xa(a,b,c,d){var e=a.aaSorting,f=a.aoColumns[b].asSorting,g=function(a,b){var c=a._idx;c===k&&(c=h.inArray(a[1],f));return c+1<f.length?c+1:b?null:0};"number"===typeof e[0]&&(e=a.aaSorting=[e]);c&&a.oFeatures.bSortMulti?(c=h.inArray(b,
D(e,"0")),-1!==c?(b=g(e[c],!0),null===b&&1===e.length&&(b=0),null===b?e.splice(c,1):(e[c][1]=f[b],e[c]._idx=b)):(e.push([b,f[0],0]),e[e.length-1]._idx=0)):e.length&&e[0][0]==b?(b=g(e[0]),e.length=1,e[0][1]=f[b],e[0]._idx=b):(e.length=0,e.push([b,f[0]]),e[0]._idx=0);T(a);"function"==typeof d&&d(a)}function Oa(a,b,c,d){var e=a.aoColumns[c];Ya(b,{},function(b){!1!==e.bSortable&&(a.oFeatures.bProcessing?(C(a,!0),setTimeout(function(){Xa(a,c,b.shiftKey,d);"ssp"!==y(a)&&C(a,!1)},0)):Xa(a,c,b.shiftKey,d))})}
function ya(a){var b=a.aLastSort,c=a.oClasses.sSortColumn,d=W(a),e=a.oFeatures,f,g;if(e.bSort&&e.bSortClasses){e=0;for(f=b.length;e<f;e++)g=b[e].src,h(D(a.aoData,"anCells",g)).removeClass(c+(2>e?e+1:3));e=0;for(f=d.length;e<f;e++)g=d[e].src,h(D(a.aoData,"anCells",g)).addClass(c+(2>e?e+1:3))}a.aLastSort=d}function Jb(a,b){var c=a.aoColumns[b],d=m.ext.order[c.sSortDataType],e;d&&(e=d.call(a.oInstance,a,b,aa(a,b)));for(var f,g=m.ext.type.order[c.sType+"-pre"],j=0,i=a.aoData.length;j<i;j++)if(c=a.aoData[j],
c._aSortData||(c._aSortData=[]),!c._aSortData[b]||d)f=d?e[j]:B(a,j,b,"sort"),c._aSortData[b]=g?g(f):f}function za(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b={time:+new Date,start:a._iDisplayStart,length:a._iDisplayLength,order:h.extend(!0,[],a.aaSorting),search:Cb(a.oPreviousSearch),columns:h.map(a.aoColumns,function(b,d){return{visible:b.bVisible,search:Cb(a.aoPreSearchCols[d])}})};s(a,"aoStateSaveParams","stateSaveParams",[a,b]);a.oSavedState=b;a.fnStateSaveCallback.call(a.oInstance,a,
b)}}function Lb(a,b,c){var d,e,f=a.aoColumns,b=function(b){if(b&&b.time){var i=s(a,"aoStateLoadParams","stateLoadParams",[a,g]);if(-1===h.inArray(!1,i)&&(i=a.iStateDuration,!(0<i&&b.time<+new Date-1E3*i)&&!(b.columns&&f.length!==b.columns.length))){a.oLoadedState=h.extend(!0,{},g);b.start!==k&&(a._iDisplayStart=b.start,a.iInitDisplayStart=b.start);b.length!==k&&(a._iDisplayLength=b.length);b.order!==k&&(a.aaSorting=[],h.each(b.order,function(b,c){a.aaSorting.push(c[0]>=f.length?[0,c[1]]:c)}));b.search!==
k&&h.extend(a.oPreviousSearch,Db(b.search));if(b.columns){d=0;for(e=b.columns.length;d<e;d++)i=b.columns[d],i.visible!==k&&(f[d].bVisible=i.visible),i.search!==k&&h.extend(a.aoPreSearchCols[d],Db(i.search))}s(a,"aoStateLoaded","stateLoaded",[a,g])}}c()};if(a.oFeatures.bStateSave){var g=a.fnStateLoadCallback.call(a.oInstance,a,b);g!==k&&b(g)}else c()}function Aa(a){var b=m.settings,a=h.inArray(a,D(b,"nTable"));return-1!==a?b[a]:null}function K(a,b,c,d){c="DataTables warning: "+(a?"table id="+a.sTableId+
" - ":"")+c;d&&(c+=". For more information about this error, please see http://datatables.net/tn/"+d);if(b)E.console&&console.log&&console.log(c);else if(b=m.ext,b=b.sErrMode||b.errMode,a&&s(a,null,"error",[a,d,c]),"alert"==b)alert(c);else{if("throw"==b)throw Error(c);"function"==typeof b&&b(a,d,c)}}function F(a,b,c,d){h.isArray(c)?h.each(c,function(c,d){h.isArray(d)?F(a,b,d[0],d[1]):F(a,b,d)}):(d===k&&(d=c),b[c]!==k&&(a[d]=b[c]))}function Mb(a,b,c){var d,e;for(e in b)b.hasOwnProperty(e)&&(d=b[e],
h.isPlainObject(d)?(h.isPlainObject(a[e])||(a[e]={}),h.extend(!0,a[e],d)):a[e]=c&&"data"!==e&&"aaData"!==e&&h.isArray(d)?d.slice():d);return a}function Ya(a,b,c){h(a).on("click.DT",b,function(b){a.blur();c(b)}).on("keypress.DT",b,function(a){13===a.which&&(a.preventDefault(),c(a))}).on("selectstart.DT",function(){return!1})}function z(a,b,c,d){c&&a[b].push({fn:c,sName:d})}function s(a,b,c,d){var e=[];b&&(e=h.map(a[b].slice().reverse(),function(b){return b.fn.apply(a.oInstance,d)}));null!==c&&(b=h.Event(c+
".dt"),h(a.nTable).trigger(b,d),e.push(b.result));return e}function Ua(a){var b=a._iDisplayStart,c=a.fnDisplayEnd(),d=a._iDisplayLength;b>=c&&(b=c-d);b-=b%d;if(-1===d||0>b)b=0;a._iDisplayStart=b}function Pa(a,b){var c=a.renderer,d=m.ext.renderer[b];return h.isPlainObject(c)&&c[b]?d[c[b]]||d._:"string"===typeof c?d[c]||d._:d._}function y(a){return a.oFeatures.bServerSide?"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}function ia(a,b){var c=[],c=Nb.numbers_length,d=Math.floor(c/2);b<=c?c=X(0,b):a<=d?(c=X(0,
c-2),c.push("ellipsis"),c.push(b-1)):(a>=b-1-d?c=X(b-(c-2),b):(c=X(a-d+2,a+d-1),c.push("ellipsis"),c.push(b-1)),c.splice(0,0,"ellipsis"),c.splice(0,0,0));c.DT_el="span";return c}function fb(a){h.each({num:function(b){return Ba(b,a)},"num-fmt":function(b){return Ba(b,a,Za)},"html-num":function(b){return Ba(b,a,Ca)},"html-num-fmt":function(b){return Ba(b,a,Ca,Za)}},function(b,c){x.type.order[b+a+"-pre"]=c;b.match(/^html\-/)&&(x.type.search[b+a]=x.type.search.html)})}function Ob(a){return function(){var b=
[Aa(this[m.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return m.ext.internal[a].apply(this,b)}}var m=function(a){this.$=function(a,b){return this.api(!0).$(a,b)};this._=function(a,b){return this.api(!0).rows(a,b).data()};this.api=function(a){return a?new u(Aa(this[x.iApiIndex])):new u(this)};this.fnAddData=function(a,b){var c=this.api(!0),d=h.isArray(a)&&(h.isArray(a[0])||h.isPlainObject(a[0]))?c.rows.add(a):c.row.add(a);(b===k||b)&&c.draw();return d.flatten().toArray()};this.fnAdjustColumnSizing=
function(a){var b=this.api(!0).columns.adjust(),c=b.settings()[0],d=c.oScroll;a===k||a?b.draw(!1):(""!==d.sX||""!==d.sY)&&ma(c)};this.fnClearTable=function(a){var b=this.api(!0).clear();(a===k||a)&&b.draw()};this.fnClose=function(a){this.api(!0).row(a).child.hide()};this.fnDeleteRow=function(a,b,c){var d=this.api(!0),a=d.rows(a),e=a.settings()[0],h=e.aoData[a[0][0]];a.remove();b&&b.call(this,e,h);(c===k||c)&&d.draw();return h};this.fnDestroy=function(a){this.api(!0).destroy(a)};this.fnDraw=function(a){this.api(!0).draw(a)};
this.fnFilter=function(a,b,c,d,e,h){e=this.api(!0);null===b||b===k?e.search(a,c,d,h):e.column(b).search(a,c,d,h);e.draw()};this.fnGetData=function(a,b){var c=this.api(!0);if(a!==k){var d=a.nodeName?a.nodeName.toLowerCase():"";return b!==k||"td"==d||"th"==d?c.cell(a,b).data():c.row(a).data()||null}return c.data().toArray()};this.fnGetNodes=function(a){var b=this.api(!0);return a!==k?b.row(a).node():b.rows().nodes().flatten().toArray()};this.fnGetPosition=function(a){var b=this.api(!0),c=a.nodeName.toUpperCase();
return"TR"==c?b.row(a).index():"TD"==c||"TH"==c?(a=b.cell(a).index(),[a.row,a.columnVisible,a.column]):null};this.fnIsOpen=function(a){return this.api(!0).row(a).child.isShown()};this.fnOpen=function(a,b,c){return this.api(!0).row(a).child(b,c).show().child()[0]};this.fnPageChange=function(a,b){var c=this.api(!0).page(a);(b===k||b)&&c.draw(!1)};this.fnSetColumnVis=function(a,b,c){a=this.api(!0).column(a).visible(b);(c===k||c)&&a.columns.adjust().draw()};this.fnSettings=function(){return Aa(this[x.iApiIndex])};
this.fnSort=function(a){this.api(!0).order(a).draw()};this.fnSortListener=function(a,b,c){this.api(!0).order.listener(a,b,c)};this.fnUpdate=function(a,b,c,d,e){var h=this.api(!0);c===k||null===c?h.row(b).data(a):h.cell(b,c).data(a);(e===k||e)&&h.columns.adjust();(d===k||d)&&h.draw();return 0};this.fnVersionCheck=x.fnVersionCheck;var b=this,c=a===k,d=this.length;c&&(a={});this.oApi=this.internal=x.internal;for(var e in m.ext.internal)e&&(this[e]=Ob(e));this.each(function(){var e={},g=1<d?Mb(e,a,!0):
a,j=0,i,e=this.getAttribute("id"),n=!1,l=m.defaults,q=h(this);if("table"!=this.nodeName.toLowerCase())K(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{gb(l);hb(l.column);J(l,l,!0);J(l.column,l.column,!0);J(l,h.extend(g,q.data()));var r=m.settings,j=0;for(i=r.length;j<i;j++){var p=r[j];if(p.nTable==this||p.nTHead.parentNode==this||p.nTFoot&&p.nTFoot.parentNode==this){var u=g.bRetrieve!==k?g.bRetrieve:l.bRetrieve;if(c||u)return p.oInstance;if(g.bDestroy!==k?g.bDestroy:l.bDestroy){p.oInstance.fnDestroy();
break}else{K(p,0,"Cannot reinitialise DataTable",3);return}}if(p.sTableId==this.id){r.splice(j,1);break}}if(null===e||""===e)this.id=e="DataTables_Table_"+m.ext._unique++;var o=h.extend(!0,{},m.models.oSettings,{sDestroyWidth:q[0].style.width,sInstance:e,sTableId:e});o.nTable=this;o.oApi=b.internal;o.oInit=g;r.push(o);o.oInstance=1===b.length?b:q.dataTable();gb(g);g.oLanguage&&Fa(g.oLanguage);g.aLengthMenu&&!g.iDisplayLength&&(g.iDisplayLength=h.isArray(g.aLengthMenu[0])?g.aLengthMenu[0][0]:g.aLengthMenu[0]);
g=Mb(h.extend(!0,{},l),g);F(o.oFeatures,g,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" "));F(o,g,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],
["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]);F(o.oScroll,g,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);F(o.oLanguage,g,"fnInfoCallback");z(o,"aoDrawCallback",g.fnDrawCallback,"user");z(o,"aoServerParams",g.fnServerParams,"user");z(o,"aoStateSaveParams",g.fnStateSaveParams,"user");z(o,"aoStateLoadParams",g.fnStateLoadParams,"user");z(o,"aoStateLoaded",g.fnStateLoaded,
"user");z(o,"aoRowCallback",g.fnRowCallback,"user");z(o,"aoRowCreatedCallback",g.fnCreatedRow,"user");z(o,"aoHeaderCallback",g.fnHeaderCallback,"user");z(o,"aoFooterCallback",g.fnFooterCallback,"user");z(o,"aoInitComplete",g.fnInitComplete,"user");z(o,"aoPreDrawCallback",g.fnPreDrawCallback,"user");o.rowIdFn=R(g.rowId);ib(o);var t=o.oClasses;g.bJQueryUI?(h.extend(t,m.ext.oJUIClasses,g.oClasses),g.sDom===l.sDom&&"lfrtip"===l.sDom&&(o.sDom='<"H"lfr>t<"F"ip>'),o.renderer)?h.isPlainObject(o.renderer)&&
!o.renderer.header&&(o.renderer.header="jqueryui"):o.renderer="jqueryui":h.extend(t,m.ext.classes,g.oClasses);q.addClass(t.sTable);o.iInitDisplayStart===k&&(o.iInitDisplayStart=g.iDisplayStart,o._iDisplayStart=g.iDisplayStart);null!==g.iDeferLoading&&(o.bDeferLoading=!0,e=h.isArray(g.iDeferLoading),o._iRecordsDisplay=e?g.iDeferLoading[0]:g.iDeferLoading,o._iRecordsTotal=e?g.iDeferLoading[1]:g.iDeferLoading);var v=o.oLanguage;h.extend(!0,v,g.oLanguage);v.sUrl&&(h.ajax({dataType:"json",url:v.sUrl,success:function(a){Fa(a);
J(l.oLanguage,a);h.extend(true,v,a);ha(o)},error:function(){ha(o)}}),n=!0);null===g.asStripeClasses&&(o.asStripeClasses=[t.sStripeOdd,t.sStripeEven]);var e=o.asStripeClasses,x=q.children("tbody").find("tr").eq(0);-1!==h.inArray(!0,h.map(e,function(a){return x.hasClass(a)}))&&(h("tbody tr",this).removeClass(e.join(" ")),o.asDestroyStripes=e.slice());e=[];r=this.getElementsByTagName("thead");0!==r.length&&(ea(o.aoHeader,r[0]),e=ta(o));if(null===g.aoColumns){r=[];j=0;for(i=e.length;j<i;j++)r.push(null)}else r=
g.aoColumns;j=0;for(i=r.length;j<i;j++)Ga(o,e?e[j]:null);kb(o,g.aoColumnDefs,r,function(a,b){la(o,a,b)});if(x.length){var w=function(a,b){return a.getAttribute("data-"+b)!==null?b:null};h(x[0]).children("th, td").each(function(a,b){var c=o.aoColumns[a];if(c.mData===a){var d=w(b,"sort")||w(b,"order"),e=w(b,"filter")||w(b,"search");if(d!==null||e!==null){c.mData={_:a+".display",sort:d!==null?a+".@data-"+d:k,type:d!==null?a+".@data-"+d:k,filter:e!==null?a+".@data-"+e:k};la(o,a)}}})}var U=o.oFeatures,
e=function(){if(g.aaSorting===k){var a=o.aaSorting;j=0;for(i=a.length;j<i;j++)a[j][1]=o.aoColumns[j].asSorting[0]}ya(o);U.bSort&&z(o,"aoDrawCallback",function(){if(o.bSorted){var a=W(o),b={};h.each(a,function(a,c){b[c.src]=c.dir});s(o,null,"order",[o,a,b]);Kb(o)}});z(o,"aoDrawCallback",function(){(o.bSorted||y(o)==="ssp"||U.bDeferRender)&&ya(o)},"sc");var a=q.children("caption").each(function(){this._captionSide=h(this).css("caption-side")}),b=q.children("thead");b.length===0&&(b=h("<thead/>").appendTo(q));
o.nTHead=b[0];b=q.children("tbody");b.length===0&&(b=h("<tbody/>").appendTo(q));o.nTBody=b[0];b=q.children("tfoot");if(b.length===0&&a.length>0&&(o.oScroll.sX!==""||o.oScroll.sY!==""))b=h("<tfoot/>").appendTo(q);if(b.length===0||b.children().length===0)q.addClass(t.sNoFooter);else if(b.length>0){o.nTFoot=b[0];ea(o.aoFooter,o.nTFoot)}if(g.aaData)for(j=0;j<g.aaData.length;j++)N(o,g.aaData[j]);else(o.bDeferLoading||y(o)=="dom")&&oa(o,h(o.nTBody).children("tr"));o.aiDisplay=o.aiDisplayMaster.slice();
o.bInitialised=true;n===false&&ha(o)};g.bStateSave?(U.bStateSave=!0,z(o,"aoDrawCallback",za,"state_save"),Lb(o,g,e)):e()}});b=null;return this},x,u,p,t,$a={},Pb=/[\r\n]/g,Ca=/<.*?>/g,cc=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,dc=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Za=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,M=function(a){return!a||!0===a||"-"===a?!0:!1},Qb=function(a){var b=parseInt(a,10);return!isNaN(b)&&
isFinite(a)?b:null},Rb=function(a,b){$a[b]||($a[b]=RegExp(Sa(b),"g"));return"string"===typeof a&&"."!==b?a.replace(/\./g,"").replace($a[b],"."):a},ab=function(a,b,c){var d="string"===typeof a;if(M(a))return!0;b&&d&&(a=Rb(a,b));c&&d&&(a=a.replace(Za,""));return!isNaN(parseFloat(a))&&isFinite(a)},Sb=function(a,b,c){return M(a)?!0:!(M(a)||"string"===typeof a)?null:ab(a.replace(Ca,""),b,c)?!0:null},D=function(a,b,c){var d=[],e=0,f=a.length;if(c!==k)for(;e<f;e++)a[e]&&a[e][b]&&d.push(a[e][b][c]);else for(;e<
f;e++)a[e]&&d.push(a[e][b]);return d},ja=function(a,b,c,d){var e=[],f=0,g=b.length;if(d!==k)for(;f<g;f++)a[b[f]][c]&&e.push(a[b[f]][c][d]);else for(;f<g;f++)e.push(a[b[f]][c]);return e},X=function(a,b){var c=[],d;b===k?(b=0,d=a):(d=b,b=a);for(var e=b;e<d;e++)c.push(e);return c},Tb=function(a){for(var b=[],c=0,d=a.length;c<d;c++)a[c]&&b.push(a[c]);return b},sa=function(a){var b=[],c,d,e=a.length,f,g=0;d=0;a:for(;d<e;d++){c=a[d];for(f=0;f<g;f++)if(b[f]===c)continue a;b.push(c);g++}return b};m.util=
{throttle:function(a,b){var c=b!==k?b:200,d,e;return function(){var b=this,g=+new Date,h=arguments;d&&g<d+c?(clearTimeout(e),e=setTimeout(function(){d=k;a.apply(b,h)},c)):(d=g,a.apply(b,h))}},escapeRegex:function(a){return a.replace(dc,"\\$1")}};var A=function(a,b,c){a[b]!==k&&(a[c]=a[b])},ca=/\[.*?\]$/,V=/\(\)$/,Sa=m.util.escapeRegex,xa=h("<div>")[0],$b=xa.textContent!==k,bc=/<.*?>/g,Qa=m.util.throttle,Ub=[],w=Array.prototype,ec=function(a){var b,c,d=m.settings,e=h.map(d,function(a){return a.nTable});
if(a){if(a.nTable&&a.oApi)return[a];if(a.nodeName&&"table"===a.nodeName.toLowerCase())return b=h.inArray(a,e),-1!==b?[d[b]]:null;if(a&&"function"===typeof a.settings)return a.settings().toArray();"string"===typeof a?c=h(a):a instanceof h&&(c=a)}else return[];if(c)return c.map(function(){b=h.inArray(this,e);return-1!==b?d[b]:null}).toArray()};u=function(a,b){if(!(this instanceof u))return new u(a,b);var c=[],d=function(a){(a=ec(a))&&(c=c.concat(a))};if(h.isArray(a))for(var e=0,f=a.length;e<f;e++)d(a[e]);
else d(a);this.context=sa(c);b&&h.merge(this,b);this.selector={rows:null,cols:null,opts:null};u.extend(this,this,Ub)};m.Api=u;h.extend(u.prototype,{any:function(){return 0!==this.count()},concat:w.concat,context:[],count:function(){return this.flatten().length},each:function(a){for(var b=0,c=this.length;b<c;b++)a.call(this,this[b],b,this);return this},eq:function(a){var b=this.context;return b.length>a?new u(b[a],this[a]):null},filter:function(a){var b=[];if(w.filter)b=w.filter.call(this,a,this);
else for(var c=0,d=this.length;c<d;c++)a.call(this,this[c],c,this)&&b.push(this[c]);return new u(this.context,b)},flatten:function(){var a=[];return new u(this.context,a.concat.apply(a,this.toArray()))},join:w.join,indexOf:w.indexOf||function(a,b){for(var c=b||0,d=this.length;c<d;c++)if(this[c]===a)return c;return-1},iterator:function(a,b,c,d){var e=[],f,g,h,i,n,l=this.context,m,p,t=this.selector;"string"===typeof a&&(d=c,c=b,b=a,a=!1);g=0;for(h=l.length;g<h;g++){var s=new u(l[g]);if("table"===b)f=
c.call(s,l[g],g),f!==k&&e.push(f);else if("columns"===b||"rows"===b)f=c.call(s,l[g],this[g],g),f!==k&&e.push(f);else if("column"===b||"column-rows"===b||"row"===b||"cell"===b){p=this[g];"column-rows"===b&&(m=Da(l[g],t.opts));i=0;for(n=p.length;i<n;i++)f=p[i],f="cell"===b?c.call(s,l[g],f.row,f.column,g,i):c.call(s,l[g],f,g,i,m),f!==k&&e.push(f)}}return e.length||d?(a=new u(l,a?e.concat.apply([],e):e),b=a.selector,b.rows=t.rows,b.cols=t.cols,b.opts=t.opts,a):this},lastIndexOf:w.lastIndexOf||function(a,
b){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(a){var b=[];if(w.map)b=w.map.call(this,a,this);else for(var c=0,d=this.length;c<d;c++)b.push(a.call(this,this[c],c));return new u(this.context,b)},pluck:function(a){return this.map(function(b){return b[a]})},pop:w.pop,push:w.push,reduce:w.reduce||function(a,b){return jb(this,a,b,0,this.length,1)},reduceRight:w.reduceRight||function(a,b){return jb(this,a,b,this.length-1,-1,-1)},reverse:w.reverse,selector:null,shift:w.shift,
sort:w.sort,splice:w.splice,toArray:function(){return w.slice.call(this)},to$:function(){return h(this)},toJQuery:function(){return h(this)},unique:function(){return new u(this.context,sa(this))},unshift:w.unshift});u.extend=function(a,b,c){if(c.length&&b&&(b instanceof u||b.__dt_wrapper)){var d,e,f,g=function(a,b,c){return function(){var d=b.apply(a,arguments);u.extend(d,d,c.methodExt);return d}};d=0;for(e=c.length;d<e;d++)f=c[d],b[f.name]="function"===typeof f.val?g(a,f.val,f):h.isPlainObject(f.val)?
{}:f.val,b[f.name].__dt_wrapper=!0,u.extend(a,b[f.name],f.propExt)}};u.register=p=function(a,b){if(h.isArray(a))for(var c=0,d=a.length;c<d;c++)u.register(a[c],b);else for(var e=a.split("."),f=Ub,g,j,c=0,d=e.length;c<d;c++){g=(j=-1!==e[c].indexOf("()"))?e[c].replace("()",""):e[c];var i;a:{i=0;for(var n=f.length;i<n;i++)if(f[i].name===g){i=f[i];break a}i=null}i||(i={name:g,val:{},methodExt:[],propExt:[]},f.push(i));c===d-1?i.val=b:f=j?i.methodExt:i.propExt}};u.registerPlural=t=function(a,b,c){u.register(a,
c);u.register(b,function(){var a=c.apply(this,arguments);return a===this?this:a instanceof u?a.length?h.isArray(a[0])?new u(a.context,a[0]):a[0]:k:a})};p("tables()",function(a){var b;if(a){b=u;var c=this.context;if("number"===typeof a)a=[c[a]];else var d=h.map(c,function(a){return a.nTable}),a=h(d).filter(a).map(function(){var a=h.inArray(this,d);return c[a]}).toArray();b=new b(a)}else b=this;return b});p("table()",function(a){var a=this.tables(a),b=a.context;return b.length?new u(b[0]):a});t("tables().nodes()",
"table().node()",function(){return this.iterator("table",function(a){return a.nTable},1)});t("tables().body()","table().body()",function(){return this.iterator("table",function(a){return a.nTBody},1)});t("tables().header()","table().header()",function(){return this.iterator("table",function(a){return a.nTHead},1)});t("tables().footer()","table().footer()",function(){return this.iterator("table",function(a){return a.nTFoot},1)});t("tables().containers()","table().container()",function(){return this.iterator("table",
function(a){return a.nTableWrapper},1)});p("draw()",function(a){return this.iterator("table",function(b){"page"===a?O(b):("string"===typeof a&&(a="full-hold"===a?!1:!0),T(b,!1===a))})});p("page()",function(a){return a===k?this.page.info().page:this.iterator("table",function(b){Va(b,a)})});p("page.info()",function(){if(0===this.context.length)return k;var a=this.context[0],b=a._iDisplayStart,c=a.oFeatures.bPaginate?a._iDisplayLength:-1,d=a.fnRecordsDisplay(),e=-1===c;return{page:e?0:Math.floor(b/c),
pages:e?1:Math.ceil(d/c),start:b,end:a.fnDisplayEnd(),length:c,recordsTotal:a.fnRecordsTotal(),recordsDisplay:d,serverSide:"ssp"===y(a)}});p("page.len()",function(a){return a===k?0!==this.context.length?this.context[0]._iDisplayLength:k:this.iterator("table",function(b){Ta(b,a)})});var Vb=function(a,b,c){if(c){var d=new u(a);d.one("draw",function(){c(d.ajax.json())})}if("ssp"==y(a))T(a,b);else{C(a,!0);var e=a.jqXHR;e&&4!==e.readyState&&e.abort();ua(a,[],function(c){pa(a);for(var c=va(a,c),d=0,e=c.length;d<
e;d++)N(a,c[d]);T(a,b);C(a,!1)})}};p("ajax.json()",function(){var a=this.context;if(0<a.length)return a[0].json});p("ajax.params()",function(){var a=this.context;if(0<a.length)return a[0].oAjaxData});p("ajax.reload()",function(a,b){return this.iterator("table",function(c){Vb(c,!1===b,a)})});p("ajax.url()",function(a){var b=this.context;if(a===k){if(0===b.length)return k;b=b[0];return b.ajax?h.isPlainObject(b.ajax)?b.ajax.url:b.ajax:b.sAjaxSource}return this.iterator("table",function(b){h.isPlainObject(b.ajax)?
b.ajax.url=a:b.ajax=a})});p("ajax.url().load()",function(a,b){return this.iterator("table",function(c){Vb(c,!1===b,a)})});var bb=function(a,b,c,d,e){var f=[],g,j,i,n,l,m;i=typeof b;if(!b||"string"===i||"function"===i||b.length===k)b=[b];i=0;for(n=b.length;i<n;i++){j=b[i]&&b[i].split&&!b[i].match(/[\[\(:]/)?b[i].split(","):[b[i]];l=0;for(m=j.length;l<m;l++)(g=c("string"===typeof j[l]?h.trim(j[l]):j[l]))&&g.length&&(f=f.concat(g))}a=x.selector[a];if(a.length){i=0;for(n=a.length;i<n;i++)f=a[i](d,e,f)}return sa(f)},
cb=function(a){a||(a={});a.filter&&a.search===k&&(a.search=a.filter);return h.extend({search:"none",order:"current",page:"all"},a)},db=function(a){for(var b=0,c=a.length;b<c;b++)if(0<a[b].length)return a[0]=a[b],a[0].length=1,a.length=1,a.context=[a.context[b]],a;a.length=0;return a},Da=function(a,b){var c,d,e,f=[],g=a.aiDisplay;c=a.aiDisplayMaster;var j=b.search;d=b.order;e=b.page;if("ssp"==y(a))return"removed"===j?[]:X(0,c.length);if("current"==e){c=a._iDisplayStart;for(d=a.fnDisplayEnd();c<d;c++)f.push(g[c])}else if("current"==
d||"applied"==d)f="none"==j?c.slice():"applied"==j?g.slice():h.map(c,function(a){return-1===h.inArray(a,g)?a:null});else if("index"==d||"original"==d){c=0;for(d=a.aoData.length;c<d;c++)"none"==j?f.push(c):(e=h.inArray(c,g),(-1===e&&"removed"==j||0<=e&&"applied"==j)&&f.push(c))}return f};p("rows()",function(a,b){a===k?a="":h.isPlainObject(a)&&(b=a,a="");var b=cb(b),c=this.iterator("table",function(c){var e=b,f;return bb("row",a,function(a){var b=Qb(a);if(b!==null&&!e)return[b];f||(f=Da(c,e));if(b!==
null&&h.inArray(b,f)!==-1)return[b];if(a===null||a===k||a==="")return f;if(typeof a==="function")return h.map(f,function(b){var e=c.aoData[b];return a(b,e._aData,e.nTr)?b:null});b=Tb(ja(c.aoData,f,"nTr"));if(a.nodeName){if(a._DT_RowIndex!==k)return[a._DT_RowIndex];if(a._DT_CellIndex)return[a._DT_CellIndex.row];b=h(a).closest("*[data-dt-row]");return b.length?[b.data("dt-row")]:[]}if(typeof a==="string"&&a.charAt(0)==="#"){var i=c.aIds[a.replace(/^#/,"")];if(i!==k)return[i.idx]}return h(b).filter(a).map(function(){return this._DT_RowIndex}).toArray()},
c,e)},1);c.selector.rows=a;c.selector.opts=b;return c});p("rows().nodes()",function(){return this.iterator("row",function(a,b){return a.aoData[b].nTr||k},1)});p("rows().data()",function(){return this.iterator(!0,"rows",function(a,b){return ja(a.aoData,b,"_aData")},1)});t("rows().cache()","row().cache()",function(a){return this.iterator("row",function(b,c){var d=b.aoData[c];return"search"===a?d._aFilterData:d._aSortData},1)});t("rows().invalidate()","row().invalidate()",function(a){return this.iterator("row",
function(b,c){da(b,c,a)})});t("rows().indexes()","row().index()",function(){return this.iterator("row",function(a,b){return b},1)});t("rows().ids()","row().id()",function(a){for(var b=[],c=this.context,d=0,e=c.length;d<e;d++)for(var f=0,g=this[d].length;f<g;f++){var h=c[d].rowIdFn(c[d].aoData[this[d][f]]._aData);b.push((!0===a?"#":"")+h)}return new u(c,b)});t("rows().remove()","row().remove()",function(){var a=this;this.iterator("row",function(b,c,d){var e=b.aoData,f=e[c],g,h,i,n,l;e.splice(c,1);
g=0;for(h=e.length;g<h;g++)if(i=e[g],l=i.anCells,null!==i.nTr&&(i.nTr._DT_RowIndex=g),null!==l){i=0;for(n=l.length;i<n;i++)l[i]._DT_CellIndex.row=g}qa(b.aiDisplayMaster,c);qa(b.aiDisplay,c);qa(a[d],c,!1);Ua(b);c=b.rowIdFn(f._aData);c!==k&&delete b.aIds[c]});this.iterator("table",function(a){for(var c=0,d=a.aoData.length;c<d;c++)a.aoData[c].idx=c});return this});p("rows.add()",function(a){var b=this.iterator("table",function(b){var c,f,g,h=[];f=0;for(g=a.length;f<g;f++)c=a[f],c.nodeName&&"TR"===c.nodeName.toUpperCase()?
h.push(oa(b,c)[0]):h.push(N(b,c));return h},1),c=this.rows(-1);c.pop();h.merge(c,b);return c});p("row()",function(a,b){return db(this.rows(a,b))});p("row().data()",function(a){var b=this.context;if(a===k)return b.length&&this.length?b[0].aoData[this[0]]._aData:k;b[0].aoData[this[0]]._aData=a;da(b[0],this[0],"data");return this});p("row().node()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]].nTr||null:null});p("row.add()",function(a){a instanceof h&&a.length&&(a=a[0]);
var b=this.iterator("table",function(b){return a.nodeName&&"TR"===a.nodeName.toUpperCase()?oa(b,a)[0]:N(b,a)});return this.row(b[0])});var eb=function(a,b){var c=a.context;if(c.length&&(c=c[0].aoData[b!==k?b:a[0]])&&c._details)c._details.remove(),c._detailsShow=k,c._details=k},Wb=function(a,b){var c=a.context;if(c.length&&a.length){var d=c[0].aoData[a[0]];if(d._details){(d._detailsShow=b)?d._details.insertAfter(d.nTr):d._details.detach();var e=c[0],f=new u(e),g=e.aoData;f.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");
0<D(g,"_details").length&&(f.on("draw.dt.DT_details",function(a,b){e===b&&f.rows({page:"current"}).eq(0).each(function(a){a=g[a];a._detailsShow&&a._details.insertAfter(a.nTr)})}),f.on("column-visibility.dt.DT_details",function(a,b){if(e===b)for(var c,d=ba(b),f=0,h=g.length;f<h;f++)c=g[f],c._details&&c._details.children("td[colspan]").attr("colspan",d)}),f.on("destroy.dt.DT_details",function(a,b){if(e===b)for(var c=0,d=g.length;c<d;c++)g[c]._details&&eb(f,c)}))}}};p("row().child()",function(a,b){var c=
this.context;if(a===k)return c.length&&this.length?c[0].aoData[this[0]]._details:k;if(!0===a)this.child.show();else if(!1===a)eb(this);else if(c.length&&this.length){var d=c[0],c=c[0].aoData[this[0]],e=[],f=function(a,b){if(h.isArray(a)||a instanceof h)for(var c=0,k=a.length;c<k;c++)f(a[c],b);else a.nodeName&&"tr"===a.nodeName.toLowerCase()?e.push(a):(c=h("<tr><td/></tr>").addClass(b),h("td",c).addClass(b).html(a)[0].colSpan=ba(d),e.push(c[0]))};f(a,b);c._details&&c._details.detach();c._details=h(e);
c._detailsShow&&c._details.insertAfter(c.nTr)}return this});p(["row().child.show()","row().child().show()"],function(){Wb(this,!0);return this});p(["row().child.hide()","row().child().hide()"],function(){Wb(this,!1);return this});p(["row().child.remove()","row().child().remove()"],function(){eb(this);return this});p("row().child.isShown()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]]._detailsShow||!1:!1});var fc=/^([^:]+):(name|visIdx|visible)$/,Xb=function(a,b,
c,d,e){for(var c=[],d=0,f=e.length;d<f;d++)c.push(B(a,e[d],b));return c};p("columns()",function(a,b){a===k?a="":h.isPlainObject(a)&&(b=a,a="");var b=cb(b),c=this.iterator("table",function(c){var e=a,f=b,g=c.aoColumns,j=D(g,"sName"),i=D(g,"nTh");return bb("column",e,function(a){var b=Qb(a);if(a==="")return X(g.length);if(b!==null)return[b>=0?b:g.length+b];if(typeof a==="function"){var e=Da(c,f);return h.map(g,function(b,f){return a(f,Xb(c,f,0,0,e),i[f])?f:null})}var k=typeof a==="string"?a.match(fc):
"";if(k)switch(k[2]){case "visIdx":case "visible":b=parseInt(k[1],10);if(b<0){var m=h.map(g,function(a,b){return a.bVisible?b:null});return[m[m.length+b]]}return[$(c,b)];case "name":return h.map(j,function(a,b){return a===k[1]?b:null});default:return[]}if(a.nodeName&&a._DT_CellIndex)return[a._DT_CellIndex.column];b=h(i).filter(a).map(function(){return h.inArray(this,i)}).toArray();if(b.length||!a.nodeName)return b;b=h(a).closest("*[data-dt-column]");return b.length?[b.data("dt-column")]:[]},c,f)},
1);c.selector.cols=a;c.selector.opts=b;return c});t("columns().header()","column().header()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTh},1)});t("columns().footer()","column().footer()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTf},1)});t("columns().data()","column().data()",function(){return this.iterator("column-rows",Xb,1)});t("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].mData},
1)});t("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(b,c,d,e,f){return ja(b.aoData,f,"search"===a?"_aFilterData":"_aSortData",c)},1)});t("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(a,b,c,d,e){return ja(a.aoData,e,"anCells",b)},1)});t("columns().visible()","column().visible()",function(a,b){var c=this.iterator("column",function(b,c){if(a===k)return b.aoColumns[c].bVisible;var f=b.aoColumns,g=f[c],j=b.aoData,
i,n,l;if(a!==k&&g.bVisible!==a){if(a){var m=h.inArray(!0,D(f,"bVisible"),c+1);i=0;for(n=j.length;i<n;i++)l=j[i].nTr,f=j[i].anCells,l&&l.insertBefore(f[c],f[m]||null)}else h(D(b.aoData,"anCells",c)).detach();g.bVisible=a;fa(b,b.aoHeader);fa(b,b.aoFooter);za(b)}});a!==k&&(this.iterator("column",function(c,e){s(c,null,"column-visibility",[c,e,a,b])}),(b===k||b)&&this.columns.adjust());return c});t("columns().indexes()","column().index()",function(a){return this.iterator("column",function(b,c){return"visible"===
a?aa(b,c):c},1)});p("columns.adjust()",function(){return this.iterator("table",function(a){Z(a)},1)});p("column.index()",function(a,b){if(0!==this.context.length){var c=this.context[0];if("fromVisible"===a||"toData"===a)return $(c,b);if("fromData"===a||"toVisible"===a)return aa(c,b)}});p("column()",function(a,b){return db(this.columns(a,b))});p("cells()",function(a,b,c){h.isPlainObject(a)&&(a.row===k?(c=a,a=null):(c=b,b=null));h.isPlainObject(b)&&(c=b,b=null);if(null===b||b===k)return this.iterator("table",
function(b){var d=a,e=cb(c),f=b.aoData,g=Da(b,e),i=Tb(ja(f,g,"anCells")),j=h([].concat.apply([],i)),l,n=b.aoColumns.length,m,p,t,u,s,v;return bb("cell",d,function(a){var c=typeof a==="function";if(a===null||a===k||c){m=[];p=0;for(t=g.length;p<t;p++){l=g[p];for(u=0;u<n;u++){s={row:l,column:u};if(c){v=f[l];a(s,B(b,l,u),v.anCells?v.anCells[u]:null)&&m.push(s)}else m.push(s)}}return m}if(h.isPlainObject(a))return[a];c=j.filter(a).map(function(a,b){return{row:b._DT_CellIndex.row,column:b._DT_CellIndex.column}}).toArray();
if(c.length||!a.nodeName)return c;v=h(a).closest("*[data-dt-row]");return v.length?[{row:v.data("dt-row"),column:v.data("dt-column")}]:[]},b,e)});var d=this.columns(b,c),e=this.rows(a,c),f,g,j,i,n,l=this.iterator("table",function(a,b){f=[];g=0;for(j=e[b].length;g<j;g++){i=0;for(n=d[b].length;i<n;i++)f.push({row:e[b][g],column:d[b][i]})}return f},1);h.extend(l.selector,{cols:b,rows:a,opts:c});return l});t("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(a,b,c){return(a=
a.aoData[b])&&a.anCells?a.anCells[c]:k},1)});p("cells().data()",function(){return this.iterator("cell",function(a,b,c){return B(a,b,c)},1)});t("cells().cache()","cell().cache()",function(a){a="search"===a?"_aFilterData":"_aSortData";return this.iterator("cell",function(b,c,d){return b.aoData[c][a][d]},1)});t("cells().render()","cell().render()",function(a){return this.iterator("cell",function(b,c,d){return B(b,c,d,a)},1)});t("cells().indexes()","cell().index()",function(){return this.iterator("cell",
function(a,b,c){return{row:b,column:c,columnVisible:aa(a,c)}},1)});t("cells().invalidate()","cell().invalidate()",function(a){return this.iterator("cell",function(b,c,d){da(b,c,a,d)})});p("cell()",function(a,b,c){return db(this.cells(a,b,c))});p("cell().data()",function(a){var b=this.context,c=this[0];if(a===k)return b.length&&c.length?B(b[0],c[0].row,c[0].column):k;lb(b[0],c[0].row,c[0].column,a);da(b[0],c[0].row,"data",c[0].column);return this});p("order()",function(a,b){var c=this.context;if(a===
k)return 0!==c.length?c[0].aaSorting:k;"number"===typeof a?a=[[a,b]]:a.length&&!h.isArray(a[0])&&(a=Array.prototype.slice.call(arguments));return this.iterator("table",function(b){b.aaSorting=a.slice()})});p("order.listener()",function(a,b,c){return this.iterator("table",function(d){Oa(d,a,b,c)})});p("order.fixed()",function(a){if(!a){var b=this.context,b=b.length?b[0].aaSortingFixed:k;return h.isArray(b)?{pre:b}:b}return this.iterator("table",function(b){b.aaSortingFixed=h.extend(!0,{},a)})});p(["columns().order()",
"column().order()"],function(a){var b=this;return this.iterator("table",function(c,d){var e=[];h.each(b[d],function(b,c){e.push([c,a])});c.aaSorting=e})});p("search()",function(a,b,c,d){var e=this.context;return a===k?0!==e.length?e[0].oPreviousSearch.sSearch:k:this.iterator("table",function(e){e.oFeatures.bFilter&&ga(e,h.extend({},e.oPreviousSearch,{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===c?!0:c,bCaseInsensitive:null===d?!0:d}),1)})});t("columns().search()","column().search()",function(a,
b,c,d){return this.iterator("column",function(e,f){var g=e.aoPreSearchCols;if(a===k)return g[f].sSearch;e.oFeatures.bFilter&&(h.extend(g[f],{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===c?!0:c,bCaseInsensitive:null===d?!0:d}),ga(e,e.oPreviousSearch,1))})});p("state()",function(){return this.context.length?this.context[0].oSavedState:null});p("state.clear()",function(){return this.iterator("table",function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})})});p("state.loaded()",function(){return this.context.length?
this.context[0].oLoadedState:null});p("state.save()",function(){return this.iterator("table",function(a){za(a)})});m.versionCheck=m.fnVersionCheck=function(a){for(var b=m.version.split("."),a=a.split("."),c,d,e=0,f=a.length;e<f;e++)if(c=parseInt(b[e],10)||0,d=parseInt(a[e],10)||0,c!==d)return c>d;return!0};m.isDataTable=m.fnIsDataTable=function(a){var b=h(a).get(0),c=!1;if(a instanceof m.Api)return!0;h.each(m.settings,function(a,e){var f=e.nScrollHead?h("table",e.nScrollHead)[0]:null,g=e.nScrollFoot?
h("table",e.nScrollFoot)[0]:null;if(e.nTable===b||f===b||g===b)c=!0});return c};m.tables=m.fnTables=function(a){var b=!1;h.isPlainObject(a)&&(b=a.api,a=a.visible);var c=h.map(m.settings,function(b){if(!a||a&&h(b.nTable).is(":visible"))return b.nTable});return b?new u(c):c};m.camelToHungarian=J;p("$()",function(a,b){var c=this.rows(b).nodes(),c=h(c);return h([].concat(c.filter(a).toArray(),c.find(a).toArray()))});h.each(["on","one","off"],function(a,b){p(b+"()",function(){var a=Array.prototype.slice.call(arguments);
a[0]=h.map(a[0].split(/\s/),function(a){return!a.match(/\.dt\b/)?a+".dt":a}).join(" ");var d=h(this.tables().nodes());d[b].apply(d,a);return this})});p("clear()",function(){return this.iterator("table",function(a){pa(a)})});p("settings()",function(){return new u(this.context,this.context)});p("init()",function(){var a=this.context;return a.length?a[0].oInit:null});p("data()",function(){return this.iterator("table",function(a){return D(a.aoData,"_aData")}).flatten()});p("destroy()",function(a){a=a||
!1;return this.iterator("table",function(b){var c=b.nTableWrapper.parentNode,d=b.oClasses,e=b.nTable,f=b.nTBody,g=b.nTHead,j=b.nTFoot,i=h(e),f=h(f),k=h(b.nTableWrapper),l=h.map(b.aoData,function(a){return a.nTr}),p;b.bDestroying=!0;s(b,"aoDestroyCallback","destroy",[b]);a||(new u(b)).columns().visible(!0);k.off(".DT").find(":not(tbody *)").off(".DT");h(E).off(".DT-"+b.sInstance);e!=g.parentNode&&(i.children("thead").detach(),i.append(g));j&&e!=j.parentNode&&(i.children("tfoot").detach(),i.append(j));
b.aaSorting=[];b.aaSortingFixed=[];ya(b);h(l).removeClass(b.asStripeClasses.join(" "));h("th, td",g).removeClass(d.sSortable+" "+d.sSortableAsc+" "+d.sSortableDesc+" "+d.sSortableNone);b.bJUI&&(h("th span."+d.sSortIcon+", td span."+d.sSortIcon,g).detach(),h("th, td",g).each(function(){var a=h("div."+d.sSortJUIWrapper,this);h(this).append(a.contents());a.detach()}));f.children().detach();f.append(l);g=a?"remove":"detach";i[g]();k[g]();!a&&c&&(c.insertBefore(e,b.nTableReinsertBefore),i.css("width",
b.sDestroyWidth).removeClass(d.sTable),(p=b.asDestroyStripes.length)&&f.children().each(function(a){h(this).addClass(b.asDestroyStripes[a%p])}));c=h.inArray(b,m.settings);-1!==c&&m.settings.splice(c,1)})});h.each(["column","row","cell"],function(a,b){p(b+"s().every()",function(a){var d=this.selector.opts,e=this;return this.iterator(b,function(f,g,h,i,m){a.call(e[b](g,"cell"===b?h:d,"cell"===b?d:k),g,h,i,m)})})});p("i18n()",function(a,b,c){var d=this.context[0],a=R(a)(d.oLanguage);a===k&&(a=b);c!==
k&&h.isPlainObject(a)&&(a=a[c]!==k?a[c]:a._);return a.replace("%d",c)});m.version="1.10.13";m.settings=[];m.models={};m.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};m.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};m.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,
mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};m.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,
bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((-1===a.iStateDuration?
sessionStorage:localStorage).getItem("DataTables_"+a.sInstance+"_"+location.pathname))}catch(b){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(a,b){try{(-1===a.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+a.sInstance+"_"+location.pathname,JSON.stringify(b))}catch(c){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",
sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},
oSearch:h.extend({},m.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};Y(m.defaults);m.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,
sType:null,sWidth:null};Y(m.defaults.column);m.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],
aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,
searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:k,oAjaxData:k,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],
fnRecordsTotal:function(){return"ssp"==y(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==y(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var a=this._iDisplayLength,b=this._iDisplayStart,c=b+a,d=this.aiDisplay.length,e=this.oFeatures,f=e.bPaginate;return e.bServerSide?!1===f||-1===a?b+d:Math.min(b+a,this._iRecordsDisplay):!f||c>d||-1===a?d:c},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,
aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};m.ext=x={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:m.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:m.version};h.extend(x,{afnFiltering:x.search,aTypes:x.type.detect,ofnSearch:x.type.search,oSort:x.type.order,afnSortData:x.order,aoFeatures:x.feature,
oApi:x.internal,oStdClasses:x.classes,oPagination:x.pager});h.extend(m.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",
sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",
sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ea="",Ea="",G=Ea+"ui-state-default",ka=Ea+"css_right ui-icon ui-icon-",Yb=Ea+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";h.extend(m.ext.oJUIClasses,m.ext.classes,{sPageButton:"fg-button ui-button "+G,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:G+" sorting_asc",
sSortDesc:G+" sorting_desc",sSortable:G+" sorting",sSortableAsc:G+" sorting_asc_disabled",sSortableDesc:G+" sorting_desc_disabled",sSortableNone:G+" sorting_disabled",sSortJUIAsc:ka+"triangle-1-n",sSortJUIDesc:ka+"triangle-1-s",sSortJUI:ka+"carat-2-n-s",sSortJUIAscAllowed:ka+"carat-1-n",sSortJUIDescAllowed:ka+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+G,sScrollFoot:"dataTables_scrollFoot "+G,sHeaderTH:G,sFooterTH:G,sJUIHeader:Yb+
" ui-corner-tl ui-corner-tr",sJUIFooter:Yb+" ui-corner-bl ui-corner-br"});var Nb=m.ext.pager;h.extend(Nb,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(a,b){return[ia(a,b)]},simple_numbers:function(a,b){return["previous",ia(a,b),"next"]},full_numbers:function(a,b){return["first","previous",ia(a,b),"next","last"]},first_last_numbers:function(a,b){return["first",ia(a,b),"last"]},_numbers:ia,numbers_length:7});h.extend(!0,m.ext.renderer,
{pageButton:{_:function(a,b,c,d,e,f){var g=a.oClasses,j=a.oLanguage.oPaginate,i=a.oLanguage.oAria.paginate||{},m,l,p=0,r=function(b,d){var k,t,u,s,v=function(b){Va(a,b.data.action,true)};k=0;for(t=d.length;k<t;k++){s=d[k];if(h.isArray(s)){u=h("<"+(s.DT_el||"div")+"/>").appendTo(b);r(u,s)}else{m=null;l="";switch(s){case "ellipsis":b.append('<span class="ellipsis">&#x2026;</span>');break;case "first":m=j.sFirst;l=s+(e>0?"":" "+g.sPageButtonDisabled);break;case "previous":m=j.sPrevious;l=s+(e>0?"":" "+
g.sPageButtonDisabled);break;case "next":m=j.sNext;l=s+(e<f-1?"":" "+g.sPageButtonDisabled);break;case "last":m=j.sLast;l=s+(e<f-1?"":" "+g.sPageButtonDisabled);break;default:m=s+1;l=e===s?g.sPageButtonActive:""}if(m!==null){u=h("<a>",{"class":g.sPageButton+" "+l,"aria-controls":a.sTableId,"aria-label":i[s],"data-dt-idx":p,tabindex:a.iTabIndex,id:c===0&&typeof s==="string"?a.sTableId+"_"+s:null}).html(m).appendTo(b);Ya(u,{action:s},v);p++}}}},t;try{t=h(b).find(H.activeElement).data("dt-idx")}catch(u){}r(h(b).empty(),
d);t!==k&&h(b).find("[data-dt-idx="+t+"]").focus()}}});h.extend(m.ext.type.detect,[function(a,b){var c=b.oLanguage.sDecimal;return ab(a,c)?"num"+c:null},function(a){if(a&&!(a instanceof Date)&&!cc.test(a))return null;var b=Date.parse(a);return null!==b&&!isNaN(b)||M(a)?"date":null},function(a,b){var c=b.oLanguage.sDecimal;return ab(a,c,!0)?"num-fmt"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Sb(a,c)?"html-num"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Sb(a,c,!0)?"html-num-fmt"+
c:null},function(a){return M(a)||"string"===typeof a&&-1!==a.indexOf("<")?"html":null}]);h.extend(m.ext.type.search,{html:function(a){return M(a)?a:"string"===typeof a?a.replace(Pb," ").replace(Ca,""):""},string:function(a){return M(a)?a:"string"===typeof a?a.replace(Pb," "):a}});var Ba=function(a,b,c,d){if(0!==a&&(!a||"-"===a))return-Infinity;b&&(a=Rb(a,b));a.replace&&(c&&(a=a.replace(c,"")),d&&(a=a.replace(d,"")));return 1*a};h.extend(x.type.order,{"date-pre":function(a){return Date.parse(a)||-Infinity},
"html-pre":function(a){return M(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return M(a)?"":"string"===typeof a?a.toLowerCase():!a.toString?"":a.toString()},"string-asc":function(a,b){return a<b?-1:a>b?1:0},"string-desc":function(a,b){return a<b?1:a>b?-1:0}});fb("");h.extend(!0,m.ext.renderer,{header:{_:function(a,b,c,d){h(a.nTable).on("order.dt.DT",function(e,f,g,h){if(a===f){e=c.idx;b.removeClass(c.sSortingClass+" "+d.sSortAsc+" "+d.sSortDesc).addClass(h[e]==
"asc"?d.sSortAsc:h[e]=="desc"?d.sSortDesc:c.sSortingClass)}})},jqueryui:function(a,b,c,d){h("<div/>").addClass(d.sSortJUIWrapper).append(b.contents()).append(h("<span/>").addClass(d.sSortIcon+" "+c.sSortingClassJUI)).appendTo(b);h(a.nTable).on("order.dt.DT",function(e,f,g,h){if(a===f){e=c.idx;b.removeClass(d.sSortAsc+" "+d.sSortDesc).addClass(h[e]=="asc"?d.sSortAsc:h[e]=="desc"?d.sSortDesc:c.sSortingClass);b.find("span."+d.sSortIcon).removeClass(d.sSortJUIAsc+" "+d.sSortJUIDesc+" "+d.sSortJUI+" "+
d.sSortJUIAscAllowed+" "+d.sSortJUIDescAllowed).addClass(h[e]=="asc"?d.sSortJUIAsc:h[e]=="desc"?d.sSortJUIDesc:c.sSortingClassJUI)}})}}});var Zb=function(a){return"string"===typeof a?a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):a};m.render={number:function(a,b,c,d,e){return{display:function(f){if("number"!==typeof f&&"string"!==typeof f)return f;var g=0>f?"-":"",h=parseFloat(f);if(isNaN(h))return Zb(f);h=h.toFixed(c);f=Math.abs(h);h=parseInt(f,10);f=c?b+(f-h).toFixed(c).substring(2):
"";return g+(d||"")+h.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a)+f+(e||"")}}},text:function(){return{display:Zb}}};h.extend(m.ext.internal,{_fnExternApiFunc:Ob,_fnBuildAjax:ua,_fnAjaxUpdate:nb,_fnAjaxParameters:wb,_fnAjaxUpdateDraw:xb,_fnAjaxDataSrc:va,_fnAddColumn:Ga,_fnColumnOptions:la,_fnAdjustColumnSizing:Z,_fnVisibleToColumnIndex:$,_fnColumnIndexToVisible:aa,_fnVisbleColumns:ba,_fnGetColumns:na,_fnColumnTypes:Ia,_fnApplyColumnDefs:kb,_fnHungarianMap:Y,_fnCamelToHungarian:J,_fnLanguageCompat:Fa,
_fnBrowserDetect:ib,_fnAddData:N,_fnAddTr:oa,_fnNodeToDataIndex:function(a,b){return b._DT_RowIndex!==k?b._DT_RowIndex:null},_fnNodeToColumnIndex:function(a,b,c){return h.inArray(c,a.aoData[b].anCells)},_fnGetCellData:B,_fnSetCellData:lb,_fnSplitObjNotation:La,_fnGetObjectDataFn:R,_fnSetObjectDataFn:S,_fnGetDataMaster:Ma,_fnClearTable:pa,_fnDeleteIndex:qa,_fnInvalidate:da,_fnGetRowElements:Ka,_fnCreateTr:Ja,_fnBuildHead:mb,_fnDrawHead:fa,_fnDraw:O,_fnReDraw:T,_fnAddOptionsHtml:pb,_fnDetectHeader:ea,
_fnGetUniqueThs:ta,_fnFeatureHtmlFilter:rb,_fnFilterComplete:ga,_fnFilterCustom:Ab,_fnFilterColumn:zb,_fnFilter:yb,_fnFilterCreateSearch:Ra,_fnEscapeRegex:Sa,_fnFilterData:Bb,_fnFeatureHtmlInfo:ub,_fnUpdateInfo:Eb,_fnInfoMacros:Fb,_fnInitialise:ha,_fnInitComplete:wa,_fnLengthChange:Ta,_fnFeatureHtmlLength:qb,_fnFeatureHtmlPaginate:vb,_fnPageChange:Va,_fnFeatureHtmlProcessing:sb,_fnProcessingDisplay:C,_fnFeatureHtmlTable:tb,_fnScrollDraw:ma,_fnApplyToChildren:I,_fnCalculateColumnWidths:Ha,_fnThrottle:Qa,
_fnConvertToWidth:Gb,_fnGetWidestNode:Hb,_fnGetMaxLenString:Ib,_fnStringToCss:v,_fnSortFlatten:W,_fnSort:ob,_fnSortAria:Kb,_fnSortListener:Xa,_fnSortAttachListener:Oa,_fnSortingClasses:ya,_fnSortData:Jb,_fnSaveState:za,_fnLoadState:Lb,_fnSettingsFromNode:Aa,_fnLog:K,_fnMap:F,_fnBindAction:Ya,_fnCallbackReg:z,_fnCallbackFire:s,_fnLengthOverflow:Ua,_fnRenderer:Pa,_fnDataSource:y,_fnRowAttributes:Na,_fnCalculateEnd:function(){}});h.fn.dataTable=m;m.$=h;h.fn.dataTableSettings=m.settings;h.fn.dataTableExt=
m.ext;h.fn.DataTable=function(a){return h(this).dataTable(a).api()};h.each(m,function(a,b){h.fn.DataTable[a]=b});return h.fn.dataTable});

/*!
 FixedColumns 3.2.2
 ©2010-2016 SpryMedia Ltd - datatables.net/license
*/
(function(d){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(q){return d(q,window,document)}):"object"===typeof exports?module.exports=function(q,r){q||(q=window);if(!r||!r.fn.dataTable)r=require("datatables.net")(q,r).$;return d(r,q,q.document)}:d(jQuery,window,document)})(function(d,q,r,t){var s=d.fn.dataTable,u,m=function(a,b){var c=this;if(this instanceof m){if(b===t||!0===b)b={};var e=d.fn.dataTable.camelToHungarian;e&&(e(m.defaults,m.defaults,!0),e(m.defaults,
b));e=(new d.fn.dataTable.Api(a)).settings()[0];this.s={dt:e,iTableColumns:e.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[],rtl:"rtl"===d(e.nTable).css("direction")};this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}};if(e._oFixedColumns)throw"FixedColumns already initialised on this table";
e._oFixedColumns=this;e._bInitComplete?this._fnConstruct(b):e.oApi._fnCallbackReg(e,"aoInitComplete",function(){c._fnConstruct(b)},"FixedColumns")}else alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.")};d.extend(m.prototype,{fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc();this._fnGridLayout();this.fnUpdate()},fnRecalculateHeight:function(a){delete a._DTTC_iHeight;a.style.height="auto"},fnSetRowHeight:function(a,b){a.style.height=
b+"px"},fnGetPosition:function(a){var b=this.s.dt.oInstance;if(d(a).parents(".DTFC_Cloned").length){if("tr"===a.nodeName.toLowerCase())return a=d(a).index(),b.fnGetPosition(d("tr",this.s.dt.nTBody)[a]);var c=d(a).index(),a=d(a.parentNode).index();return[b.fnGetPosition(d("tr",this.s.dt.nTBody)[a]),c,b.oApi._fnVisibleToColumnIndex(this.s.dt,c)]}return b.fnGetPosition(a)},_fnConstruct:function(a){var b=this;if("function"!=typeof this.s.dt.oInstance.fnVersionCheck||!0!==this.s.dt.oInstance.fnVersionCheck("1.8.0"))alert("FixedColumns "+
m.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");else if(""===this.s.dt.oScroll.sX)this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");else{this.s=d.extend(!0,this.s,m.defaults,a);a=this.s.dt.oClasses;this.dom.grid.dt=d(this.s.dt.nTable).parents("div."+a.sScrollWrapper)[0];this.dom.scroller=d("div."+
a.sScrollBody,this.dom.grid.dt)[0];this._fnColCalc();this._fnGridSetup();var c,e=!1;d(this.s.dt.nTableWrapper).on("mousedown.DTFC",function(){e=!0;d(r).one("mouseup",function(){e=!1})});d(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",function(){e||(c="main")}).on("scroll.DTFC",function(a){!c&&a.originalEvent&&(c="main");if("main"===c&&(0<b.s.iLeftColumns&&(b.dom.grid.left.liner.scrollTop=b.dom.scroller.scrollTop),0<b.s.iRightColumns))b.dom.grid.right.liner.scrollTop=b.dom.scroller.scrollTop});
var f="onwheel"in r.createElement("div")?"wheel.DTFC":"mousewheel.DTFC";if(0<b.s.iLeftColumns)d(b.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",function(){e||(c="left")}).on("scroll.DTFC",function(a){!c&&a.originalEvent&&(c="left");"left"===c&&(b.dom.scroller.scrollTop=b.dom.grid.left.liner.scrollTop,0<b.s.iRightColumns&&(b.dom.grid.right.liner.scrollTop=b.dom.grid.left.liner.scrollTop))}).on(f,function(a){b.dom.scroller.scrollLeft-="wheel"===a.type?-a.originalEvent.deltaX:a.originalEvent.wheelDeltaX});
if(0<b.s.iRightColumns)d(b.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",function(){e||(c="right")}).on("scroll.DTFC",function(a){!c&&a.originalEvent&&(c="right");"right"===c&&(b.dom.scroller.scrollTop=b.dom.grid.right.liner.scrollTop,0<b.s.iLeftColumns&&(b.dom.grid.left.liner.scrollTop=b.dom.grid.right.liner.scrollTop))}).on(f,function(a){b.dom.scroller.scrollLeft-="wheel"===a.type?-a.originalEvent.deltaX:a.originalEvent.wheelDeltaX});d(q).on("resize.DTFC",function(){b._fnGridLayout.call(b)});
var g=!0,h=d(this.s.dt.nTable);h.on("draw.dt.DTFC",function(){b._fnColCalc();b._fnDraw.call(b,g);g=!1}).on("column-sizing.dt.DTFC",function(){b._fnColCalc();b._fnGridLayout(b)}).on("column-visibility.dt.DTFC",function(a,c,d,e,f){if(f===t||f)b._fnColCalc(),b._fnGridLayout(b),b._fnDraw(!0)}).on("select.dt.DTFC deselect.dt.DTFC",function(a){"dt"===a.namespace&&b._fnDraw(!1)}).on("destroy.dt.DTFC",function(){h.off(".DTFC");d(b.dom.scroller).off(".DTFC");d(q).off(".DTFC");d(b.s.dt.nTableWrapper).off(".DTFC");
d(b.dom.grid.left.liner).off(".DTFC "+f);d(b.dom.grid.left.wrapper).remove();d(b.dom.grid.right.liner).off(".DTFC "+f);d(b.dom.grid.right.wrapper).remove()});this._fnGridLayout();this.s.dt.oInstance.fnDraw(!1)}},_fnColCalc:function(){var a=this,b=0,c=0;this.s.aiInnerWidths=[];this.s.aiOuterWidths=[];d.each(this.s.dt.aoColumns,function(e,f){var g=d(f.nTh),h;if(g.filter(":visible").length){var i=g.outerWidth();0===a.s.aiOuterWidths.length&&(h=d(a.s.dt.nTable).css("border-left-width"),i+="string"===
typeof h?1:parseInt(h,10));a.s.aiOuterWidths.length===a.s.dt.aoColumns.length-1&&(h=d(a.s.dt.nTable).css("border-right-width"),i+="string"===typeof h?1:parseInt(h,10));a.s.aiOuterWidths.push(i);a.s.aiInnerWidths.push(g.width());e<a.s.iLeftColumns&&(b+=i);a.s.iTableColumns-a.s.iRightColumns<=e&&(c+=i)}else a.s.aiInnerWidths.push(0),a.s.aiOuterWidths.push(0)});this.s.iLeftWidth=b;this.s.iRightWidth=c},_fnGridSetup:function(){var a=this._fnDTOverflow(),b;this.dom.body=this.s.dt.nTable;this.dom.header=
this.s.dt.nTHead.parentNode;this.dom.header.parentNode.parentNode.style.position="relative";var c=d('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; right:0;"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0],
e=c.childNodes[0],f=c.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(c,this.dom.grid.dt);c.appendChild(this.dom.grid.dt);this.dom.grid.wrapper=c;0<this.s.iLeftColumns&&(this.dom.grid.left.wrapper=e,this.dom.grid.left.head=e.childNodes[0],this.dom.grid.left.body=e.childNodes[1],this.dom.grid.left.liner=d("div.DTFC_LeftBodyLiner",c)[0],c.appendChild(e));0<this.s.iRightColumns&&(this.dom.grid.right.wrapper=f,this.dom.grid.right.head=f.childNodes[0],this.dom.grid.right.body=f.childNodes[1],this.dom.grid.right.liner=
d("div.DTFC_RightBodyLiner",c)[0],f.style.right=a.bar+"px",b=d("div.DTFC_RightHeadBlocker",c)[0],b.style.width=a.bar+"px",b.style.right=-a.bar+"px",this.dom.grid.right.headBlock=b,b=d("div.DTFC_RightFootBlocker",c)[0],b.style.width=a.bar+"px",b.style.right=-a.bar+"px",this.dom.grid.right.footBlock=b,c.appendChild(f));if(this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,0<this.s.iLeftColumns&&(this.dom.grid.left.foot=e.childNodes[2]),0<this.s.iRightColumns))this.dom.grid.right.foot=f.childNodes[2];
this.s.rtl&&d("div.DTFC_RightHeadBlocker",c).css({left:-a.bar+"px",right:""})},_fnGridLayout:function(){var a=this,b=this.dom.grid;d(b.wrapper).width();var c=d(this.s.dt.nTable.parentNode).outerHeight(),e=d(this.s.dt.nTable.parentNode.parentNode).outerHeight(),f=this._fnDTOverflow(),g=this.s.iLeftWidth,h=this.s.iRightWidth,i="rtl"===d(this.dom.body).css("direction"),j=function(b,c){f.bar?a._firefoxScrollError()?34<d(b).height()&&(b.style.width=c+f.bar+"px"):b.style.width=c+f.bar+"px":(b.style.width=
c+20+"px",b.style.paddingRight="20px",b.style.boxSizing="border-box")};f.x&&(c-=f.bar);b.wrapper.style.height=e+"px";0<this.s.iLeftColumns&&(e=b.left.wrapper,e.style.width=g+"px",e.style.height="1px",i?(e.style.left="",e.style.right=0):(e.style.left=0,e.style.right=""),b.left.body.style.height=c+"px",b.left.foot&&(b.left.foot.style.top=(f.x?f.bar:0)+"px"),j(b.left.liner,g),b.left.liner.style.height=c+"px");0<this.s.iRightColumns&&(e=b.right.wrapper,e.style.width=h+"px",e.style.height="1px",this.s.rtl?
(e.style.left=f.y?f.bar+"px":0,e.style.right=""):(e.style.left="",e.style.right=f.y?f.bar+"px":0),b.right.body.style.height=c+"px",b.right.foot&&(b.right.foot.style.top=(f.x?f.bar:0)+"px"),j(b.right.liner,h),b.right.liner.style.height=c+"px",b.right.headBlock.style.display=f.y?"block":"none",b.right.footBlock.style.display=f.y?"block":"none")},_fnDTOverflow:function(){var a=this.s.dt.nTable,b=a.parentNode,c={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};a.offsetWidth>b.clientWidth&&(c.x=!0);a.offsetHeight>
b.clientHeight&&(c.y=!0);return c},_fnDraw:function(a){this._fnGridLayout();this._fnCloneLeft(a);this._fnCloneRight(a);null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right);d(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(a){if(!(0>=this.s.iRightColumns)){var b,c=[];for(b=this.s.iTableColumns-this.s.iRightColumns;b<this.s.iTableColumns;b++)this.s.dt.aoColumns[b].bVisible&&c.push(b);
this._fnClone(this.dom.clone.right,this.dom.grid.right,c,a)}},_fnCloneLeft:function(a){if(!(0>=this.s.iLeftColumns)){var b,c=[];for(b=0;b<this.s.iLeftColumns;b++)this.s.dt.aoColumns[b].bVisible&&c.push(b);this._fnClone(this.dom.clone.left,this.dom.grid.left,c,a)}},_fnCopyLayout:function(a,b,c){for(var e=[],f=[],g=[],h=0,i=a.length;h<i;h++){var j=[];j.nTr=d(a[h].nTr).clone(c,!1)[0];for(var l=0,o=this.s.iTableColumns;l<o;l++)if(-1!==d.inArray(l,b)){var p=d.inArray(a[h][l].cell,g);-1===p?(p=d(a[h][l].cell).clone(c,
!1)[0],f.push(p),g.push(a[h][l].cell),j.push({cell:p,unique:a[h][l].unique})):j.push({cell:f[p],unique:a[h][l].unique})}e.push(j)}return e},_fnClone:function(a,b,c,e){var f=this,g,h,i,j,l,o,p,n,m,k=this.s.dt;if(e){d(a.header).remove();a.header=d(this.dom.header).clone(!0,!1)[0];a.header.className+=" DTFC_Cloned";a.header.style.width="100%";b.head.appendChild(a.header);n=this._fnCopyLayout(k.aoHeader,c,!0);j=d(">thead",a.header);j.empty();g=0;for(h=n.length;g<h;g++)j[0].appendChild(n[g].nTr);k.oApi._fnDrawHead(k,
n,!0)}else{n=this._fnCopyLayout(k.aoHeader,c,!1);m=[];k.oApi._fnDetectHeader(m,d(">thead",a.header)[0]);g=0;for(h=n.length;g<h;g++){i=0;for(j=n[g].length;i<j;i++)m[g][i].cell.className=n[g][i].cell.className,d("span.DataTables_sort_icon",m[g][i].cell).each(function(){this.className=d("span.DataTables_sort_icon",n[g][i].cell)[0].className})}}this._fnEqualiseHeights("thead",this.dom.header,a.header);"auto"==this.s.sHeightMatch&&d(">tbody>tr",f.dom.body).css("height","auto");null!==a.body&&(d(a.body).remove(),
a.body=null);a.body=d(this.dom.body).clone(!0)[0];a.body.className+=" DTFC_Cloned";a.body.style.paddingBottom=k.oScroll.iBarWidth+"px";a.body.style.marginBottom=2*k.oScroll.iBarWidth+"px";null!==a.body.getAttribute("id")&&a.body.removeAttribute("id");d(">thead>tr",a.body).empty();d(">tfoot",a.body).remove();var q=d("tbody",a.body)[0];d(q).empty();if(0<k.aiDisplay.length){h=d(">thead>tr",a.body)[0];for(p=0;p<c.length;p++)l=c[p],o=d(k.aoColumns[l].nTh).clone(!0)[0],o.innerHTML="",j=o.style,j.paddingTop=
"0",j.paddingBottom="0",j.borderTopWidth="0",j.borderBottomWidth="0",j.height=0,j.width=f.s.aiInnerWidths[l]+"px",h.appendChild(o);d(">tbody>tr",f.dom.body).each(function(a){var a=f.s.dt.oFeatures.bServerSide===false?f.s.dt.aiDisplay[f.s.dt._iDisplayStart+a]:a,b=f.s.dt.aoData[a].anCells||d(this).children("td, th"),e=this.cloneNode(false);e.removeAttribute("id");e.setAttribute("data-dt-row",a);for(p=0;p<c.length;p++){l=c[p];if(b.length>0){o=d(b[l]).clone(true,true)[0];o.setAttribute("data-dt-row",
a);o.setAttribute("data-dt-column",p);e.appendChild(o)}}q.appendChild(e)})}else d(">tbody>tr",f.dom.body).each(function(){o=this.cloneNode(true);o.className=o.className+" DTFC_NoData";d("td",o).html("");q.appendChild(o)});a.body.style.width="100%";a.body.style.margin="0";a.body.style.padding="0";k.oScroller!==t&&(h=k.oScroller.dom.force,b.forcer?b.forcer.style.height=h.style.height:(b.forcer=h.cloneNode(!0),b.liner.appendChild(b.forcer)));b.liner.appendChild(a.body);this._fnEqualiseHeights("tbody",
f.dom.body,a.body);if(null!==k.nTFoot){if(e){null!==a.footer&&a.footer.parentNode.removeChild(a.footer);a.footer=d(this.dom.footer).clone(!0,!0)[0];a.footer.className+=" DTFC_Cloned";a.footer.style.width="100%";b.foot.appendChild(a.footer);n=this._fnCopyLayout(k.aoFooter,c,!0);b=d(">tfoot",a.footer);b.empty();g=0;for(h=n.length;g<h;g++)b[0].appendChild(n[g].nTr);k.oApi._fnDrawHead(k,n,!0)}else{n=this._fnCopyLayout(k.aoFooter,c,!1);b=[];k.oApi._fnDetectHeader(b,d(">tfoot",a.footer)[0]);g=0;for(h=n.length;g<
h;g++){i=0;for(j=n[g].length;i<j;i++)b[g][i].cell.className=n[g][i].cell.className}}this._fnEqualiseHeights("tfoot",this.dom.footer,a.footer)}b=k.oApi._fnGetUniqueThs(k,d(">thead",a.header)[0]);d(b).each(function(a){l=c[a];this.style.width=f.s.aiInnerWidths[l]+"px"});null!==f.s.dt.nTFoot&&(b=k.oApi._fnGetUniqueThs(k,d(">tfoot",a.footer)[0]),d(b).each(function(a){l=c[a];this.style.width=f.s.aiInnerWidths[l]+"px"}))},_fnGetTrNodes:function(a){for(var b=[],c=0,d=a.childNodes.length;c<d;c++)"TR"==a.childNodes[c].nodeName.toUpperCase()&&
b.push(a.childNodes[c]);return b},_fnEqualiseHeights:function(a,b,c){if(!("none"==this.s.sHeightMatch&&"thead"!==a&&"tfoot"!==a)){var e,f,g=b.getElementsByTagName(a)[0],c=c.getElementsByTagName(a)[0],a=d(">"+a+">tr:eq(0)",b).children(":first");a.outerHeight();a.height();for(var g=this._fnGetTrNodes(g),b=this._fnGetTrNodes(c),h=[],c=0,a=b.length;c<a;c++)e=g[c].offsetHeight,f=b[c].offsetHeight,e=f>e?f:e,"semiauto"==this.s.sHeightMatch&&(g[c]._DTTC_iHeight=e),h.push(e);c=0;for(a=b.length;c<a;c++)b[c].style.height=
h[c]+"px",g[c].style.height=h[c]+"px"}},_firefoxScrollError:function(){if(u===t){var a=d("<div/>").css({position:"absolute",top:0,left:0,height:10,width:50,overflow:"scroll"}).appendTo("body");u=a[0].clientWidth===a[0].offsetWidth&&0!==this._fnDTOverflow().bar;a.remove()}return u}});m.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"};m.version="3.2.2";s.Api.register("fixedColumns()",function(){return this});s.Api.register("fixedColumns().update()",function(){return this.iterator("table",
function(a){a._oFixedColumns&&a._oFixedColumns.fnUpdate()})});s.Api.register("fixedColumns().relayout()",function(){return this.iterator("table",function(a){a._oFixedColumns&&a._oFixedColumns.fnRedrawLayout()})});s.Api.register("rows().recalcHeight()",function(){return this.iterator("row",function(a,b){a._oFixedColumns&&a._oFixedColumns.fnRecalculateHeight(this.row(b).node())})});s.Api.register("fixedColumns().rowIndex()",function(a){a=d(a);return a.parents(".DTFC_Cloned").length?this.rows({page:"current"}).indexes()[a.index()]:
this.row(a).index()});s.Api.register("fixedColumns().cellIndex()",function(a){a=d(a);if(a.parents(".DTFC_Cloned").length){var b=a.parent().index(),b=this.rows({page:"current"}).indexes()[b],a=a.parents(".DTFC_LeftWrapper").length?a.index():this.columns().flatten().length-this.context[0]._oFixedColumns.s.iRightColumns+a.index();return{row:b,column:this.column.index("toData",a),columnVisible:a}}return this.cell(a).index()});d(r).on("init.dt.fixedColumns",function(a,b){if("dt"===a.namespace){var c=b.oInit.fixedColumns,
e=s.defaults.fixedColumns;if(c||e)e=d.extend({},c,e),!1!==c&&new m(b,e)}});d.fn.dataTable.FixedColumns=m;return d.fn.DataTable.FixedColumns=m});

/*
     _ _      _       _
 ___| (_) ___| | __  (_)___
/ __| | |/ __| |/ /  | / __|
\__ \ | | (__|   < _ | \__ \
|___/_|_|\___|_|\_(_)/ |___/
                   |__/

 Version: 1.5.9
  Author: Ken Wheeler
 Website: http://kenwheeler.github.io
    Docs: http://kenwheeler.github.io/slick
    Repo: http://github.com/kenwheeler/slick
  Issues: http://github.com/kenwheeler/slick/issues

 */
!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";var b=window.Slick||{};b=function(){function c(c,d){var f,e=this;e.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:a(c),appendDots:a(c),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(a,b){return'<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">'+(b+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!1,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},e.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},a.extend(e,e.initials),e.activeBreakpoint=null,e.animType=null,e.animProp=null,e.breakpoints=[],e.breakpointSettings=[],e.cssTransitions=!1,e.hidden="hidden",e.paused=!1,e.positionProp=null,e.respondTo=null,e.rowCount=1,e.shouldClick=!0,e.$slider=a(c),e.$slidesCache=null,e.transformType=null,e.transitionType=null,e.visibilityChange="visibilitychange",e.windowWidth=0,e.windowTimer=null,f=a(c).data("slick")||{},e.options=a.extend({},e.defaults,f,d),e.currentSlide=e.options.initialSlide,e.originalSettings=e.options,"undefined"!=typeof document.mozHidden?(e.hidden="mozHidden",e.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(e.hidden="webkitHidden",e.visibilityChange="webkitvisibilitychange"),e.autoPlay=a.proxy(e.autoPlay,e),e.autoPlayClear=a.proxy(e.autoPlayClear,e),e.changeSlide=a.proxy(e.changeSlide,e),e.clickHandler=a.proxy(e.clickHandler,e),e.selectHandler=a.proxy(e.selectHandler,e),e.setPosition=a.proxy(e.setPosition,e),e.swipeHandler=a.proxy(e.swipeHandler,e),e.dragHandler=a.proxy(e.dragHandler,e),e.keyHandler=a.proxy(e.keyHandler,e),e.autoPlayIterator=a.proxy(e.autoPlayIterator,e),e.instanceUid=b++,e.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,e.registerBreakpoints(),e.init(!0),e.checkResponsive(!0)}var b=0;return c}(),b.prototype.addSlide=b.prototype.slickAdd=function(b,c,d){var e=this;if("boolean"==typeof c)d=c,c=null;else if(0>c||c>=e.slideCount)return!1;e.unload(),"number"==typeof c?0===c&&0===e.$slides.length?a(b).appendTo(e.$slideTrack):d?a(b).insertBefore(e.$slides.eq(c)):a(b).insertAfter(e.$slides.eq(c)):d===!0?a(b).prependTo(e.$slideTrack):a(b).appendTo(e.$slideTrack),e.$slides=e.$slideTrack.children(this.options.slide),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.append(e.$slides),e.$slides.each(function(b,c){a(c).attr("data-slick-index",b)}),e.$slidesCache=e.$slides,e.reinit()},b.prototype.animateHeight=function(){var a=this;if(1===a.options.slidesToShow&&a.options.adaptiveHeight===!0&&a.options.vertical===!1){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.animate({height:b},a.options.speed)}},b.prototype.animateSlide=function(b,c){var d={},e=this;e.animateHeight(),e.options.rtl===!0&&e.options.vertical===!1&&(b=-b),e.transformsEnabled===!1?e.options.vertical===!1?e.$slideTrack.animate({left:b},e.options.speed,e.options.easing,c):e.$slideTrack.animate({top:b},e.options.speed,e.options.easing,c):e.cssTransitions===!1?(e.options.rtl===!0&&(e.currentLeft=-e.currentLeft),a({animStart:e.currentLeft}).animate({animStart:b},{duration:e.options.speed,easing:e.options.easing,step:function(a){a=Math.ceil(a),e.options.vertical===!1?(d[e.animType]="translate("+a+"px, 0px)",e.$slideTrack.css(d)):(d[e.animType]="translate(0px,"+a+"px)",e.$slideTrack.css(d))},complete:function(){c&&c.call()}})):(e.applyTransition(),b=Math.ceil(b),e.options.vertical===!1?d[e.animType]="translate3d("+b+"px, 0px, 0px)":d[e.animType]="translate3d(0px,"+b+"px, 0px)",e.$slideTrack.css(d),c&&setTimeout(function(){e.disableTransition(),c.call()},e.options.speed))},b.prototype.asNavFor=function(b){var c=this,d=c.options.asNavFor;d&&null!==d&&(d=a(d).not(c.$slider)),null!==d&&"object"==typeof d&&d.each(function(){var c=a(this).slick("getSlick");c.unslicked||c.slideHandler(b,!0)})},b.prototype.applyTransition=function(a){var b=this,c={};b.options.fade===!1?c[b.transitionType]=b.transformType+" "+b.options.speed+"ms "+b.options.cssEase:c[b.transitionType]="opacity "+b.options.speed+"ms "+b.options.cssEase,b.options.fade===!1?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.autoPlay=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer),a.slideCount>a.options.slidesToShow&&a.paused!==!0&&(a.autoPlayTimer=setInterval(a.autoPlayIterator,a.options.autoplaySpeed))},b.prototype.autoPlayClear=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer)},b.prototype.autoPlayIterator=function(){var a=this;a.options.infinite===!1?1===a.direction?(a.currentSlide+1===a.slideCount-1&&(a.direction=0),a.slideHandler(a.currentSlide+a.options.slidesToScroll)):(a.currentSlide-1===0&&(a.direction=1),a.slideHandler(a.currentSlide-a.options.slidesToScroll)):a.slideHandler(a.currentSlide+a.options.slidesToScroll)},b.prototype.buildArrows=function(){var b=this;b.options.arrows===!0&&(b.$prevArrow=a(b.options.prevArrow).addClass("slick-arrow"),b.$nextArrow=a(b.options.nextArrow).addClass("slick-arrow"),b.slideCount>b.options.slidesToShow?(b.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),b.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.prependTo(b.options.appendArrows),b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.appendTo(b.options.appendArrows),b.options.infinite!==!0&&b.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):b.$prevArrow.add(b.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},b.prototype.buildDots=function(){var c,d,b=this;if(b.options.dots===!0&&b.slideCount>b.options.slidesToShow){for(d='<ul class="'+b.options.dotsClass+'">',c=0;c<=b.getDotCount();c+=1)d+="<li>"+b.options.customPaging.call(this,b,c)+"</li>";d+="</ul>",b.$dots=a(d).appendTo(b.options.appendDots),b.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},b.prototype.buildOut=function(){var b=this;b.$slides=b.$slider.children(b.options.slide+":not(.slick-cloned)").addClass("slick-slide"),b.slideCount=b.$slides.length,b.$slides.each(function(b,c){a(c).attr("data-slick-index",b).data("originalStyling",a(c).attr("style")||"")}),b.$slider.addClass("slick-slider"),b.$slideTrack=0===b.slideCount?a('<div class="slick-track"/>').appendTo(b.$slider):b.$slides.wrapAll('<div class="slick-track"/>').parent(),b.$list=b.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),b.$slideTrack.css("opacity",0),(b.options.centerMode===!0||b.options.swipeToSlide===!0)&&(b.options.slidesToScroll=1),a("img[data-lazy]",b.$slider).not("[src]").addClass("slick-loading"),b.setupInfinite(),b.buildArrows(),b.buildDots(),b.updateDots(),b.setSlideClasses("number"==typeof b.currentSlide?b.currentSlide:0),b.options.draggable===!0&&b.$list.addClass("draggable")},b.prototype.buildRows=function(){var b,c,d,e,f,g,h,a=this;if(e=document.createDocumentFragment(),g=a.$slider.children(),a.options.rows>1){for(h=a.options.slidesPerRow*a.options.rows,f=Math.ceil(g.length/h),b=0;f>b;b++){var i=document.createElement("div");for(c=0;c<a.options.rows;c++){var j=document.createElement("div");for(d=0;d<a.options.slidesPerRow;d++){var k=b*h+(c*a.options.slidesPerRow+d);g.get(k)&&j.appendChild(g.get(k))}i.appendChild(j)}e.appendChild(i)}a.$slider.html(e),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},b.prototype.checkResponsive=function(b,c){var e,f,g,d=this,h=!1,i=d.$slider.width(),j=window.innerWidth||a(window).width();if("window"===d.respondTo?g=j:"slider"===d.respondTo?g=i:"min"===d.respondTo&&(g=Math.min(j,i)),d.options.responsive&&d.options.responsive.length&&null!==d.options.responsive){f=null;for(e in d.breakpoints)d.breakpoints.hasOwnProperty(e)&&(d.originalSettings.mobileFirst===!1?g<d.breakpoints[e]&&(f=d.breakpoints[e]):g>d.breakpoints[e]&&(f=d.breakpoints[e]));null!==f?null!==d.activeBreakpoint?(f!==d.activeBreakpoint||c)&&(d.activeBreakpoint=f,"unslick"===d.breakpointSettings[f]?d.unslick(f):(d.options=a.extend({},d.originalSettings,d.breakpointSettings[f]),b===!0&&(d.currentSlide=d.options.initialSlide),d.refresh(b)),h=f):(d.activeBreakpoint=f,"unslick"===d.breakpointSettings[f]?d.unslick(f):(d.options=a.extend({},d.originalSettings,d.breakpointSettings[f]),b===!0&&(d.currentSlide=d.options.initialSlide),d.refresh(b)),h=f):null!==d.activeBreakpoint&&(d.activeBreakpoint=null,d.options=d.originalSettings,b===!0&&(d.currentSlide=d.options.initialSlide),d.refresh(b),h=f),b||h===!1||d.$slider.trigger("breakpoint",[d,h])}},b.prototype.changeSlide=function(b,c){var f,g,h,d=this,e=a(b.target);switch(e.is("a")&&b.preventDefault(),e.is("li")||(e=e.closest("li")),h=d.slideCount%d.options.slidesToScroll!==0,f=h?0:(d.slideCount-d.currentSlide)%d.options.slidesToScroll,b.data.message){case"previous":g=0===f?d.options.slidesToScroll:d.options.slidesToShow-f,d.slideCount>d.options.slidesToShow&&d.slideHandler(d.currentSlide-g,!1,c);break;case"next":g=0===f?d.options.slidesToScroll:f,d.slideCount>d.options.slidesToShow&&d.slideHandler(d.currentSlide+g,!1,c);break;case"index":var i=0===b.data.index?0:b.data.index||e.index()*d.options.slidesToScroll;d.slideHandler(d.checkNavigable(i),!1,c),e.children().trigger("focus");break;default:return}},b.prototype.checkNavigable=function(a){var c,d,b=this;if(c=b.getNavigableIndexes(),d=0,a>c[c.length-1])a=c[c.length-1];else for(var e in c){if(a<c[e]){a=d;break}d=c[e]}return a},b.prototype.cleanUpEvents=function(){var b=this;b.options.dots&&null!==b.$dots&&(a("li",b.$dots).off("click.slick",b.changeSlide),b.options.pauseOnDotsHover===!0&&b.options.autoplay===!0&&a("li",b.$dots).off("mouseenter.slick",a.proxy(b.setPaused,b,!0)).off("mouseleave.slick",a.proxy(b.setPaused,b,!1))),b.options.arrows===!0&&b.slideCount>b.options.slidesToShow&&(b.$prevArrow&&b.$prevArrow.off("click.slick",b.changeSlide),b.$nextArrow&&b.$nextArrow.off("click.slick",b.changeSlide)),b.$list.off("touchstart.slick mousedown.slick",b.swipeHandler),b.$list.off("touchmove.slick mousemove.slick",b.swipeHandler),b.$list.off("touchend.slick mouseup.slick",b.swipeHandler),b.$list.off("touchcancel.slick mouseleave.slick",b.swipeHandler),b.$list.off("click.slick",b.clickHandler),a(document).off(b.visibilityChange,b.visibility),b.$list.off("mouseenter.slick",a.proxy(b.setPaused,b,!0)),b.$list.off("mouseleave.slick",a.proxy(b.setPaused,b,!1)),b.options.accessibility===!0&&b.$list.off("keydown.slick",b.keyHandler),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().off("click.slick",b.selectHandler),a(window).off("orientationchange.slick.slick-"+b.instanceUid,b.orientationChange),a(window).off("resize.slick.slick-"+b.instanceUid,b.resize),a("[draggable!=true]",b.$slideTrack).off("dragstart",b.preventDefault),a(window).off("load.slick.slick-"+b.instanceUid,b.setPosition),a(document).off("ready.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.cleanUpRows=function(){var b,a=this;a.options.rows>1&&(b=a.$slides.children().children(),b.removeAttr("style"),a.$slider.html(b))},b.prototype.clickHandler=function(a){var b=this;b.shouldClick===!1&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault())},b.prototype.destroy=function(b){var c=this;c.autoPlayClear(),c.touchObject={},c.cleanUpEvents(),a(".slick-cloned",c.$slider).detach(),c.$dots&&c.$dots.remove(),c.$prevArrow&&c.$prevArrow.length&&(c.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),c.htmlExpr.test(c.options.prevArrow)&&c.$prevArrow.remove()),c.$nextArrow&&c.$nextArrow.length&&(c.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),c.htmlExpr.test(c.options.nextArrow)&&c.$nextArrow.remove()),c.$slides&&(c.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){a(this).attr("style",a(this).data("originalStyling"))}),c.$slideTrack.children(this.options.slide).detach(),c.$slideTrack.detach(),c.$list.detach(),c.$slider.append(c.$slides)),c.cleanUpRows(),c.$slider.removeClass("slick-slider"),c.$slider.removeClass("slick-initialized"),c.unslicked=!0,b||c.$slider.trigger("destroy",[c])},b.prototype.disableTransition=function(a){var b=this,c={};c[b.transitionType]="",b.options.fade===!1?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.fadeSlide=function(a,b){var c=this;c.cssTransitions===!1?(c.$slides.eq(a).css({zIndex:c.options.zIndex}),c.$slides.eq(a).animate({opacity:1},c.options.speed,c.options.easing,b)):(c.applyTransition(a),c.$slides.eq(a).css({opacity:1,zIndex:c.options.zIndex}),b&&setTimeout(function(){c.disableTransition(a),b.call()},c.options.speed))},b.prototype.fadeSlideOut=function(a){var b=this;b.cssTransitions===!1?b.$slides.eq(a).animate({opacity:0,zIndex:b.options.zIndex-2},b.options.speed,b.options.easing):(b.applyTransition(a),b.$slides.eq(a).css({opacity:0,zIndex:b.options.zIndex-2}))},b.prototype.filterSlides=b.prototype.slickFilter=function(a){var b=this;null!==a&&(b.$slidesCache=b.$slides,b.unload(),b.$slideTrack.children(this.options.slide).detach(),b.$slidesCache.filter(a).appendTo(b.$slideTrack),b.reinit())},b.prototype.getCurrent=b.prototype.slickCurrentSlide=function(){var a=this;return a.currentSlide},b.prototype.getDotCount=function(){var a=this,b=0,c=0,d=0;if(a.options.infinite===!0)for(;b<a.slideCount;)++d,b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;else if(a.options.centerMode===!0)d=a.slideCount;else for(;b<a.slideCount;)++d,b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;return d-1},b.prototype.getLeft=function(a){var c,d,f,b=this,e=0;return b.slideOffset=0,d=b.$slides.first().outerHeight(!0),b.options.infinite===!0?(b.slideCount>b.options.slidesToShow&&(b.slideOffset=b.slideWidth*b.options.slidesToShow*-1,e=d*b.options.slidesToShow*-1),b.slideCount%b.options.slidesToScroll!==0&&a+b.options.slidesToScroll>b.slideCount&&b.slideCount>b.options.slidesToShow&&(a>b.slideCount?(b.slideOffset=(b.options.slidesToShow-(a-b.slideCount))*b.slideWidth*-1,e=(b.options.slidesToShow-(a-b.slideCount))*d*-1):(b.slideOffset=b.slideCount%b.options.slidesToScroll*b.slideWidth*-1,e=b.slideCount%b.options.slidesToScroll*d*-1))):a+b.options.slidesToShow>b.slideCount&&(b.slideOffset=(a+b.options.slidesToShow-b.slideCount)*b.slideWidth,e=(a+b.options.slidesToShow-b.slideCount)*d),b.slideCount<=b.options.slidesToShow&&(b.slideOffset=0,e=0),b.options.centerMode===!0&&b.options.infinite===!0?b.slideOffset+=b.slideWidth*Math.floor(b.options.slidesToShow/2)-b.slideWidth:b.options.centerMode===!0&&(b.slideOffset=0,b.slideOffset+=b.slideWidth*Math.floor(b.options.slidesToShow/2)),c=b.options.vertical===!1?a*b.slideWidth*-1+b.slideOffset:a*d*-1+e,b.options.variableWidth===!0&&(f=b.slideCount<=b.options.slidesToShow||b.options.infinite===!1?b.$slideTrack.children(".slick-slide").eq(a):b.$slideTrack.children(".slick-slide").eq(a+b.options.slidesToShow),c=b.options.rtl===!0?f[0]?-1*(b.$slideTrack.width()-f[0].offsetLeft-f.width()):0:f[0]?-1*f[0].offsetLeft:0,b.options.centerMode===!0&&(f=b.slideCount<=b.options.slidesToShow||b.options.infinite===!1?b.$slideTrack.children(".slick-slide").eq(a):b.$slideTrack.children(".slick-slide").eq(a+b.options.slidesToShow+1),c=b.options.rtl===!0?f[0]?-1*(b.$slideTrack.width()-f[0].offsetLeft-f.width()):0:f[0]?-1*f[0].offsetLeft:0,c+=(b.$list.width()-f.outerWidth())/2)),c},b.prototype.getOption=b.prototype.slickGetOption=function(a){var b=this;return b.options[a]},b.prototype.getNavigableIndexes=function(){var e,a=this,b=0,c=0,d=[];for(a.options.infinite===!1?e=a.slideCount:(b=-1*a.options.slidesToScroll,c=-1*a.options.slidesToScroll,e=2*a.slideCount);e>b;)d.push(b),b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;return d},b.prototype.getSlick=function(){return this},b.prototype.getSlideCount=function(){var c,d,e,b=this;return e=b.options.centerMode===!0?b.slideWidth*Math.floor(b.options.slidesToShow/2):0,b.options.swipeToSlide===!0?(b.$slideTrack.find(".slick-slide").each(function(c,f){return f.offsetLeft-e+a(f).outerWidth()/2>-1*b.swipeLeft?(d=f,!1):void 0}),c=Math.abs(a(d).attr("data-slick-index")-b.currentSlide)||1):b.options.slidesToScroll},b.prototype.goTo=b.prototype.slickGoTo=function(a,b){var c=this;c.changeSlide({data:{message:"index",index:parseInt(a)}},b)},b.prototype.init=function(b){var c=this;a(c.$slider).hasClass("slick-initialized")||(a(c.$slider).addClass("slick-initialized"),c.buildRows(),c.buildOut(),c.setProps(),c.startLoad(),c.loadSlider(),c.initializeEvents(),c.updateArrows(),c.updateDots()),b&&c.$slider.trigger("init",[c]),c.options.accessibility===!0&&c.initADA()},b.prototype.initArrowEvents=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.on("click.slick",{message:"previous"},a.changeSlide),a.$nextArrow.on("click.slick",{message:"next"},a.changeSlide))},b.prototype.initDotEvents=function(){var b=this;b.options.dots===!0&&b.slideCount>b.options.slidesToShow&&a("li",b.$dots).on("click.slick",{message:"index"},b.changeSlide),b.options.dots===!0&&b.options.pauseOnDotsHover===!0&&b.options.autoplay===!0&&a("li",b.$dots).on("mouseenter.slick",a.proxy(b.setPaused,b,!0)).on("mouseleave.slick",a.proxy(b.setPaused,b,!1))},b.prototype.initializeEvents=function(){var b=this;b.initArrowEvents(),b.initDotEvents(),b.$list.on("touchstart.slick mousedown.slick",{action:"start"},b.swipeHandler),b.$list.on("touchmove.slick mousemove.slick",{action:"move"},b.swipeHandler),b.$list.on("touchend.slick mouseup.slick",{action:"end"},b.swipeHandler),b.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},b.swipeHandler),b.$list.on("click.slick",b.clickHandler),a(document).on(b.visibilityChange,a.proxy(b.visibility,b)),b.$list.on("mouseenter.slick",a.proxy(b.setPaused,b,!0)),b.$list.on("mouseleave.slick",a.proxy(b.setPaused,b,!1)),b.options.accessibility===!0&&b.$list.on("keydown.slick",b.keyHandler),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),a(window).on("orientationchange.slick.slick-"+b.instanceUid,a.proxy(b.orientationChange,b)),a(window).on("resize.slick.slick-"+b.instanceUid,a.proxy(b.resize,b)),a("[draggable!=true]",b.$slideTrack).on("dragstart",b.preventDefault),a(window).on("load.slick.slick-"+b.instanceUid,b.setPosition),a(document).on("ready.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.initUI=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.show(),a.$nextArrow.show()),a.options.dots===!0&&a.slideCount>a.options.slidesToShow&&a.$dots.show(),a.options.autoplay===!0&&a.autoPlay()},b.prototype.keyHandler=function(a){var b=this;a.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===a.keyCode&&b.options.accessibility===!0?b.changeSlide({data:{message:"previous"}}):39===a.keyCode&&b.options.accessibility===!0&&b.changeSlide({data:{message:"next"}}))},b.prototype.lazyLoad=function(){function g(b){a("img[data-lazy]",b).each(function(){var b=a(this),c=a(this).attr("data-lazy"),d=document.createElement("img");d.onload=function(){b.animate({opacity:0},100,function(){b.attr("src",c).animate({opacity:1},200,function(){b.removeAttr("data-lazy").removeClass("slick-loading")})})},d.src=c})}var c,d,e,f,b=this;b.options.centerMode===!0?b.options.infinite===!0?(e=b.currentSlide+(b.options.slidesToShow/2+1),f=e+b.options.slidesToShow+2):(e=Math.max(0,b.currentSlide-(b.options.slidesToShow/2+1)),f=2+(b.options.slidesToShow/2+1)+b.currentSlide):(e=b.options.infinite?b.options.slidesToShow+b.currentSlide:b.currentSlide,f=e+b.options.slidesToShow,b.options.fade===!0&&(e>0&&e--,f<=b.slideCount&&f++)),c=b.$slider.find(".slick-slide").slice(e,f),g(c),b.slideCount<=b.options.slidesToShow?(d=b.$slider.find(".slick-slide"),g(d)):b.currentSlide>=b.slideCount-b.options.slidesToShow?(d=b.$slider.find(".slick-cloned").slice(0,b.options.slidesToShow),g(d)):0===b.currentSlide&&(d=b.$slider.find(".slick-cloned").slice(-1*b.options.slidesToShow),g(d))},b.prototype.loadSlider=function(){var a=this;a.setPosition(),a.$slideTrack.css({opacity:1}),a.$slider.removeClass("slick-loading"),a.initUI(),"progressive"===a.options.lazyLoad&&a.progressiveLazyLoad()},b.prototype.next=b.prototype.slickNext=function(){var a=this;a.changeSlide({data:{message:"next"}})},b.prototype.orientationChange=function(){var a=this;a.checkResponsive(),a.setPosition()},b.prototype.pause=b.prototype.slickPause=function(){var a=this;a.autoPlayClear(),a.paused=!0},b.prototype.play=b.prototype.slickPlay=function(){var a=this;a.paused=!1,a.autoPlay()},b.prototype.postSlide=function(a){var b=this;b.$slider.trigger("afterChange",[b,a]),b.animating=!1,b.setPosition(),b.swipeLeft=null,b.options.autoplay===!0&&b.paused===!1&&b.autoPlay(),b.options.accessibility===!0&&b.initADA()},b.prototype.prev=b.prototype.slickPrev=function(){var a=this;a.changeSlide({data:{message:"previous"}})},b.prototype.preventDefault=function(a){a.preventDefault()},b.prototype.progressiveLazyLoad=function(){var c,d,b=this;c=a("img[data-lazy]",b.$slider).length,c>0&&(d=a("img[data-lazy]",b.$slider).first(),d.attr("src",null),d.attr("src",d.attr("data-lazy")).removeClass("slick-loading").load(function(){d.removeAttr("data-lazy"),b.progressiveLazyLoad(),b.options.adaptiveHeight===!0&&b.setPosition()}).error(function(){d.removeAttr("data-lazy"),b.progressiveLazyLoad()}))},b.prototype.refresh=function(b){var d,e,c=this;e=c.slideCount-c.options.slidesToShow,c.options.infinite||(c.slideCount<=c.options.slidesToShow?c.currentSlide=0:c.currentSlide>e&&(c.currentSlide=e)),d=c.currentSlide,c.destroy(!0),a.extend(c,c.initials,{currentSlide:d}),c.init(),b||c.changeSlide({data:{message:"index",index:d}},!1)},b.prototype.registerBreakpoints=function(){var c,d,e,b=this,f=b.options.responsive||null;if("array"===a.type(f)&&f.length){b.respondTo=b.options.respondTo||"window";for(c in f)if(e=b.breakpoints.length-1,d=f[c].breakpoint,f.hasOwnProperty(c)){for(;e>=0;)b.breakpoints[e]&&b.breakpoints[e]===d&&b.breakpoints.splice(e,1),e--;b.breakpoints.push(d),b.breakpointSettings[d]=f[c].settings}b.breakpoints.sort(function(a,c){return b.options.mobileFirst?a-c:c-a})}},b.prototype.reinit=function(){var b=this;b.$slides=b.$slideTrack.children(b.options.slide).addClass("slick-slide"),b.slideCount=b.$slides.length,b.currentSlide>=b.slideCount&&0!==b.currentSlide&&(b.currentSlide=b.currentSlide-b.options.slidesToScroll),b.slideCount<=b.options.slidesToShow&&(b.currentSlide=0),b.registerBreakpoints(),b.setProps(),b.setupInfinite(),b.buildArrows(),b.updateArrows(),b.initArrowEvents(),b.buildDots(),b.updateDots(),b.initDotEvents(),b.checkResponsive(!1,!0),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),b.setSlideClasses(0),b.setPosition(),b.$slider.trigger("reInit",[b]),b.options.autoplay===!0&&b.focusHandler()},b.prototype.resize=function(){var b=this;a(window).width()!==b.windowWidth&&(clearTimeout(b.windowDelay),b.windowDelay=window.setTimeout(function(){b.windowWidth=a(window).width(),b.checkResponsive(),b.unslicked||b.setPosition()},50))},b.prototype.removeSlide=b.prototype.slickRemove=function(a,b,c){var d=this;return"boolean"==typeof a?(b=a,a=b===!0?0:d.slideCount-1):a=b===!0?--a:a,d.slideCount<1||0>a||a>d.slideCount-1?!1:(d.unload(),c===!0?d.$slideTrack.children().remove():d.$slideTrack.children(this.options.slide).eq(a).remove(),d.$slides=d.$slideTrack.children(this.options.slide),d.$slideTrack.children(this.options.slide).detach(),d.$slideTrack.append(d.$slides),d.$slidesCache=d.$slides,void d.reinit())},b.prototype.setCSS=function(a){var d,e,b=this,c={};b.options.rtl===!0&&(a=-a),d="left"==b.positionProp?Math.ceil(a)+"px":"0px",e="top"==b.positionProp?Math.ceil(a)+"px":"0px",c[b.positionProp]=a,b.transformsEnabled===!1?b.$slideTrack.css(c):(c={},b.cssTransitions===!1?(c[b.animType]="translate("+d+", "+e+")",b.$slideTrack.css(c)):(c[b.animType]="translate3d("+d+", "+e+", 0px)",b.$slideTrack.css(c)))},b.prototype.setDimensions=function(){var a=this;a.options.vertical===!1?a.options.centerMode===!0&&a.$list.css({padding:"0px "+a.options.centerPadding}):(a.$list.height(a.$slides.first().outerHeight(!0)*a.options.slidesToShow),a.options.centerMode===!0&&a.$list.css({padding:a.options.centerPadding+" 0px"})),a.listWidth=a.$list.width(),a.listHeight=a.$list.height(),a.options.vertical===!1&&a.options.variableWidth===!1?(a.slideWidth=Math.ceil(a.listWidth/a.options.slidesToShow),a.$slideTrack.width(Math.ceil(a.slideWidth*a.$slideTrack.children(".slick-slide").length))):a.options.variableWidth===!0?a.$slideTrack.width(5e3*a.slideCount):(a.slideWidth=Math.ceil(a.listWidth),a.$slideTrack.height(Math.ceil(a.$slides.first().outerHeight(!0)*a.$slideTrack.children(".slick-slide").length)));var b=a.$slides.first().outerWidth(!0)-a.$slides.first().width();a.options.variableWidth===!1&&a.$slideTrack.children(".slick-slide").width(a.slideWidth-b)},b.prototype.setFade=function(){var c,b=this;b.$slides.each(function(d,e){c=b.slideWidth*d*-1,b.options.rtl===!0?a(e).css({position:"relative",right:c,top:0,zIndex:b.options.zIndex-2,opacity:0}):a(e).css({position:"relative",left:c,top:0,zIndex:b.options.zIndex-2,opacity:0})}),b.$slides.eq(b.currentSlide).css({zIndex:b.options.zIndex-1,opacity:1})},b.prototype.setHeight=function(){var a=this;if(1===a.options.slidesToShow&&a.options.adaptiveHeight===!0&&a.options.vertical===!1){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.css("height",b)}},b.prototype.setOption=b.prototype.slickSetOption=function(b,c,d){var f,g,e=this;if("responsive"===b&&"array"===a.type(c))for(g in c)if("array"!==a.type(e.options.responsive))e.options.responsive=[c[g]];else{for(f=e.options.responsive.length-1;f>=0;)e.options.responsive[f].breakpoint===c[g].breakpoint&&e.options.responsive.splice(f,1),f--;e.options.responsive.push(c[g])}else e.options[b]=c;d===!0&&(e.unload(),e.reinit())},b.prototype.setPosition=function(){var a=this;a.setDimensions(),a.setHeight(),a.options.fade===!1?a.setCSS(a.getLeft(a.currentSlide)):a.setFade(),a.$slider.trigger("setPosition",[a])},b.prototype.setProps=function(){var a=this,b=document.body.style;a.positionProp=a.options.vertical===!0?"top":"left","top"===a.positionProp?a.$slider.addClass("slick-vertical"):a.$slider.removeClass("slick-vertical"),(void 0!==b.WebkitTransition||void 0!==b.MozTransition||void 0!==b.msTransition)&&a.options.useCSS===!0&&(a.cssTransitions=!0),a.options.fade&&("number"==typeof a.options.zIndex?a.options.zIndex<3&&(a.options.zIndex=3):a.options.zIndex=a.defaults.zIndex),void 0!==b.OTransform&&(a.animType="OTransform",a.transformType="-o-transform",a.transitionType="OTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.MozTransform&&(a.animType="MozTransform",a.transformType="-moz-transform",a.transitionType="MozTransition",void 0===b.perspectiveProperty&&void 0===b.MozPerspective&&(a.animType=!1)),void 0!==b.webkitTransform&&(a.animType="webkitTransform",a.transformType="-webkit-transform",a.transitionType="webkitTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.msTransform&&(a.animType="msTransform",a.transformType="-ms-transform",a.transitionType="msTransition",void 0===b.msTransform&&(a.animType=!1)),void 0!==b.transform&&a.animType!==!1&&(a.animType="transform",a.transformType="transform",a.transitionType="transition"),a.transformsEnabled=a.options.useTransform&&null!==a.animType&&a.animType!==!1},b.prototype.setSlideClasses=function(a){var c,d,e,f,b=this;d=b.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),b.$slides.eq(a).addClass("slick-current"),b.options.centerMode===!0?(c=Math.floor(b.options.slidesToShow/2),b.options.infinite===!0&&(a>=c&&a<=b.slideCount-1-c?b.$slides.slice(a-c,a+c+1).addClass("slick-active").attr("aria-hidden","false"):(e=b.options.slidesToShow+a,d.slice(e-c+1,e+c+2).addClass("slick-active").attr("aria-hidden","false")),0===a?d.eq(d.length-1-b.options.slidesToShow).addClass("slick-center"):a===b.slideCount-1&&d.eq(b.options.slidesToShow).addClass("slick-center")),b.$slides.eq(a).addClass("slick-center")):a>=0&&a<=b.slideCount-b.options.slidesToShow?b.$slides.slice(a,a+b.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):d.length<=b.options.slidesToShow?d.addClass("slick-active").attr("aria-hidden","false"):(f=b.slideCount%b.options.slidesToShow,e=b.options.infinite===!0?b.options.slidesToShow+a:a,b.options.slidesToShow==b.options.slidesToScroll&&b.slideCount-a<b.options.slidesToShow?d.slice(e-(b.options.slidesToShow-f),e+f).addClass("slick-active").attr("aria-hidden","false"):d.slice(e,e+b.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===b.options.lazyLoad&&b.lazyLoad()},b.prototype.setupInfinite=function(){var c,d,e,b=this;if(b.options.fade===!0&&(b.options.centerMode=!1),b.options.infinite===!0&&b.options.fade===!1&&(d=null,b.slideCount>b.options.slidesToShow)){for(e=b.options.centerMode===!0?b.options.slidesToShow+1:b.options.slidesToShow,c=b.slideCount;c>b.slideCount-e;c-=1)d=c-1,a(b.$slides[d]).clone(!0).attr("id","").attr("data-slick-index",d-b.slideCount).prependTo(b.$slideTrack).addClass("slick-cloned");for(c=0;e>c;c+=1)d=c,a(b.$slides[d]).clone(!0).attr("id","").attr("data-slick-index",d+b.slideCount).appendTo(b.$slideTrack).addClass("slick-cloned");b.$slideTrack.find(".slick-cloned").find("[id]").each(function(){a(this).attr("id","")})}},b.prototype.setPaused=function(a){var b=this;b.options.autoplay===!0&&b.options.pauseOnHover===!0&&(b.paused=a,a?b.autoPlayClear():b.autoPlay())},b.prototype.selectHandler=function(b){var c=this,d=a(b.target).is(".slick-slide")?a(b.target):a(b.target).parents(".slick-slide"),e=parseInt(d.attr("data-slick-index"));return e||(e=0),c.slideCount<=c.options.slidesToShow?(c.setSlideClasses(e),void c.asNavFor(e)):void c.slideHandler(e)},b.prototype.slideHandler=function(a,b,c){var d,e,f,g,h=null,i=this;return b=b||!1,i.animating===!0&&i.options.waitForAnimate===!0||i.options.fade===!0&&i.currentSlide===a||i.slideCount<=i.options.slidesToShow?void 0:(b===!1&&i.asNavFor(a),d=a,h=i.getLeft(d),g=i.getLeft(i.currentSlide),i.currentLeft=null===i.swipeLeft?g:i.swipeLeft,i.options.infinite===!1&&i.options.centerMode===!1&&(0>a||a>i.getDotCount()*i.options.slidesToScroll)?void(i.options.fade===!1&&(d=i.currentSlide,c!==!0?i.animateSlide(g,function(){i.postSlide(d);
}):i.postSlide(d))):i.options.infinite===!1&&i.options.centerMode===!0&&(0>a||a>i.slideCount-i.options.slidesToScroll)?void(i.options.fade===!1&&(d=i.currentSlide,c!==!0?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d))):(i.options.autoplay===!0&&clearInterval(i.autoPlayTimer),e=0>d?i.slideCount%i.options.slidesToScroll!==0?i.slideCount-i.slideCount%i.options.slidesToScroll:i.slideCount+d:d>=i.slideCount?i.slideCount%i.options.slidesToScroll!==0?0:d-i.slideCount:d,i.animating=!0,i.$slider.trigger("beforeChange",[i,i.currentSlide,e]),f=i.currentSlide,i.currentSlide=e,i.setSlideClasses(i.currentSlide),i.updateDots(),i.updateArrows(),i.options.fade===!0?(c!==!0?(i.fadeSlideOut(f),i.fadeSlide(e,function(){i.postSlide(e)})):i.postSlide(e),void i.animateHeight()):void(c!==!0?i.animateSlide(h,function(){i.postSlide(e)}):i.postSlide(e))))},b.prototype.startLoad=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.hide(),a.$nextArrow.hide()),a.options.dots===!0&&a.slideCount>a.options.slidesToShow&&a.$dots.hide(),a.$slider.addClass("slick-loading")},b.prototype.swipeDirection=function(){var a,b,c,d,e=this;return a=e.touchObject.startX-e.touchObject.curX,b=e.touchObject.startY-e.touchObject.curY,c=Math.atan2(b,a),d=Math.round(180*c/Math.PI),0>d&&(d=360-Math.abs(d)),45>=d&&d>=0?e.options.rtl===!1?"left":"right":360>=d&&d>=315?e.options.rtl===!1?"left":"right":d>=135&&225>=d?e.options.rtl===!1?"right":"left":e.options.verticalSwiping===!0?d>=35&&135>=d?"left":"right":"vertical"},b.prototype.swipeEnd=function(a){var c,b=this;if(b.dragging=!1,b.shouldClick=b.touchObject.swipeLength>10?!1:!0,void 0===b.touchObject.curX)return!1;if(b.touchObject.edgeHit===!0&&b.$slider.trigger("edge",[b,b.swipeDirection()]),b.touchObject.swipeLength>=b.touchObject.minSwipe)switch(b.swipeDirection()){case"left":c=b.options.swipeToSlide?b.checkNavigable(b.currentSlide+b.getSlideCount()):b.currentSlide+b.getSlideCount(),b.slideHandler(c),b.currentDirection=0,b.touchObject={},b.$slider.trigger("swipe",[b,"left"]);break;case"right":c=b.options.swipeToSlide?b.checkNavigable(b.currentSlide-b.getSlideCount()):b.currentSlide-b.getSlideCount(),b.slideHandler(c),b.currentDirection=1,b.touchObject={},b.$slider.trigger("swipe",[b,"right"])}else b.touchObject.startX!==b.touchObject.curX&&(b.slideHandler(b.currentSlide),b.touchObject={})},b.prototype.swipeHandler=function(a){var b=this;if(!(b.options.swipe===!1||"ontouchend"in document&&b.options.swipe===!1||b.options.draggable===!1&&-1!==a.type.indexOf("mouse")))switch(b.touchObject.fingerCount=a.originalEvent&&void 0!==a.originalEvent.touches?a.originalEvent.touches.length:1,b.touchObject.minSwipe=b.listWidth/b.options.touchThreshold,b.options.verticalSwiping===!0&&(b.touchObject.minSwipe=b.listHeight/b.options.touchThreshold),a.data.action){case"start":b.swipeStart(a);break;case"move":b.swipeMove(a);break;case"end":b.swipeEnd(a)}},b.prototype.swipeMove=function(a){var d,e,f,g,h,b=this;return h=void 0!==a.originalEvent?a.originalEvent.touches:null,!b.dragging||h&&1!==h.length?!1:(d=b.getLeft(b.currentSlide),b.touchObject.curX=void 0!==h?h[0].pageX:a.clientX,b.touchObject.curY=void 0!==h?h[0].pageY:a.clientY,b.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(b.touchObject.curX-b.touchObject.startX,2))),b.options.verticalSwiping===!0&&(b.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(b.touchObject.curY-b.touchObject.startY,2)))),e=b.swipeDirection(),"vertical"!==e?(void 0!==a.originalEvent&&b.touchObject.swipeLength>4&&a.preventDefault(),g=(b.options.rtl===!1?1:-1)*(b.touchObject.curX>b.touchObject.startX?1:-1),b.options.verticalSwiping===!0&&(g=b.touchObject.curY>b.touchObject.startY?1:-1),f=b.touchObject.swipeLength,b.touchObject.edgeHit=!1,b.options.infinite===!1&&(0===b.currentSlide&&"right"===e||b.currentSlide>=b.getDotCount()&&"left"===e)&&(f=b.touchObject.swipeLength*b.options.edgeFriction,b.touchObject.edgeHit=!0),b.options.vertical===!1?b.swipeLeft=d+f*g:b.swipeLeft=d+f*(b.$list.height()/b.listWidth)*g,b.options.verticalSwiping===!0&&(b.swipeLeft=d+f*g),b.options.fade===!0||b.options.touchMove===!1?!1:b.animating===!0?(b.swipeLeft=null,!1):void b.setCSS(b.swipeLeft)):void 0)},b.prototype.swipeStart=function(a){var c,b=this;return 1!==b.touchObject.fingerCount||b.slideCount<=b.options.slidesToShow?(b.touchObject={},!1):(void 0!==a.originalEvent&&void 0!==a.originalEvent.touches&&(c=a.originalEvent.touches[0]),b.touchObject.startX=b.touchObject.curX=void 0!==c?c.pageX:a.clientX,b.touchObject.startY=b.touchObject.curY=void 0!==c?c.pageY:a.clientY,void(b.dragging=!0))},b.prototype.unfilterSlides=b.prototype.slickUnfilter=function(){var a=this;null!==a.$slidesCache&&(a.unload(),a.$slideTrack.children(this.options.slide).detach(),a.$slidesCache.appendTo(a.$slideTrack),a.reinit())},b.prototype.unload=function(){var b=this;a(".slick-cloned",b.$slider).remove(),b.$dots&&b.$dots.remove(),b.$prevArrow&&b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.remove(),b.$nextArrow&&b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.remove(),b.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},b.prototype.unslick=function(a){var b=this;b.$slider.trigger("unslick",[b,a]),b.destroy()},b.prototype.updateArrows=function(){var b,a=this;b=Math.floor(a.options.slidesToShow/2),a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&!a.options.infinite&&(a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),a.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===a.currentSlide?(a.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):a.currentSlide>=a.slideCount-a.options.slidesToShow&&a.options.centerMode===!1?(a.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):a.currentSlide>=a.slideCount-1&&a.options.centerMode===!0&&(a.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},b.prototype.updateDots=function(){var a=this;null!==a.$dots&&(a.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),a.$dots.find("li").eq(Math.floor(a.currentSlide/a.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},b.prototype.visibility=function(){var a=this;document[a.hidden]?(a.paused=!0,a.autoPlayClear()):a.options.autoplay===!0&&(a.paused=!1,a.autoPlay())},b.prototype.initADA=function(){var b=this;b.$slides.add(b.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),b.$slideTrack.attr("role","listbox"),b.$slides.not(b.$slideTrack.find(".slick-cloned")).each(function(c){a(this).attr({role:"option","aria-describedby":"slick-slide"+b.instanceUid+c})}),null!==b.$dots&&b.$dots.attr("role","tablist").find("li").each(function(c){a(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+b.instanceUid+c,id:"slick-slide"+b.instanceUid+c})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),b.activateADA()},b.prototype.activateADA=function(){var a=this;a.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},b.prototype.focusHandler=function(){var b=this;b.$slider.on("focus.slick blur.slick","*",function(c){c.stopImmediatePropagation();var d=a(this);setTimeout(function(){b.isPlay&&(d.is(":focus")?(b.autoPlayClear(),b.paused=!0):(b.paused=!1,b.autoPlay()))},0)})},a.fn.slick=function(){var f,g,a=this,c=arguments[0],d=Array.prototype.slice.call(arguments,1),e=a.length;for(f=0;e>f;f++)if("object"==typeof c||"undefined"==typeof c?a[f].slick=new b(a[f],c):g=a[f].slick[c].apply(a[f].slick,d),"undefined"!=typeof g)return g;return a}});
/*!
 * imagesLoaded PACKAGED v4.1.1
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */

!function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),n+=s?0:1,o=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}(window,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function o(t,e,r){return this instanceof o?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=n(t),this.options=i({},this.options),"function"==typeof e?r=e:i(this.options,e),r&&this.on("always",r),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(t,e,r)}function r(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var h=t.jQuery,a=t.console;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&d[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var d={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var i=new s(t,e);this.images.push(i)},o.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=Object.create(e.prototype),r.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(h=e,h.fn.imagesLoaded=function(t,e){var i=new o(this,t,e);return i.jqDeferred.promise(h(this))})},o.makeJQueryPlugin(),o});
// Array.includes polyfill for IE
// https://tc39.github.io/ecma262/#sec-array.prototype.includes
if (!Array.prototype.includes) {
	Object.defineProperty(Array.prototype, 'includes', {
		value: function(searchElement, fromIndex) {

			// 1. Let O be ? ToObject(this value).
			if (this == null) {
				throw new TypeError('"this" is null or not defined');
			}

			var o = Object(this);

			// 2. Let len be ? ToLength(? Get(O, "length")).
			var len = o.length >>> 0;

			// 3. If len is 0, return false.
			if (len === 0) {
				return false;
			}

			// 4. Let n be ? ToInteger(fromIndex).
			//    (If fromIndex is undefined, this step produces the value 0.)
			var n = fromIndex | 0;

			// 5. If n ≥ 0, then
			//  a. Let k be n.
			// 6. Else n < 0,
			//  a. Let k be len + n.
			//  b. If k < 0, let k be 0.
			var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);

			function sameValueZero(x, y) {
				return x === y || (typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y));
			}

			// 7. Repeat, while k < len
			while (k < len) {
				// a. Let elementK be the result of ? Get(O, ! ToString(k)).
				// b. If SameValueZero(searchElement, elementK) is true, return true.
				// c. Increase k by 1. 
				if (sameValueZero(o[k], searchElement)) {
					return true;
				}
				k++;
			}

			// 8. Return false
			return false;
		}
	});
}

// Array.find polyfill for IE
// https://tc39.github.io/ecma262/#sec-array.prototype.find
if (!Array.prototype.find) {
	Object.defineProperty(Array.prototype, 'find', {
		value: function(predicate) {
			// 1. Let O be ? ToObject(this value).
			if (this == null) {
				throw new TypeError('"this" is null or not defined');
			}

			var o = Object(this);

			// 2. Let len be ? ToLength(? Get(O, "length")).
			var len = o.length >>> 0;

			// 3. If IsCallable(predicate) is false, throw a TypeError exception.
			if (typeof predicate !== 'function') {
				throw new TypeError('predicate must be a function');
			}

			// 4. If thisArg was supplied, let T be thisArg; else let T be undefined.
			var thisArg = arguments[1];

			// 5. Let k be 0.
			var k = 0;

			// 6. Repeat, while k < len
			while (k < len) {
				// a. Let Pk be ! ToString(k).
				// b. Let kValue be ? Get(O, Pk).
				// c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).
				// d. If testResult is true, return kValue.
				var kValue = o[k];
				if (predicate.call(thisArg, kValue, k, o)) {
					return kValue;
				}
				// e. Increase k by 1.
				k++;
			}

			// 7. Return undefined.
			return undefined;
		}
	});
}

// String.includes polyfill for IE
if (!String.prototype.includes) {
  String.prototype.includes = function(search, start) {
    'use strict';
    if (typeof start !== 'number') {
      start = 0;
    }
    
    if (start + search.length > this.length) {
      return false;
    } else {
      return this.indexOf(search, start) !== -1;
    }
  };
}

// Generated by CoffeeScript 1.6.3
/*
HTML5 Number polyfill | Jonathan Stipe | https://github.com/jonstipe/number-polyfill
*/
(function() {
  (function($) {
    var i, numberPolyfill;
    i = document.createElement("input");
    i.setAttribute("type", "number");
    if (i.type === "text") {
      $.fn.inputNumber = function() {
        $(this).filter(function() {
          var $this;
          $this = $(this);
          return $this.is('input[type="number"]') && !($this.parent().is("span") && $this.next().is("div.number-spin-btn-container") && $this.next().children().first().is("div.number-spin-btn-up") && $this.next().children().eq(1).is("div.number-spin-btn-down"));
        }).each(function() {
          numberPolyfill.polyfills.push(new numberPolyfill(this));
        });
        return $(this);
      };
      numberPolyfill = function(elem) {
        var $fieldContainer, MutationObserver, attrObserver, halfHeight,
          _this = this;
        this.elem = $(elem);
        if (!(this.elem.is(":root *") && this.elem.height() > 0)) {
          throw new Error("Element must be in DOM and displayed so that its height can be measured.");
        }
        halfHeight = (this.elem.outerHeight() / 2) + 'px';
        this.upBtn = $('<div/>', {
          "class": 'number-spin-btn number-spin-btn-up',
          style: "height: " + halfHeight
        });
        this.downBtn = $('<div/>', {
          "class": 'number-spin-btn number-spin-btn-down',
          style: "height: " + halfHeight
        });
        this.btnContainer = $('<div/>', {
          "class": 'number-spin-btn-container'
        });
        $fieldContainer = $('<span/>', {
          style: "white-space: nowrap"
        });
        this.upBtn.appendTo(this.btnContainer);
        this.downBtn.appendTo(this.btnContainer);
        this.elem.wrap($fieldContainer);
        this.btnContainer.insertAfter(this.elem);
        this.elem.on({
          focus: function(e) {
            _this.elem.on({
              DOMMouseScroll: numberPolyfill.domMouseScrollHandler,
              mousewheel: numberPolyfill.mouseWheelHandler
            }, {
              p: _this
            });
          },
          blur: function(e) {
            _this.elem.off({
              DOMMouseScroll: numberPolyfill.domMouseScrollHandler,
              mousewheel: numberPolyfill.mouseWheelHandler
            });
          }
        });
        this.elem.on({
          keypress: numberPolyfill.elemKeypressHandler,
          change: numberPolyfill.elemChangeHandler
        }, {
          p: this
        });
        this.upBtn.on("mousedown", {
          p: this,
          func: "increment"
        }, numberPolyfill.elemBtnMousedownHandler);
        this.downBtn.on("mousedown", {
          p: this,
          func: "decrement"
        }, numberPolyfill.elemBtnMousedownHandler);
        this.elem.css("textAlign", 'right');
        this.attrMutationHandler("class");
        if ((typeof WebKitMutationObserver !== "undefined" && WebKitMutationObserver !== null) || (typeof MutationObserver !== "undefined" && MutationObserver !== null)) {
          if ((typeof WebKitMutationObserver !== "undefined" && WebKitMutationObserver !== null) && (typeof MutationObserver === "undefined" || MutationObserver === null)) {
            MutationObserver = WebKitMutationObserver;
          }
          attrObserver = new MutationObserver(function(mutations, observer) {
            var mutation, _i, _len;
            for (_i = 0, _len = mutations.length; _i < _len; _i++) {
              mutation = mutations[_i];
              if (mutation.type === "attributes") {
                _this.attrMutationHandler(mutation.attributeName, mutation.oldValue, _this.elem.attr(mutation.attributeName));
              }
            }
          });
          attrObserver.observe(elem, {
            attributes: true,
            attributeOldValue: true,
            attributeFilter: ["class", "style", "min", "max", "step"]
          });
        } else if (typeof MutationEvent !== "undefined" && MutationEvent !== null) {
          this.elem.on("DOMAttrModified", function(evt) {
            _this.attrMutationHandler(evt.originalEvent.attrName, evt.originalEvent.prevValue, evt.originalEvent.newValue);
          });
        }
      };
      numberPolyfill.polyfills = [];
      numberPolyfill.isNumber = function(input) {
        if ((input != null) && typeof input.toString === "function") {
          return /^-?\d+(?:\.\d+)?$/.test(input.toString());
        } else {
          return false;
        }
      };
      numberPolyfill.isFloat = function(input) {
        if ((input != null) && typeof input.toString === "function") {
          return /^-?\d+\.\d+$/.test(input.toString());
        } else {
          return false;
        }
      };
      numberPolyfill.isInt = function(input) {
        if ((input != null) && typeof input.toString === "function") {
          return /^-?\d+$/.test(input.toString());
        } else {
          return false;
        }
      };
      numberPolyfill.isNegative = function(input) {
        if ((input != null) && typeof input.toString === "function") {
          return /^-\d+(?:\.\d+)?$/.test(input.toString());
        } else {
          return false;
        }
      };
      numberPolyfill.raiseNum = function(num) {
        var a, numi, nump;
        if (typeof num === "number" || (typeof num === "object" && num instanceof Number)) {
          if (num % 1) {
            return {
              num: num.toString(),
              precision: 0
            };
          } else {
            return numberPolyfill.raiseNum(num.toString());
          }
        } else if (typeof num === "string" || (typeof num === "object" && num instanceof String)) {
          if (numberPolyfill.isFloat(num)) {
            num = num.replace(/(\.\d)0+$/, "$1");
            nump = numberPolyfill.getPrecision(num);
            numi = num.slice(0, -(nump + 1)) + num.slice(-nump);
            numi = numi.replace(/^(-?)0+(\d+)/, "$1$2");
            a = {
              num: numi,
              precision: nump
            };
            return a;
          } else if (numberPolyfill.isInt(num)) {
            return {
              num: num,
              precision: 0
            };
          }
        }
      };
      numberPolyfill.raiseNumPrecision = function(rNum, newPrecision) {
        var _i, _ref;
        if (rNum.precision < newPrecision) {
          for (i = _i = _ref = rNum.precision; _ref <= newPrecision ? _i < newPrecision : _i > newPrecision; i = _ref <= newPrecision ? ++_i : --_i) {
            rNum.num += "0";
          }
          rNum.precision = newPrecision;
        }
      };
      numberPolyfill.lowerNum = function(num) {
        if (num.precision > 0) {
          while (num.num.length < (num.precision + 1)) {
            if (numberPolyfill.isNegative(num.num)) {
              num.num = num.num.slice(0, 1) + "0" + num.num.slice(1);
            } else {
              num.num = "0" + num.num;
            }
          }
          return (num.num.slice(0, -num.precision) + "." + num.num.slice(-num.precision)).replace(/\.?0+$/, '').replace(/^(-?)(\.)/, "$10$2");
        } else {
          return num.num;
        }
      };
      numberPolyfill.preciseAdd = function(num1, num2) {
        var num1i, num2i, result;
        if ((typeof num1 === "number" || (typeof num1 === "object" && num1 instanceof Number)) && (typeof num2 === "number" || (typeof num2 === "object" && num2 instanceof Number))) {
          if (num1 % 1 === 0 && num2 % 1 === 0) {
            return (num1 + num2).toString();
          } else {
            return numberPolyfill.preciseAdd(num1.toString(), num2.toString());
          }
        } else if ((typeof num1 === "string" || (typeof num1 === "object" && num1 instanceof String)) && (typeof num2 === "string" || (typeof num2 === "object" && num2 instanceof String))) {
          if (numberPolyfill.isNumber(num1)) {
            if (numberPolyfill.isNumber(num2)) {
              if (numberPolyfill.isInt(num1)) {
                if (numberPolyfill.isInt(num2)) {
                  return numberPolyfill.preciseAdd(parseInt(num1, 10), parseInt(num2, 10));
                } else if (numberPolyfill.isFloat(num2)) {
                  num1 += ".0";
                }
              } else if (numberPolyfill.isFloat(num1)) {
                if (numberPolyfill.isInt(num2)) {
                  num2 += ".0";
                }
              }
              num1i = numberPolyfill.raiseNum(num1);
              num2i = numberPolyfill.raiseNum(num2);
              if (num1i.precision < num2i.precision) {
                numberPolyfill.raiseNumPrecision(num1i, num2i.precision);
              } else if (num1i.precision > num2i.precision) {
                numberPolyfill.raiseNumPrecision(num2i, num1i.precision);
              }
              result = (parseInt(num1i.num, 10) + parseInt(num2i.num, 10)).toString();
              if (num1i.precision > 0) {
                if (numberPolyfill.isNegative(result)) {
                  while (num1i.precision > (result.length - 1)) {
                    result = "-0" + result.slice(1);
                  }
                } else {
                  while (num1i.precision > result.length) {
                    result = "0" + result;
                  }
                }
                result = numberPolyfill.lowerNum({
                  num: result,
                  precision: num1i.precision
                });
              }
              result = result.replace(/^(-?)\./, '$10.');
              if (numberPolyfill.isFloat(result)) {
                result = result.replace(/0+$/, '');
              }
              return result;
            } else {
              throw new SyntaxError("Argument \"" + num2 + "\" is not a number.");
            }
          } else {
            throw new SyntaxError("Argument \"" + num1 + "\" is not a number.");
          }
        } else {
          return numberPolyfill.preciseAdd(num1.toString(), num2.toString());
        }
      };
      numberPolyfill.preciseSubtract = function(num1, num2) {
        if (typeof num2 === "number" || (typeof num2 === "object" && num2 instanceof Number)) {
          return numberPolyfill.preciseAdd(num1, -num2);
        } else if (typeof num2 === "string" || (typeof num2 === "object" && num2 instanceof String)) {
          if (numberPolyfill.isNegative(num2)) {
            return numberPolyfill.preciseAdd(num1, num2.slice(1));
          } else {
            return numberPolyfill.preciseAdd(num1, "-" + num2);
          }
        }
      };
      numberPolyfill.getPrecision = function(num) {
        var k, kNum;
        if (typeof num === "number") {
          k = 0;
          kNum = num;
          while (kNum !== Math.floor(kNum)) {
            kNum = num * Math.pow(10, ++k);
          }
          return k;
        } else if (typeof num === "string") {
          if (numberPolyfill.isNumber(num)) {
            if (numberPolyfill.isFloat(num)) {
              return /^-?\d+(?:\.(\d+))?$/.exec(num)[1].length;
            } else {
              return 0;
            }
          }
        }
      };
      numberPolyfill.prototype.getParams = function() {
        var max, min, step, val;
        step = this.elem.attr('step');
        min = this.elem.attr('min');
        max = this.elem.attr('max');
        val = this.elem.val();
        if (!numberPolyfill.isNumber(step)) {
          step = null;
        }
        if (!numberPolyfill.isNumber(min)) {
          min = null;
        }
        if (!numberPolyfill.isNumber(max)) {
          max = null;
        }
        if (!numberPolyfill.isNumber(val)) {
          val = min || 0;
        }
        return {
          min: (min != null) ? min : null,
          max: (max != null) ? max : null,
          step: (step != null) ? step : "1",
          val: (val != null) ? val : null
        };
      };
      numberPolyfill.prototype.clipValues = function(value, min, max) {
        if ((max != null) && parseFloat(value) > parseFloat(max)) {
          return max;
        } else if ((min != null) && parseFloat(value) < parseFloat(min)) {
          return min;
        } else {
          return value;
        }
      };
      numberPolyfill.prototype.stepNormalize = function(value) {
        var cValue, min, params, sn, step;
        params = this.getParams();
        step = params['step'];
        min = params['min'];
        if (step == null) {
          return value;
        } else {
          step = numberPolyfill.raiseNum(step);
          cValue = numberPolyfill.raiseNum(value);
          if (cValue.precision > step.precision) {
            numberPolyfill.raiseNumPrecision(step, cValue.precision);
          } else if (cValue.precision < step.precision) {
            numberPolyfill.raiseNumPrecision(cValue, step.precision);
          }
          if (min != null) {
            cValue = numberPolyfill.raiseNum(numberPolyfill.preciseSubtract(value, min));
            numberPolyfill.raiseNumPrecision(cValue, step.precision);
          }
          if (parseFloat(cValue.num) % parseFloat(step.num) === 0) {
            return value;
          } else {
            cValue = numberPolyfill.lowerNum({
              num: (Math.round(parseFloat(cValue.num) / (sn = parseFloat(step.num))) * sn).toString(),
              precision: cValue.precision
            });
            if (min != null) {
              cValue = numberPolyfill.preciseAdd(cValue, min);
            }
            return cValue;
          }
        }
      };
      numberPolyfill.domMouseScrollHandler = function(evt) {
        var p;
        p = evt.data.p;
        evt.preventDefault();
        if (evt.originalEvent.detail < 0) {
          p.increment();
        } else {
          p.decrement();
        }
      };
      numberPolyfill.mouseWheelHandler = function(evt) {
        var p;
        p = evt.data.p;
        evt.preventDefault();
        if (evt.originalEvent.wheelDelta > 0) {
          p.increment();
        } else {
          p.decrement();
        }
      };
      numberPolyfill.elemKeypressHandler = function(evt) {
        var p, _ref, _ref1;
        p = evt.data.p;
        if (evt.keyCode === 38) {
          p.increment();
        } else if (evt.keyCode === 40) {
          p.decrement();
        } else if (((_ref = evt.keyCode) !== 8 && _ref !== 9 && _ref !== 35 && _ref !== 36 && _ref !== 37 && _ref !== 39 && _ref !== 46) && ((_ref1 = evt.which) !== 45 && _ref1 !== 46 && _ref1 !== 48 && _ref1 !== 49 && _ref1 !== 50 && _ref1 !== 51 && _ref1 !== 52 && _ref1 !== 53 && _ref1 !== 54 && _ref1 !== 55 && _ref1 !== 56 && _ref1 !== 57)) {
          evt.preventDefault();
        }
      };
      numberPolyfill.elemChangeHandler = function(evt) {
        var min, newVal, p, params;
        p = evt.data.p;
        if (p.elem.val() !== "") {
          if (numberPolyfill.isNumber(p.elem.val())) {
            params = p.getParams();
            newVal = p.clipValues(params['val'], params['min'], params['max']);
            newVal = p.stepNormalize(newVal);
            if (newVal.toString() !== p.elem.val()) {
              p.elem.val(newVal).change();
            }
          } else {
            min = p.elem.attr('min');
            p.elem.val((min != null) && numberPolyfill.isNumber(min) ? min : "0").change();
          }
        }
      };
      numberPolyfill.elemBtnMousedownHandler = function(evt) {
        var func, p, releaseFunc, timeoutFunc,
          _this = this;
        p = evt.data.p;
        func = evt.data.func;
        p[func]();
        timeoutFunc = function(incFunc) {
          p[func]();
          p.timeoutID = window.setTimeout(timeoutFunc, 10);
        };
        releaseFunc = function(e) {
          window.clearTimeout(p.timeoutID);
          $(document).off('mouseup', releaseFunc);
          $(_this).off('mouseleave', releaseFunc);
        };
        $(document).on('mouseup', releaseFunc);
        $(this).on('mouseleave', releaseFunc);
        p.timeoutID = window.setTimeout(timeoutFunc, 700);
      };
      numberPolyfill.prototype.attrMutationHandler = function(name, oldValue, newValue) {
        var ei, h, _i, _len, _ref;
        if (name === "class" || name === "style") {
          h = {};
          ei = null;
          _ref = ["opacity", "visibility", "-moz-transition-property", "-moz-transition-duration", "-moz-transition-timing-function", "-moz-transition-delay", "-webkit-transition-property", "-webkit-transition-duration", "-webkit-transition-timing-function", "-webkit-transition-delay", "-o-transition-property", "-o-transition-duration", "-o-transition-timing-function", "-o-transition-delay", "transition-property", "transition-duration", "transition-timing-function", "transition-delay"];
          for (_i = 0, _len = _ref.length; _i < _len; _i++) {
            i = _ref[_i];
            if ((ei = this.elem.css(i)) !== this.btnContainer.css(i)) {
              h[i] = ei;
            }
          }
          if (this.elem.css("display") === "none") {
            h["display"] = "none";
          } else {
            h["display"] = "inline-block";
          }
          this.btnContainer.css(h);
        } else if (name === "min" || name === "max" || name === "step") {
          this.elem.change();
        }
      };
      numberPolyfill.prototype.increment = function() {
        var newVal, params;
        if (!(this.elem.is(":disabled") || this.elem.is("[readonly]"))) {
          params = this.getParams();
          newVal = numberPolyfill.preciseAdd(params['val'], params['step']);
          if ((params['max'] != null) && parseFloat(newVal) > parseFloat(params['max'])) {
            newVal = params['max'];
          }
          newVal = this.stepNormalize(newVal);
          this.elem.val(newVal).change();
        }
      };
      numberPolyfill.prototype.decrement = function() {
        var newVal, params;
        if (!(this.elem.is(":disabled") || this.elem.is("[readonly]"))) {
          params = this.getParams();
          newVal = numberPolyfill.preciseSubtract(params['val'], params['step']);
          if ((params['min'] != null) && parseFloat(newVal) < parseFloat(params['min'])) {
            newVal = params['min'];
          }
          newVal = this.stepNormalize(newVal);
          this.elem.val(newVal).change();
        }
      };
    } else {
      $.fn.inputNumber = function() {
        return $(this);
      };
      return;
    }
    $(function() {
      $('input[type="number"]').inputNumber();
    });
  })(jQuery);

  // IE11 polyfile for .closest
  if (!Element.prototype.closest) {
    if (!Element.prototype.matches) {
      Element.prototype.matches = Element.prototype.msMatchesSelector ||
          Element.prototype.webkitMatchesSelector;
    }

    Element.prototype.closest = function(s) {
      var el = this;

      do {
        if (el.matches(s)) return el;
        el = el.parentElement || el.parentNode;
      } while (el !== null && el.nodeType === 1);
      return null;
    };
  }

}).call(this);
$(document).ready(function() {

    // console.log( "ready!" );

	'use strict';
	
	var $doc = $(document);
	
	$doc.foundation();
	
	window.sl = window.sl || {};
	window.sl.pageProperties = {};
	window.sl.pageProperties.videoViewers = {};
	
	var viewers = {
		findViewers: function(){
			$('.video-viewer').each(function(){
				var $this = $(this);

				if($this.hasClass('medium') || $this.hasClass('large')) {
					if($this.hasClass('large') && Foundation.MediaQuery.atLeast('large')) {							
						viewers.initViewer($(this)[0]);
					} else if ($this.hasClass('medium') && !Foundation.MediaQuery.atLeast('large')) {
						viewers.initViewer($(this)[0]); 
					}
				} else {
					viewers.initViewer($(this)[0]);
				}	

			});
		},
		initViewer: function(element){
			var settings = JSON.parse($(element).attr('data-video-settings'));

			var videoViewer = new s7viewers.VideoViewer();

			videoViewer.setParam('serverurl', settings.serverurl);
			videoViewer.setParam('videoserverurl', settings.videoserverurl);
			videoViewer.setParam('contenturl', settings.contenturl);
			videoViewer.setParam('asset', settings.asset); // configurable
			if(settings.posterimage !== '' || settings.posterimage !== null) {
	            videoViewer.setParam('posterimage', settings.posterimage); // configurable
	        }
			videoViewer.setParam('config', settings.config); // configurable
			videoViewer.setParam('config2', settings.config2);
			videoViewer.setHandlers({
				'initComplete': function() {
					var videoPlayer = videoViewer.getComponent('videoPlayer');
					videoPlayer.addEventListener(s7sdk.event.CapabilityStateEvent.NOTF_VIDEO_CAPABILITY_STATE, viewers.onVideoStateChange, false);

					if(($('.slick-active').find('.video-viewer')) && settings.autoplay === 1) {
						if($('.slick-active').find('.video-viewer').attr('id') === videoViewer.containerId){
							videoPlayer.play();
						}
					}
					
					// If the active slide is in the video gallery and it's not the first slide, play video above medium viewports regardless of the autoplay setting.
					if(($('.slick-active').closest('.slbs2-video-gallery').length) && ($('.slick-active').attr('data-slick-index') !== '0')) {
						if(Foundation.MediaQuery.atLeast('medium')) {
							videoPlayer.play();
						}
					}

					if ('ontouchstart' in window){
						$(document).on('touchstart', '#' + videoViewer.containerId + ' .s7iconeffect', function(){
							videoPlayer.play();
						});
					}

					//console.log(videoViewer.containerId + ' has been initialized');

				}
			});

			videoViewer.setContainerId(settings.containerId); // configurable

			if($('#' + videoViewer.containerId).closest('.slbs2-video-gallery').length > 0){ // jshint ignore:line
				//wait for video gallery to initialize specific videos
				if(window.sl.pageProperties.videoViewersToInit && window.sl.pageProperties.videoViewersToInit[videoViewer.containerId]) {
					videoViewer.init();
				}
			} else {
				videoViewer.init();
			}

			window.sl.pageProperties.videoViewers[settings.containerId] = videoViewer;
		},
		onVideoStateChange: function(event) {
			var $player = $(this);
			var inCarousel = false;
			var $carousel = $player.closest('.carousel');
			if($carousel.length > 0){
				inCarousel = true;
			}

			var cap = event.s7event.state;
			if (cap.hasCapability(s7sdk.VideoCapabilityState.PAUSE)) {
				// is playing
				
				//pause auto-rotate, if necessary
				if(inCarousel){
	//				console.log('pausing parent carousel');
					$carousel.find('.slick-initialized').slick('slickPause');

					//hide/show carousel play/pause button to avoid user confusion
					$carousel.find('.autoplay-toggle').fadeOut();
				}
			}
			else if (cap.hasCapability(s7sdk.VideoCapabilityState.PLAY) || cap.hasCapability(s7sdk.VideoCapabilityState.REPLAY)) {
				// is paused or stopped

				//resume auto-rotate, if necessary
				if(inCarousel && $carousel.hasClass('autoplay')){
	//				console.log('resuming parent carousel');
					$carousel.find('.slick-initialized').slick('slickPlay');

					//hide/show carousel play/pause button to avoid user confusion
					$carousel.find('.autoplay-toggle').fadeIn();
				}
			}
		},
		modalEvents: function() {
			
		   $doc.on('open.zf.reveal', function(el) { 
				var $video = $(el.target).find('.video-modal-viewer');
				if( $video.length > 0 ){
					var settings = JSON.parse($video.attr('data-video-settings'));
					var videoID = settings.containerId;
				   
					if(window.sl.pageProperties.videoViewers[videoID] === undefined){
						//needs initialized

						viewers.initViewer($video[0]);
					} else {
						//already initialized
						viewers.reactivateVideo(videoID, settings);
					}
				}
			});

			$doc.on('closed.zf.reveal', function(el) {
				var videoModals = $(el.target).find('.video-modal-viewer');
				$(videoModals).each(function() {
					viewers.pausePreviouslyShownVideo($(this));
				});
			});
			
		},
		viewportChangeEvents: function() {
			
			$(window).on('changed.zf.mediaquery', function(event, newSize, oldSize) {    	
				if (Foundation.MediaQuery.atLeast('large') && (oldSize === "medium" || oldSize === "small")) {
					$('.video-viewer.large').each(function(){
						viewers.initPreviouslyHiddenVideo($(this));
					});
				}

				if ((newSize === "medium" || newSize === "small") && (oldSize === "large" || oldSize === "xlarge" || oldSize === "xxlarge")) {			
					$('.video-viewer.medium').each(function(){
						viewers.initPreviouslyHiddenVideo($(this));
					});
				}
			});  
		},
		initPreviouslyHiddenVideo: function($video) {
			var settings = JSON.parse($video.attr('data-video-settings'));

			var videoID = settings.containerId;

			if(Foundation.MediaQuery.atLeast('large')) {
				$('.video-viewer.medium').each(function() {
					viewers.pausePreviouslyShownVideo($(this));
				});
			} else {
				$('.video-viewer.large').each(function() {
					viewers.pausePreviouslyShownVideo($(this));
				});
			}
			
			if(window.sl.pageProperties.videoViewers[videoID] === undefined){
				//needs initialized

				viewers.initViewer($video[0]);
			} else {
				//already initialized
				viewers.reactivateVideo(videoID, settings);
			}
		},
		pausePreviouslyShownVideo: function($video) {
			var otherVideoSettings = JSON.parse($video.attr('data-video-settings'));
			var otherVideoID = otherVideoSettings.containerId;
			var videoPlayer = false;

			if(window.sl.pageProperties.videoViewers && window.sl.pageProperties.videoViewers[otherVideoID] && window.sl.pageProperties.videoViewers[otherVideoID].getComponent('videoPlayer')){
				videoPlayer = window.sl.pageProperties.videoViewers[otherVideoID].getComponent('videoPlayer');
				videoPlayer.pause();
			}
		},
		reactivateVideo: function(videoID, settings) {
			var videoPlayer = false;
			if(window.sl.pageProperties.videoViewers && window.sl.pageProperties.videoViewers[videoID] && window.sl.pageProperties.videoViewers[videoID].getComponent('videoPlayer')){
				videoPlayer = window.sl.pageProperties.videoViewers[videoID].getComponent('videoPlayer');
			}

			if(videoPlayer && settings.autoplay === '1'){
				if( (videoPlayer.getDuration() - videoPlayer.getCurrentTime()) <= 1 ) {
					videoPlayer.seek(0);
				}

				videoPlayer.play();
			}
		}
	};

	viewers.findViewers();
	viewers.modalEvents();
	viewers.viewportChangeEvents();

	return viewers;

});

(function($, document, window) {

  var casestudies = {

    'caseStudyList': null,
    'filterBar': $('.js-case-study-filter-bar'),
    'labelList': $('.js-label-list'),
    'articleList': $('.js-case-study-articles'),
    'caseStudyArticleTemplate': $('#caseStudyArticleTemplate'),
    'filters': [],

    init: function() {
      // console.log('init case studies');
      var _this = this;

      _this.populateArticles();

      // Show filter bar
      _this.filterBar.removeClass('active');

      // Initialize Click Events
      $('.js-clear-all').on('click', function clearAllFilters(event) {
        event.preventDefault();
        // Iterate over elements and remove the filter
        $.each(_this.labelList.find('.label'), function(index, obj) {
          _this.removeFilter($(obj), $(obj).attr('data-label'));
        });
      });

      $('.slbs2-page-case-study-landing').on('click', '.js-filter-tag', function filterTagClick(event) {
        event.preventDefault();
        var tagName = $(this).attr('data-tagName');

        if ($('.label[data-label="' + tagName + '"]').length === 0) {
          _this.addFilter(tagName, $(this).attr('data-displayName'));
        }
        _this.scrollToFilters();

      });

      $('.js-label-list').on('click', '.label', function removeFilterClick() {
        _this.removeFilter($(this), $(this).attr('data-label'));
      });

    },
    scrollToFilters: function(){

      var scrollTop = $('.case-study-filter-bar').offset().top;

      if( !Foundation.MediaQuery.atLeast('large') ){
        scrollTop = scrollTop - $('.slbs2-header').height();
      }

      $(window).scrollTop(scrollTop);
    },
    initializeHash: function() {
      var _this = this;

      // Initialize hash from URL if there is one
      if (!!document.location.hash) {
        var tags = document.location.hash.substring(1).split(',');

        for (var i = 0; i < tags.length; i++) {
          // Find an element on the page with the tag and add the filter to the page
          var elements = $('[data-tagName="' + tags[i] +'"]');

          if (elements.length > 0) {
            _this.addFilter(tags[i], $(elements[0]).attr('data-displayName'));
          }
        }
        _this.scrollToFilters();
      }

    },

    populateArticles: function() {
      var _this = this;

      // Fetch template
      var template = Handlebars.compile(_this.caseStudyArticleTemplate.html());

      // Get JSON to iterate over
      $.getJSON( "/sl/stat/casestudylist.json", function(data) {

        $.each(data, function(index, obj) {
          var article = template(obj);
          _this.articleList.append(article);
        });

        _this.initializeHash();

      });

      // Helper for the attribute list
      Handlebars.registerHelper('attributeList', function(tags) {
        var tagsToShow = [];

        $.each(tags, function(index, obj) {
          tagsToShow.push(obj.id);
        });

        return tagsToShow.join(",");
      });

      // Helper for ellipses
      Handlebars.registerHelper('ellipses', function(phrase) {
        if (phrase.length >= 30) {
          return phrase.substring(0, 30) + "...";
        } else {
          return phrase;
        }
      });

      

    },

    addFilter: function(tagName, displayName) {
      // console.log('add filter with this tag name: ' + tagName);
      var _this = this;

      // Show filter bar
      _this.filterBar.addClass('active');

      // Inject filter label to the page
      var filter = $('<span class="label" data-label="'+tagName+'">');
      filter.html(displayName);
      _this.labelList.append(filter);

      // Add tagname to saved filters
      _this.filters.push(tagName);

      _this.applyFilters();
    },

    removeFilter: function(filterListElement, tagName) {
      // console.log('remove filter with this tag name: ' + tagName);
      var _this = this;

      // Remove tagname from saved filters
      var tagNameIndex = _this.filters.indexOf(tagName);
      if (tagNameIndex > -1) {
        _this.filters.splice(tagNameIndex, 1);
      }

      // Remove filter label from the page
      filterListElement.remove();

      // Remove filter bar if no filters are left
      if (_this.filters.length === 0) {
        _this.filterBar.removeClass('active');
      }

      _this.applyFilters();
    },

    applyFilters: function() {
      var _this = this;
      var filterString = '';

      // If there are filters, show the filtered articles
      if (_this.filters.length > 0) {

        // Hide all articles
        $('.case-study-article').hide();

        // Create filter string
        for (var i=0; i < _this.filters.length; i++) {
          filterString += '[data-article-tags*="' + _this.filters[i] + '"]';
        }

        // Show filtered articles
        $('.case-study-article').filter(filterString).show();

      } else {
        // Show all articles otherwise
        $('.case-study-article').show();
      }

    }
  };

  $(document).on('ready', function() {
    if (!isEdit && !isDesign && typeof isCaseStudyTemplate != 'undefined') {
      // Initialize case studies
      casestudies.init();
    }
  });

})(jQuery, document, window);
!function(){"use strict";function e(n){return"undefined"==typeof this||Object.getPrototypeOf(this)!==e.prototype?new e(n):(O=this,O.version="3.3.1",O.tools=new E,O.isSupported()?(O.tools.extend(O.defaults,n||{}),t(O.defaults),O.store={elements:{},containers:[]},O.sequences={},O.history=[],O.uid=0,O.initialized=!1):"undefined"!=typeof console&&null!==console,O)}function t(e){if(e&&e.container){if("string"==typeof e.container)return window.document.documentElement.querySelector(e.container);if(O.tools.isNode(e.container))return e.container}return O.defaults.container}function n(e,t){return"string"==typeof e?Array.prototype.slice.call(t.querySelectorAll(e)):O.tools.isNode(e)?[e]:O.tools.isNodeList(e)?Array.prototype.slice.call(e):[]}function i(){return++O.uid}function o(e,t,n){t.container&&(t.container=n),e.config?e.config=O.tools.extendClone(e.config,t):e.config=O.tools.extendClone(O.defaults,t),"top"===e.config.origin||"bottom"===e.config.origin?e.config.axis="Y":e.config.axis="X"}function r(e){var t=window.getComputedStyle(e.domEl);e.styles||(e.styles={transition:{},transform:{},computed:{}},e.styles.inline=e.domEl.getAttribute("style")||"",e.styles.inline+="; visibility: visible; ",e.styles.computed.opacity=t.opacity,t.transition&&"all 0s ease 0s"!==t.transition?e.styles.computed.transition=t.transition+", ":e.styles.computed.transition=""),e.styles.transition.instant=s(e,0),e.styles.transition.delayed=s(e,e.config.delay),e.styles.transform.initial=" -webkit-transform:",e.styles.transform.target=" -webkit-transform:",a(e),e.styles.transform.initial+="transform:",e.styles.transform.target+="transform:",a(e)}function s(e,t){var n=e.config;return"-webkit-transition: "+e.styles.computed.transition+"-webkit-transform "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s, opacity "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s; transition: "+e.styles.computed.transition+"transform "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s, opacity "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s; "}function a(e){var t,n=e.config,i=e.styles.transform;t="top"===n.origin||"left"===n.origin?/^-/.test(n.distance)?n.distance.substr(1):"-"+n.distance:n.distance,parseInt(n.distance)&&(i.initial+=" translate"+n.axis+"("+t+")",i.target+=" translate"+n.axis+"(0)"),n.scale&&(i.initial+=" scale("+n.scale+")",i.target+=" scale(1)"),n.rotate.x&&(i.initial+=" rotateX("+n.rotate.x+"deg)",i.target+=" rotateX(0)"),n.rotate.y&&(i.initial+=" rotateY("+n.rotate.y+"deg)",i.target+=" rotateY(0)"),n.rotate.z&&(i.initial+=" rotateZ("+n.rotate.z+"deg)",i.target+=" rotateZ(0)"),i.initial+="; opacity: "+n.opacity+";",i.target+="; opacity: "+e.styles.computed.opacity+";"}function l(e){var t=e.config.container;t&&O.store.containers.indexOf(t)===-1&&O.store.containers.push(e.config.container),O.store.elements[e.id]=e}function c(e,t,n){var i={target:e,config:t,interval:n};O.history.push(i)}function f(){if(O.isSupported()){y();for(var e=0;e<O.store.containers.length;e++)O.store.containers[e].addEventListener("scroll",d),O.store.containers[e].addEventListener("resize",d);O.initialized||(window.addEventListener("scroll",d),window.addEventListener("resize",d),O.initialized=!0)}return O}function d(){T(y)}function u(){var e,t,n,i;O.tools.forOwn(O.sequences,function(o){i=O.sequences[o],e=!1;for(var r=0;r<i.elemIds.length;r++)n=i.elemIds[r],t=O.store.elements[n],q(t)&&!e&&(e=!0);i.active=e})}function y(){var e,t;u(),O.tools.forOwn(O.store.elements,function(n){t=O.store.elements[n],e=w(t),g(t)?(t.config.beforeReveal(t.domEl),e?t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.target+t.styles.transition.delayed):t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.target+t.styles.transition.instant),p("reveal",t,e),t.revealing=!0,t.seen=!0,t.sequence&&m(t,e)):v(t)&&(t.config.beforeReset(t.domEl),t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.initial+t.styles.transition.instant),p("reset",t),t.revealing=!1)})}function m(e,t){var n=0,i=0,o=O.sequences[e.sequence.id];o.blocked=!0,t&&"onload"===e.config.useDelay&&(i=e.config.delay),e.sequence.timer&&(n=Math.abs(e.sequence.timer.started-new Date),window.clearTimeout(e.sequence.timer)),e.sequence.timer={started:new Date},e.sequence.timer.clock=window.setTimeout(function(){o.blocked=!1,e.sequence.timer=null,d()},Math.abs(o.interval)+i-n)}function p(e,t,n){var i=0,o=0,r="after";switch(e){case"reveal":o=t.config.duration,n&&(o+=t.config.delay),r+="Reveal";break;case"reset":o=t.config.duration,r+="Reset"}t.timer&&(i=Math.abs(t.timer.started-new Date),window.clearTimeout(t.timer.clock)),t.timer={started:new Date},t.timer.clock=window.setTimeout(function(){t.config[r](t.domEl),t.timer=null},o-i)}function g(e){if(e.sequence){var t=O.sequences[e.sequence.id];return t.active&&!t.blocked&&!e.revealing&&!e.disabled}return q(e)&&!e.revealing&&!e.disabled}function w(e){var t=e.config.useDelay;return"always"===t||"onload"===t&&!O.initialized||"once"===t&&!e.seen}function v(e){if(e.sequence){var t=O.sequences[e.sequence.id];return!t.active&&e.config.reset&&e.revealing&&!e.disabled}return!q(e)&&e.config.reset&&e.revealing&&!e.disabled}function b(e){return{width:e.clientWidth,height:e.clientHeight}}function h(e){if(e&&e!==window.document.documentElement){var t=x(e);return{x:e.scrollLeft+t.left,y:e.scrollTop+t.top}}return{x:window.pageXOffset,y:window.pageYOffset}}function x(e){var t=0,n=0,i=e.offsetHeight,o=e.offsetWidth;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(n+=e.offsetLeft),e=e.offsetParent;while(e);return{top:t,left:n,height:i,width:o}}function q(e){function t(){var t=c+a*s,n=f+l*s,i=d-a*s,y=u-l*s,m=r.y+e.config.viewOffset.top,p=r.x+e.config.viewOffset.left,g=r.y-e.config.viewOffset.bottom+o.height,w=r.x-e.config.viewOffset.right+o.width;return t<g&&i>m&&n>p&&y<w}function n(){return"fixed"===window.getComputedStyle(e.domEl).position}var i=x(e.domEl),o=b(e.config.container),r=h(e.config.container),s=e.config.viewFactor,a=i.height,l=i.width,c=i.top,f=i.left,d=c+a,u=f+l;return t()||n()}function E(){}var O,T;e.prototype.defaults={origin:"bottom",distance:"20px",duration:500,delay:0,rotate:{x:0,y:0,z:0},opacity:0,scale:.9,easing:"cubic-bezier(0.6, 0.2, 0.1, 1)",container:window.document.documentElement,mobile:!0,reset:!1,useDelay:"always",viewFactor:.2,viewOffset:{top:0,right:0,bottom:0,left:0},beforeReveal:function(e){},afterReveal:function(e){},beforeReset:function(e){},afterReset:function(e){}},e.prototype.isSupported=function(){var e=document.documentElement.style;return"WebkitTransition"in e&&"WebkitTransform"in e||"transition"in e&&"transform"in e},e.prototype.reveal=function(e,s,a,d){var u,y,m,p,g,w;if(void 0!==s&&"number"==typeof s?(a=s,s={}):void 0!==s&&null!==s||(s={}),u=t(s),y=n(e,u),!y.length)return O;a&&"number"==typeof a&&(w=i(),g=O.sequences[w]={id:w,interval:a,elemIds:[],active:!1});for(var v=0;v<y.length;v++)p=y[v].getAttribute("data-sr-id"),p?m=O.store.elements[p]:(m={id:i(),domEl:y[v],seen:!1,revealing:!1},m.domEl.setAttribute("data-sr-id",m.id)),g&&(m.sequence={id:g.id,index:g.elemIds.length},g.elemIds.push(m.id)),o(m,s,u),r(m),l(m),O.tools.isMobile()&&!m.config.mobile||!O.isSupported()?(m.domEl.setAttribute("style",m.styles.inline),m.disabled=!0):m.revealing||m.domEl.setAttribute("style",m.styles.inline+m.styles.transform.initial);return!d&&O.isSupported()&&(c(e,s,a),O.initTimeout&&window.clearTimeout(O.initTimeout),O.initTimeout=window.setTimeout(f,0)),O},e.prototype.sync=function(){if(O.history.length&&O.isSupported()){for(var e=0;e<O.history.length;e++){var t=O.history[e];O.reveal(t.target,t.config,t.interval,!0)}f()}return O},E.prototype.isObject=function(e){return null!==e&&"object"==typeof e&&e.constructor===Object},E.prototype.isNode=function(e){return"object"==typeof window.Node?e instanceof window.Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},E.prototype.isNodeList=function(e){var t=Object.prototype.toString.call(e),n=/^\[object (HTMLCollection|NodeList|Object)\]$/;return"object"==typeof window.NodeList?e instanceof window.NodeList:e&&"object"==typeof e&&n.test(t)&&"number"==typeof e.length&&(0===e.length||this.isNode(e[0]))},E.prototype.forOwn=function(e,t){if(!this.isObject(e))throw new TypeError('Expected "object", but received "'+typeof e+'".');for(var n in e)e.hasOwnProperty(n)&&t(n)},E.prototype.extend=function(e,t){return this.forOwn(t,function(n){this.isObject(t[n])?(e[n]&&this.isObject(e[n])||(e[n]={}),this.extend(e[n],t[n])):e[n]=t[n]}.bind(this)),e},E.prototype.extendClone=function(e,t){return this.extend(this.extend({},e),t)},E.prototype.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},T=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window.ScrollReveal=e}();
/*! jQuery & Zepto Lazy v1.7.4 - http://jquery.eisbehr.de/lazy - MIT&GPL-2.0 license - Copyright 2012-2016 Daniel 'Eisbehr' Kern */
!function(t,e){"use strict";function r(r,a,i,l,u){function f(){L=t.devicePixelRatio>1,c(i),a.delay>=0&&setTimeout(function(){s(!0)},a.delay),(a.delay<0||a.combined)&&(l.e=v(a.throttle,function(t){"resize"===t.type&&(w=B=-1),s(t.all)}),l.a=function(t){c(t),i.push.apply(i,t)},l.g=function(){return i=n(i).filter(function(){return!n(this).data(a.loadedName)})},l.f=function(t){for(var e=0;e<t.length;e++){var r=i.filter(t[e]);r.length&&s(!1,r)}},s(),n(a.appendScroll).on("scroll."+u+" resize."+u,l.e))}function c(t){var i=a.defaultImage,o=a.placeholder,l=a.imageBase,u=a.srcsetAttribute,f=a.loaderAttribute,c=a._f||{};t=n(t).filter(function(){var t=n(this),r=m(this);return!t.data(a.handledName)&&(t.attr(a.attribute)||t.attr(u)||t.attr(f)||c[r]!==e)}).data("plugin_"+a.name,r);for(var s=0,d=t.length;s<d;s++){var A=n(t[s]),g=m(t[s]),h=A.attr(a.imageBaseAttribute)||l;g==N&&h&&A.attr(u)&&A.attr(u,b(A.attr(u),h)),c[g]===e||A.attr(f)||A.attr(f,c[g]),g==N&&i&&!A.attr(E)?A.attr(E,i):g==N||!o||A.css(O)&&"none"!=A.css(O)||A.css(O,"url('"+o+"')")}}function s(t,e){if(!i.length)return void(a.autoDestroy&&r.destroy());for(var o=e||i,l=!1,u=a.imageBase||"",f=a.srcsetAttribute,c=a.handledName,s=0;s<o.length;s++)if(t||e||A(o[s])){var g=n(o[s]),h=m(o[s]),b=g.attr(a.attribute),v=g.attr(a.imageBaseAttribute)||u,p=g.attr(a.loaderAttribute);g.data(c)||a.visibleOnly&&!g.is(":visible")||!((b||g.attr(f))&&(h==N&&(v+b!=g.attr(E)||g.attr(f)!=g.attr(F))||h!=N&&v+b!=g.css(O))||p)||(l=!0,g.data(c,!0),d(g,h,v,p))}l&&(i=n(i).filter(function(){return!n(this).data(c)}))}function d(t,e,r,i){++z;var o=function(){y("onError",t),p(),o=n.noop};y("beforeLoad",t);var l=a.attribute,u=a.srcsetAttribute,f=a.sizesAttribute,c=a.retinaAttribute,s=a.removeAttribute,d=a.loadedName,A=t.attr(c);if(i){var g=function(){s&&t.removeAttr(a.loaderAttribute),t.data(d,!0),y(T,t),setTimeout(p,1),g=n.noop};t.off(I).one(I,o).one(D,g),y(i,t,function(e){e?(t.off(D),g()):(t.off(I),o())})||t.trigger(I)}else{var h=n(new Image);h.one(I,o).one(D,function(){t.hide(),e==N?t.attr(C,h.attr(C)).attr(F,h.attr(F)).attr(E,h.attr(E)):t.css(O,"url('"+h.attr(E)+"')"),t[a.effect](a.effectTime),s&&(t.removeAttr(l+" "+u+" "+c+" "+a.imageBaseAttribute),f!==C&&t.removeAttr(f)),t.data(d,!0),y(T,t),h.remove(),p()});var m=(L&&A?A:t.attr(l))||"";h.attr(C,t.attr(f)).attr(F,t.attr(u)).attr(E,m?r+m:null),h.complete&&h.trigger(D)}}function A(t){var e=t.getBoundingClientRect(),r=a.scrollDirection,n=a.threshold,i=h()+n>e.top&&-n<e.bottom,o=g()+n>e.left&&-n<e.right;return"vertical"==r?i:"horizontal"==r?o:i&&o}function g(){return w>=0?w:w=n(t).width()}function h(){return B>=0?B:B=n(t).height()}function m(t){return t.tagName.toLowerCase()}function b(t,e){if(e){var r=t.split(",");t="";for(var a=0,n=r.length;a<n;a++)t+=e+r[a].trim()+(a!==n-1?",":"")}return t}function v(t,e){var n,i=0;return function(o,l){function u(){i=+new Date,e.call(r,o)}var f=+new Date-i;n&&clearTimeout(n),f>t||!a.enableThrottle||l?u():n=setTimeout(u,t-f)}}function p(){--z,i.length||z||y("onFinishedAll")}function y(t,e,n){return!!(t=a[t])&&(t.apply(r,[].slice.call(arguments,1)),!0)}var z=0,w=-1,B=-1,L=!1,T="afterLoad",D="load",I="error",N="img",E="src",F="srcset",C="sizes",O="background-image";"event"==a.bind||o?f():n(t).on(D+"."+u,f)}function a(a,o){var l=this,u=n.extend({},l.config,o),f={},c=u.name+"-"+ ++i;return l.config=function(t,r){return r===e?u[t]:(u[t]=r,l)},l.addItems=function(t){return f.a&&f.a("string"===n.type(t)?n(t):t),l},l.getItems=function(){return f.g?f.g():{}},l.update=function(t){return f.e&&f.e({},!t),l},l.force=function(t){return f.f&&f.f("string"===n.type(t)?n(t):t),l},l.loadAll=function(){return f.e&&f.e({all:!0},!0),l},l.destroy=function(){return n(u.appendScroll).off("."+c,f.e),n(t).off("."+c),f={},e},r(l,u,a,f,c),u.chainable?a:l}var n=t.jQuery||t.Zepto,i=0,o=!1;n.fn.Lazy=n.fn.lazy=function(t){return new a(this,t)},n.Lazy=n.lazy=function(t,r,i){if(n.isFunction(r)&&(i=r,r=[]),n.isFunction(i)){t=n.isArray(t)?t:[t],r=n.isArray(r)?r:[r];for(var o=a.prototype.config,l=o._f||(o._f={}),u=0,f=t.length;u<f;u++)(o[t[u]]===e||n.isFunction(o[t[u]]))&&(o[t[u]]=i);for(var c=0,s=r.length;c<s;c++)l[r[c]]=t[0]}},a.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:t,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e},n(t).on("load",function(){o=!0})}(window);
/*!
 * Responsive Tables v5.0.4 (http://gergeo.se/RWD-Table-Patterns)
 * This is an awesome solution for responsive tables with complex data.
 * Authors: Nadan Gergeo <nadan.gergeo@gmail.com> (www.gergeo.se) & Maggie Wachs (www.filamentgroup.com)
 * Licensed under MIT (https://github.com/nadangergeo/RWD-Table-Patterns/blob/master/LICENSE-MIT)
 */
(function ($) {
    'use strict';

    // RESPONSIVE TABLE CLASS DEFINITION
    // ==========================

    var ResponsiveTable = function (element, options) {
        var that = this;

        this.options = options;
        this.$tableWrapper = null; //defined later in wrapTable
        this.$tableScrollWrapper = $(element); //defined later in wrapTable
        this.$table = $(element).find('table');

        if (this.$table.length !== 1) {
            throw new Error('Exactly one table is expected in a .table-responsive div.');
        }

        //apply pattern option as data-attribute, in case it was set via js
        this.$tableScrollWrapper.attr('data-pattern', this.options.pattern);

        //if the table doesn't have a unique id, give it one.
        //The id will be a random hexadecimal value, prefixed with id.
        //Used for triggers with displayAll button.
        this.id = this.$table.prop('id') || this.$tableScrollWrapper.prop('id') || 'id' + Math.random().toString(16).slice(2);

        this.$tableClone = null; //defined farther down
        this.$stickyTableHeader = null; //defined farther down

        //good to have - for easy access
        this.$thead = this.$table.find('thead');
        this.$tbody = this.$table.find('tbody');
        this.$hdrCells = this.$thead.find('th');
        this.$bodyRows = this.$tbody.find('tr');

        //toolbar and buttons
        this.$btnToolbar = null; //defined farther down
        this.$dropdownGroup = null; //defined farther down
        this.$dropdownBtn = null; //defined farther down
        this.$dropdownContainer = null; //defined farther down

        this.$displayAllBtn = null; //defined farther down

        this.$focusGroup = null; //defined farther down
        this.$focusBtn = null; //defined farther down

        //misc
        this.displayAllTrigger = 'display-all-' + this.id + '.responsive-table';
        this.idPrefix = this.id + '-col-';

        // Check if iOS
        // property to save performance
        this.iOS = isIOS();

        // Setup table
        // -------------------------

        //wrap table
        this.wrapTable();

        //create toolbar with buttons
        this.createButtonToolbar();

        // Setup cells
        // -------------------------

        //setup header cells
        this.setupHdrCells();

        //setup standard cells
        this.setupStandardCells();

        //create sticky table head
        if (this.options.stickyTableHeader) {
            this.createStickyTableHeader();
        }

        // hide toggle button if the list is empty
        if (this.$dropdownContainer.is(':empty')) {
            this.$dropdownGroup.hide();
        }

        this.makeSticky('resize');

        // Event binding
        // -------------------------

        // on orientchange, resize and displayAllBtn-click
        $(window).bind('orientationchange resize ' + this.displayAllTrigger, function () {

            //update the inputs' checked status
            that.$dropdownContainer.find('input').trigger('updateCheck');

            //update colspan and visibility of spanning cells
            $.proxy(that.updateSpanningCells(), that);

            ResponsiveTable.prototype.makeSticky('resize')


        });
    };

    ResponsiveTable.DEFAULTS = {
        pattern: 'priority-columns',
        stickyTableHeader: false,
        fixedNavbar: '.navbar-fixed-top',  // Is there a fixed navbar? The stickyTableHeader needs to know about it!
        addDisplayAllBtn: true, // should it have a display-all button?
        addFocusBtn: true,  // should it have a focus button?
        focusBtnIcon: 'glyphicon glyphicon-screenshot'
    };

    //Make the first column sticky
    ResponsiveTable.prototype.makeSticky = function (arg) {

        //console.log('arg:', arg)

        var $dropDownMenuItems = $('ul.dropdown-menu li input[type="checkbox"]')
        var $selectedColumn = null
        var hasChecked = false
        //var $table = $('.table:not(.fixed-column)');
        var $table = $('#product-data:not(.fixed-column)');//Changed to avoid sticky column being added to every and any table component

        var getSize = function(){
            $dropDownMenuItems.each(function(){
                if($(this).is(':checked') && hasChecked == false){
                    $selectedColumn = $(this).val()
                    hasChecked = true
                    if ($selectedColumn == 'on'){
                        $selectedColumn = 'product-data-col-0'
                    }
                }
            });
        }

        var resize = function(){
            $('.table.fixed-column').remove();

            getSize();

            var $fixedColumn = $table.clone().insertBefore($table).addClass('fixed-column');
            $fixedColumn.find('th:not("#' + $selectedColumn +'"),td:not([data-columns="' + $selectedColumn + '"])').remove();

            var $scrollingTable = $('.table:not(.fixed-column)');
            var width = $scrollingTable.find("#" + $selectedColumn +"").outerWidth()
            $('.table.fixed-column').find('th, td').css('width', width - 9)

            // disable sticky nav for checkbox column.
            if($fixedColumn.find('input').attr('type') == 'checkbox'){
                $fixedColumn.remove();
            }
        }

        //Added to make sticky colunm rows match corresponding rows in the table beneath it
         var resizeStickyCells = function() {
            $('.table.fixed-column tr').each(function(index) {
                var currCell = $(this);
                var corrRow = $table.find('tbody tr').eq(index - 1);
                var newHeight = corrRow[0].getBoundingClientRect().height;//Done this way to include subpixels
                currCell.css('height' , newHeight);
            });
         }

        if (arg == 'resize'){
            resize();
            resizeStickyCells();
        } else {
            getSize();
            resizeStickyCells();
        }

    }

    // Wrap table
    ResponsiveTable.prototype.wrapTable = function () {
        this.$tableScrollWrapper.wrap('<div class="table-wrapper"/>');
        this.$tableWrapper = this.$tableScrollWrapper.parent();
    };

    // Create toolbar with buttons
    ResponsiveTable.prototype.createButtonToolbar = function () {
        var that = this;

        this.$btnToolbar = $('<div class="btn-toolbar" />');

        this.$dropdownGroup = $('<div class="btn-group dropdown-btn-group pull-right" />');
        this.$dropdownBtn = $('<button class="btn btn-default dropdown-toggle" data-toggle="dropdown">Display <span class="caret"></span></button>');
        this.$dropdownContainer = $('<ul class="dropdown-menu"/>');

        // Focus btn
        if (this.options.addFocusBtn) {
            // Create focus btn group
            this.$focusGroup = $('<div class="btn-group focus-btn-group" />');

            // Create focus btn
            this.$focusBtn = $('<button class="btn btn-default">Focus</button>');

            if (this.options.focusBtnIcon) {
                this.$focusBtn.prepend('<span class="' + this.options.focusBtnIcon + '"></span> ');
            }

            // Add btn to group
            this.$focusGroup.append(this.$focusBtn);
            // Add focus btn to toolbar
            this.$btnToolbar.append(this.$focusGroup);

            // bind click on focus btn
            this.$focusBtn.click(function () {
                $.proxy(that.activateFocus(), that);
            });

            // bind click on rows
            this.$bodyRows.click(function () {
                $.proxy(that.focusOnRow($(this)), that);
            });
        }

        // Display-all btn
        if (this.options.addDisplayAllBtn) {
            // Create display-all btn
            // ORIGINAL CHANGED BY WAS 02250215             this.$displayAllBtn = $('<button class="btn btn-default">Display all</button>');
            this.$displayAllBtn = $('<li class="checkbox-row"><input type="checkbox" id="chkDisplayAll" /> <label>Show All</label></li><hr style="margin-top:10px;margin-bottom:10px;" />');

            // Add display-all btn to dropdown-btn-group
            // ORIGINAL CHANGED BY WAS 02250215             this.$dropdown.append(this.$displayAllBtn);
            this.$dropdownContainer.append(this.$displayAllBtn);

            if (this.$table.hasClass('display-all')) {
                // add 'btn-primary' class to btn to indicate that display all is activated
                this.$displayAllBtn.addClass('btn-primary');
            }

            //WAS Add toggle checkbox code
            var $chkDisplayAll = this.$displayAllBtn.find('input');
            this.$displayAllBtn.click(function () {
                //console.log("cliiiick!");
                $chkDisplayAll.prop('checked', !$chkDisplayAll.prop('checked'));
                $chkDisplayAll.trigger('change');
            });

            //Freakin' IE fix
            if ($('html').hasClass('lt-ie9')) {
                $chkDisplayAll.click(function () {
                    $(this).trigger('change');
                });
            }
//            this.$displayAllBtn.find('label').click(function (event) {
//                event.stopPropagation();
//            });


            // bind change event on checkbox
            this.$displayAllBtn.find('input')
                    .click(function (event) {
                        event.stopPropagation();
                    })
                .change(function () {
                    $.proxy(that.displayAll(null, true), that);
                });
            // bind click on display-all btn
            //ORIGINAL CODE (WAS 03062015)
            //this.$displayAllBtn.click(function () {
            //    $.proxy(that.displayAll(null, true), that);
            //});
        }

        //add dropdown btn and menu to dropdown-btn-group
        this.$dropdownGroup.append(this.$dropdownBtn).append(this.$dropdownContainer);

        //add dropdown group to toolbar
        this.$btnToolbar.append(this.$dropdownGroup);

        // add toolbar above table
        this.$tableScrollWrapper.before(this.$btnToolbar);
    };

    ResponsiveTable.prototype.clearAllFocus = function () {
        this.$bodyRows.removeClass('unfocused');
        this.$bodyRows.removeClass('focused');
    };

    ResponsiveTable.prototype.activateFocus = function () {
        // clear all
        this.clearAllFocus();

        if (this.$focusBtn) {
            this.$focusBtn.toggleClass('btn-primary');
        }

        this.$table.toggleClass('focus-on');
    };

    ResponsiveTable.prototype.focusOnRow = function (row) {
        // only if activated (.i.e the table has the class focus-on)
        if (this.$table.hasClass('focus-on')) {
            var alreadyFocused = $(row).hasClass('focused');

            // clear all
            this.clearAllFocus();

            if (!alreadyFocused) {
                this.$bodyRows.addClass('unfocused');
                $(row).addClass('focused');
            }
        }
    };

    /**
    * @param activate Forces the displayAll to be active or not. If anything else than bool, it will not force the state so it will toggle as normal.
    * @param trigger Bool to indicate if the displayAllTrigger should be triggered.
    */
    ResponsiveTable.prototype.displayAll = function (activate, trigger) {
        //ORIGINAL REMOVED BY WAS 02252015
        //if(this.$displayAllBtn){
        // add 'btn-primary' class to btn to indicate that display all is activated
        //    this.$displayAllBtn.toggleClass('btn-primary', activate);
        //}

        this.$table.toggleClass('display-all', activate);
        if (this.$tableClone) {
            this.$tableClone.toggleClass('display-all', activate);
        }

        if (trigger) {
            $(window).trigger(this.displayAllTrigger);
        }

    };

    ResponsiveTable.prototype.preserveDisplayAll = function () {
        var displayProp = 'table-cell';
        if ($('html').hasClass('lt-ie9')) {
            displayProp = 'inline';
        }

        $(this.$table).find('th, td').css('display', displayProp);
        if (this.$tableClone) {
            $(this.$tableClone).find('th, td').css('display', displayProp);
        }
    };

    ResponsiveTable.prototype.createStickyTableHeader = function () {
        var that = this;

        //clone table head
        that.$tableClone = that.$table.clone();

        //replace ids
        that.$tableClone.prop('id', this.id + '-clone');
        that.$tableClone.find('[id]').each(function () {
            $(this).prop('id', $(this).prop('id') + '-clone');
        });

        // wrap table clone (this is our "sticky table header" now)
        that.$tableClone.wrap('<div class="sticky-table-header"/>');
        that.$stickyTableHeader = that.$tableClone.parent();

        // give the sticky table header same height as original
        that.$stickyTableHeader.css('height', that.$thead.height() + 2);

        //insert sticky table header
        if ($('html').hasClass('lt-ie10')) {
            that.$tableWrapper.prepend(that.$stickyTableHeader);
        } else {
            that.$table.before(that.$stickyTableHeader);
        }

        // var bodyRowsClone = $(tableClone).find('tbody').find('tr');

        // bind scroll and resize with updateStickyTableHeader
        $(window).bind('scroll resize', function () {
            $.proxy(that.updateStickyTableHeader(), that);
        });

        $(that.$tableScrollWrapper).bind('scroll', function () {
            $.proxy(that.updateStickyTableHeader(), that);
        });
    };

    // Help function for sticky table header
    ResponsiveTable.prototype.updateStickyTableHeader = function () {
        var that = this,
          top = 0,
          offsetTop = that.$table.offset().top,
          scrollTop = $(window).scrollTop() - 1, //-1 to accomodate for top border
          maxTop = that.$table.height() - that.$stickyTableHeader.height(),
          rubberBandOffset = (scrollTop + $(window).height()) - $(document).height(),
        //          useFixedSolution  = that.$table.parent().prop('scrollWidth') === that.$table.parent().width();
          useFixedSolution = !that.iOS,
          navbarHeight = 0;

        //Is there a fixed navbar?
        if ($(that.options.fixedNavbar).length) {
            var $navbar = $(that.options.fixedNavbar).first();
            navbarHeight = $navbar.height();
            scrollTop = scrollTop + navbarHeight;
        }

        var shouldBeVisible = (scrollTop > offsetTop) && (scrollTop < offsetTop + that.$table.height());

        if (useFixedSolution) {
            that.$stickyTableHeader.scrollLeft(that.$tableScrollWrapper.scrollLeft());

            //add fixedSolution class
            that.$stickyTableHeader.addClass('fixed-solution');

            // Calculate top property value (-1 to accomodate for top border)
            top = navbarHeight - 1;

            // When the about to scroll past the table, move sticky table head up
            if (((scrollTop - offsetTop) > maxTop)) {
                top -= ((scrollTop - offsetTop) - maxTop);
                that.$stickyTableHeader.addClass('border-radius-fix');
            } else {
                that.$stickyTableHeader.removeClass('border-radius-fix');
            }

            if (shouldBeVisible) {
                //show sticky table header and update top and width.
                that.$stickyTableHeader.css({ 'visibility': 'visible', 'top': top + 'px', 'width': that.$tableScrollWrapper.innerWidth() + 'px' });

                //no more stuff to do - return!
                return;
            } else {
                //hide sticky table header and reset width
                that.$stickyTableHeader.css({ 'visibility': 'hidden', 'width': 'auto' });
            }

        } else { // alternate method
            //remove fixedSolution class
            that.$stickyTableHeader.removeClass('fixed-solution');

            //animation duration
            var animationDuration = 400;

            // Calculate top property value (-1 to accomodate for top border)
            top = scrollTop - offsetTop - 1;

            // Make sure the sticky table header doesn't slide up/down too far.
            if (top < 0) {
                top = 0;
            } else if (top > maxTop) {
                top = maxTop;
            }

            // Accomandate for rubber band effect
            if (rubberBandOffset > 0) {
                top = top - rubberBandOffset;
            }

            if (shouldBeVisible) {
                //show sticky table header (animate repositioning)
                that.$stickyTableHeader.css({ 'visibility': 'visible' });
                that.$stickyTableHeader.animate({ 'top': top + 'px' }, animationDuration);

                // hide original table head
                that.$thead.css({ 'visibility': 'hidden' });

            } else {

                that.$stickyTableHeader.animate({ 'top': '0' }, animationDuration, function () {
                    // show original table head
                    that.$thead.css({ 'visibility': 'visible' });

                    // hide sticky table head
                    that.$stickyTableHeader.css({ 'visibility': 'hidden' });
                });
            }
        }
    };

    // Setup header cells
    ResponsiveTable.prototype.setupHdrCells = function () {
        var that = this;

        // for each header column
        that.$hdrCells.each(function (i) {
            var $th = $(this),
                id = $th.prop('id'),
                thText = $th.text();

            // assign an id to each header, if none is in the markup
            if (!id) {
                id = that.idPrefix + i;
                $th.prop('id', id);
            }

            if (thText === '') {
                thText = $th.attr('data-col-name');
            }

            // create the hide/show toggle for the current column
            if ($th.is('[data-priority]')) {
                var $toggle = $('<li class="checkbox-row"><input type="checkbox" name="toggle-' + id + '" id="toggle-' + id + '" value="' + id + '" /> <label for="toggle-' + id + '">' + thText + '</label></li>');
                var $checkbox = $toggle.find('input');

                that.$dropdownContainer.append($toggle);

                $toggle.click(function () {
                    // console.log("cliiiick!");
                    $checkbox.prop('checked', !$checkbox.prop('checked'));
                    $checkbox.trigger('change');
                });

                //Freakin' IE fix
                if ($('html').hasClass('lt-ie9')) {
                    $checkbox.click(function () {
                        $(this).trigger('change');
                    });
                }

                $toggle.find('label').click(function (event) {
                    event.stopPropagation();
                });

                $toggle.find('input')
                    .click(function (event) {
                        event.stopPropagation();
                    })
                .change(function () { // bind change event on checkbox
                    var $checkbox = $(this),
                        val = $checkbox.val(),
                    //all cells under the column, including the header and its clone
                        $cells = that.$tableWrapper.find('#' + val + ', #' + val + '-clone, [data-columns~=' + val + ']');

                    //if display-all is on - save state and carry on
                    if (that.$table.hasClass('display-all')) {
                        //save state
                        $.proxy(that.preserveDisplayAll(), that);
                        //remove display all class
                        that.$table.removeClass('display-all');
                        if (that.$tableClone) {
                            that.$tableClone.removeClass('display-all');
                        }
                        //switch off button
                        that.$displayAllBtn.removeClass('btn-primary');
                        //WAS ADD HERE uncheck the Display All Checkbox.
                        var $ShowAllChkBox = that.$displayAllBtn.find('input');
                        $ShowAllChkBox.prop('checked', false);
                        ResponsiveTable.prototype.makeSticky('resize')

                    }


                    // loop through the cells
                    $cells.each(function () {
                        var $cell = $(this);

                        // is the checkbox checked now?
                        if ($checkbox.is(':checked')) {

                            // if the cell was already visible, it means its original colspan was >1
                            // so let's increment the colspan
                            if ($cell.css('display') !== 'none') {
                                $cell.prop('colSpan', parseInt($cell.prop('colSpan')) + 1);
                            }

                            // show cell
                            $cell.show();

                        }
                        // checkbox has been unchecked
                        else {
                            // decrement colSpan if it's not 1 (because colSpan should not be 0)
                            if (parseInt($cell.prop('colSpan')) > 1) {
                                $cell.prop('colSpan', parseInt($cell.prop('colSpan')) - 1);
                            }
                            // otherwise, hide the cell
                            else {
                                $cell.hide();
                            }
                        }
                    });
                    ResponsiveTable.prototype.makeSticky('resize')
                })
                .bind('updateCheck', function () {
                    if ($th.css('display') !== 'none') {
                        $(this).prop('checked', true);
                    }
                    else {
                        $(this).prop('checked', false);
                    }
                })
                .trigger('updateCheck');
            } // end if
        }); // end hdrCells loop
    };

    // Setup standard cells
    // assign matching "data-columns" attributes to the associated cells "(cells with colspan>1 has multiple columns).
    ResponsiveTable.prototype.setupStandardCells = function () {
        var that = this;

        // for each body rows
        that.$bodyRows.each(function () {
            var idStart = 0;

            // for each cell
            $(this).find('th, td').each(function () {
                var $cell = $(this);
                var columnsAttr = '';

                var colSpan = $cell.prop('colSpan');

                var numOfHidden = 0;
                // loop through columns that the cell spans over
                for (var k = idStart; k < (idStart + colSpan); k++) {
                    // add column id
                    columnsAttr = columnsAttr + ' ' + that.idPrefix + k;

                    // get column header
                    var $colHdr = that.$tableScrollWrapper.find('#' + that.idPrefix + k);

                    // copy data-priority attribute from column header
                    var dataPriority = $colHdr.attr('data-priority');
                    if (dataPriority) { $cell.attr('data-priority', dataPriority); }

                    if ($colHdr.css('display') === 'none') {
                        numOfHidden++;
                    }

                }

                // if colSpan is more than 1
                if (colSpan > 1) {
                    //give it the class 'spn-cell';
                    $cell.addClass('spn-cell');

                    // if one of the columns that the cell belongs to is visible then show the cell
                    if (numOfHidden !== colSpan) {
                        $cell.show();
                    } else {
                        $cell.hide(); //just in case
                    }
                }

                //update colSpan to match number of visible columns that i belongs to
                $cell.prop('colSpan', Math.max((colSpan - numOfHidden), 1));

                //remove whitespace in begining of string.
                columnsAttr = columnsAttr.substring(1);

                //set attribute to cell
                $cell.attr('data-columns', columnsAttr);

                //increment idStart with the current cells colSpan.
                idStart = idStart + colSpan;
            });
        });
    };

    // Update colspan and visibility of spanning cells
    ResponsiveTable.prototype.updateSpanningCells = function () {
        var that = this;

        // iterate through cells with class 'spn-cell'
        that.$table.find('.spn-cell').each(function () {
            var $cell = $(this);
            var columnsAttr = $cell.attr('data-columns').split(' ');

            var colSpan = columnsAttr.length;
            var numOfHidden = 0;
            for (var i = 0; i < colSpan; i++) {
                if ($('#' + columnsAttr[i]).css('display') === 'none') {
                    numOfHidden++;
                }
            }

            // if one of the columns that the cell belongs to is visible then show the cell
            if (numOfHidden !== colSpan) {
                $cell.show();
            } else {
                $cell.hide(); //just in case
            }

            // console.log('numOfHidden: ' + numOfHidden);
            // console.log("new colSpan:" +Math.max((colSpan - numOfHidden),1));

            //update colSpan to match number of visible columns that i belongs to
            $cell.prop('colSpan', Math.max((colSpan - numOfHidden), 1));
        });
    };

    // RESPONSIVE TABLE PLUGIN DEFINITION
    // ===========================

    var old = $.fn.responsiveTable;

    $.fn.responsiveTable = function (option) {
        return this.each(function () {
            var $this = $(this);
            var data = $this.data('responsiveTable');
            var options = $.extend({}, ResponsiveTable.DEFAULTS, $this.data(), typeof option === 'object' && option);

            if (options.pattern === '') {
                return;
            }

            if (!data) {
                $this.data('responsiveTable', (data = new ResponsiveTable(this, options)));
            }
            if (typeof option === 'string') {
                data[option]();
            }
        });
    };

    $.fn.responsiveTable.Constructor = ResponsiveTable;


    // RESPONSIVE TABLE NO CONFLICT
    // =====================

    $.fn.responsiveTable.noConflict = function () {
        $.fn.responsiveTable = old;
        return this;
    };

    // RESPONSIVE TABLE DATA-API
    // ==================

    $(document).on('ready.responsive-table.data-api', function () {
        $('[data-pattern]').each(function () {
            var $tableScrollWrapper = $(this);
            $tableScrollWrapper.responsiveTable($tableScrollWrapper.data());
        });
    });


    // DROPDOWN
    // ==========================

    // Prevent dropdown from closing when toggling checkbox
    $(document).on('click.dropdown.data-api', '.dropdown-menu .checkbox-row', function (e) {
        e.stopPropagation();
    });

    // FEATURE DETECTION (instead of Modernizr)
    // ==========================

    // media queries
    function mediaQueriesSupported() {
        return (typeof window.matchMedia !== 'undefined' || typeof window.msMatchMedia !== 'undefined' || typeof window.styleMedia !== 'undefined');
    }

    // touch
    function hasTouch() {
        return 'ontouchstart' in window;
    }

    // Checks if current browser is on IOS.
    function isIOS() {
        return !!(navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i));
    }


    $(document).ready(function () {
        // Change `no-js` to `js`
        $('html').removeClass('no-js').addClass('js');

        // Add mq/no-mq class to html
        if (mediaQueriesSupported()) {
            $('html').addClass('mq');
        } else {
            $('html').addClass('no-mq');
        }

        // Add touch/no-touch class to html
        if (hasTouch()) {
            $('html').addClass('touch');
        } else {
            $('html').addClass('no-touch');
        }
    });
})(jQuery);

/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.6",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.6",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),a(c.target).is('input[type="radio"]')||a(c.target).is('input[type="checkbox"]')||c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.6",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.6",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.6",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.6",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");
d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.6",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);
function SetClearFiltersFunction(e) {
    var t = document.getElementById(e + "ClearFiltersButton");
    t.addEventListener ? t.addEventListener("click", function () {
        ClearFilters(e) 
    }, !1) : t.attachEvent("onclick", function () {
        ClearFilters(e) 
    }) 
}
function ClearFilters(e) {
    ResetTable(), $("[id^=" + e + "]input:text").val(""), $("[id^=" + e + "]input:checked").removeAttr("checked"), $("[id^=" + e + "]select option").prop("selected", !1), $("[class^=capability-button-]").attr("data-capability-activated", "false"), $("[class^=capability-button-]").attr("class", "capability-button-deactivated capability-button-inner") 
}
function InitializeRangeFilter(e, t, a, i, l, r, u) {
    document.getElementById(e + "FilterTitle").innerHTML = t, document.getElementById(e + "FilterRange").innerHTML = "(" + i + " - " + l + ")";
    var i = document.getElementById(e + "FilterMinimumValue");
    i.addEventListener ? i.addEventListener("change", u, !1) : i.attachEvent("onchange", u);
    var l = document.getElementById(e + "FilterMaximumValue");
    l.addEventListener ? l.addEventListener("change", u, !1) : l.attachEvent("onchange", u) 
}
function InitializeYesNoFilter(e, t, a, i) {
    document.getElementById(e + "FilterTitle").innerHTML = t;
    var l = document.getElementById(e + "FilterCheckbox");
    l.addEventListener ? l.addEventListener("click", i, !1) : l.attachEvent("onclick", i) 
}
function InitializeCheckboxListFilter(e, t, a, l, r) {
    document.getElementById(e + "FilterTitle").innerHTML = t;
    var u = document.getElementById(e + "FilterDiv"), o = l.split("|");
    for (i = 0; i < o.length; i++) {
        var c = document.createElement("div");
        c.className = "checkbox-list-filter-checkbox-container";
        var s = document.createElement("input");
        s.type = "checkbox", s.name = e, s.id = e + o[i], s.value = o[i], s.addEventListener ? s.addEventListener("click", r) : s.attachEvent("onclick", r);
        var n = document.createElement("label");
        n.className = "checkbox-list-filter-checkbox-label", n.htmlFor = e + o[i], n.appendChild(document.createTextNode(" " + o[i])), c.appendChild(s), c.appendChild(n), u.appendChild(c) 
    }
}
function InitializeMultiSelectListboxFilter(e, t, a, l, r, u) {
    document.getElementById(e + "FilterTitle").innerHTML = t, document.getElementById(e + "FilterSubTitle").innerHTML = l;
    var o = r.split("|"), c = document.getElementById(e + "FilterSelect");
    for (i = 0; i < o.length; i++) 
        c.options[c.options.length] = new Option(o[i], o[i]);
    c.addEventListener ? c.addEventListener("change", u) : c.attachEvent("onchange", u) 
}
function ResetTable() {
    var e = document.getElementById("ProductFamiliesTable");
    e.className = "", $("#ProductFamiliesTable tbody tr").css("background-color", "transparent"), $("#ProductFamiliesTable tbody tr").css("color", "#222222"), e.className = "table table-small-font table-bordered table-striped" 
}
function RowValuesMatch(e, t, a) {
    var i = !1;
    for (filterValuesIndex = 0; filterValuesIndex < a.length; filterValuesIndex++) 
        - 1 != e.getAttribute(t).indexOf(a[filterValuesIndex]) && (i = !0);
    return i 
}
function RowValuesInRange(e, t, a, i) {
    var l = !1, r = e.getAttribute(t), u = r.split("|");
    for (j = 0; j < u.length; j++) 
        value = parseFloat(u[j]), value >= a && value <= i && (l = !0);
    return l 
}
function RowValueIsSet(e, t) {
    return 1 == e.getAttribute(t) 
}
function IsCapabilityActivated(e, t) {
    var a = document.getElementById(e + t + "Button");
    return "true" == a.getAttribute("data-capability-activated") 
}
function CapabilityLinkClicked(e, t) {
    var a = document.getElementById(e + t + "Button");
    CapabilityButtonClicked(a) 
}
function CapabilityButtonClicked(e) {
    var t = e.getAttribute("data-capability-activated");
    "false" == t ? (e.className = "capability-button-activated capability-button-inner", e.setAttribute("data-capability-activated", "true")) : (e.className = "capability-button-deactivated capability-button-inner", e.setAttribute("data-capability-activated", "false"));
    var a = e.id;
    - 1 != a.indexOf("EightBitMcuProducts") ? ApplyEightBitMcuFiltersAndCapabilities() : - 1 != a.indexOf("ThirtyTwoBitMcuProducts") ? ApplyThirtyTwoBitMcuFiltersAndCapabilities() : - 1 != a.indexOf("ClockProducts") ? ApplyClockFiltersAndCapabilities() : - 1 != a.indexOf("BufferProducts") && ApplyBufferFiltersAndCapabilities() 
}
function ApplyCapabilityToFilteredTable(e, t, a) {
    1 == t ? "1" == a.getAttribute(e) && SetRowStyle(a, "Green") : "1" == a.getAttribute(e) && SetRowStyle(a, "LightGreen") 
}
function ApplyCapabilityToUnfilteredTable(e, t) {
    return "1" == t.getAttribute(e) ? (SetRowStyle(t, "Green"), !0) : (SetRowStyle(t, "Gray"), !1) 
}
function SetRowStyle(e, t) {
    "Blue" == t ? e.setAttribute("style", "color:#fff;background-color:#70a3ba") : "Green" == t ? e.setAttribute("style", "color:#fff;background-color:#a1b92e") : "LightGreen" == t ? e.setAttribute("style", "color:#bbbbbb;background-color:#d7ddbd") : "Gray" == t && e.setAttribute("style", "color:#bbbbbb;background-color:#f4f4f4") 
}
function ProductFamilyLinkClick(e, t) {
    var a = "", i = null, l = "";
    switch (e) {
    case "EightBitMcuProducts":
        a = "L2_8-Bit_" + t, i = GetEightBitMcuProductsAppliedCapabilitiesAndFilters(), l = "8-bit_Family_Filter";
        break;
    case "ThirtyTwoBitMcuProducts":
        a = "L2_32-Bit_" + t, i = GetThirtyTwoBitMcuProductsAppliedCapabilitiesAndFilters(), l = "32-bit_Family_Filter";
        break;
    case "ClockProducts":
        a = "L2_Clock_" + t, i = GetClockProductsAppliedCapabilitiesAndFilters(), l = "Clock_Family_Filter";
        break;
    case "BufferProducts":
        a = "L2_Buffer_" + t, i = GetBufferProductsAppliedCapabilitiesAndFilters(), l = "Buffer_Family_Filter" 
    }
    "" != i && (a += i);
    var r = document.getElementById(t);
    return trackLinks(a, l, r), !1 
}
function ApplyEightBitMcuFiltersAndCapabilities() {
    ResetTable();
    var e = document.getElementById("ProductFamiliesTable"), t = !1, a = parseFloat(document.getElementById("EightBitMcuProductsSpeedFilterMinimumValue").value), l = parseFloat(document.getElementById("EightBitMcuProductsSpeedFilterMaximumValue").value);
    (0 == isNaN(a) || 0 == isNaN(l)) && (t = !0, 1 == isNaN(a) && (a = Number.MIN_VALUE), 1 == isNaN(l) && (l = Number.MAX_VALUE));
    var r = parseFloat(document.getElementById("EightBitMcuProductsFlashMemoryFilterMinimumValue").value), u = parseFloat(document.getElementById("EightBitMcuProductsFlashMemoryFilterMaximumValue").value);
    (0 == isNaN(r) || 0 == isNaN(u)) && (t = !0, 1 == isNaN(r) && (r = Number.MIN_VALUE), 1 == isNaN(u) && (u = Number.MAX_VALUE));
    var o = parseFloat(document.getElementById("EightBitMcuProductsTimersFilterMinimumValue").value), c = parseFloat(document.getElementById("EightBitMcuProductsTimersFilterMaximumValue").value);
    (0 == isNaN(o) || 0 == isNaN(c)) && (t = !0, 1 == isNaN(o) && (o = Number.MIN_VALUE), 1 == isNaN(c) && (c = Number.MAX_VALUE));
    var s = parseFloat(document.getElementById("EightBitMcuProductsDigitalIoPinsFilterMinimumValue").value), n = parseFloat(document.getElementById("EightBitMcuProductsDigitalIoPinsFilterMaximumValue").value);
    (0 == isNaN(s) || 0 == isNaN(n)) && (t = !0, 1 == isNaN(s) && (s = Number.MIN_VALUE), 1 == isNaN(n) && (n = Number.MAX_VALUE));
    var d = $("input:checkbox[name=EightBitMcuProductsAdcResolution]:checked").map(function () {
        return this.value 
    }).get();
    d.length > 0 && (t = !0);
    var p = $("input:checkbox[name=EightBitMcuProductsDacResolution]:checked").map(function () {
        return this.value 
    }).get();
    p.length > 0 && (t = !0);
    var m = $("#EightBitMcuProductsCapSenseFilterCheckbox").prop("checked");
    1 == m && (t = !0);
    var b = $("#EightBitMcuProductsUsbFilterCheckbox").prop("checked");
    1 == b && (t = !0);
    var y = $("#EightBitMcuProductsPackagesFilterSelect option:selected").map(function () {
        return this.value 
    }).get();
    y.length > 0 && (t = !0);
    var v = !1, f = IsCapabilityActivated("EightBitMcuProducts", "AnalogIntensive");
    1 == f && (v = !0);
    var h = IsCapabilityActivated("EightBitMcuProducts", "GeneralPurpose");
    1 == h && (v = !0);
    var g = IsCapabilityActivated("EightBitMcuProducts", "UltraLowPower");
    1 == g && (v = !0);
    var N = IsCapabilityActivated("EightBitMcuProducts", "Automotive");
    1 == N && (v = !0);
    var B = IsCapabilityActivated("EightBitMcuProducts", "Industrial");
    if (1 == B && (v = !0), 1 == t || 1 == v) {
        var e = document.getElementById("ProductFamiliesTable");
        e.className = "table table-small-font table-bordered";
        var F = !1;
        for (i = 1; i < e.rows.length; i++) {
            var T = e.rows[i];
            if (1 == t) {
                var C = !0;
                1 == C && 0 == isNaN(a) && 0 == isNaN(l) && (C = RowValuesInRange(T, "data-speed", a, l)), 1 == C && 0 == isNaN(r) && 0 == isNaN(u) && (C = RowValuesInRange(T, "data-flash", r, u)), 1 == C && 0 == isNaN(o) && 0 == isNaN(c) && (C = RowValuesInRange(T, "data-timers", o, c)), 1 == C && 0 == isNaN(s) && 0 == isNaN(n) && (C = RowValuesInRange(T, "data-dig-io", s, n)), 1 == C && d.length > 0 && (C = RowValuesMatch(T, "data-adc", d)), 1 == C && p.length > 0 && (C = RowValuesMatch(T, "data-dac", p)), 1 == C && 1 == m && (C = RowValueIsSet(T, "data-cap-sense")), 1 == C && 1 == b && (C = RowValueIsSet(T, "data-usb")), 1 == C && y.length > 0 && (C = RowValuesMatch(T, "data-packages", y)), 1 == C ? SetRowStyle(T, "Blue") : SetRowStyle(T, "Gray"), 1 == f && ApplyCapabilityToFilteredTable("data-analog-intensive", C, T), 1 == h && ApplyCapabilityToFilteredTable("data-general-purpose", C, T), 1 == g && ApplyCapabilityToFilteredTable("data-ultra-low-power", C, T), 1 == N && ApplyCapabilityToFilteredTable("data-automotive", C, T), 1 == B && ApplyCapabilityToFilteredTable("data-industrial", C, T) 
            } else if (1 == v) {
                if (1 == f) {
                    var M = ApplyCapabilityToUnfilteredTable("data-analog-intensive", T);
                    if (1 == M) {
                        F = !0;
                        continue 
                    }
                }
                if (1 == h) {
                    var I = ApplyCapabilityToUnfilteredTable("data-general-purpose", T);
                    if (1 == I) {
                        F = !0;
                        continue 
                    }
                }
                if (1 == g) {
                    var P = ApplyCapabilityToUnfilteredTable("data-ultra-low-power", T);
                    if (1 == P) {
                        F = !0;
                        continue 
                    }
                }
                if (1 == N) {
                    var E = ApplyCapabilityToUnfilteredTable("data-automotive", T);
                    if (1 == E) {
                        F = !0;
                        continue 
                    }
                }
                if (1 == B) {
                    var A = ApplyCapabilityToUnfilteredTable("data-industrial", T);
                    if (1 == A) {
                        F = !0;
                        continue 
                    }
                }
                SetRowStyle(T, "Gray") 
            }
        }
        0 == t && 0 == F && ResetTable() 
    }
}
function GetEightBitMcuProductsAppliedCapabilitiesAndFilters() {
    var e = "", t = "";
    1 == IsCapabilityActivated("EightBitMcuProducts", "AnalogIntensive") && (t += "Analog Intensive:"), 1 == IsCapabilityActivated("EightBitMcuProducts", "GeneralPurpose") && (t += "General Purpose:"), 1 == IsCapabilityActivated("EightBitMcuProducts", "UltraLowPower") && (t += "Ultra-Low Power:"), 1 == IsCapabilityActivated("EightBitMcuProducts", "Automotive") && (t += "Automotive:"), 1 == IsCapabilityActivated("EightBitMcuProducts", "Industrial") && (t += "Industrial:"), "" != t && (e += "_" + t.substring(0, t.length - 1));
    var a = "", i = parseFloat(document.getElementById("EightBitMcuProductsSpeedFilterMinimumValue").value), l = parseFloat(document.getElementById("EightBitMcuProductsSpeedFilterMaximumValue").value);
    (0 == isNaN(i) || 0 == isNaN(l)) && (a += "Speed:");
    var r = parseFloat(document.getElementById("EightBitMcuProductsFlashMemoryFilterMinimumValue").value), u = parseFloat(document.getElementById("EightBitMcuProductsFlashMemoryFilterMaximumValue").value);
    (0 == isNaN(r) || 0 == isNaN(u)) && (a += "Flash Memory:");
    var o = parseFloat(document.getElementById("EightBitMcuProductsTimersFilterMinimumValue").value), c = parseFloat(document.getElementById("EightBitMcuProductsTimersFilterMaximumValue").value);
    (0 == isNaN(o) || 0 == isNaN(c)) && (a += "Timers:");
    var s = parseFloat(document.getElementById("EightBitMcuProductsDigitalIoPinsFilterMinimumValue").value), n = parseFloat(document.getElementById("EightBitMcuProductsDigitalIoPinsFilterMaximumValue").value);
    (0 == isNaN(s) || 0 == isNaN(n)) && (a += "Digital I/O Pins:");
    var d = $("input:checkbox[name=EightBitMcuProductsAdcResolution]:checked").map(function () {
        return this.value 
    }).get();
    d.length > 0 && (a += "ADC Resolution:");
    var p = $("input:checkbox[name=EightBitMcuProductsDacResolution]:checked").map(function () {
        return this.value 
    }).get();
    p.length > 0 && (a += "DAC Resolution:");
    var m = $("#EightBitMcuProductsCapSenseFilterCheckbox").prop("checked");
    1 == m && (a += "Cap Sense:");
    var b = $("#EightBitMcuProductsUsbFilterCheckbox").prop("checked");
    1 == b && (a += "USB:");
    var y = $("#EightBitMcuProductsPackagesFilterSelect option:selected").map(function () {
        return this.value 
    }).get();
    return y.length > 0 && (a += "Packages:"), "" != a && (e += "_" + a.substring(0, a.length - 1)), e 
}
function ApplyThirtyTwoBitMcuFiltersAndCapabilities() {
    ResetTable();
    var e = document.getElementById("ProductFamiliesTable"), t = !1, a = $("input:checkbox[name=ThirtyTwoBitMcuProductsCore]:checked").map(function () {
        return this.value 
    }).get();
    a.length > 0 && (t = !0);
    var l = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsSpeedFilterMinimumValue").value), r = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsSpeedFilterMaximumValue").value);
    (0 == isNaN(l) || 0 == isNaN(r)) && (t = !0, 1 == isNaN(l) && (l = Number.MIN_VALUE), 1 == isNaN(r) && (r = Number.MAX_VALUE));
    var u = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsFlashMemoryFilterMinimumValue").value), o = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsFlashMemoryFilterMaximumValue").value);
    (0 == isNaN(u) || 0 == isNaN(o)) && (t = !0, 1 == isNaN(u) && (u = Number.MIN_VALUE), 1 == isNaN(o) && (o = Number.MAX_VALUE));
    var c = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsDigitalIoPinsFilterMinimumValue").value), s = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsDigitalIoPinsFilterMaximumValue").value);
    (0 == isNaN(c) || 0 == isNaN(s)) && (t = !0, 1 == isNaN(c) && (c = Number.MIN_VALUE), 1 == isNaN(s) && (s = Number.MAX_VALUE));
    var n = $("#ThirtyTwoBitMcuProductsLcdFilterCheckbox").prop("checked");
    1 == n && (t = !0);
    var d = $("#ThirtyTwoBitMcuProductsUsbFilterCheckbox").prop("checked");
    1 == d && (t = !0);
    var p = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsI2cFilterMinimumValue").value), m = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsI2cFilterMaximumValue").value);
    (0 == isNaN(p) || 0 == isNaN(m)) && (t = !0, 1 == isNaN(p) && (p = Number.MIN_VALUE), 1 == isNaN(m) && (m = Number.MAX_VALUE));
    var b = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsUartFilterMinimumValue").value), y = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsUartFilterMaximumValue").value);
    (0 == isNaN(b) || 0 == isNaN(y)) && (t = !0, 1 == isNaN(b) && (b = Number.MIN_VALUE), 1 == isNaN(y) && (y = Number.MAX_VALUE));
    var v = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsUsartFilterMinimumValue").value), f = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsUsartFilterMaximumValue").value);
    (0 == isNaN(v) || 0 == isNaN(f)) && (t = !0, 1 == isNaN(v) && (v = Number.MIN_VALUE), 1 == isNaN(f) && (f = Number.MAX_VALUE));
    var h = $("#ThirtyTwoBitMcuProductsPackagesFilterSelect option:selected").map(function () {
        return this.value 
    }).get();
    if (h.length > 0 && (t = !0), 1 == t) {
        var e = document.getElementById("ProductFamiliesTable");
        for (e.className = "table table-small-font table-bordered", i = 1; i < e.rows.length; i++) {
            var g = e.rows[i], N = !0;
            1 == N && a.length > 0 && (N = RowValuesMatch(g, "data-core", a)), 1 == N && 0 == isNaN(l) && 0 == isNaN(r) && (N = RowValuesInRange(g, "data-speed", l, r)), 1 == N && 0 == isNaN(u) && 0 == isNaN(o) && (N = RowValuesInRange(g, "data-flash", u, o)), 1 == N && 0 == isNaN(c) && 0 == isNaN(s) && (N = RowValuesInRange(g, "data-dig-io", c, s)), 1 == N && 1 == n && (N = RowValueIsSet(g, "data-lcd")), 1 == N && 1 == d && (N = RowValueIsSet(g, "data-usb")), 1 == N && h.length > 0 && (N = RowValuesMatch(g, "data-packages", h)), 1 == N && 0 == isNaN(p) && 0 == isNaN(m) && (N = RowValuesInRange(g, "data-i2c", p, m)), 1 == N && 0 == isNaN(b) && 0 == isNaN(y) && (N = RowValuesInRange(g, "data-uart", b, y)), 1 == N && 0 == isNaN(v) && 0 == isNaN(f) && (N = RowValuesInRange(g, "data-usart", v, f)), 1 == N ? SetRowStyle(g, "Blue") : SetRowStyle(g, "Gray") 
        }
    }
}
function GetThirtyTwoBitMcuProductsAppliedCapabilitiesAndFilters() {
    var e = "", t = "";
    "" != t && (e += "_" + t.substring(0, t.length - 1));
    var a = "", i = $("input:checkbox[name=ThirtyTwoBitMcuProductsCore]:checked").map(function () {
        return this.value 
    }).get();
    i.length > 0 && (a += "Core:");
    var l = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsSpeedFilterMinimumValue").value), r = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsSpeedFilterMaximumValue").value);
    (0 == isNaN(l) || 0 == isNaN(r)) && (a += "Speed:");
    var u = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsFlashMemoryFilterMinimumValue").value), o = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsFlashMemoryFilterMaximumValue").value);
    (0 == isNaN(u) || 0 == isNaN(o)) && (a += "Flash Memory:");
    var c = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsDigitalIoPinsFilterMinimumValue").value), s = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsDigitalIoPinsFilterMaximumValue").value);
    (0 == isNaN(c) || 0 == isNaN(s)) && (a += "Digital I/O Pins:");
    var n = $("#ThirtyTwoBitMcuProductsLcdFilterCheckbox").prop("checked");
    1 == n && (a += "LCD:");
    var d = $("#ThirtyTwoBitMcuProductsUsbFilterCheckbox").prop("checked");
    1 == d && (a += "USB:");
    var p = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsI2cFilterMinimumValue").value), m = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsI2cFilterMaximumValue").value);
    (0 == isNaN(p) || 0 == isNaN(m)) && (a += "I2C:");
    var b = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsUartFilterMinimumValue").value), y = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsUartFilterMaximumValue").value);
    (0 == isNaN(b) || 0 == isNaN(y)) && (a += "UART:");
    var v = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsUsartFilterMinimumValue").value), f = parseFloat(document.getElementById("ThirtyTwoBitMcuProductsUsartFilterMaximumValue").value);
    (0 == isNaN(v) || 0 == isNaN(f)) && (a += "USART:");
    var h = $("#ThirtyTwoBitMcuProductsPackagesFilterSelect option:selected").map(function () {
        return this.value 
    }).get();
    return h.length > 0 && (a += "Packages:"), "" != a && (e += "_" + a.substring(0, a.length - 1)), e 
}
function ApplyClockFiltersAndCapabilities() {
    ResetTable();
    var e = document.getElementById("ProductFamiliesTable"), t = !1, a = $("input:checkbox[name=ClockProductsPhaseJitter]:checked").map(function () {
        return this.value 
    }).get();
    a.length > 0 && (t = !0);
    var l = $("input:checkbox[name=ClockProductsMaxOutputFrequency]:checked").map(function () {
        return this.value 
    }).get();
    l.length > 0 && (t = !0);
    var r = $("input:checkbox[name=ClockProductsOutputFormatType]:checked").map(function () {
        return this.value 
    }).get();
    r.length > 0 && (t = !0);
    var u = parseFloat(document.getElementById("ClockProductsNumberOfOutputsFilterMinimumValue").value), o = parseFloat(document.getElementById("ClockProductsNumberOfOutputsFilterMaximumValue").value);
    (0 == isNaN(u) || 0 == isNaN(o)) && (t = !0, 1 == isNaN(u) && (u = Number.MIN_VALUE), 1 == isNaN(o) && (o = Number.MAX_VALUE));
    var c = $("#ClockProductsPCIeCompliantFilterCheckbox").prop("checked");
    1 == c && (t = !0);
    var s = !1, n = IsCapabilityActivated("ClockProducts", "ClockGenerators");
    1 == n && (s = !0);
    var d = IsCapabilityActivated("ClockProducts", "JitterAttenuatingClocks");
    1 == d && (s = !0);
    var p = IsCapabilityActivated("ClockProducts", "SynchronousEthernet1588");
    1 == p && (s = !0);
    var m = IsCapabilityActivated("ClockProducts", "PCIExpressClocks");
    1 == m && (s = !0);
    var b = IsCapabilityActivated("ClockProducts", "4GLTEWirelessClocks");
    1 == b && (s = !0);
    var y = IsCapabilityActivated("ClockProducts", "IntelX86Clocks");
    if (1 == y && (s = !0), 1 == t || 1 == s) {
        var e = document.getElementById("ProductFamiliesTable");
        e.className = "table table-small-font table-bordered";
        var v = !1;
        for (i = 1; i < e.rows.length; i++) {
            var f = e.rows[i];
            if (1 == t) {
                var h = !0;
                1 == h && a.length > 0 && (h = RowValuesMatch(f, "data-phase-jitter", a)), 1 == h && l.length > 0 && (h = RowValuesMatch(f, "data-max-output-frequency", l)), 1 == h && r.length > 0 && (h = RowValuesMatch(f, "data-output-format-type", r)), 1 == h && 0 == isNaN(u) && 0 == isNaN(o) && (h = RowValuesInRange(f, "data-number-of-outputs", u, o)), 1 == h && 1 == c && (h = RowValueIsSet(f, "data-pci-express-clocks")), 1 == h ? SetRowStyle(f, "Blue") : SetRowStyle(f, "Gray"), 1 == n && ApplyCapabilityToFilteredTable("data-clock-generators", h, f), 1 == d && ApplyCapabilityToFilteredTable("data-jitter-attenuating-clocks", h, f), 1 == p && ApplyCapabilityToFilteredTable("data-synchronous-ethernet-1588", h, f), 1 == m && ApplyCapabilityToFilteredTable("data-pci-express-clocks", h, f), 1 == b && ApplyCapabilityToFilteredTable("data-four-g-lte-wireless-clocks", h, f), 1 == y && ApplyCapabilityToFilteredTable("data-intel-x86-clocks", h, f) 
            } else if (1 == s) {
                if (1 == n) {
                    var g = ApplyCapabilityToUnfilteredTable("data-clock-generators", f);
                    if (1 == g) {
                        v = !0;
                        continue 
                    }
                }
                if (1 == d) {
                    var N = ApplyCapabilityToUnfilteredTable("data-jitter-attenuating-clocks", f);
                    if (1 == N) {
                        v = !0;
                        continue 
                    }
                }
                if (1 == p) {
                    var B = ApplyCapabilityToUnfilteredTable("data-synchronous-ethernet-1588", f);
                    if (1 == B) {
                        v = !0;
                        continue 
                    }
                }
                if (1 == m) {
                    var F = ApplyCapabilityToUnfilteredTable("data-pci-express-clocks", f);
                    if (1 == F) {
                        v = !0;
                        continue 
                    }
                }
                if (1 == b) {
                    var T = ApplyCapabilityToUnfilteredTable("data-four-g-lte-wireless-clocks", f);
                    if (1 == T) {
                        v = !0;
                        continue 
                    }
                }
                if (1 == y) {
                    var C = ApplyCapabilityToUnfilteredTable("data-intel-x86-clocks", f);
                    if (1 == C) {
                        v = !0;
                        continue 
                    }
                }
                SetRowStyle(f, "Gray") 
            }
        }
        0 == t && 0 == v && ResetTable() 
    }
}
function GetClockProductsAppliedCapabilitiesAndFilters() {
    var e = "", t = "";
    1 == IsCapabilityActivated("ClockProducts", "ClockGenerators") && (t += "Clock Generators:"), 1 == IsCapabilityActivated("ClockProducts", "JitterAttenuatingClocks") && (t += "Jitter Attenuating Clocks:"), 1 == IsCapabilityActivated("ClockProducts", "SynchronousEthernet1588") && (t += "Synchronous Ethernet/1588:"), 1 == IsCapabilityActivated("ClockProducts", "PCIExpressClocks") && (t += "PCI Express Clocks:"), 1 == IsCapabilityActivated("ClockProducts", "4GLTEWirelessClocks") && (t += "4G/LTE Wireless Clocks:"), 1 == IsCapabilityActivated("ClockProducts", "IntelX86Clocks") && (t += "Intel x86 Clocks:"), "" != t && (e += "_" + t.substring(0, t.length - 1));
    var a = "", i = $("input:checkbox[name=ClockProductsPhaseJitter]:checked").map(function () {
        return this.value 
    }).get();
    i.length > 0 && (a += "Phase Jitter:");
    var l = $("input:checkbox[name=ClockProductsMaxOutputFrequency]:checked").map(function () {
        return this.value 
    }).get();
    l.length > 0 && (a += "Max Output Frequency:");
    var r = $("input:checkbox[name=ClockProductsOutputFormatType]:checked").map(function () {
        return this.value 
    }).get();
    r.length > 0 && (a += "Output Format Type:");
    var u = parseFloat(document.getElementById("ClockProductsNumberOfOutputsFilterMinimumValue").value), o = parseFloat(document.getElementById("ClockProductsNumberOfOutputsFilterMaximumValue").value);
    (0 == isNaN(u) || 0 == isNaN(o)) && (a += "Number of Outputs:");
    var c = $("#ClockProductsPCIeCompliantFilterCheckbox").prop("checked");
    return 1 == c && (a += "PCIe Compliant:"), "" != a && (e += "_" + a.substring(0, a.length - 1)), e 
}
function ApplyBufferFiltersAndCapabilities() {
    ResetTable();
    var e = document.getElementById("ProductFamiliesTable"), t = !1, a = $("input:checkbox[name=BufferProductsAdditiveJitter]:checked").map(function () {
        return this.value 
    }).get();
    a.length > 0 && (t = !0);
    var l = $("input:checkbox[name=BufferProductsOutputFormatType]:checked").map(function () {
        return this.value 
    }).get();
    l.length > 0 && (t = !0);
    var r = $("#BufferProductsPCIeCompliantFilterCheckbox").prop("checked");
    1 == r && (t = !0);
    var u = parseFloat(document.getElementById("BufferProductsNumberOfOutputsFilterMinimumValue").value), o = parseFloat(document.getElementById("BufferProductsNumberOfOutputsFilterMaximumValue").value);
    (0 == isNaN(u) || 0 == isNaN(o)) && (t = !0, 1 == isNaN(u) && (u = Number.MIN_VALUE), 1 == isNaN(o) && (o = Number.MAX_VALUE));
    var c = !1, s = IsCapabilityActivated("BufferProducts", "UniversalBuffers");
    1 == s && (c = !0);
    var n = IsCapabilityActivated("BufferProducts", "DifferentialBuffers");
    1 == n && (c = !0);
    var d = IsCapabilityActivated("BufferProducts", "LVCMOSBuffers");
    1 == d && (c = !0);
    var p = IsCapabilityActivated("BufferProducts", "PCIExpressClockBuffers");
    1 == p && (c = !0);
    var m = IsCapabilityActivated("BufferProducts", "ZeroDelayBuffers");
    if (1 == m && (c = !0), 1 == t || 1 == c) {
        var e = document.getElementById("ProductFamiliesTable");
        e.className = "table table-small-font table-bordered";
        var b = !1;
        for (i = 1; i < e.rows.length; i++) {
            var y = e.rows[i];
            if (1 == t) {
                var v = !0;
                1 == v && a.length > 0 && (v = RowValuesMatch(y, "data-additive-jitter", a)), 1 == v && l.length > 0 && (v = RowValuesMatch(y, "data-output-format-type", l)), 1 == v && 1 == r && (v = RowValueIsSet(y, "data-pci-express-buffers")), 1 == v && 0 == isNaN(u) && 0 == isNaN(o) && (v = RowValuesInRange(y, "data-number-of-outputs", u, o)), 1 == v ? SetRowStyle(y, "Blue") : SetRowStyle(y, "Gray"), 1 == s && ApplyCapabilityToFilteredTable("data-universal-buffers", v, y), 1 == n && ApplyCapabilityToFilteredTable("data-differential-buffers", v, y), 1 == d && ApplyCapabilityToFilteredTable("data-lvcmos-buffers", v, y), 1 == p && ApplyCapabilityToFilteredTable("data-pci-express-buffers", v, y), 1 == m && ApplyCapabilityToFilteredTable("data-zero-delay-buffers", v, y) 
            } else if (1 == c) {
                if (1 == s) {
                    var f = ApplyCapabilityToUnfilteredTable("data-universal-buffers", y);
                    if (1 == f) {
                        b = !0;
                        continue 
                    }
                }
                if (1 == n) {
                    var h = ApplyCapabilityToUnfilteredTable("data-differential-buffers", y);
                    if (1 == h) {
                        b = !0;
                        continue 
                    }
                }
                if (1 == d) {
                    var g = ApplyCapabilityToUnfilteredTable("data-lvcmos-buffers", y);
                    if (1 == g) {
                        b = !0;
                        continue 
                    }
                }
                if (1 == p) {
                    var N = ApplyCapabilityToUnfilteredTable("data-pci-express-buffers", y);
                    if (1 == N) {
                        b = !0;
                        continue 
                    }
                }
                if (1 == m) {
                    var B = ApplyCapabilityToUnfilteredTable("data-zero-delay-buffers", y);
                    if (1 == B) {
                        b = !0;
                        continue 
                    }
                }
                SetRowStyle(y, "Gray") 
            }
        }
        0 == t && 0 == b && ResetTable() 
    }
}
function GetBufferProductsAppliedCapabilitiesAndFilters() {
    var e = "", t = "";
    1 == IsCapabilityActivated("BufferProducts", "UniversalBuffers") && (t += "Universal Buffers:"), 1 == IsCapabilityActivated("BufferProducts", "DifferentialBuffers") && (t += "Differential Buffers:"), 1 == IsCapabilityActivated("BufferProducts", "LVCMOSBuffers") && (t += "LVCMOS Buffers:"), 1 == IsCapabilityActivated("BufferProducts", "PCIExpressClockBuffers") && (t += "PCI Express Buffers:"), 1 == IsCapabilityActivated("BufferProducts", "ZeroDelayBuffers") && (t += "Zero Delay Buffers:"), "" != t && (e += "_" + t.substring(0, t.length - 1));
    var a = "", i = $("input:checkbox[name=BufferProductsAdditiveJitter]:checked").map(function () {
        return this.value 
    }).get();
    i.length > 0 && (a += "Additive Jitter:");
    var l = $("input:checkbox[name=BufferProductsOutputFormatType]:checked").map(function () {
        return this.value 
    }).get();
    l.length > 0 && (a += "Output Format Type:");
    var r = $("#BufferProductsPCIeCompliantFilterCheckbox").prop("checked");
    1 == r && (a += "PCIe Compliant:");
    var u = parseFloat(document.getElementById("BufferProductsNumberOfOutputsFilterMinimumValue").value), o = parseFloat(document.getElementById("BufferProductsNumberOfOutputsFilterMaximumValue").value);
    return (0 == isNaN(u) || 0 == isNaN(o)) && (a += "Number of Outputs:"), "" != a && (e += "_" + a.substring(0, a.length - 1)), e 
}

/*! jQuery UI - v1.12.1 - 2016-09-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function i(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,o)}function o(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function r(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var h=0,l=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},h=e.split(".")[0];e=e.split(".")[1];var l=h+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[h]=t[h]||{},n=t[h][e],o=t[h][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:h,widgetName:e,widgetFullName:l}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,n=l.call(arguments,1),o=0,a=n.length;a>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=l.call(arguments,1),r=this;return o?this.length||"instance"!==n?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+n+"'")}):r=void 0:(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?n.on(l,c,r):i.on(l,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var n,o=Math.max,a=Math.abs,r=/left|center|right/,h=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!s&&!n;return{element:i,isWindow:s,isDocument:n,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),k={};return _=s(v),v[0].preventDefault&&(n.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",t=l.exec(i[0]),e=l.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=e(k.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,h=t(this),l=h.outerWidth(),c=h.outerHeight(),d=i(this,"marginLeft"),_=i(this,"marginTop"),x=l+d+i(this,"marginRight")+y.width,C=c+_+i(this,"marginBottom")+y.height,D=t.extend({},m),I=e(k.my,h.outerWidth(),h.outerHeight());"right"===n.my[0]?D.left-=l:"center"===n.my[0]&&(D.left-=l/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=I[0],D.top+=I[1],s={marginLeft:d,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:l,elemHeight:c,collisionPosition:s,collisionWidth:x,collisionHeight:C,offset:[u[0]+I[0],u[1]+I[1]],my:n.my,at:n.at,within:b,elem:h})}),n.using&&(r=function(t){var e=g.left-D.left,i=e+p-l,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:h,left:D.left,top:D.top,width:l,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":s>0?"bottom":"middle"};l>p&&p>a(e+i)&&(u.horizontal="center"),c>f&&f>a(s+r)&&(u.vertical="middle"),u.important=o(a(e),a(i))>o(a(s),a(r))?"horizontal":"vertical",n.using.call(this,t,u)}),h.offset(t.extend(D,{using:r}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-r-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-o,(0>i||a(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||u>a(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-r-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-r-o,(0>s||a(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-h,(i>0||u>a(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var c="ui-effects-",u="ui-effects-style",d="ui-effects-animated",p=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(t,o){var a,r=o.re.exec(i),h=r&&o.parse(r),l=o.space||"rgba";return h?(a=s[l](h),s[c[l].cache]=a[c[l].cache],n=s._rgba=a._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),s):o[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var u=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if("alpha"===t||null==n[t])return;u[o]=s.to(u._rgba)}u[o][e.idx]=i(n[t],e,!0)}),u[o]&&0>t.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])))}),this):e},is:function(t){var i=l(t),s=!0,n=this;return f(c,function(t,o){var a,r=i[o.cache];return r&&(a=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===a[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=c[n],a=0===this.alpha()?l("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],c=u[n.type]||{};null!==l&&(null===a?h[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),h[o]=i((l-a)*e+a,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=u?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(c,function(s,n){var o=n.props,a=n.cache,h=n.to,c=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=l(c(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),c=l[i.idx];return"undefined"===a?c:("function"===a&&(n=n.call(this,c),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(p),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));return a}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(p.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}function s(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=n.exec(t)||["",0,i,s,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?i:parseFloat(o[2]),bottom:"auto"===o[3]?s:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(d)||e(i)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var i=0,s=e.length;s>i;i++)null!==e[i]&&t.data(c+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;n>s;s++)null!==e[s]&&(i=t.data(c+e[s]),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,s){return s||(s=i,i="effect"),t.effects.effect[e]=s,t.effects.effect[e].mode=i,s},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();e>1&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(u,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(u)||"",t.removeData(u)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(e){var i,s=e.css("position"),n=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(s)&&(s="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(c+"placeholder",i)),e.css({position:s,left:n.left,top:n.top}),i},removePlaceholder:function(t){var e=c+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function i(){r.removeData(d),t.effects.cleanUp(r),"hide"===s.mode&&r.hide(),a()}function a(){t.isFunction(h)&&h.call(r[0]),t.isFunction(e)&&e()}var r=t(this);s.mode=c.shift(),t.uiBackCompat===!1||o?"none"===s.mode?(r[l](),a()):n.call(r[0],s,i):(r.is(":hidden")?"hide"===l:"show"===l)?(r[l](),a()):n.call(r[0],s,a)}var s=e.apply(this,arguments),n=t.effects.effect[s.effect],o=n.mode,a=s.queue,r=a||"fx",h=s.complete,l=s.mode,c=[],u=function(e){var i=t(this),s=t.effects.mode(i,l)||o;i.data(d,!0),c.push(s),o&&("show"===s||s===o&&"hide"===s)&&i.show(),o&&"none"===s||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!n?l?this[l](s.duration,h):this.each(function(){h&&h.call(this)}):a===!1?this.each(u).each(i):this.queue(r,u).queue(r,i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)
    }}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();var f=t.effects;t.effects.define("blind","hide",function(e,i){var s={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=t(this),o=e.direction||"up",a=n.cssClip(),r={clip:t.extend({},a)},h=t.effects.createPlaceholder(n);r.clip[s[o][0]]=r.clip[s[o][1]],"show"===e.mode&&(n.cssClip(r.clip),h&&h.css(t.effects.clipToBox(r)),r.clip=a),h&&h.animate(t.effects.clipToBox(r),e.duration,e.easing),n.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var s,n,o,a=t(this),r=e.mode,h="hide"===r,l="show"===r,c=e.direction||"up",u=e.distance,d=e.times||5,p=2*d+(l||h?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,v=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),u||(u=a["top"===m?"outerHeight":"outerWidth"]()/3),l&&(n={opacity:1},n[m]=o,a.css("opacity",0).css(m,_?2*-u:2*u).animate(n,f,g)),h&&(u/=Math.pow(2,d-1)),n={},n[m]=o;d>v;v++)s={},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g).animate(n,f,g),u=h?2*u:u/2;h&&(s={opacity:0},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g)),a.queue(i),t.effects.unshift(a,b,p+1)}),t.effects.define("clip","hide",function(e,i){var s,n={},o=t(this),a=e.direction||"vertical",r="both"===a,h=r||"horizontal"===a,l=r||"vertical"===a;s=o.cssClip(),n.clip={top:l?(s.bottom-s.top)/2:s.top,right:h?(s.right-s.left)/2:s.right,bottom:l?(s.bottom-s.top)/2:s.bottom,left:h?(s.right-s.left)/2:s.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(n.clip),n.clip=s),o.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var s,n=t(this),o=e.mode,a="show"===o,r=e.direction||"left",h="up"===r||"down"===r?"top":"left",l="up"===r||"left"===r?"-=":"+=",c="+="===l?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(n),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0)/2,u[h]=l+s,a&&(n.css(u),u[h]=c+s,u.opacity=1),n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),i()}var o,a,r,h,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),_=Math.ceil(p.outerWidth()/d),v=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++)for(h=m.top+o*v,c=o-(u-1)/2,a=0;d>a;a++)r=m.left+a*_,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*_,top:-o*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:_,height:v,left:r+(g?l*_:0),top:h+(g?c*v:0),opacity:g?0:1}).animate({left:r+(g?0:l*_),top:h+(g?0:c*v),opacity:g?1:0},e.duration||500,e.easing,s)}),t.effects.define("fade","toggle",function(e,i){var s="show"===e.mode;t(this).css("opacity",s?0:1).animate({opacity:s?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=e.size||15,h=/([0-9]+)%/.exec(r),l=!!e.horizFirst,c=l?["right","bottom"]:["bottom","right"],u=e.duration/2,d=t.effects.createPlaceholder(s),p=s.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],_=s.queue().length;h&&(r=parseInt(h[1],10)/100*m[a?0:1]),f.clip[c[0]]=r,g.clip[c[0]]=r,g.clip[c[1]]=0,o&&(s.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=p),s.queue(function(i){d&&d.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(g),u,e.easing),i()}).animate(f,u,e.easing).animate(g,u,e.easing).queue(i),t.effects.unshift(s,_,4)}),t.effects.define("highlight","show",function(e,i){var s=t(this),n={backgroundColor:s.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),t.effects.saveStyle(s),s.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var s,n,o,a=t(this),r=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,u="effect"!==c,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),_=e.from||m,v=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=_,_=v,v=o),n={from:{y:_.height/m.height,x:_.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}},("box"===d||"both"===d)&&(n.from.y!==n.to.y&&(_=t.effects.setTransition(a,h,n.from.y,_),v=t.effects.setTransition(a,h,n.to.y,v)),n.from.x!==n.to.x&&(_=t.effects.setTransition(a,l,n.from.x,_),v=t.effects.setTransition(a,l,n.to.x,v))),("content"===d||"both"===d)&&n.from.y!==n.to.y&&(_=t.effects.setTransition(a,r,n.from.y,_),v=t.effects.setTransition(a,r,n.to.y,v)),p&&(s=t.effects.getBaseline(p,m),_.top=(m.outerHeight-_.outerHeight)*s.y+g.top,_.left=(m.outerWidth-_.outerWidth)*s.x+g.left,v.top=(m.outerHeight-v.outerHeight)*s.y+g.top,v.left=(m.outerWidth-v.outerWidth)*s.x+g.left),a.css(_),("content"===d||"both"===d)&&(h=h.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var i=t(this),s=t.effects.scaledDimensions(i),o={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},a={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x};n.from.y!==n.to.y&&(o=t.effects.setTransition(i,h,n.from.y,o),a=t.effects.setTransition(i,h,n.to.y,a)),n.from.x!==n.to.x&&(o=t.effects.setTransition(i,l,n.from.x,o),a=t.effects.setTransition(i,l,n.to.x,a)),u&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,function(){u&&t.effects.restoreStyle(i)})})),a.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===v.opacity&&a.css("opacity",_.opacity),u||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),i()}})}),t.effects.define("scale",function(e,i){var s=t(this),n=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==n?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(s),to:t.effects.scaledDimensions(s,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i)}),t.effects.define("puff","hide",function(e,i){var s=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,s,i)}),t.effects.define("pulsate","show",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=o||a,h=2*(e.times||5)+(r?1:0),l=e.duration/h,c=0,u=1,d=s.queue().length;for((o||!s.is(":visible"))&&(s.css("opacity",0).show(),c=1);h>u;u++)s.animate({opacity:c},l,e.easing),c=1-c;s.animate({opacity:c},l,e.easing),s.queue(i),t.effects.unshift(s,d,h+1)}),t.effects.define("shake",function(e,i){var s=1,n=t(this),o=e.direction||"left",a=e.distance||20,r=e.times||3,h=2*r+1,l=Math.round(e.duration/h),c="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,d={},p={},f={},g=n.queue().length;for(t.effects.createPlaceholder(n),d[c]=(u?"-=":"+=")+a,p[c]=(u?"+=":"-=")+2*a,f[c]=(u?"-=":"+=")+2*a,n.animate(d,l,e.easing);r>s;s++)n.animate(p,l,e.easing).animate(f,l,e.easing);n.animate(p,l,e.easing).animate(d,l/2,e.easing).queue(i),t.effects.unshift(n,g,h+1)}),t.effects.define("slide","show",function(e,i){var s,n,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},r=e.mode,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),s=o.cssClip(),n=o.position()[l],d[l]=(c?-1:1)*u+n,d.clip=o.cssClip(),d.clip[a[h][1]]=d.clip[a[h][0]],"show"===r&&(o.cssClip(d.clip),o.css(l,d[l]),d.clip=s,d[l]=n),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var f;t.uiBackCompat!==!1&&(f=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)})),t.ui.focusable=function(i,s){var n,o,a,r,h,l=i.nodeName.toLowerCase();return"area"===l?(n=i.parentNode,o=n.name,i.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(l)?(r=!i.disabled,r&&(h=t(i).closest("fieldset")[0],h&&(r=!h.disabled))):r="a"===l?i.href||s:s,r&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),s=this.attr("id"),s&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n))},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,s=this.options.icons;s&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+s.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,s.header)._addClass(i,null,s.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void 0)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,s,n=this.options,o=this.active,a=t(e.currentTarget),r=a[0]===o[0],h=r&&n.collapsible,l=h?t():a.next(),c=o.next(),u={oldHeader:o,oldPanel:c,newHeader:h?t():a,newPanel:l};e.preventDefault(),r&&!n.collapsible||this._trigger("beforeActivate",e,u)===!1||(n.active=h?!1:this.headers.index(a),this.active=r?t():a,this._toggle(u),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),r||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),n.icons&&(s=a.children(".ui-accordion-header-icon"),this._removeClass(s,null,n.icons.header)._addClass(s,null,n.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,h=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=l&&c.down||c,d=function(){a._toggleComplete(i)};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}}),void 0):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,o,a=this,r=this.options.icons.submenu,h=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=h.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),e=h.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;
        this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var g=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(s,n){var o,a={};return n?"controlgroupLabel"===s?(o=e.element.find(n),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(o.get()),void 0):(t.fn[s]&&(a=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each(function(){var n=t(this),o=n[s]("instance"),r=t.widget.extend({},a);if("button"!==s||!n.parent(".ui-spinner").length){o||(o=n[s]()[s]("instance")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var h=n[s]("widget");t.data(h[0],"ui-controlgroup-data",o?o:n[s]("instance")),i.push(h[0])}})),void 0):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),s=i.data("ui-controlgroup-data");s&&s[e]&&s[e]()})},_updateCornerClass:function(t,e){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",s=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,i),this._addClass(t,null,s)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var s={};return t.each(e,function(n){var o=i.options.classes[n]||"";o=t.trim(o.replace(g,"")),s[n]=(o+" "+e[n]).replace(/\s+/g," ")}),s},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?(this._callChildMethod(e?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===e.length?"only":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(e[s](),s)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,s="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(s):t(s).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),this.element[0].disabled=e,void 0):(this.refresh(),void 0)):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?(this._super("showLabel",e),void 0):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}});var m;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.on("focus",this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var r,h,l,c,u,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+c,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),m===n&&(m=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,r,h,l=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),a(l.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var s,n,o,r,h,l,c;s=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==s&&(t.datepicker._curInst.dpDiv.stop(!0,!0),s&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(s,"beforeShow"),o=n?n.apply(e,[e,s]):{},o!==!1&&(a(s.settings,o),s.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(s),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(s),h=t.datepicker._checkOffset(s,h,r),s.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),s.inline||(l=t.datepicker._get(s,"showAnim"),c=t.datepicker._get(s,"duration"),s.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?s.dpDiv.show(l,t.datepicker._get(s,"showOptions"),c):s.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(s)&&s.input.trigger("focus"),t.datepicker._curInst=s))
    }},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],a=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,y=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=RegExp("^\\d{"+n+","+s+"}"),a=i.substring(h).match(o);if(!a)throw"Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10)},k=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],h+=s.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+h},x=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;e.length>n;n++)if(b)"'"!==e.charAt(n)||y("'")?x():b=!1;else switch(e.charAt(n)){case"d":_=w("d");break;case"D":k("D",u,d);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=k("M",p,f);break;case"y":g=w("y");break;case"@":r=new Date(w("@")),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(i.length>h&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),v>-1)for(m=1,_=v;;){if(o=this._getDaysInMonth(g,m-1),o>=_)break;m++,_-=o}if(r=this._daylightSavingAdjust(new Date(g,m-1,_)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;t.length>s;s++)if(d)"'"!==t.charAt(s)||h("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=h("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}l=h.exec(i)}return new Date(o,a,r)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,_,v,b,y,w,k,x,C,D,I,T,P,M,S,H,z,O,A,N,W,E,F,L,R=new Date,B=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),$=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,te=t.drawYear;if(0>Z&&(Z+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-$,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+$,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:B,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;U[0]>k;k++){for(x="",this.maxRows=4,C=0;U[1]>C;C++){if(D=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),I=" ui-corner-all",T="",X){if(T+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:T+=" ui-datepicker-group-first",I=" ui-corner-"+(Y?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",I=" ui-corner-"+(Y?"left":"right");break;default:T+=" ui-datepicker-group-middle",I=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===k?Y?o:s:"")+(/all|right/.test(I)&&0===k?Y?s:o:"")+this._generateMonthYearHeader(t,Z,te,Q,J,k>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",P=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+c)%7,P+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[M]+"'>"+p[M]+"</span></th>";for(T+=P+"</tr></thead><tbody>",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),H=(this._getFirstDayOfMonth(te,Z)-c+7)%7,z=Math.ceil((H+S)/7),O=X?this.maxRows>z?this.maxRows:z:z,this.maxRows=O,A=this._daylightSavingAdjust(new Date(te,Z,1-H)),N=0;O>N;N++){for(T+="<tr>",W=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(A)+"</td>":"",w=0;7>w;w++)E=m?m.apply(t.input?t.input[0]:null,[A]):[!0,""],F=A.getMonth()!==Z,L=F&&!v||!E[0]||Q&&Q>A||J&&A>J,W+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(A.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===A.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+E[1]+(A.getTime()===G.getTime()?" "+this._currentClass:"")+(A.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!E[2]?"":" title='"+E[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+A.getMonth()+"' data-year='"+A.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":L?"<span class='ui-state-default'>"+A.getDate()+"</span>":"<a class='ui-state-default"+(A.getTime()===B.getTime()?" ui-state-highlight":"")+(A.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+A.getDate()+"</a>")+"</td>",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);T+=W+"</tr>"}Z++,Z>11&&(Z=0,te++),T+="</tbody></table>"+(X?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=T}y+=x}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!h||c>=s.getMonth())&&(!l||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(v||(b+=y+(!o&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),v&&(b+=(!o&&m&&_?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var _=!1;t(document).on("mouseup",function(){_=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!_){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),_=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,_=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}
    },_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(h=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,h,l,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,h-g>_||m>l+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(h-_),r=g>=Math.abs(l-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(h-m),r=g>=Math.abs(l-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())}).on("mouseleave",function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;default:}},_setupHandles:function(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;s.length>i;i++)e=t.trim(s[i]),n="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[o];return this._updatePrevProperties(),h?(i=h.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,h=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&c&&(t.top=h-e.minHeight),n&&c&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,h=t(this).resizable("instance"),l=h.options,c=h.element,u=l.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(h.containerElement=t(d),/document/.test(u)||u===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=h._num(e.css("padding"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,o=h.containerSize.width,a=h._hasScroll(d,"left")?d.scrollWidth:o,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?h.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-h.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-h.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,c=h[1]||1,u=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=h,_&&(p+=l),v&&(f+=c),g&&(p-=l),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-l>0?(i.size.width=p,i.position.left=a.left-u):(p=l-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog
    },disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(this._delay(function(){s.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,o={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,"boolean"==typeof s.text&&delete s.text,t("<button></button>",s).button(o).appendTo(e.uiButtonSet).on("click",function(){n.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" "+"top"+(r>=0?"+":"")+r,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),h=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,i){var s,n,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(s=o.is(":data(ui-draggable)"),s&&!i&&o.draggable("destroy"),!s&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||i===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&v(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var v=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,h=a+e.helperProportions.height,l=i.offset.left,c=i.offset.top,u=l+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return o>=l&&u>=r&&a>=c&&d>=h;case"intersect":return o+e.helperProportions.width/2>l&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>h-e.helperProportions.height/2;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case"touch":return(a>=c&&d>=a||h>=c&&d>=h||c>a&&h>d)&&(o>=l&&u>=o||r>=l&&u>=r||l>o&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&v(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=v(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n}),o.length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0)},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),s=i.offset(),n={left:s.left-e.elementPos.left,top:s.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(s.$element,"ui-selected"),s.selected=!1,i._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,s?"ui-unselecting":"ui-selected")._addClass(n.$element,s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1,c={};i&&i.element!==s.element[0]&&(c.left=i.left+s.elementPos.left,c.right=i.right+s.elementPos.left,c.top=i.top+s.elementPos.top,c.bottom=i.bottom+s.elementPos.top,"touch"===n.tolerance?l=!(c.left>r||o>c.right||c.top>h||a>c.bottom):"fit"===n.tolerance&&(l=c.left>o&&r>c.right&&c.top>a&&h>c.bottom),l?(i.selected&&(s._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(s._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(s._addClass(i.$element,"ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,s._addClass(i.$element,"ui-selected"),i.selected=!0):(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(s._removeClass(i.$element,"ui-selected"),i.selected=!1,s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-selecting")._addClass(s.$element,"ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,s=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(s).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,o){var a;o.optgroup!==n&&(a=t("<li>",{text:o.optgroup}),s._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>"),n=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(s,null,"ui-state-disabled"),this._setText(n,i.label),s.append(n).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?(this.button.css("width",""),void 0):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t),void 0)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,s=[];e.each(function(e,n){s.push(i._parseOption(t(n),e))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1
    },_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),h=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n,o=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(n,i):Math.max(n,i)),a[e]=i),i!==o&&(s=this._trigger("slide",t,this._uiHash(e,i,a)),s!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.round((t-e)/i)*i;t=s+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,c={};this._hasMultipleValues()?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),c["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](c,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?100*((s-n)/(o-n)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},r.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(e){var i,s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,a),i===!1))return}switch(o=this.options.step,s=n=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=s&&n;return o?(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,h,l,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[a],l=!1,e[u]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(e[u]-h)&&(n=Math.abs(e[u]-h),o=this.items[s],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;
        this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,s,n;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,this.element.val(this._format(i)),void 0):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e),void 0)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:r(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:r(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:r(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:r(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:r(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(r(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),h=t(s).closest("li"),l=h.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=h.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,s,n;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;s=this.tabs[n];n++)i=t(s),e===!0||-1!==t.inArray(n,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){o._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){o._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},h=function(t,e){"abort"===e&&s.panels.stop(!1,!0),s._removeClass(n,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),h(n,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var s=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s||s.nodeType||s.jquery?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),i&&this._open(e,t,i),void 0)},_open:function(e,i,s){function n(t){l.of=t,a.is(":hidden")||a.position(l)}var o,a,r,h,l=t.extend({},this.options.position);if(s){if(o=this._find(i))return o.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),h=t("<div>").html(a.find(".ui-tooltip-content").html()),h.removeAttr("name").find("[name]").removeAttr("name"),h.removeAttr("id").find("[id]").removeAttr("id"),h.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(l.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),s=t("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(s,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip});
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
!function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,"mouseover"),f(a,"mousemove"),f(a,"mousedown"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,"mousemove"))},b._touchEnd=function(a){e&&(f(a,"mouseup"),f(a,"mouseout"),this._touchMoved||f(a,"click"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),d.call(b)}}}(jQuery);
(function($) {

    'use strict';

    sl = window.sl || {};

    sl.utils = {
        "createCookie": function(name, value, expires, path, domain) {
            var cookie = name + "=" + escape(value) + ";";

            if (expires) {
                // If it's a date
                if (expires instanceof Date) {
                    // If it isn't a valid date
                    if (isNaN(expires.getTime())) {
                        expires = new Date();
                    }
                } else {
                    // if expires is in days
                    expires = new Date(new Date().getTime() + parseInt(expires) * 1000 * 60 * 60 * 24);
                }
                cookie += "expires=" + expires.toGMTString() + ";";
            }

            if (path) {
                cookie += "path=" + path + ";";
            } else {
                cookie += "path=/;";
            }
            if (domain) {
                cookie += "domain=" + domain + ";";
            }

            document.cookie = cookie;
        },
        "deleteCookie": function(name) {
            document.cookie = name + '=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;';
        },
        "getCookies": function() {
            var cookieObj = {};
            document.cookie.split(';').forEach(function(el, i) {
                var thisItem = el.trim().split(/=(.+)?/);
                cookieObj[thisItem[0]] = thisItem[1];
            })
            return cookieObj;
        },
        "parseCookie": function(cookie, sep) {
            var cookieObj = {};
            sep = sep ? sep : '|';
            decodeURIComponent(cookie).split(sep).forEach(function(item) {
                var arr = item.split('=');
                cookieObj[arr[0]] = arr[1];
            })
            return cookieObj;
        },
        "getURLParams": function() {
            var parameters = location.search.replace('?', '').split('&'),
                paramMap = {};
            parameters.forEach(function(item) {
                var arr = item.split('=');
                paramMap[arr[0]] = arr[1];
            })

            return paramMap;
        }
    }

    sl.components = sl.components || {};

    // These items does not have one corresponding component so it just goes in here
    sl.components.filterableList = {
        "init": function() {
            $('.slbs2-filterable-list table').each(function() {
                var dataTable = $(this).DataTable({
                    "searching": false,
                    "paging": false,
                    "info": false
                });

                $(this).find('.filter').on('keyup', function() {
                    dataTable.search(this.value).draw();
                });

                // Create filter buttons
                // Iterate through columns to get data that could be in the filter
                var filters = {},
                    columnData = dataTable.columns().data(),
                    columnHeaders = dataTable.columns().header();

                for (var i = 0; i < columnData.length; i++) {
                    var thisColumn = columnData[i],
                        thisColumnHeader = $(columnHeaders[i]).text();

                    filters[thisColumnHeader] = [];

                    // Iterate through this column's data
                    for (var j = 0; j < thisColumn.length; j++) {
                        var thisItem = thisColumn[j];

                        filters[thisColumnHeader].push(thisItem);

                    }
                }

            });
        }
    }

    sl.components.modals = {
        "init": function() {
            var modals = this;

            $(document).on('closed.zf.reveal', '[data-reveal]', function() {
                $('#modal .modal-content').empty();
            });

            // click event for video modals
            $('.open-video').on('click', function(e) {
                e.preventDefault();
                var isYoutube = false;

                if ($(this).attr('href').indexOf('http') > -1) {
                    isYoutube = true;
                }
                var modalTemplate = '<div id="video-modal"><div class="video-wrapper">';

                if (isYoutube) {
                    var youtubeId = $(this).attr('href').replace(/http(s)?:\/\/(www\.)(youtu\.be|youtube\.com)?(\/watch\?v=|\/v\/)/g, '');
                    modalTemplate += '<iframe width="800" src="https://www.youtube.com/embed/' + youtubeId + '?autoplay=1" frameborder="0" allowfullscreen></iframe>';

                } else {
                    if ($(this).find('.video-template').length > 0) {
                        modalTemplate += $(this).find('.video-template').html();
                    } else {
                        modalTemplate += '<video controls autoplay poster="' + $(this).attr('data-video-poster') + '"><source src="' + $(this).attr('href') + '" type="video/mp4"></video>';
                    }
                }
                modalTemplate += '</div></div>';

                modals.create(modalTemplate);

                // init Foundation for this modal
                $('#modal').foundation('open');

                return false;
            });
        },
        "create": function(html) {
            $('#modal .modal-content').html(html);
        },
        "close": function(modalId) {
            if (!modalId) {
                modalId = 'modalContent';
            }
            $('#' + modalId).close();
        }
    }

    $(document).on('ready', function() {

        $('.slick-carousel').each(function() {
            $(this).slick();
        });
        sl.components.lazyLoading.init();

        sl.components.videoGallery.init();
        sl.components.shadowBox.init();
        sl.components.highlightsCarousel.init();
        sl.components.deviceTable.init();
        sl.components.deviceTableWithFilters.init();
        sl.components.productFamilyTable.init();
        sl.components.productFamilyTableWithFilter.init();
        sl.components.supportsearch.init();
        sl.components.technicalResources.init();
        sl.components.contentList.init();
        sl.components.l4devicepage.init();
        sl.components.l4deviceandmodulepage.init();
        sl.components.facetedSearch.init();
        sl.components.anchor.init();
        sl.components.parametricSearch.init();
        sl.components.contactSalesSidebar.init();
        sl.components.l4contactSalesSidebar.init();
        sl.components.contactSales.init();
        sl.components.marquee.init();
        sl.components.horizontalseparator.init();
        sl.components.isolatorPowerCalculator.init();
        sl.components.requestPid.init();
        sl.components.partnerProgram.init();
        sl.components.bootstrapCalculator.init();
        sl.components.oscillatorNoise.init();
        sl.components.competitorCrossReference.init();
        sl.components.searchviewmore.init();
        sl.components.pfTableColumnFiltersPopup.init();
        sl.components.pfTableColumnDataFiltersPopup.init();
        sl.components.deviceTableColumnFiltersPopup.init();
        sl.components.deviceTableColumnDataFiltersPopup.init();
        sl.components.kitcarousel.init();
        sl.components.devicedocumentlist.init();

        if (!isEdit && !isDesign) {

            sl.components.mobileOnlyAccordion.init();
            sl.components.filterableList.init();
            sl.components.herocarousel.init();
            sl.components.stickyBar.init();
            sl.components.modals.init();
            sl.components.downloadModal.init();
            sl.components.tables.init();
            sl.components.links.init();
            sl.components.loginContainer.init();
            sl.components.tablePopup.init();
            sl.components.helppopup.init();
            sl.components.oscillatorsearch.init();
            sl.components.brainshark.init();
            sl.components.baraccordionlist.init();
            sl.components.productcategorycard.init();
            sl.components.ribbonbox.init();
            sl.components.squarecontentblock.init();
            sl.components.partGroup.init();
            sl.components.l4dataoverrides.init();
            sl.components.l4tabscommunitysupport.init();
            sl.components.l4tabsstickyheader.init();
            sl.components.l4eolnrnd.init();
        } else {
            console.warn('EDIT MODE: No custom scripts running');
        }

    });

    $(document).on('sl.reinit', function() {
        //console.log('Reinitializing Silicon Labs components');
        sl.components.deviceTable.init(true);
    });

})(jQuery);
var __global_counter = {};
var WSCS={"data":null,"setHtml":function(name,data) { this.data = data},"getHtml":function() {return this.data}, "log" : function(str) { if (console && console.log) { console.log(str); } } };

(function ($, w, d) {

    //jQuery removal
    //Referenced from: http://www.gotoquiz.com/web-coding/programming/javascript/highlight-words-in-text-with-jquery/
    $.fn.highlight = function (str, className) {
        var regex = new RegExp(str, "gi");
        return this.each(function () {
            $(this).contents().filter(function() {
                return this.nodeType === 3;
            }).replaceWith(function() {
                return (this.nodeValue || "").replace(regex, function(match) {
                    return "<span class=\"" + className + "\">" + match + "</span>";
                });
            });
        });
    };

    var pluginName = "TargetComplete";

    var dataKey = "plugin_" + pluginName;

    var CacheManager = (function() {


        return {

            Cs : [],

            options : {

                id : "_global"
            },


            init : function(ids) {
                var o = this;
                $.each(ids,function(i,val) {
                    o.setCache(val);
                });
            },

            getId : function(id) {
                return (typeof id != "undefined") ? id : this.options.id;
            },

            getById : function(cid) {
                var d = null;
                var o = this;

                for (var i = 0; i < o.Cs.length; i++)
                {
                    for (var q in o.Cs[i]) {
                        if (o.Cs[i][q]&&o.Cs[i][q].c&& o.Cs[i][q].c.id == cid) {
                            d = o.Cs[i][q];

                        }

                    }

                }
                return d;
            },

            getData : function(id,query) {
                var o = this;
                id = o.getId(id);
                return (this.check(id,query)) ? o.Cs[id][query].d : null;
            },

            setCache : function(id) {
                var o = this;
                id = o.getId(id);
                o.Cs[id] = {};

            },

            add : function(id,query,ops) {

                var o = this;
                if (o.Cs.length && o.Cs[id]) {
                    o.Cs[id][query] = ops;
                    return true;
                }

                return false;

            },

            clear :  function(id,query)
            {
                var o = this;
                if (o.Cs[id] && o.Cs[id][query]) {
                    o.Cs[id][query] = {};
                }
            },

            clearAll :  function(id)
            {
                var o = this;
                if (o.Cs.length && o.Cs[id]) {
                    o.Cs[id] = {};
                }
            },

            check : function(id,query) {
                var o = this;
                return (id && o.Cs[id] && o.Cs[id][query] && typeof o.Cs[id][query].d !== "undefined");
            }





        }


    });

    var TargetPlugin = function (element, options) {
        // For Keystroke Pacing
        this.cache = new CacheManager();
        this.inputElement = element;
        this.options = {
            viewId : "sayt-view",
            formBrowserAutocomplete : false,
            formSelector : "",
            fade : false,
            preventDefault : true,
            layoutColumns : 1,
            waitToOpen: 0,
            waitToClose: 0,
            minInputLength : 2,
            minInputDelay : 50,
            disableOnSubmit : true,
            arrowKeys : true,
            submitOnSelect : true,
            submitOnEnter : true,
            createViewElement:true,
            displayCSSClose : {"display":"none"},
            displayCSSOpen : {"display":"table"},
            onOpen : null,
            onClose : null,
            onSelect : null,
            onRenderAfter : null,
            onRenderBefore : null,
            containers : [
            ]
        };

    };

    TargetPlugin.prototype = {

        init: function (options) {

            var o = this;

            o.options  = $.extend({},o.options, options);

            if (o.options.createViewElement) {
                o.inputElement.after("<div id='" + o.options.viewId + "'></div>");
            }

            o.viewElement = $("#" + o.options.viewId);
            if (o.options.fade) {
                $("#" + o.options.viewId).css("opacity","0");
            }

            if (!o.options.formBrowserAutocomplete)
            {
                $(o.getFormElement()).attr("autocomplete","off");
            }

            if (!!o.options.disableOnSubmit) {
                var frm = o.getFormElement();
                $(frm).onsubmit = function() {return false;};
            }

            o.revealDependents(o.options.containers);//turn off any dependent container on results

            o.bindEvents();


            var i = 1;
            var keys = [];


            //Assign Container Ids
            $(o.options.containers).each(function(i,obj) {

                (function(i,container,ops) {


                    container.index = i;
                    var myid = (container.id) ? "id='" + container.id + "'" : "";
                    var myclass = (container.className) ? container.className : "";
                    var me = $("#" + ops.viewId + " .sayt-container[data-sayt-container='" + container.index + "']");

                    if (!me.length) {
                        var viewElement = $("#" + ops.viewId);
                        viewElement.append("<div " + myid + " class='sayt-container sayt-container-" + container.index + " " + myclass + "' data-sayt-container='" + container.index + "'></div>");
                    } else {
                        if (container.id)
                        {
                            me.attr("id",container.id);
                        }
                        if (myclass)
                        {
                            me.addClass(myclass);
                        }
                        me.addClass("sayt-container-" + container.index);


                    }
                    keys.push(container.index);
                })(i,obj,o.options);

                o.cache.init(keys);

            });



        },

        getFormElement : function() {
            var o = this;
            var selector = o.options.formSelector||"body form:first-child";

            if (selector) {
                return $(selector);
            } else {
                return $(o.inputElement).closest("form");
            }

        },

        bindEvents : function() {

            var o = this;

            __requests = 0;

            this._now = 0;
            this._before = 0;
            this._keytimer = 0;


            var addEvent = function(object, type, callback) {
                if (object == null || typeof(object) == 'undefined') return;
                if (object.addEventListener) {
                    object.addEventListener(type, callback, false);
                } else if (object.attachEvent) {
                    object.attachEvent("on" + type, callback);
                } else {
                    object["on"+type] = callback;
                }
            };

            var el = (o.inputElement.length) ? o.inputElement[0] : null;

            addEvent(el,"keyup",function(event) {

                var query = o.getInputElementQuery();

                o._now = Date.now();
                o._before = (o._before) ? o._before : o._now;

                clearTimeout(o._keytimer);

                var key = event.keyCode + "";

                if (!key.match(/(27|33|34|38|40)/))
                {


                    $(".sayt-on").removeClass("sayt-on");


                    if (o.options.minInputDelay && ( (o._now - o._before) >= o.options.minInputDelay) )
                    {

                        if (query && query.length >= o.options.minInputLength)
                        {

                            o.request();
                            __requests++;
                        }
                        else {
                            o.close();
                        }

                    }
                    else if (!o.options.minInputDelay || o._now == o._before)
                    {

                        if (query && query.length >= o.options.minInputLength)
                        {
                            o.request();
                            __requests++;
                        }
                        else {
                            o.close();
                        }

                    }
                    else if (o.options.minInputDelay)
                    {

                        o._keytimer = setTimeout(function() {

                            if (query && query.length >= o.options.minInputLength)
                            {
                                o.request();
                                __requests++;
                            }
                            else {
                                o.close();
                            }

                            o._before = o._now;

                        },o.options.minInputDelay)


                    }
                }


            });

            addEvent(el,"blur",function(ev) {
                o.blur();
            });

            addEvent(el,"focus",function(ev) {
                o.focus();
            });

            addEvent(el,"keydown",function(event) {


                switch (event.keyCode) {

                    //Escape
                    case 27 : o.close(); break;

                    //pageUp
                    case 33 : o.scrollUp(); break;

                    //pageDown
                    case 34 :  o.scrollDown(); break;

                    //leftarrow
                    case 37 : break;

                    //uparrow
                    case 38 : o.scrollUp(); break;

                    //rightarrow
                    case 39 : break;

                    //downarrow
                    case 40 : o.scrollDown(); break;

                    //enter
                    case 13 : if (o.options.disableOnSubmit){ event.preventDefault(); }; if (o.options.submitOnEnter) { o.go();};  break;

                    default : break;

                }
            });

        },

        render : function(container,data,query) {

            var o = this;

            if (container)
            {

                if (container.containerType.match(/(autocomplete|array)/))
                {
                    o.renderArray(container,data,query);
                }
                else if (container.containerType == "WSCS" && WSCS)
                {
                    data = WSCS.getHtml();
                    var totalresults = $(data).find("[data-total-results]").attr("data-total-results");

                    if (totalresults) {
                        o.cache.add(container.index,query,{ c : container, d : data, t : totalresults });
                    }

                    o.renderHtml(container,data,query);
                }
                else if (container.containerType == "html" && container.requestUrl)
                {
                    o.renderHtml(container,data,query);
                }
                else if (container.containerType == "html" && !container.requestUrl && container.content)

                {
                    o.renderHtml(container,data,query);
                }


                //o.revealDependents(o.options.containers, data);

                o.open();
            }

        },

        revealDependents : function(containers,data) {
            var o = this;
            if (containers && containers.length)	{

                for (var i = 0; i < containers.length; i++)
                {
                    var cs = containers[i];
                    if ( cs.dependentIds) {
                        var di = cs.dependentIds;
                        di = di.split(",");
                        for (var j = 0; j < di.length; j++)
                        {
                            var strid = di[j].trim();
                            var c = (cs.id) ? o.cache.getById(cs.id) : null;
                            var total = (data&&data.length) ? data.length : 0;

                            if (parseInt(total) > 0) {
                                $("#"+strid).html(o.tokens($("#"+strid).html(), cs, total));
                                $("#"+strid).show();
                            } else {
                                //$("#"+strid).hide();
                            }


                        }

                    }
                }
            }

        },

        renderArray : function(container,data, query) {

            var o = this;
            var html = "";

            container.maxResults = container.maxResults || 3;

            var i = 0;
            var htmllist = [];
            if (data.length > 0)
            {
                html = "";
                $(data).each(function(i,val) {
                    if (o.isMatch(container, val, query ))
                    {
                        var surl = (container.searchUrl) ? container.searchUrl : "";
                        var sep = surl.match(/\?/) ? "&" : "?";

                        v = (container.attachClickLink!== false) ? "<a href='" + container.searchUrl + sep + "q=" + val + "' class='sayt-link'>" + val + "</a>" : val;
                        html += "<li class='sayt-list-element' data-sayt-value='" + val + "'>" + v + "</li>";

                    }
                    i++;
                });
                htmllist.push((html) ? "<div><ul class='sayt-list'>" + html + "</ul></div>" : "");
            }

            var mycontainer = $("#" + o.options.viewId + " .sayt-container[data-sayt-container='" + container.index + "']");
            if(mycontainer.length)
            {

                html = "";
                for (var i =0; i < htmllist.length;i++) {
                    if (container.maxResults && i < container.maxResults) {
                        html+=htmllist[i];
                    }
                }

                if (container.highlightWords) {
                    html = o.highlightHtml(html,query);
                }

                if (typeof container.onRenderBefore == "function")
                {
                    html = container.onRenderBefore(html,container,data,query,o.options);
                }

                html = o.tokens(html, container);

                //o.renderDependencies(container);


                mycontainer.html(html);


                if (typeof container.onRenderAfter == "function")
                {
                    container.onRenderAfter(container,data,query,o.options);
                }

                //Bind Click events for targets
                $("#" + o.options.viewId + ".sayt-list-element").each(function(i,obj) {

                    var func = function() {};
                    var el = null;

                    if (!$(obj).find(".sayt-link").length)
                    {

                        el = $(obj).find("a");

                        func = function(ev) {
                            o.go();
                        }


                    } else {

                        el = $(obj).find(".sayt-link");

                        func = function(ev) {
                            ev.preventDefault();
                            o.go();

                        }

                    }



                    if (el) {

                        el.bind("click",function(ev) {
                            func(ev);
                        });

                        el.bind("touchend",function(ev) {
                            func(ev);
                        });
                        el.bind("mouseover",function(ev) {
                            $(".sayt-on").removeClass("sayt-on");
                            $(obj).addClass("sayt-on");

                        });

                        el.bind("mouseout",function(ev) {
                            $(".sayt-on").removeClass("sayt-on");

                        });
                    }


                });
            }


        },

        renderHtml : function(container,html,query) {

            var o = this;


            var mycontainer = $("#" + o.options.viewId + " .sayt-container[data-sayt-container='" + container.index + "']");

            if(mycontainer.length && html)
            {
                if (container.highlightWords) {
                    html =  o.highlightHtml(html,query);
                }
                if (typeof container.onRenderBefore == "function")
                {
                    html = container.onRenderBefore(html,container,data,query,o.options);
                }
                html = o.tokens(html, container, $("#" + o.options.viewId + " #sayt-list").attr("data-total-results"));

                //o.renderDependencies(container,$("#sayt-list").attr("data-total-results"));

                mycontainer.html(html);



                if (typeof container.onRenderAfter == "function")
                {
                    container.onRenderAfter(container,data,query,o.options);
                }


                $(".sayt-list-element").each(function(i,obj) {

                    var func = function() {}

                    $(obj).bind("mouseover",function(ev) {
                        $(".sayt-on").removeClass("sayt-on");
                        $(obj).addClass("sayt-on");

                    });

                    $(obj).bind("mouseout",function(ev) {
                        $(".sayt-on").removeClass("sayt-on");

                    });


                    if (mycontainer.attachClickLink!== false) {

                        func = function() {
                            o.go();
                        }
                        el = $(obj).find(".sayt-link");

                        if (!el.length) {
                            el = $(obj).find("a");
                            el.addClass("sayt-link");
                        }

                        el.bind("click",function(ev) {
                            func(ev);
                        });

                        el.bind("touchend",function(ev) {
                            func(ev);
                        });


                    } else {

                        func = function(ev) {
                            o.go();
                        }

                        el = $(obj);

                        el.bind("click",function(ev) {
                            func(ev);
                        });

                        el.bind("touchend",function(ev) {
                            func(ev);
                        });

                    }


                });

            }

            if (typeof container.onRender == "function")
            {
                html = container.onRender(data);
            }


        },

        tokens : function(html, container, total) {
            var o = this;
            html = html.replace(/%searchQuery%/ig, o.getInputElementQuery()||"")
            html = html.replace(/%searchTotal%/ig, total||0);
            html = html.replace(/%searchUrl%/ig, container.searchUrl||"");
            return html;
        },

        focus : function() {
            var o = this;
            var query = o.getInputElementQuery();

            if (query && query.length >= o.options.minInputLength && query != o.options.emptyInputValue)
            {
                o.open();
            }


        },

        blur : function() {

            var o = this;

            if (!$(".sayt-on").length)
            {
                o.close();
            }

        },

        request : function() {

            var o = this;
            var i = 1;
            $(o.options.containers).each(function(i,obj) {
                (function(i,container) {
                    //var container = this;
                    if (!container.index) { container.index = i };
                    var query = o.getInputElementQuery();

                    if (container.containerType == "autocomplete") {
                        container.ajaxDataType = "jsonp";
                        container.queryParam="query";
                    } else if (container.containerType == "array") {
                        o.cache.add(container.index,query,{ c : container, d : container.content, t : container.content.length||0 });
                    }

                    var ajaxsettings = {

                        dataType : container.ajaxDataType,
                        url : o.getRequestURL(container),
                        success : function(data) {

                            if (__global_counter[container.index] == requestcounter[container.index])//make sure it's the latest request
                            {
                                var totalresults = (data&& data.length)? data.length : 0;
                                o.cache.add(container.index,query,{ c : container, d : data, t : totalresults });
                                o.render(container,data,query);

                            }

                        }
                    }

                    if (o.cache.check(container.index,query)) {
                        o.render(container,o.cache.getData(container.index,query),query);
                    }

                    else if (ajaxsettings.url)
                    {
                        if (!__global_counter[container.index]) { __global_counter[container.index] = 0 }
                        var requestcounter = [];
                        if (!requestcounter[container.index]) { requestcounter[container.index] = -1 }
                        __global_counter[container.index]++;
                        requestcounter[container.index] = __global_counter[container.index];
                        $.ajax(ajaxsettings);
                    }
                    else if (container.content)//static
                    {
                        o.cache.add(container.index,query,{ c : container, d : container.content, t : null });
                        o.render(container,container.content,query);

                    }


                })(i,obj);

            });
        },

        getInputElementQuery : function() {

            return this.inputElement.val();

        },

        getRequestURL : function(container) {

            var req = "";

            var term = this.getInputElementQuery();

            if (container.containerType == "autocomplete")
            {
                req = this.getAutocompleteRequest(container);
            }
            else
            {
                req = container.requestUrl;
            }

            var t = (container.prependToQuery) ? container.prependToQuery + term : term;
            t = (container.appendToQuery) ?  t + container.appendToQuery : t;

            if (req)
            {
                var sep = (container.queryParamSeparator) ? container.queryParamSeparator : (req.match(/\?/)) ? "&" : "?";
                //sep = (sep == "&" && req.match(/\?\w/)) ? "&" : "";

                req = (container.queryParam) ? req + sep + container.queryParam + "=" + t : req;
            }

            return req;

        },

        getAutocompleteRequest : function(container)
        {
            var o = this;
            var protocol = (d.location.protocol == "https:" ? "https:" : "http:");
            var postfix = (container.stage ? "stage/" : "/");
            var acct = (typeof container.account != "undefined") ? container.account.split("") : [];
            var spid = "";
            var j = 0;
            for (var i = 0; i < acct.length ; i++)
            {
                if (i >= 2)
                {
                    j++;
                    if (j == 2)
                    {
                        j = 0;
                        spid += (i != (acct.length - 1)) ? acct[i] + "/" : acct[i];
                    }
                    else
                    {
                        spid += acct[i];
                    }
                }
                else
                {
                    spid += acct[i];
                }

            }

            var count = (container.maxResults) ? "max_results=" + container.maxResults : "";
            var req = protocol + "//content.atomz.com/autocomplete/" + spid + postfix + "?" + count;

            return req;

        },

        isMatch : function(container,content,term) {

            var matcher = null;
            var matchcase = (container.queryCaseSensitive) ? "" : "i";
            if (container.matchType && container.matchType == "start")
            {
                matcher = new RegExp( "^" + term, matchcase );
            }
            else {
                matcher = new RegExp( term, matchcase );
            }

            return (matcher && matcher.test(content));

        },

        highlightHtml : function(html,term) {

            var o = this;
            var terms = term.split(/\s/);
            terms = (terms.length) ?  terms : [];
            if (!terms.length) { terms.push(term); }



            if (terms.length)
            {

                var elem = $(html);

                $(terms).each(function(i,val) {

                    if (val.match(/\w/))
                    {

                        elem.find(".sayt-list-element").each(function(){

                            var els = $(this).find("*");

                            if (els.length)
                            {
                                $(els).highlight(val,"sayt-match");
                            }
                            else
                            {
                                $(this).highlight(val,"sayt-match");

                            }

                        });

                    }

                });

                return (elem.html()) ? elem.html() : "";


            }

            return html;

        },

        open : function() {

            var o = this;

            var eventOpenBefore = (typeof o.options.onOpenBefore === "function") ? o.options.onOpenBefore : function(opts) {};
            var eventOpenAfter = (typeof o.options.onOpenAfter === "function") ? o.options.onOpenAfer : function(opts) {};

            if (o.options.fade)
            {
                eventOpenBefore(o.options);
                o.viewElement.animate({ "opacity":"1"},o.options.waitToOpen);
                eventOpenAfter(o.options);
            }
            else if (!o.options.fade && o.options.waitToOpen)
            {
                if (o.options.displayCSSOpen) {
                    func = function() { eventOpenBefore(o.options);o.viewElement.css(o.options.displayCSSOpen); eventOpenAfter(o.options); }
                } else {
                    func = function() { eventOpenBefore(o.options); o.viewElement.show(); eventOpenAfter(o.options);  }
                }

                setTimeout(func, o.options.waitToOpen);
            }
            else
            {

                if (o.options.displayCSSOpen) {
                    func = function() { eventOpenBefore(o.options); o.viewElement.css(o.options.displayCSSOpen); eventOpenAfter(o.options);  }
                } else {
                    func = function() { eventOpenBefore(o.options);o.viewElement.show(); eventOpenAfter(o.options);  }
                }

                func();


            }



        },

        close : function() {

            var o = this;
            var func = function() {};

            var eventCloseBefore = (typeof o.options.onCloseBefore === "function") ? o.options.onCloseBefore : function(opts) {};
            var eventCloseAfter = (typeof o.options.onCloseAfter === "function") ? o.options.onCloseAfer : function(opts) {};


            if (o.options.fade)
            {
                eventCloseBefore(o.options);
                o.viewElement.animate({ "opacity":"0"},o.options.waitToClose);
                eventCloseAfter(o.options);
            }
            else if (!this.options.fade && o.options.waitToClose)
            {
                if (o.options.displayCSSClose) {
                    func = function() { eventCloseBefore(o.options);o.viewElement.css(o.options.displayCSSClose); eventCloseAfter(o.options); }
                } else {
                    func = function() { eventCloseBefore(o.options);o.viewElement.hide(); eventCloseAfter(o.options); }
                }

                setTimeout(func, o.options.waitToClose);
            }
            else
            {

                if (o.options.displayCSSClose) {
                    func = function() { eventCloseBefore(o.options); o.viewElement.css(o.options.displayCSSClose); eventCloseAfter(o.options); }
                } else {
                    func = function() { eventCloseBefore(o.options); o.viewElement.hide(); eventCloseAfter(o.options); }
                }

                func();
            }

        },

        setActiveSelectionElement : function(down) {

            var o = this;
            var index = 0;
            var size = 0;
            var i = 0;
            $(".sayt-list-element").each(function() {


                var elem = this;
                var even = (i % 2 == 0) ? true : false;
                var rowclass = "sayt-even";
                if (!even) {
                    rowclass = "sayt-odd";
                }

                $(elem).removeClass("sayt-odd");
                $(elem).removeClass("sayt-even");
                $(elem).attr("data-sayt-index",i);
                $(elem).addClass(rowclass);

                i++;

            });

            size = i;
            var sindex = $(".sayt-on").attr("data-sayt-index");
            var lindex = -1;
            if (sindex) {
                sindex = parseInt(sindex);
                lindex = sindex;
            } else {
                sindex = -1;
            }

            if (!!down) {
                sindex = ((sindex + 1)  < size )  ?  sindex + 1 : 0;
            } else {
                sindex = ( (sindex-1) >= 0) ? sindex - 1 : size - 1;
            }


            $(".sayt-list-element[data-sayt-index='" + lindex + "']").removeClass("sayt-on");
            $(".sayt-list-element[data-sayt-index='" + sindex + "']").addClass("sayt-on");


        },

        scrollUp : function() {

            var o = this;

            if (this.options.arrowKeys)
            {
                this.setActiveSelectionElement(false);
            }

            this.open();

        },

        scrollDown : function() {

            var o = this;

            if (this.options.arrowKeys)
            {
                this.setActiveSelectionElement(true);
            }

            this.open();

        },

        go : function() {

            var o = this;

            var frm = o.getFormElement();

            var size = $(".sayt-on").find(".sayt-link").length;

            if (size)
            {

                var href = $(".sayt-on").find(".sayt-link").attr("href");

                if (o.options.submitOnSelect)
                {

                    if (typeof o.options.onSelect === "function") {

                        o.options.onSelect(o.options,frm,newval,"");

                    }

                    if (href) w.location.href = href;
                }
            }
            else if ($(".sayt-on").length)
            {
                var newval = $(".sayt-on").attr("data-sayt-value");

                if (newval) {
                    o.inputElement.val(newval);

                }

                if (o.options.submitOnSelect)
                {
                    var href = $(".sayt-on").find(".sayt-link").attr("href");
                    if (typeof o.options.onSelect === "function") {
                        o.options.onSelect(o.options,frm,newval,"");
                    }
                    if (href) w.location.href = href;
                }


            }



        }

    };

    $.fn[pluginName] = function (options) {

        var plugin = this.data(dataKey);

        if (plugin instanceof TargetPlugin) {
            if (typeof options != 'undefined') {
                plugin.init(element,options);
            }
        } else {
            var plugin = new TargetPlugin(this, options);
            plugin.init(options);
            this.data(dataKey, plugin);
        }

        return plugin;
    };

})($, window, document);
sl = sl || {};
sl.components = sl.components || {};


sl.components.l4devicepage = {
    "init": function() {
        var l4devicepage = this;

        if ($('.part-group-switcher').length > 0) {
            $('.part-group-switcher input, .part-group-switcher select').on('change', function(e) {
                e.preventDefault();

                var $thisInput = $(this),
                    $thisFieldset = $thisInput.parents('fieldset'),
                    $form = $thisInput.parents('form'),
                    formValues = $form.find('[name] :selected, [name]:checked'),
                    valueString = '';

                for (var i = 0; i < formValues.length; i++) {
                    valueString += formValues.eq(i).val();
                    if (i < formValues.length - 1) {
                        valueString += '|';
                    }
                }

                $thisFieldset.find('[value]').each(function() {
                    $(this).attr('disabled', false);
                })

                if (valueString && window.sl.deviceMap) {

                    if (typeof window.sl.deviceMap[valueString] !== 'undefined') {

                        // TODO: Ensure that if a user goes from an errant state to a correct state it still works
                        // Re-enable eveyrthing that may have been disabled with an incorrect selection
                        $form.find('[value]').each(function() {
                            $(this).attr('disabled', false);
                        })

                        if (window.location.pathname.match('.html$')) {
                            var newPartNumber = window.sl.deviceMap[valueString].name,
                                newHref = window.location.pathname.replace(/(.+\.)(.+)(\.html)/g, '$1' + newPartNumber + '$3');
                            if (window.location.pathname !== newHref) {
                                window.location.pathname = window.location.pathname.replace(/(.+\.)(.+)(\.html)/g, '$1' + newPartNumber + '$3');
                            }
                        } else {
                            var newPartNumber = window.sl.deviceMap[valueString].name,
                                newHref = window.location.pathname.replace(/(.+\.)(.+)$/g, '$1' + newPartNumber);
                            if (window.location.pathname !== newHref) {
                                window.location.pathname = window.location.pathname.replace(/(.+\.)(.+)$/g, '$1' + newPartNumber);
                            }
                        }
                    } else {
                        // If nothing with this combo exists...

                        // First disable all inputs
                        var $otherFieldsets = $thisFieldset.siblings();
                        $otherFieldsets.addClass('error');
                        $otherFieldsets.find('[value]').each(function() {
                            $(this).attr('disabled', true);
                        })

                        // Iterate through all the correct combos
                        var deviceMap = window.sl.deviceMap;
                        for (var key in deviceMap) {
                            var deviceVals = key.split('|'),
                                masterVal = $thisInput.val(),
                                masterIndex = $thisFieldset.index();

                            // If this combo matches the master value selected by the user
                            if (deviceVals[masterIndex] == masterVal) {

                                // Iterate through the device's correct values
                                for (var i = 0; i < deviceVals.length; i++) {
                                    var thisCorrectVal = deviceVals[i];

                                    // Find the input in the corresponding fieldset and enable it
                                    $form.children('fieldset').eq(i).find('[value="' + thisCorrectVal + '"]').each(function() {
                                        $(this).attr('disabled', false);
                                    })
                                }
                            }
                        }

                    }

                    // Check if any fieldsets have errors in them, if not remove all error classes
                    $form.find('fieldset').each(function() {
                        if ($(this).find('[disabled]:selected, [disabled]:checked').length == 0) {
                            $(this).removeClass('error');
                            $(this).find('.error').removeClass('error');
                        } else {
                            $(this).addClass('error');
                        }
                    })
                }
            })
        }
    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.contactSalesSidebar = {
    "init": function() {
        var $sidebar = $('#contact-sales');

        if ($sidebar.length > 0) {

            var url = $sidebar.attr("data-url"),
                productLine = null,
                productFamily = null,
                partNumber = null;

            var digitalData = window.digitalData;

            if (digitalData && digitalData.products) {
                var currentProduct = digitalData.products[0];

                productLine = currentProduct.productInfo.productLine;
                productCategory = currentProduct.productInfo.productCategory;
                productFamily = currentProduct.productInfo.productFamily;
                partNumber = currentProduct.productInfo.partNumber;

                var cookieVal = 'productLine=' + productLine + '|' +
                    'productFamily=' + productFamily + '|' +
                    'productCategory=' + productCategory + '|' +
                    'partNumber=' + partNumber + '|' +
                    'referrerUrl=' + window.location.href;

                // Set contactSales cookie to pass data to Contact Sales page
                sl.utils.createCookie('contactSales', cookieVal);

                // This was for the old sharepoint
                // $sidebar.on('click', function() {
                //     var form = $('<form action="' + url + '" method="post">' +
                //         '<input type="text" name="PartNumber" value="' + partNumber + '" />' +
                //         '<input type="text" name="ProductFamily" value="' + productFamily + '" />' +
                //         '<input type="text" name="ProductLine" value="' + productLine + '" />' +
                //         '</form>');

                //     $('body').append(form);
                //     form.submit();
                // })
            }
        }
    }
}
sl = sl || {};
sl.components = sl.components || {};


sl.components.l4deviceandmodulepage = {
    "init": function() {
        var l4deviceandmodulepage = this;

        if ($('.part-group-switcher').length > 0) {
            $('.part-group-switcher input, .part-group-switcher select').on('change', function(e) {
                e.preventDefault();

                var $thisInput = $(this),
                    $thisFieldset = $thisInput.parents('fieldset'),
                    $form = $thisInput.parents('form'),
                    formValues = $form.find('[name] :selected, [name]:checked'),
                    valueString = '';

                for (var i = 0; i < formValues.length; i++) {
                    valueString += formValues.eq(i).val();
                    if (i < formValues.length - 1) {
                        valueString += '|';
                    }
                }

                $thisFieldset.find('[value]').each(function() {
                    $(this).attr('disabled', false);
                })

                if (valueString && window.sl.deviceMap) {

                    if (typeof window.sl.deviceMap[valueString] !== 'undefined') {

                        // TODO: Ensure that if a user goes from an errant state to a correct state it still works
                        // Re-enable eveyrthing that may have been disabled with an incorrect selection
                        $form.find('[value]').each(function() {
                            $(this).attr('disabled', false);
                        })

                        if (window.location.pathname.match('.html$')) {
                            var newPartNumber = window.sl.deviceMap[valueString].name,
                                newHref = window.location.pathname.replace(/(.+\.)(.+)(\.html)/g, '$1' + newPartNumber + '$3');
                            if (window.location.pathname !== newHref) {
                                window.location.pathname = window.location.pathname.replace(/(.+\.)(.+)(\.html)/g, '$1' + newPartNumber + '$3');
                            }
                        } else {
                            var newPartNumber = window.sl.deviceMap[valueString].name,
                                newHref = window.location.pathname.replace(/(.+\.)(.+)$/g, '$1' + newPartNumber);
                            if (window.location.pathname !== newHref) {
                                window.location.pathname = window.location.pathname.replace(/(.+\.)(.+)$/g, '$1' + newPartNumber);
                            }
                        }
                    } else {
                        // If nothing with this combo exists...

                        // First disable all inputs
                        var $otherFieldsets = $thisFieldset.siblings();
                        $otherFieldsets.addClass('error');
                        $otherFieldsets.find('[value]').each(function() {
                            $(this).attr('disabled', true);
                        })

                        // Iterate through all the correct combos
                        var deviceMap = window.sl.deviceMap;
                        for (var key in deviceMap) {
                            var deviceVals = key.split('|'),
                                masterVal = $thisInput.val(),
                                masterIndex = $thisFieldset.index();

                            // If this combo matches the master value selected by the user
                            if (deviceVals[masterIndex] == masterVal) {

                                // Iterate through the device's correct values
                                for (var i = 0; i < deviceVals.length; i++) {
                                    var thisCorrectVal = deviceVals[i];

                                    // Find the input in the corresponding fieldset and enable it
                                    $form.children('fieldset').eq(i).find('[value="' + thisCorrectVal + '"]').each(function() {
                                        $(this).attr('disabled', false);
                                    })
                                }
                            }
                        }

                    }

                    // Check if any fieldsets have errors in them, if not remove all error classes
                    $form.find('fieldset').each(function() {
                        if ($(this).find('[disabled]:selected, [disabled]:checked').length == 0) {
                            $(this).removeClass('error');
                            $(this).find('.error').removeClass('error');
                        } else {
                            $(this).addClass('error');
                        }
                    })
                }
            })
        }
    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.l4contactSalesSidebar = {
    "init": function() {
        var $sidebar = $('#contact-sales');

        if ($sidebar.length > 0) {

            var url = $sidebar.attr("data-url"),
                productLine = null,
                productFamily = null,
                partNumber = null;

            var digitalData = window.digitalData;

            if (digitalData && digitalData.products) {
                var currentProduct = digitalData.products[0];

                productLine = currentProduct.productInfo.productLine;
                productCategory = currentProduct.productInfo.productCategory;
                productFamily = currentProduct.productInfo.productFamily;
                partNumber = currentProduct.productInfo.partNumber;

                var cookieVal = 'productLine=' + productLine + '|' +
                    'productFamily=' + productFamily + '|' +
                    'productCategory=' + productCategory + '|' +
                    'partNumber=' + partNumber + '|' +
                    'referrerUrl=' + window.location.href;

                // Set contactSales cookie to pass data to Contact Sales page
                sl.utils.createCookie('contactSales', cookieVal);

                // This was for the old sharepoint
                // $sidebar.on('click', function() {
                //     var form = $('<form action="' + url + '" method="post">' +
                //         '<input type="text" name="PartNumber" value="' + partNumber + '" />' +
                //         '<input type="text" name="ProductFamily" value="' + productFamily + '" />' +
                //         '<input type="text" name="ProductLine" value="' + productLine + '" />' +
                //         '</form>');

                //     $('body').append(form);
                //     form.submit();
                // })
            }
        }
    }
}
sl = sl || {};
sl.components = sl.components || {};


sl.components.l4devicepage = {
    "init": function() {
        var l4devicepage = this;

        if ($('.part-group-switcher').length > 0) {
            $('.part-group-switcher input, .part-group-switcher select').on('change', function(e) {
                e.preventDefault();

                var $thisInput = $(this),
                    $thisFieldset = $thisInput.parents('fieldset'),
                    $form = $thisInput.parents('form'),
                    formValues = $form.find('[name] :selected, [name]:checked'),
                    valueString = '';

                for (var i = 0; i < formValues.length; i++) {
                    valueString += formValues.eq(i).val();
                    if (i < formValues.length - 1) {
                        valueString += '|';
                    }
                }

                $thisFieldset.find('[value]').each(function() {
                    $(this).attr('disabled', false);
                })

                if (valueString && window.sl.deviceMap) {

                    if (typeof window.sl.deviceMap[valueString] !== 'undefined') {

                        // TODO: Ensure that if a user goes from an errant state to a correct state it still works
                        // Re-enable eveyrthing that may have been disabled with an incorrect selection
                        $form.find('[value]').each(function() {
                            $(this).attr('disabled', false);
                        })

                        if (window.location.pathname.match('.html$')) {
                            var newPartNumber = window.sl.deviceMap[valueString].name,
                                newHref = window.location.pathname.replace(/(.+\.)(.+)(\.html)/g, '$1' + newPartNumber + '$3');
                            if (window.location.pathname !== newHref) {
                                window.location.pathname = window.location.pathname.replace(/(.+\.)(.+)(\.html)/g, '$1' + newPartNumber + '$3');
                            }
                        } else {
                            var newPartNumber = window.sl.deviceMap[valueString].name,
                                newHref = window.location.pathname.replace(/(.+\.)(.+)$/g, '$1' + newPartNumber);
                            if (window.location.pathname !== newHref) {
                                window.location.pathname = window.location.pathname.replace(/(.+\.)(.+)$/g, '$1' + newPartNumber);
                            }
                        }
                    } else {
                        // If nothing with this combo exists...

                        // First disable all inputs
                        var $otherFieldsets = $thisFieldset.siblings();
                        $otherFieldsets.addClass('error');
                        $otherFieldsets.find('[value]').each(function() {
                            $(this).attr('disabled', true);
                        })

                        // Iterate through all the correct combos
                        var deviceMap = window.sl.deviceMap;
                        for (var key in deviceMap) {
                            var deviceVals = key.split('|'),
                                masterVal = $thisInput.val(),
                                masterIndex = $thisFieldset.index();

                            // If this combo matches the master value selected by the user
                            if (deviceVals[masterIndex] == masterVal) {

                                // Iterate through the device's correct values
                                for (var i = 0; i < deviceVals.length; i++) {
                                    var thisCorrectVal = deviceVals[i];

                                    // Find the input in the corresponding fieldset and enable it
                                    $form.children('fieldset').eq(i).find('[value="' + thisCorrectVal + '"]').each(function() {
                                        $(this).attr('disabled', false);
                                    })
                                }
                            }
                        }

                    }

                    // Check if any fieldsets have errors in them, if not remove all error classes
                    $form.find('fieldset').each(function() {
                        if ($(this).find('[disabled]:selected, [disabled]:checked').length == 0) {
                            $(this).removeClass('error');
                            $(this).find('.error').removeClass('error');
                        } else {
                            $(this).addClass('error');
                        }
                    })
                }
            })
        }
    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.contactSalesSidebar = {
    "init": function() {
        var $sidebar = $('#contact-sales');

        if ($sidebar.length > 0) {

            var url = $sidebar.attr("data-url"),
                productLine = null,
                productFamily = null,
                partNumber = null;

            var digitalData = window.digitalData;

            if (digitalData && digitalData.products) {
                var currentProduct = digitalData.products[0];

                productLine = currentProduct.productInfo.productLine;
                productCategory = currentProduct.productInfo.productCategory;
                productFamily = currentProduct.productInfo.productFamily;
                partNumber = currentProduct.productInfo.partNumber;

                var cookieVal = 'productLine=' + productLine + '|' +
                    'productFamily=' + productFamily + '|' +
                    'productCategory=' + productCategory + '|' +
                    'partNumber=' + partNumber + '|' +
                    'referrerUrl=' + window.location.href;

                // Set contactSales cookie to pass data to Contact Sales page
                sl.utils.createCookie('contactSales', cookieVal);

                // This was for the old sharepoint
                // $sidebar.on('click', function() {
                //     var form = $('<form action="' + url + '" method="post">' +
                //         '<input type="text" name="PartNumber" value="' + partNumber + '" />' +
                //         '<input type="text" name="ProductFamily" value="' + productFamily + '" />' +
                //         '<input type="text" name="ProductLine" value="' + productLine + '" />' +
                //         '</form>');

                //     $('body').append(form);
                //     form.submit();
                // })
            }
        }
    }
}
sl = sl || {};
sl.components = sl.components || {};
var videoContainerIds = [];

sl.components.videoGallery = {
    init: function() {

        var $galleries = $('.slbs2-video-gallery');
        var mainChanged = false;

        $galleries.each(function() {
            var $thisGallery = $(this),
                $nav = $thisGallery.find('.slick-video-thumbnail-carousel'),
                $main = $thisGallery.find('.main-video');

            $main.on('init reInit afterChange', function() {
                mainChanged = true;
                sl.components.videoGallery.videos.init($main);
            });

            $main.on('beforeChange', function() {
                sl.components.videoGallery.videos.pauseAll();
            });

            $nav.on('init reInit afterChange', function() {
                if (!mainChanged) {
                    sl.components.videoGallery.videos.init($main);
                } else {
                    mainChanged = false;
                }
            });

            $nav.slick({
                "asNavFor": $main,
                "slidesToShow": 5,
                "focusOnSelect": true,
                "centerMode": true,
                "centerPadding": "0",
                responsive: [{
                    breakpoint: 1024, // large
                    settings: {
                        "slidesToShow": 3
                    }
                }, {
                    breakpoint: 688, // medium
                    settings: {
                        "centerMode": false,
                        "slidesToShow": 2
                    }
                }]
            });

            sl.components.videoGallery.checkSlickNoSlide($nav);

            //Added to also check when window is resized
            $(window).resize(function() {
                window.setTimeout(function() {
                    sl.components.videoGallery.checkSlickNoSlide($nav);
                }, 200); //Need to have timeout
            });
        });

        sl.components.videoGallery.videos.prep(videoContainerIds);
    },

    checkSlickNoSlide: function($nav) {
        var getSlick = $nav.slick('getSlick');

        if (getSlick.slideCount <= getSlick.options.slidesToShow) {
            $nav.addClass('slick-no-slide');
        } else {
            $nav.removeClass('slick-no-slide');
        }
    },
    videos: {
        prep: function(videoContainerIds) {
            $('.slick-slide:not(.slick-cloned) .video-viewer').each(function(i, v) {
                var settings = JSON.parse($(v).attr('data-video-settings'));

                videoContainerIds.push(settings.containerId);
            });
        },
        init: function($carousel) {
            // Initialize videos in the active slide if not yet intialiazed. If already initialized, play video above medium viewports.

            if ($carousel.find('.slick-active').children('.video-viewer').length > 0) {
                var containerId = $carousel.find('.slick-active').children('.video-viewer').attr('id');
                if (window.sl.pageProperties.videoViewers) {
                    if (!window.sl.pageProperties.videoViewers[containerId].initCalled) {
                        // not yet initialized, so init it
                        window.sl.pageProperties.videoViewers[containerId].init();
                    } else {
                        // already initialized, so play it
                        if (Foundation.MediaQuery.atLeast('medium')) {
                            sl.components.videoGallery.videos.playActive($carousel);
                        }
                    }
                } else {
                    window.sl.pageProperties.videoViewersToInit = {};
                    window.sl.pageProperties.videoViewersToInit[containerId] = true;
                }

            }
        },
        playActive: function($carousel, checkAutoPlay) {

            var settings = JSON.parse($carousel.find('.slick-active').find('.video-viewer').attr('data-video-settings')),
                videoViewer = window.sl.pageProperties.videoViewers[settings.containerId];

            if (!videoViewer.initializationComplete) {
                return false;
            }

            var videoPlayer = window.sl.pageProperties.videoViewers[settings.containerId].getComponent('videoPlayer');

            if (checkAutoPlay && settings.autoplay === '0') {
                return false;
            }

            if (videoPlayer) {
                if ((videoPlayer.getDuration() - videoPlayer.getCurrentTime()) <= 1) {
                    videoPlayer.seek(0);
                }
                videoPlayer.play();
            }
        },
        pauseAll: function() {
            $.each(videoContainerIds, function(i, v) {
                if (window.sl.pageProperties.videoViewers[v].initializationComplete && window.sl.pageProperties.videoViewers[v].getComponent('videoPlayer')) {
                    window.sl.pageProperties.videoViewers[v].getComponent('videoPlayer').pause();
                }
            });
        }
    }
}
sl = sl || {};
sl.components = sl.components || {};


sl.components.mobileOnlyAccordion = {
'init': function() {
    var mobileOnlyAccordion = this;
    mobileOnlyAccordion.testWindowSize();

    $(window).on('resize', function() {
        // Fix for android browsers - only update it on resize if the width has actually changed; not the height
        if ($(window).width() !== mobileOnlyAccordion.width) {
            mobileOnlyAccordion.testWindowSize();
        }
    });
},
'width': $(window).width(),
'height': $(window).height(),
'testWindowSize': function() {
    var $mobileOnlyAccordions = $('.slbs2-mobile-only-accordion');

    var mq = 'medium';

    $mobileOnlyAccordions.each(function() {
        var $thisAccordion = $(this);

        if ($thisAccordion.hasClass('accordion-medium')) {
            mq = 'large';
        }

        if (Foundation.MediaQuery.atLeast(mq)) {

            // if it's already initialized, remove Foundation accordion
            if (typeof $thisAccordion.data().zfPlugin !== 'undefined') {
                $thisAccordion.foundation('destroy');
            }

            // remove click events, prevent jump to top of page
            $thisAccordion.find('.accordion-title').on('click.overrideAccordion', function(e) {
                e.preventDefault();
                return false;
            });

        } else {
            // open first accordions by default if it's not already open

            if ( !$thisAccordion.hasClass('default-closed') && $thisAccordion.parents('[class^="column"]:first-child, .parsys_column:first-child').length > 0) {
                if (!$thisAccordion.find('.accordion-item').hasClass('is-active')) {
                    $thisAccordion.find('.accordion-item').addClass('is-active');
                }
            }

            // re-init accordions
            var elem = new Foundation.Accordion($mobileOnlyAccordions);

            // remove empty click event
            $thisAccordion.find('.accordion-title').unbind('click.overrideAccordion');
        }


    });

}
}

sl = sl || {};
sl.components = sl.components || {};

sl.components.technicalResources = {
    "init": function() {
        var technicalResources = this,
            $technicalResources = $('.technical-resources table');

        $technicalResources.each(function() {
            $(this).DataTable({
                "searching": false,
                "paging": false,
                "info": false
            });
        })
    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.tables = {
    "init": function() {

        var tables = this,
            $table = $('.slbs2-table'),
            tableWidth = $table.outerWidth();

        tables.testForScroll($table);
        var $thisTableFirstCol = $table.find('.first-column-fixed-width');
        if ($thisTableFirstCol.length > 0){
            var theColWidth = $thisTableFirstCol.attr('data-attr-col1');
            $thisTableFirstCol.find('tr td:first-child').css('width',theColWidth);
        }
        var $thisTableFirstColHdr = $table.find('.first-column-hdr');
        if ($thisTableFirstColHdr.length > 0){
            $thisTableFirstColHdr.find("tr td:first-child").addClass('hdr');
        }

        var $thisTopRowHeader = $table.find('.top-row-hdr');
        if ($thisTopRowHeader.length > 0){
            $thisTopRowHeader.find("tr:first td").addClass('hdr');
        }

        var $thisTableHeader = $table.find('.tableHeaderFontSize');
        if ($thisTableHeader.length > 0){
            var theFontSize = $thisTableHeader.attr('data-attr-hdr');
            $thisTableHeader.find('th').each(function(){
                $(this).css('font-size',theFontSize);
            });
            $thisTableHeader.find('td.hdr').each(function(){
                $(this).css('font-size',theFontSize);
            });
        }
        var $thisTableBody = $table.find('.tableBodyFontSize');
        if ($thisTableBody.length > 0){
            var theFontSize = $thisTableBody.attr('data-attr-body');
            $thisTableBody.find('td').each(function(){
                if (!$(this).hasClass('hdr')) {
                    $(this).css('font-size', theFontSize);
                }
            });
        }

        $(window).on('resize', function() {
            tables.testForScroll($table);
            $table.each(function() {
                var $thisTableScroll = $(this).find('.table-scroll');
                if ($thisTableScroll.length > 0) {
                    tables.testScrollEnd($thisTableScroll);
                }

            })
        })

        $table.find('.table-scroll').on('scroll', function() {
            var $thisTableScroll = $(this);
            tables.testScrollEnd($thisTableScroll);
        });

    },
    "testScrollEnd": function($thisTableScroll) {
        if ($thisTableScroll[0].scrollWidth - $thisTableScroll.scrollLeft() === $thisTableScroll.width()) {
            $thisTableScroll.parent('.table-container').addClass('scroll-end');
        } else {
            $thisTableScroll.parent('.table-container').removeClass('scroll-end');
        }
    },
    "testForScroll": function($table) {

        $table.each(function() {
            var $thisTable = $(this),
                $thisTableScroll = $thisTable.find('.table-scroll');
            if ($thisTableScroll.length > 0) {
                var tableScrollWidth = $thisTableScroll[0].scrollWidth;

                if (tableScrollWidth) {
                    if ($('body').hasClass('ie')) {
                        // Bug with scrollWidth in IE always being width+1px
                        tableScrollWidth = tableScrollWidth - 1;
                    }

                    if (tableScrollWidth > $thisTableScroll.width()) {
                        $thisTable.addClass('scrollable');
                    } else {
                        $thisTable.removeClass('scrollable');
                    }
                }
            }

        })

    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.supportsearch = {
    init: function() {
        var $supportsearch = $('.support-search');
        $('input.supportsearch').autocomplete({
            "source": function(request, response) {
                $.getJSON("https://search.silabs.com/suggest?callback=?", {
                        "site": "english",
                        "q": request.term,
                        "format": "os",
                        "max": "10",
                        "client": "silabs"
                    })
                    .done(function(data) {
                        var suggestions = [];
                        var idx = 0;
                        $.each(data[1], function(key, val) {
                            if (val && val != '') {
                                suggestions.push({
                                    "value": val
                                });
                                idx++;
                            }
                        });
                        suggestions.length = idx;
                        response(suggestions);
                    })
                    .fail(function(jqXHR, textStatus, errorThrown) {
                        var suggestions = [];
                        suggestions.length = 0;
                        response(suggestions);
                        console.log('getJSON request failed! ' + textStatus);
                    });
            },
            "appendTo": '.support-search'
        });
    }
}
//sl = sl || {};
sl.components = sl.components || {};

sl.components.stickyBar = {
    'init': function() {
        var stickyBar = this,
            thestickybars = $('.slbs2.slbs2-sticky-bar');

        $(window).on('scroll', function() {

            $.each(thestickybars, function() {
                stickyBar.toStickOrNotToStick($(this));
            });

        });
    },
    'toStickOrNotToStick': function($el) {

        var timeToStick = function() {
            if (Foundation.MediaQuery.atLeast('large')) {
                return $(window).scrollTop() > $el.offset().top;
            } else {
                var scrollTopGreater = false;
                if ($("body").hasClass("zero_top_margin_blankpage")) {
                    scrollTopGreater = $(window).scrollTop() > $el.offset().top;
                } else {
                    scrollTopGreater = $(window).scrollTop() > $el.offset().top - $('.slbs2-header .nav-container').outerHeight();
                }

                return scrollTopGreater;
            }
        };

        if (timeToStick()) {
            //stick
            if ($el.next('.clone').length === 0) {
                var $clone;
                if ($("body").hasClass("blankpage")) {
                    $clone = $el.clone().addClass('clone stucknomargin');
                } else {
                    $clone = $el.clone().addClass('clone stuck');
                }
                $el.after($clone);
            }
        } else {
            //unstick
            $el.next('.clone').remove();
        }
    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.squarecontentblock = {
    "init": function() {
            var squarecontentblock=this,
                $squarecontentblock = $('.slbs2-square-content-block');

            $squarecontentblock.each(function() {
                var $thissquarecontentblock = $(this);

                var $hasImage = $thissquarecontentblock.find('.has-image');
                if (!$hasImage.length){
                    var $innerdesc = $thissquarecontentblock.find('.inner-desc');
                    $innerdesc.css('color','black');
                }
                squarecontentblock.squareIt($thissquarecontentblock);
                $(window).on('resize', function() {
                    var $theParentContainer = $('.slbs2-square-content-block');
                    squarecontentblock.squareIt($thissquarecontentblock);
                });

            });
        },
    'squareIt': function($thissquarecontentblock) {

        var blockSize= $thissquarecontentblock.attr('data-attr-block-size');
        var $outerblock = $thissquarecontentblock.find('.square-outer');
        var parentWidth = $thissquarecontentblock.parent().width();
        var $isGrid = $thissquarecontentblock.closest('.grid');

        if (blockSize > parentWidth){
            blockSize = parentWidth;
        } else if($isGrid.length > 0 & blockSize < parentWidth){
            blockSize = parentWidth;
        }
        var browserWidth = Math.max(
            document.body.scrollWidth,
            document.documentElement.scrollWidth,
            document.body.offsetWidth,
            document.documentElement.offsetWidth,
            document.documentElement.clientWidth);

        if($isGrid.length > 0 && browserWidth < 1025 ){
            if (!$isGrid.hasClass("mobile-hr")){
                $isGrid.addClass("mobile-hr");
            }
        } else{
            if ($isGrid.hasClass("mobile-hr")){
                $isGrid.removeClass("mobile-hr");
            }
        }

        $outerblock.css('height', blockSize);
        $outerblock.css('width', blockSize);

    }
}


sl = sl || {};
sl.components = sl.components || {};


sl.components.shadowBox = {
    "init": function() {
        $(window).on('resize', function() {
            var $shadowBox = $('.slbs2-shadowbox');

            if ($shadowBox.length) {
                var $shadowBoxHeight = $shadowBox.height();

                if (($shadowBoxHeight + 100) > window.innerHeight) {
                    $shadowBox.addClass('no-center');
                } else {
                    $shadowBox.removeClass('no-center');
                }
            }
        });
    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.searchviewmore = {
    "init": function () {
        var viewMore = this,
            viewMoreSelector = '.search-view-more',
            $viewMoreSelector = $(viewMoreSelector);
        var viewMoreText = '.view-more-text',
            $viewMoreText = $(viewMoreText);

        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }

        if ($viewMoreSelector.length > 0){
            var tableResponsive = $viewMoreSelector.find('.table-responsive'),
                $tableResponsive = $(tableResponsive);
            var query = getParameterByName("q",document.location);
            var productsTagsEndpoint = "/content/cq:tags/silicon-labs-products.tagdetail.json";
            var customAvailableEndpoint = "/sl/productdata/customavailableurls";
            var productsTagsJSON = "";
            var matchedParts = "";
            var maxNumResults = ($viewMoreSelector.attr('data-num-rows') ? $viewMoreSelector.attr('data-num-rows') : 25);
            var messageMore = query + " returned more than " + maxNumResults + " results. ";
            var messageEnd = "Add more characters to your search term for better results or try our <a href='/products/parametric-search'>parametric search</a>.";
            var messageNone = "Please <a href='/search'>enter a search term</a> or try our <a href='/products/parametric-search'>parametric search</a>."
            var message = "";

            $tableResponsive.css("display", "block");
            if (query && query.length > 0) {
                dataTables = $('#tblResultsRows').DataTable({
                    searching: false,
                    paging: false,
                    info: false,
                    columns: [
                        {className: "tdResults", data: 'Part Number'},
                        {className: "tdResults datasheet", data: 'Datasheet'},
                        {className: "tdResults", data: 'Dev Kit'},
                        {className: "tdResults", data: 'Description'}
                    ]
                });
                $.get({
                    url: customAvailableEndpoint,
                    success: function(customData ) {


                        var customAvailableData = customData;
                        $.get({
                            url: productsTagsEndpoint,
                            success: function (tagsdata) {
                                productsTagsJSON = tagsdata;
                                matchedParts = sl.components.searchviewmore.util.getPartialPartNumbers(query, productsTagsJSON);


                                var Httpreq = new XMLHttpRequest(); // a new request
                                Httpreq.open("GET", '/content/dam/siliconlabs/data/partsdata.json', false);
                                Httpreq.send(null);
                                var jsonData = JSON.parse(Httpreq.responseText);


                                var rdata = [];
                                var numResults = 0;
                                var checkForMoreResults = 0;
                                for (var num = 0; num < matchedParts.length; num++) {
                                    var key = matchedParts[num].toUpperCase();
                                    if (jsonData.parts.hasOwnProperty(key)) {
                                        var orderLinks = "";
                                        orderLinks = (jsonData.parts[key].buyavailable ? '<a class="order order-link order-link-buy" data-device=' + jsonData.parts[key].title + ' data-opn= ' + jsonData.parts[key].orderpartnumber + ' data-device-path=' + jsonData.parts[key].productpage + '>' +
                                            'Buy' + '</a>' : '')
                                            + (jsonData.parts[key].buyavailable && jsonData.parts[key].sampleavailable ? ' | ' : '')
                                            + (jsonData.parts[key].sampleavailable ? '<a class="order order-link order-link-sample" data-device=' + jsonData.parts[key].title + ' data-opn= ' + jsonData.parts[key].orderpartnumber + ' data-device-path=' + jsonData.parts[key].productpage + '>' +
                                            'Sample' + '</a>' : '');
                                        var customLinks = "";
                                        if (jsonData.parts[key].customavailable && customAvailableData) {
                                            if (customAvailableData.hasOwnProperty(jsonData.parts[key].customavailable)) {
                                                customLinks = '<a class="customize" href="' + customAvailableData[jsonData.parts[key].customavailable].replace("{0}", jsonData.parts[key].title) + '">Customize</a>';
                                            }
                                            if (customLinks.length > 0) {
                                                orderLinks = (orderLinks.length > 0 ? orderLinks + ' | ' : '') + customLinks;
                                            }
                                        }
                                        if (orderLinks.length > 0) {
                                            orderLinks = "<div class='order-links'>" + orderLinks + "</div>";
                                        }

                                        var partNumText = "";
                                        var ppURL = jsonData.parts[key].productpage;
                                        if(ppURL!=""){
                                            partNumText = "<a href='" + ppURL + "'>" + jsonData.parts[key].title + "</a>" + orderLinks;
                                        }else{
                                            partNumText = jsonData.parts[key].title + orderLinks;
                                        }

                                        var rowData = {
                                            "Part Number": "<a href='" + jsonData.parts[key].productpage + "'>" + jsonData.parts[key].title + "</a>" + orderLinks,
                                            "Datasheet": "<a href='" + jsonData.parts[key].datasheet + "'><img src='/etc.clientlibs/siliconlabs/clientlibs/clientlib-content/resources/images/ico-pdf.png' /></a>",
                                            "Dev Kit": "<a href='" + jsonData.parts[key].devtool + "'>" + jsonData.parts[key].devtooltitle + "</a>",
                                            "Description": jsonData.parts[key].description
                                        };
                                        rowData["Part Number"] = partNumText;

                                        if (numResults < maxNumResults) {
                                            rdata.push(rowData);
                                            numResults++;
                                        }
                                        checkForMoreResults++
                                    }

                                    if (checkForMoreResults > maxNumResults) break;
                                }
                                if (checkForMoreResults > maxNumResults) {
                                    message = messageMore + messageEnd;
                                } else {
                                    message = query + " returned " + numResults + (numResults == 1 ? " result. " : " results. ") + messageEnd;
                                }
                                $viewMoreText.html(message);
                                dataTables.rows.add(rdata).draw();
                            }
                        });
                    }
                });
            } else {
                message = messageNone;
                $viewMoreText.html(message);
                $tableResponsive.css("display", "none");
            }
        }

    },
    "util": {
        "getPartialPartNumbers": function (query, productTagJSON) {
            var stack = [], node, ii, index = 0, matchedParts = [];
            stack.push(productTagJSON);
            while (stack.length > 0) {
                node = stack.pop();
                if (node['jcr:title'].toLowerCase().indexOf(query.toLowerCase()) > -1
                ) {
                    if (node.children == "") {
                        matchedParts[index] = node['jcr:title']
                        ;
                        index++;
                    }
                    else {
                        var childArr = node.children.split(",")
                            ;
                        for (ii = 0; ii < childArr.length; ii += 1) {
                            stack.push(node[childArr[ii]]);
                        }
                    }
                }
                else {
                    if (node.children !== "") {
                        var childArr = node.children.split(",")
                            ;
                        for (ii = 0; ii < childArr.length; ii += 1) {
                            stack.push(node[childArr[ii]]);
                        }
                    }
                }
            }
            return matchedParts;
        }
    }
};
sl = sl || {};
sl.components = sl.components || {};

sl.components.ribbonbox = {
    "init": function() {
        var ribbonbox = this,
            $ribbonbox = $('.slbs2-ribbon-box');

             // If no column control, then add padding
             $('.slbs2-ribbon-content-area').each(function() {
                 if ($(this).find(".parsys-column").length==0){
                     $(this).css('padding-left','15px');
                }
             });
            ribbonbox.checkRibbonMoreLess($ribbonbox);
    },
    "checkRibbonMoreLess": function($ribbonbox) {
        var ribbonbox = this;

        $("a#ribbon-box-show-less").on( "click", function() {
            $(this).addClass("ribbon-box-no-show-less");
            $(this).removeClass("ribbon-box-yes-show-less");
            $(this).siblings("a#ribbon-box-show-more").addClass("ribbon-box-yes-show-more");
            $(this).parent().siblings(".slbs2-ribbon-content-area").addClass("ribbon-fade");
            var showMoreChecked = $(this).parents('.ribbon-box-show').attr('data-attr-show-more-checked');
            if (showMoreChecked == "true") {
                var divHeight= $(this).parents('.ribbon-box-show').attr('data-attr-desktop-div-height');
                $(this).parent().siblings(".slbs2-ribbon-content-area").css('height', divHeight);
                $(this).parent().siblings(".slbs2-ribbon-content-area").css('overflow', 'hidden');
            }
        });

        $( "a#ribbon-box-show-more" ).on( "click", function() {
            $(this).addClass("ribbon-box-no-show-more");
            $(this).removeClass("ribbon-box-yes-show-more");
            $(this).siblings("a#ribbon-box-show-less").addClass("ribbon-box-yes-show-less");
            $(this).parent().siblings(".slbs2-ribbon-content-area").removeClass("ribbon-fade");
            var showMoreChecked = $(this).parents('.ribbon-box-show').attr('data-attr-show-more-checked');
            if (showMoreChecked == "true") {
                $(this).parent().siblings(".slbs2-ribbon-content-area").css('height', '');
                $(this).parent().siblings(".slbs2-ribbon-content-area").css('overflow', '');
            }
        });
    }
};
document.ready;


sl = sl || {};
sl.components = sl.components || {};

sl.components.requestPid = {

    "init": function () {
        var requestPid = this,
            requestPidSelector = '.request-pid',
            $requestPid = $(requestPidSelector);

        if ($requestPid.length > 0) {

            requestPid.prePopulateFormData($requestPid);
            requestPid.setEvents($requestPid);

            this.initalizedData = undefined;

            $.get({
                url: '/sl/product-info-pid',
                success: function (data) {
                    $('#Product').each(function () {
                        this.initalizedData = data;
                        for (key in data) {
                            if (data.hasOwnProperty(key)) {
                                let array = data[key];
                                $('#Product').append('<option value="' + key + '">' + key + '</option>');
                            }
                        }
                    })

                }
            })
        }
    },

    "prePopulateFormData": function ($requestPid) {
        // populate relevant fields with user data from Salesforce cookie

        var cookies = sl.utils.getCookies();
        var $form = $requestPid.find('form');
        if (typeof window.silabsProfileCookie !== 'undefined' && typeof cookies[window.silabsProfileCookie] !== 'undefined') {
            $(".request-pid .logged-in-view").css("display", "block");
            var profile = sl.utils.parseCookie(cookies[window.silabsProfileCookie], '|');

            for (var key in profile) {
                if (key == 'FirstName') {
                    var fullContactName = profile['FirstName'] + " " + profile['LastName'];
                    $requestPid.find('form [name*="TechnicalContactName"]').val(fullContactName).trigger('change');
                } else if (key == 'Country') {
                    var address = profile['State'] + "," + profile['ZipCode'] + "," + profile['Country'];
                    $requestPid.find('form [name*="Address"]').val(address).trigger('change');
                } else if (key == 'Company') {
                    $requestPid.find('form [name*="CompanyName"]').val(profile['Company']).trigger('change');
                } else if (key == 'Email') {
                    $requestPid.find('form [name*="TechnicalContactEmailAddress"]').val(profile['Email']).trigger('change');
                } else if (key == 'Phone') {
                    $requestPid.find('form [name*="PhoneNumber"]').val(profile['Phone']).trigger('change');
                } else
                    $requestPid.find('form [name*="' + key + '"]').val(profile[key]).trigger('change');
            }
        } else {
            $(".request-pid .anonymous-view").css("display", "block");

        }
    },

    "setEvents": function ($requestPid) {

        $requestPid.find('.pid-create-account').on('click', function(e){
            e.preventDefault();
            document.location = sl.registrationUrl;
        })
        $requestPid.find('.pid-log-in').on('click', function(e){
            e.preventDefault();
            //set cookie and redirect
            sl.utils.createCookie('saml_request_path', document.location.pathname);

            document.location = sl.ssoEndpointUrl;
            });

        $requestPid.find('.submit-button').on('click', function (e) {
            e.preventDefault();
            var $form = $(this).parents('form'),
                $errorContainer = $form.find('.error-messages'),
                errors = [],
                $inputs = $form.find('input, select, textarea');

            $inputs.each(function () {
                var $thisInput = $(this),
                    isValid = $thisInput[0].validity.valid,
                    thisErrorMessage = $thisInput.attr('data-error-message');

                if (isValid) {
                    $thisInput.removeClass('invalid');
                } else {
                    $thisInput.addClass('invalid');
                    if (errors.indexOf(thisErrorMessage) == -1) {
                        errors.push(thisErrorMessage);
                    }
                }
            })

            if (errors.length > 0) {
                $errorContainer.show();
                $errorContainer.find('ul').empty();
                errors.forEach(function (thisMessage) {
                    $errorContainer.find('ul').append('<li>' + thisMessage + '</li>');
                })
            } else {
                $errorContainer.hide();
                $form.submit();
            }

        })

        $requestPid.find('#Product').on('change', function (e) {
            e.preventDefault();
            $('#PartNumber').html('<option value="">Choose a Part Number...</option>');
            let partData = this.initalizedData[this.value];
            for (var i = 0; i < partData.length; i++) {
                $('#PartNumber').append('<option value="' + partData [i] + '">' + partData[i] + '</option>');
            }

        })


        $('#EstimatedRamp').each(function () {

            var year = (new Date()).getFullYear();
            for (var i = 0; i < 7; i++) {
                $(this).append('<option value="' + (year + i) + '">' + (year + i) + '</option>');
            }

        })

        $requestPid.find('form').on('submit', function () {
            var $form = $(this),
                dataObj = {};

            $form.find('input, select, textarea').each(function () {
                dataObj[$(this).attr('name')] = $(this).val();
            })

            $.post({
                url: '/sl/pid-submit',
                data: dataObj,
                success: function (data) {

                    // Show the form success message
                    $form.hide();
                    $form.siblings('.thank-you').show();
                    $('.pid-intro').css('display','none');
                }
            })

            return false;
        })
    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.productFamilyTableWithFilter = {
"init": function() {
    var productFamilyTable = this,
        $productFamilyTable = $('.product-family-table-with-filter');

    //Loop for each device-document-list component(L4 pages have two components baked-in in the template).
    $productFamilyTable.each(function() {
        var $thisProductFamilyTable = $(this);
        productFamilyTable.setUpTables($thisProductFamilyTable);

        $('.filter-section input.range-filter-input').each(function() {
            $(this).attr('size', $(this).attr('placeholder').length)
        })

        // Inputs bind change event
        $thisProductFamilyTable.find('input[type=text][data-filter]').on('input', function() {
            //var $thisProductFamilyTableParent = $(this).parents('.product-family-table');
            productFamilyTable.doClick($(this), $thisProductFamilyTable, false);
        })

        $productFamilyTable.find('input[type=checkbox][data-filter], select[data-filter]').on('change', function() {
            //var $thisProductFamilyTable = $(this).parents('.product-family-table');
            productFamilyTable.doClick($(this), $thisProductFamilyTable, false);
        })

        // Buttons bing click event
        $thisProductFamilyTable.find('button[data-filter], a[data-filter]').on('click', function(e) {
            if (Foundation.MediaQuery.atLeast('medium')) {
                e.preventDefault();
            }

            //var $thisProductFamilyTable = $(this).parents('.product-family-table');
            productFamilyTable.doClick($(this), $thisProductFamilyTable, true);
        });


        var $pftable_with_filter = $thisProductFamilyTable.find(".pftable-with-filter");
        var famToShow = $pftable_with_filter.find('table').attr("families-to-show");
        var totalSize=$pftable_with_filter.find('tr').length-1;
        if (typeof(famToShow) != "undefined"){
            $pftable_with_filter.find('tr').each(function (index ){
                if(index>famToShow){
                    $(this).addClass("no-show");
                }
                if(index==famToShow){
                    $(this).find(".sticky-col").addClass("bott-border");
                }
            });
            if(totalSize-famToShow>0){
                $thisProductFamilyTable.find('#show-more').html("<a href=\"javascript:void(0)\" >Show "+(totalSize-famToShow)+" More</a>");
                $thisProductFamilyTable.find('.more-items').show();
                $thisProductFamilyTable.find('#show-more').click(function(){
                    $pftable_with_filter.find('tr').each(function (rowindex){
                        $(this).removeClass("no-show");

                    });
                    $thisProductFamilyTable.find('.more-items').hide();
                    removeBottomBorder();
                    //var $div = $thisProductFamilyTable.find(".pftable-with-filter");
                    if ( $pftable_with_filter.scrollLeft() == ($pftable_with_filter.find("table").width() - $pftable_with_filter.width())) {
                        $thisProductFamilyTable.find('.table-fade').hide();
                    }else{
                        $thisProductFamilyTable.find('.table-fade').show();
                    }
                });
            }
        }
        $thisProductFamilyTable.find('.size').html("<ul><li>"+totalSize+"</li></ul>");


        var scrollDetect = function($div){
            if ( $div.scrollLeft() >= ($div.find("table").width() - $div.width())) {
                $thisProductFamilyTable.find('.table-fade').hide();
            } else {
                $thisProductFamilyTable.find('.table-fade').show();
            }
        };

        scrollDetect($pftable_with_filter);
        $pftable_with_filter.on("scroll", function(){
            scrollDetect($(this));
        });

        var removeBottomBorder = function(){
            $pftable_with_filter.find('tr').each(function (index ){
                if(index==famToShow){
                    $(this).find(".sticky-col").removeClass("bott-border");
                }
            });
        };


        var pftable = $thisProductFamilyTable.find('table');
        $(pftable).DataTable({
            "columnDefs": [
                { "orderable": false, "targets": "_all"}
            ],
            "paging": false,
            "ordering": false,
            "autoWidth": false,
            "currentTableResourceId": $thisProductFamilyTable.data('resource')
        });

        //$('body').on('click', '.table-container .columns-filters p.active', function(){
        $thisProductFamilyTable.on('click', '.table-container .columns-filters p.active', function(){
            var filterID = this.id;
            //delete sl.components.pfTableColumnDataFiltersPopup.activeFilters[filterID];
            delete sl.components.pfTableColumnDataFiltersPopup.tableSpecificActiveFilters[$thisProductFamilyTable.data('resource')][filterID];
            $(this).remove();
            sl.components.pfTableColumnDataFiltersPopup.reloadTable($thisProductFamilyTable);

        });
    });


},
"doClick": function($thisEl, $productFamilyTable, isSecondaryFilter) {

    var productFamilyTable = this,
        $thisFilter = $thisEl,
        thisFilter = $thisFilter.data('filter');

    // "Clear all" functionality
    if (thisFilter === "") {
        $productFamilyTable.find('[data-filter]').removeClass('active').prop('checked', false).val('')
    }

    // Reset all rows
    $productFamilyTable.find('tr').removeClass('active secondary-active');

    // Toggle if filter is active
    if (productFamilyTable.isFilterActive($thisFilter)) {
        $thisFilter.addClass('active');
    } else {
        $thisFilter.removeClass('active');
    }

    // Get active filters
    var activeFilters = productFamilyTable.getActiveFilters($productFamilyTable);

    var isSecondaryFilter = $thisEl.is('.secondary-filter');

    // If there are active filters, mark the table as filtering - this makes the non-active rows gray
    if (Object.keys(activeFilters).length > 0) {
        $productFamilyTable.addClass('filtering');
    } else {
        $productFamilyTable.removeClass('filtering');
    }
    $productFamilyTable.find('tbody tr').each(function() {

        var dataAttributes = {};
        var attributes = $(this)[0].attributes;
        for (var i = 0; i < attributes.length; i++) {
            var thisAttr = attributes.item(i);
            var thisName = thisAttr.name.replace('data-', '').replace('sl-', 'sl');
            var thisVal = thisAttr.value;

            var isNumeric = function(str) {
                return !isNaN(str);
            }

            var isBoolean = function(str) {
                return (str === "true" || str === "false");
            }

            // 1. +val casts any number (int, float) from a string
            // 2. String(val) === "true" converts a string to bool

            var thisVal = (isNumeric(thisVal) ? +thisVal : isBoolean(thisVal) ? (String(thisVal).toLowerCase() === "true") : thisVal);

            dataAttributes[thisName] = thisVal;
        }

        var rowClasses = productFamilyTable.getActiveRowClasses($productFamilyTable, activeFilters, dataAttributes, isSecondaryFilter);

        $(this).addClass(rowClasses);
    })

    if ($productFamilyTable.find('.filters .secondary .active').length > 0) {
        $productFamilyTable.addClass('filtering-secondary');
    } else {
        $productFamilyTable.removeClass('filtering-secondary');
    }
    if ($productFamilyTable.find('.filters .primary .active').length > 0) {
        $productFamilyTable.addClass('filtering-primary');
    } else {
        $productFamilyTable.removeClass('filtering-primary');
    }

},
"getActiveFilters": function($productFamilyTable) {

    var activeFilters = {},
        $activeFilters = $productFamilyTable.find('[data-filter].active');

    $activeFilters.each(function() {
        var $thisFilter = $(this);

        if ($thisFilter.data('filter')) {
            var filterName = $thisFilter.attr('data-filter'),
                filterValue = true,
                filterKey = filterName.replace('sl:', 'sl');

            // Figure out value of filter depending on the input type
            if ($thisFilter.is('input[type=checkbox]') && $thisFilter.is(':checked')) {
                if ($thisFilter.val() !== 'on') {
                    filterValue = $thisFilter.val();
                }
            } else if ($thisFilter.is('input.range-filter-input')) {
                // Must use default value to allow users to keep a min or max field empty
                var defaultValue = 0,
                    defaultMin = $thisFilter.parents('.filter-fields').find('[data-min-value]').attr('data-min-value'),
                    defaultMax = $thisFilter.parents('.filter-fields').find('[data-max-value]').attr('data-max-value'),
                    otherVal = $thisFilter.parent().siblings('label').children('input').val();

                // add default values if this filter's pair is empty
                if (otherVal == '') {

                    if ($thisFilter.hasClass('range-filter-input-min')) {
                        filterValue = $thisFilter.val() + '-' + defaultMax;
                    } else if ($thisFilter.hasClass('range-filter-input-max')) {
                        filterValue = defaultMin + '-' + $thisFilter.val();
                    }

                } else {
                    if ($thisFilter.hasClass('range-filter-input-min')) {
                        filterValue = $thisFilter.val() + '-' + otherVal;
                    } else if ($thisFilter.hasClass('range-filter-input-max')) {
                        filterValue = otherVal + '-' + $thisFilter.val();
                    }

                }
            } else if ($thisFilter.is('select')) {
                // Multi select returns an array so we join it to be consistent with our other string multi values
                filterValue = $thisFilter.val().join('|');
            } else if ($thisFilter.val() !== null && $thisFilter.val() !== '') {
                filterValue = $thisFilter.val();
            }

            // If this filter already has values, add this value to the string separated by a pipe
            // Cannot apply to ranges since they are handled differently
            if (activeFilters[filterKey] && !$thisFilter.is('input.range-filter-input')) {
                activeFilters[filterKey] = activeFilters[filterKey] + '|' + filterValue;
                // Otherwise add this filter to the activeFilters object
            } else {
                activeFilters[filterKey] = filterValue;
            }
        }
    })

    return activeFilters;
},
"isFilterActive": function($thisFilter) {
    var isActive = false;
    if ($thisFilter.is('input[type=checkbox]') && $thisFilter.is(':checked')) {
        isActive = true;
    } else if ($thisFilter.is('input:not([type=checkbox]), select') && $thisFilter.val() !== null && $thisFilter.val() !== "") {
        isActive = true;
    } else if ($thisFilter.is('button, a') && !$thisFilter.hasClass('active')) {
        isActive = true;
    }
    return isActive;
},
"getActiveRowClasses": function($productFamilyTable, activeFilters, rowFilters) {
    var classes = '',
        primaryFilterValues = [],
        secondaryFilterValues = [];

    // Iterate through active filters
    for (var thisActiveFilterKey in activeFilters) {
        var isSecondaryFilter = false,
            isPrimaryFilter = false,
            isActive = false,
            thisActiveFilterValue = activeFilters[thisActiveFilterKey],
            oldFilterKey = thisActiveFilterKey.replace('sl', 'sl:');

        isSecondaryFilter = $productFamilyTable.find('[data-filter="' + oldFilterKey + '"].active').is('.secondary-filter');
        isPrimaryFilter = $productFamilyTable.find('[data-filter="' + oldFilterKey + '"].active').parents('.primary').length > 0;

        if (typeof rowFilters[thisActiveFilterKey] !== "undefined" && rowFilters[thisActiveFilterKey] !== null) {
            // String multi values are pipe separated
            if (typeof thisActiveFilterValue == "string") {
                var rowVals = rowFilters[thisActiveFilterKey].length > 1 ? rowFilters[thisActiveFilterKey].split('|') : [rowFilters[thisActiveFilterKey].toString()];

                // If this is a number range selector, check if row values are in that range
                if (thisActiveFilterValue.match(/[0-9.]+\-[0-9.]+/g) !== null) {
                    var filterVals = thisActiveFilterValue.split('-'),
                        min = filterVals[0],
                        max = filterVals[1];

                    // If ANY of the values are in the correct range, show active
                    for (var i = 0; i < rowVals.length; i++) {
                        var thisRowVal = parseFloat(rowVals[i]);
                        if (min <= thisRowVal && thisRowVal <= max) {
                            isActive = true;
                        }
                    }
                } else {
                    var filterVals = thisActiveFilterValue.split('|');
                    // Test if row val string contains any of the filter values
                    for (var i = 0; i < filterVals.length; i++) {
                        var thisFilterVal = filterVals[i];
                        if (rowVals.indexOf(thisFilterVal) > -1) {
                            isActive = true;
                        }
                    }
                }

            }

            if (rowFilters[thisActiveFilterKey].toString().indexOf(thisActiveFilterValue) > -1) {
                isActive = true;
            }

        }

        if (isSecondaryFilter) {
            secondaryFilterValues.push(isActive);
        }
        if (isPrimaryFilter) {
            primaryFilterValues.push(isActive);
        }

    }

    if (primaryFilterValues.length > 0 && primaryFilterValues.indexOf(false) == -1) {
        classes += ' active';
    }
    if (secondaryFilterValues.length > 0 && secondaryFilterValues.indexOf(true) > -1) {
        classes += ' secondary-active';
    }

    return classes;
},
    "openColumnsSortModal" : function () {
        console.log("Opening columns sort modal...");
    },
    "setUpTables": function($productFamilyTable) {
        var cols = $productFamilyTable.find('td:first-child, th:first-child'),
            fixedColWidth = 0;

        // Reset if the table is being re-initialized
        if (typeof $productFamilyTable.find('table') !== 'undefined') {
            $productFamilyTable.find('table').removeAttr('style');
            $productFamilyTable.find('td:first-child, th:first-child').removeAttr('style');
        }

        // Get max column width
        for (var i = 0; i < cols.length; i++) {
            var $thisCol = $(cols[i]),
                thisColHeight = $thisCol.height();

            // must preserve height for when it gets pos:abs
            if ($thisCol.is('th')) {
                // For some reason this is required for th alignment
                $thisCol.height(thisColHeight + 2);
            } else {
                $thisCol.height(thisColHeight + 1);
            }

            $thisCol.siblings().height(thisColHeight);

            /*if ($thisCol.outerWidth() > fixedColWidth) {
                fixedColWidth = $thisCol.outerWidth();// + 40;
            }*/
        }

        //cols.width(fixedColWidth);

        // Add margin to the table so fixed column doesn't overlap with other content
        // -1 to accomodate extra border
        var newMaxColWidth = cols.outerWidth();// + 40;
        var paddingLeft = parseInt($(cols.get(1)).css('padding-left'));
        var paddingRight = parseInt($(cols.get(1)).css('padding-right'));
        newMaxColWidth = paddingLeft + newMaxColWidth + paddingRight;
        $productFamilyTable.find('table').css({
            "margin-left": newMaxColWidth,
            //"margin-left": "266px",
            "width": "calc(100% - " + newMaxColWidth + "px)"
        })
        $productFamilyTable.css('visibility', 'visible');
    }
}

sl = sl || {};
sl.components = sl.components || {};
sl.components.pfTableColumnFiltersPopup = {
    "init": function() {
        //console.log("column filterss..");


        var $productFamilyTable = $('.product-family-table-with-filter');
        $productFamilyTable.each(function() {
            //var columnFiltersPopup = this;
            //var defaultTableHeadersOrder = new Map();
            var defaultTableHeaders = [];
            var $thisProductFamilyTable = $(this);
            var $pftable_with_filters = $thisProductFamilyTable.find('.pftable-with-filter');
            $thisProductFamilyTable.on('click', 'a.columns-link, a.columns-link-mobile', function(e) {
                //Prevent page jumping.
                e.preventDefault();
                $(this).addClass('active');
                sl.components.pfTableColumnFiltersPopup.createPopup($thisProductFamilyTable);
                defaultTableHeaders = sl.components.pfTableColumnFiltersPopup.addColumnsToPopup($thisProductFamilyTable);
                console.debug("defaultTableHeaders:"+defaultTableHeaders);
                //currentTable = $(pftable).DataTable();
            });

            $thisProductFamilyTable.find('.slbs2-pftable-column-filters-popup').on('click', 'a.popup-close', function() {
                $thisProductFamilyTable.find(".slbs2-pftable-column-filters-popup").hide();
                if($thisProductFamilyTable.find(".columns-link").hasClass('active')){
                    $thisProductFamilyTable.find(".columns-link").removeClass('active');
                }
                if($thisProductFamilyTable.find(".columns-link-mobile").hasClass('active')){
                    $thisProductFamilyTable.find(".columns-link-mobile").removeClass('active');
                }

            });

            $(document).mouseup(function(e) {
                var container = $thisProductFamilyTable.find(".slbs2-pftable-column-filters-popup");
                var modalPopup = $("#popupModal");
                if (container) {
                    if ((!container.is(e.target) // if the target of the click isn't the container...
                        &&
                        container.has(e.target).length === 0) // ... nor a descendant of the container
                        && (!modalPopup.is(e.target) && modalPopup.has(e.target).length === 0)) //
                    {
                        container.hide();
                        $thisProductFamilyTable.find(".columns-link.active").removeClass('active');
                        $thisProductFamilyTable.find(".columns-link-mobile.active").removeClass('active');
                    }
                }
            });
            $(window).on('resize', function() {
                var theParentContainer = $thisProductFamilyTable.find('.slbs2-pftable-column-filters-popup');
                if (theParentContainer.css('display') != 'none') {
                    sl.components.pfTableColumnFiltersPopup.positionPopup(theParentContainer, $thisProductFamilyTable);
                }
            });
            //Select all/Clear all column items
            $thisProductFamilyTable.find(".select-all, .clear-all").on('click', function(e) {
                //console.log("select All clicked..");
                //Prevent page jumping.
                e.preventDefault();
                sl.components.pfTableColumnFiltersPopup.toggleColumnSelection(this.classList, $thisProductFamilyTable);
            });

            //Search through text field
            $thisProductFamilyTable.find(".slbs2-pftable-column-filters-popup #searchField").on("keyup", function() {
                var value = $(this).val().toLowerCase();
                $thisProductFamilyTable.find("#sortable li").filter(function() {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });

            $thisProductFamilyTable.find(".slbs2-pftable-column-filters-popup #ok-button").on('click', function() {
                console.log("logic for reordering columns of main table..");
                var activeFiltersBkp = {};
                if($thisProductFamilyTable.find("table").length > 0){
                    var currentTableActiveFilters = sl.components.pfTableColumnDataFiltersPopup.tableSpecificActiveFilters[$thisProductFamilyTable.data('resource')];
                    //activeFiltersBkp = columnFiltersPopup.removeActiveFilters(sl.components.pfTableColumnDataFiltersPopup.activeFilters, $thisProductFamilyTable);
                    activeFiltersBkp = sl.components.pfTableColumnFiltersPopup.removeActiveFilters(currentTableActiveFilters, $thisProductFamilyTable);
                }
                /*if($(".devicetable-with-filter table").length > 0){
                    activeFiltersBkp = columnFiltersPopup.removeActiveFilters(sl.components.deviceTableColumnDataFiltersPopup.activeFilters);
                }*/

                //Get all Sorted Tabled headers
                var sortedTableHeaders = sl.components.pfTableColumnFiltersPopup.getSelectedItems($thisProductFamilyTable)['sortedColumns'];

                //get all table headers sort order
                var sortedTableHeadersOrder = sl.components.pfTableColumnFiltersPopup.getSelectedItems($thisProductFamilyTable)['sortedColumnsOrder'];

                //get all unchecked columns to hide
                var uncheckedColumns = sl.components.pfTableColumnFiltersPopup.getSelectedItems($thisProductFamilyTable)['unCheckedColumns'];
                //console.log("sortedTableHeaders:"+sortedTableHeaders);
                //console.log("sortedTableHeadersOrder:"+sortedTableHeadersOrder);

                //Show modal popup if no column is selected for filtering.
                if($thisProductFamilyTable.find(".slbs2-pftable-column-filters-popup #sortable :checkbox").length == uncheckedColumns.length){
                    //$thisProductFamilyTable.find(".slbs2-pftable-column-filters-popup #popupModal").modal('show');
                    $("#popupModal").modal('show');
                    return false;
                }
                //Logic for Sorting table header.
                //$(".pftable-with-filter table thead tr th:not(.sticky-col), .devicetable-with-filter table thead tr th:not(.sticky-col)")
                $pftable_with_filters.find("table thead tr th:not(.sticky-col)")
                    .each(function (index, value) {
                        $(this).text(sortedTableHeaders[index]);
                        $(this).append("<span class=\"sort\"></span>");
                        $(this).show();
                        /*if(currentTable.column(index +1).visible() === false){
                            currentTable.column(index +1).visible(true);
                        }*/

                    });
                //Track the new column order

                //Logic for Sorting table data as per new sort order.
                //var columnCount = $(".pftable-with-filter table thead tr th, .devicetable-with-filter table thead tr th").length - 1;// Excluding 1st column.
                var columnCount = $pftable_with_filters.find("table thead tr th").length - 1;// Excluding 1st column.
                var tableData = [],rowsArr = [];
                var rowsCounter = 0,columnsCounter = 0;
                //Logic for reading existing table data into 2 x 2 array.
                //$(".pftable-with-filter table tbody tr td.familyTableDef, .devicetable-with-filter table tbody tr td.deviceTableDef")
                $pftable_with_filters.find("table tbody tr td.familyTableDef")
                    .each(function (index) {
                        rowsArr[rowsCounter++] = [$.trim($(this).html())];
                        if((index+1) % columnCount == 0) {
                            tableData[columnsCounter++] = rowsArr;
                            rowsArr =  []; rowsCounter = 0;
                        }
                    });
                console.debug("TableData");
                console.debug(tableData);
                //Shuffle the table data into new table as per new sort order.
                var newTableData = Array();
                $(tableData).each(function (index, value) {
                    newTableData[index] = Array();
                    for (var i = 0; i < columnCount; i++) {
                        newTableData[index][i] = value[sortedTableHeadersOrder[i]];
                    }
                });
                console.debug("newTableData");
                console.debug(newTableData);


                //Refill the table data using newly sorted 2 x 2 array.
                //$(".pftable-with-filter table tbody tr, .devicetable-with-filter table tbody tr").each(function (rowIndex) {
                $pftable_with_filters.find("table tbody tr").each(function (rowIndex) {
                    $(this).children('td.familyTableDef, td.deviceTableDef').each(function(columnIndex){
                        $(this).html(newTableData[rowIndex][columnIndex]);
                        $(this).show();

                    });
                });
                console.log("hiding....");
                //$(".pftable-with-filter table thead tr th:not(.sticky-col), .devicetable-with-filter table thead tr th:not(.sticky-col)")
                $pftable_with_filters.find("table thead tr th:not(.sticky-col)")
                    .each(function (index, value) {
                        if (Object.keys(activeFiltersBkp).length > 0) {
                            for (var key in activeFiltersBkp) {
                                var filter = activeFiltersBkp[key];
                                if(filter.columnHeader == $.trim($(this).text())){
                                    filter.column = index + 1;
                                    activeFiltersBkp[key] = filter;
                                }
                            }
                        }
                    });
                console.debug(activeFiltersBkp);
                //console.log(currentTable.column((0)).data());
                //Logic for hiding unchecked columns
                $(uncheckedColumns).each(function (hideIndex, columnToHide){
                    //console.log(currentTable.column(columnToHide +1).data());
                    //currentTable.column(columnToHide +1).visible(false);

                    //Hide unchecked table headers
                    //$(".pftable-with-filter table thead tr th:not(.sticky-col), .devicetable-with-filter table thead tr th:not(.sticky-col)")
                    $pftable_with_filters.find("table thead tr th:not(.sticky-col)")
                        .each(function (columnIndex) {
                            if(columnToHide == columnIndex){
                                $(this).hide();
                            }
                        });
                    //Hide unchecked table cells
                    //$(".pftable-with-filter table tbody tr, .devicetable-with-filter table tbody tr").each(function (rowIndex) {
                    $pftable_with_filters.find("table tbody tr").each(function (rowIndex) {
                        $(this).children('td.familyTableDef, td.deviceTableDef').each(function(columnIndex){
                            if(columnToHide == columnIndex){
                                $(this).hide();
                            }
                        });
                    });
                });

                //Reapply the filters
                if($pftable_with_filters.find("table").length > 0){
                    var currentTableActiveFilters = sl.components.pfTableColumnDataFiltersPopup.tableSpecificActiveFilters[$thisProductFamilyTable.data('resource')];
                    sl.components.pfTableColumnFiltersPopup.reapplyActiveFilters(currentTableActiveFilters, activeFiltersBkp, $thisProductFamilyTable);
                }

                /*if($(".devicetable-with-filter table").length > 0){
                    columnFiltersPopup.reapplyActiveFilters(sl.components.deviceTableColumnDataFiltersPopup.activeFilters, activeFiltersBkp, $thisProductFamilyTable);
                }*/

                //Very important to close the popup after clicking on OK.
                sl.components.pfTableColumnFiltersPopup.closePopup($thisProductFamilyTable);
            });

            //Close the popup without taking any action.
            $thisProductFamilyTable.find(".slbs2-pftable-column-filters-popup #cancel-button").on('click', function() {
                //console.log("logic for closing popup..");
                sl.components.pfTableColumnFiltersPopup.closePopup($thisProductFamilyTable);
            });

        });

        /*var  $productFamilyTable = $('.product-family-table-with-filter');
        var pftable = $productFamilyTable.find('table');
        var currentTable = $(pftable).DataTable();*/


    },
    "reapplyActiveFilters": function (activeFilters, activeFiltersBkp, $thisProductFamilyTable) {
        if($thisProductFamilyTable.find(".pftable-with-filter table").length > 0){
            sl.components.pfTableColumnDataFiltersPopup.getAllFilterValues($thisProductFamilyTable);
        }
        /*if($(".devicetable-with-filter table").length > 0){
            sl.components.deviceTableColumnDataFiltersPopup.getAllFilterValues();
        }*/

        if (typeof activeFilters !== 'undefined' && Object.keys(activeFiltersBkp).length > 0) {
            for (var key in activeFiltersBkp) {
                //console.log(key);
                var filter = activeFiltersBkp[key];
                //console.log(filter);
                activeFilters[key] = filter;
            }
            if($thisProductFamilyTable.find(".pftable-with-filter table").length > 0){
                sl.components.pfTableColumnDataFiltersPopup.reloadTable($thisProductFamilyTable);
            }
            /*if($(".devicetable-with-filter table").length > 0){
                sl.components.deviceTableColumnDataFiltersPopup.reloadTable($thisProductFamilyTable);
            }*/
        }
    },
    "removeActiveFilters": function (activeFilters, $thisProductFamilyTable) {
        var activeFiltersBkp = {};
        //Take a backup of all active filters
        if (typeof activeFilters !== 'undefined' && Object.keys(activeFilters).length > 0) {
            for (var key in activeFilters) {
                console.debug(key);
                var filter = activeFilters[key];
                console.debug(filter);
                activeFiltersBkp[key] = activeFilters[key];
                delete activeFilters[key];
            }
            if($thisProductFamilyTable.find("table").length > 0){
                sl.components.pfTableColumnDataFiltersPopup.reloadTable($thisProductFamilyTable);
            }
            /*if($(".devicetable-with-filter table").length > 0){
                sl.components.deviceTableColumnDataFiltersPopup.reloadTable();
            }*/
        }
        return activeFiltersBkp;
    },
    "createPopup": function($thisProductFamilyTable) {
        var $theParentContainer = $thisProductFamilyTable.find('.slbs2-pftable-column-filters-popup');
        var $theDataContainer = $theParentContainer.find('.column-filters-container');

        if (!$theDataContainer.is(':hidden')) {
            $theParentContainer.hide();
        } else {
            sl.components.pfTableColumnFiltersPopup.positionPopup($theParentContainer, $thisProductFamilyTable);
            $theParentContainer.show();
        }
    },
    "positionPopup": function($popup, $thisProductFamilyTable) {
        var positionElement = $thisProductFamilyTable.find('.columns-link.active').length ? $thisProductFamilyTable.find('.columns-link.active') : $thisProductFamilyTable.find('.columns-link-mobile.active');
        if (positionElement.length) {
            var popupOffset = positionElement.offset();
            var left = popupOffset.left;

            if (popupOffset.left + $popup.outerWidth() > $('.row').width() && Foundation.MediaQuery.atLeast('medium')) {
                left = popupOffset.left - $popup.outerWidth() + positionElement.outerWidth();
            } else if (Foundation.MediaQuery.current == "small") {
                left = '15px';
            }
            var headerNavHeight = $('.slbs2-header.slbs2-nav').height() !== null ? $('.slbs2-header.slbs2-nav').height() : 0;
            var breadcrumbHeight = $('.slbs2-breadcrumb').parent().height() !== null ? $('.slbs2-breadcrumb').parent().height() : 0;
            var top = (popupOffset.top + positionElement.outerHeight()) - (headerNavHeight + breadcrumbHeight);

            $thisProductFamilyTable.find('.loading-div').removeClass('icon-loading');
            $popup.css({
                'top': top + 17,
                'left': left,
                'z-index': 2000
            });
        }

    },
    "addColumnsToPopup": function($thisProductFamilyTable) {
        var tableHeaders = [];
        var columnsOrder = [];
        var visibleTableHeaders = [];
        var resourceId = $thisProductFamilyTable.data('resource');
        var $pftable_with_filter = $thisProductFamilyTable.find(".pftable-with-filter");
        $pftable_with_filter.find("table thead tr th:not(.sticky-col)").each(function () {
            console.debug($(this).attr("data-columnsorder"));
            tableHeaders.push($(this).text());
            columnsOrder.push($(this).attr("data-columnsorder"));
            if($(this).is(":visible")){
                visibleTableHeaders.push("true");
            } else {
                visibleTableHeaders.push("false");
            }
        });
        var $theParentContainer = $thisProductFamilyTable.find('.slbs2-pftable-column-filters-popup');
        var $theDataContainer = $theParentContainer.find('.column-filters-container');
        var ulElement = $theDataContainer.find('ul#sortable');
        ulElement.empty();
        var activeFilters = {};
        if($pftable_with_filter.find("table").length > 0){
            //activeFilters = sl.components.pfTableColumnDataFiltersPopup.activeFilters;
            activeFilters = sl.components.pfTableColumnDataFiltersPopup.tableSpecificActiveFilters[$thisProductFamilyTable.data('resource')];
        }
        /*if($(".devicetable-with-filter table").length > 0){
            activeFilters = sl.components.deviceTableColumnDataFiltersPopup.activeFilters;
        }*/

        $.each(tableHeaders, function(index, value){
            var liElement = "<li class='ui-state-default ui-sortable-handle'>";
            var checkedVal = visibleTableHeaders[index] == "true" ? 'checked' : '';
            var disableCheckbox = '';
            var isCheckBoxDisabled = '';
            if (typeof activeFilters !== 'undefined' && Object.keys(activeFilters).length > 0) {
                for (var key in activeFilters) {
                    var filter = activeFilters[key];
                    if(filter.columnHeader == $.trim(value) && checkedVal){
                        disableCheckbox = 'disabled="true"';
                        isCheckBoxDisabled = 'disabled-label';
                    }
                }
            }

            liElement = liElement + "<input data-popup-columns-order='"+columnsOrder[index]+"' "+checkedVal+" " +
                "class='form-check-input' type='checkbox' value='"+value+"' id='"+resourceId+"_"+value+"' "+disableCheckbox+"/>";
            liElement = liElement + "<label class='form-check-label "+isCheckBoxDisabled+"' for='"+resourceId+"_"+value+"' >"+value+"</label>";
            liElement = liElement + "<span class='drag-icon' />";

            $(liElement).appendTo(ulElement);
        });
        $theDataContainer.find( "#sortable" ).sortable();
        $theDataContainer.find( "#sortable" ).disableSelection();
        return tableHeaders;
    },
    "toggleColumnSelection": function(classValue, $thisProductFamilyTable) {
        // ID selector on Items Container
        var listCheckItems = $thisProductFamilyTable.find(".slbs2-pftable-column-filters-popup #sortable :checkbox");
        if(classValue == 'select-all'){
            listCheckItems.prop("checked", true);
        } else if(classValue == 'clear-all') {
            listCheckItems.prop("checked", false);
        }
    },
    "getSelectedItems": function($thisProductFamilyTable) {
        var sortedColumns = [];
        var unCheckedColumns = [];
        var sortedColumnsOrder = [];
        var sortedColumnsOrder = [];
        var getAllSortedItems = {};
        listCheckItems = $thisProductFamilyTable.find(".slbs2-pftable-column-filters-popup #sortable :checkbox");
        listCheckItems.each(function(index) {
            sortedColumns.push($(this).val());
            sortedColumnsOrder.push($(this).attr('data-popup-columns-order'));
            if(!$(this).prop("checked")){
                unCheckedColumns.push(index);
            }
        });
        //console.log("Unchecked columns");console.log(unCheckedColumns);
        getAllSortedItems['sortedColumns'] = sortedColumns;
        getAllSortedItems['sortedColumnsOrder'] = sortedColumnsOrder;
        getAllSortedItems['unCheckedColumns'] = unCheckedColumns;
        return getAllSortedItems;
    },
    "closePopup": function($thisProductFamilyTable) {
        $thisProductFamilyTable.find(".slbs2-pftable-column-filters-popup").hide();
        $thisProductFamilyTable.find(".columns-link").removeClass('active');
        $thisProductFamilyTable.find(".columns-link-mobile").removeClass('active');
    }
}

sl = sl || {};
sl.components = sl.components || {};
sl.components.pfTableColumnDataFiltersPopup = {
    "activeFilters": {},
    "allFilters": {},
    "tableSpecificActiveFilters": {},
    "tableSpecificAllFilters": {},
    "init": function() {
        var columnDataFiltersPopup = this;
        var defaultTableHeadersOrder = new Map();
        var defaultTableHeaders = [];

        /** Setting filtering function for family and device table **/
        $.fn.dataTableExt.afnFiltering.push(function(settings, searchData, index, rowData, counter) {
            //console.log(settings.oInit.currentTableResourceId);
            if ($('#' + settings.sTableId).is('.pftable')) {
                var currentTableOuterDiv = $('#' + settings.sTableId).closest('.product-family-table-with-filter');
                if(settings.oInit.currentTableResourceId === currentTableOuterDiv.data('resource')){
                    if (sl.components.pfTableColumnDataFiltersPopup.isTableRowActive(rowData, currentTableOuterDiv.data('resource'))) {
                        return true;
                    }
                }



                return false;
            }else if($('#' + settings.sTableId).is('.dev-table')){
                if (sl.components.deviceTableColumnDataFiltersPopup.isTableRowActive(rowData)) {
                    return true;
                }
                return false;
            } else {
                return true;
            }
        });

        /** Detecting the boolean td values **/
        $.fn.dataTable.ext.type.detect.unshift(
            function ( d ) {
                if (typeof d == "string")
                {
                    if (d.indexOf("data-yes") > -1 || d.indexOf("data-no") > -1) {
                        return "dom-boolean";
                    }
                    return null;
                }
            }
        );

        /** Setting Yes/No based on tick and cross mark from the front end **/
        $.fn.dataTable.ext.type.order['dom-boolean-pre'] = function ( d ) {
            if(d.indexOf("data-no")>-1){
                return 1;
            }else if(d.indexOf("data-yes")>-1){
                return 2;
            }
            return 0;
        };
        var $productFamilyTable = $('.product-family-table-with-filter');
        $productFamilyTable.each(function() {
            var $thisProductFamilyTable = $(this);
            var $pftable_with_filters = $thisProductFamilyTable.find('.pftable-with-filter');
            sl.components.pfTableColumnDataFiltersPopup.getAllFilterValues($thisProductFamilyTable);
            sl.components.pfTableColumnDataFiltersPopup.bindEvents($thisProductFamilyTable);
        });

    },
    "bindEvents" : function($thisProductFamilyTable){

        //$(document).on('click', '.product-family-table-with-filter span.sort', function() {
        $($thisProductFamilyTable).on('click', 'span.sort', function() {
            sl.components.pfTableColumnDataFiltersPopup.createPopup($(this), $thisProductFamilyTable);
            defaultTableHeaders = sl.components.pfTableColumnDataFiltersPopup.addColumnsValuesToPopup($(this), $thisProductFamilyTable);
            $thisProductFamilyTable.find('#show-more').click();
        });

        $thisProductFamilyTable.find('.slbs2-pftable-columndata-filters-popup').on('click', 'a.popup-close', function() {
            $thisProductFamilyTable.find(".slbs2-pftable-columndata-filters-popup").hide();
        });

        $(document).mouseup(function(e) {
            var container =  $thisProductFamilyTable.find(".slbs2-pftable-columndata-filters-popup");
            if (container) {
                if (!container.is(e.target) // if the target of the click isn't the container...
                    &&
                    container.has(e.target).length === 0) // ... nor a descendant of the container
                {
                    container.hide();
                    $thisProductFamilyTable.find(".columns-link.active").removeClass('active');
                }
            }
        });

        $(window).on('resize', function() {
            var theParentContainer =  $thisProductFamilyTable.find('.slbs2-pftable-columndata-filters-popup');
            if (theParentContainer.css('display') != 'none') {
                sl.components.pfTableColumnDataFiltersPopup.positionPopup(theParentContainer, $thisProductFamilyTable);
            }
        });

        //Select all/Clear all column items
        $thisProductFamilyTable.find(".slbs2-pftable-columndata-filters-popup .sort-by-option").on('click', function() {
            sl.components.pfTableColumnDataFiltersPopup.doSortBy($(this));
        });


        //Select all/Clear all column items
        $thisProductFamilyTable.find("#selectAll, #clearAll").on('click', function() {
            sl.components.pfTableColumnDataFiltersPopup.toggleFilterSelection(this.id, $thisProductFamilyTable);
        });

        //Search through text field
        $thisProductFamilyTable.find(".slbs2-pftable-columndata-filters-popup #searchField").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $thisProductFamilyTable.find(".slbs2-pftable-columndata-filters-popup #sortable li").filter(function() {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });
        $thisProductFamilyTable.find(".slbs2-pftable-columndata-filters-popup #ok-button").on('click', function() {
            var $filters = $thisProductFamilyTable.find('.columns-filters');
            var $columndata_filter = $thisProductFamilyTable.find('.columndata-filter');
            var selectedFilterID = $columndata_filter.attr('data-filter-id');
            var selectedFilterLabel = $columndata_filter.attr('data-filter-name');
            var selectedFilterColumn = $columndata_filter.attr('column-order');
            var isPresent = function () {
                var filter = $filters.find("#"+selectedFilterID);
                if(filter.length!=0){
                    return true;
                }else{
                    return false;
                }
            };
            var selectedFilterDataList = $columndata_filter.find('li input:checked');
            var data, item;
            if(selectedFilterDataList.size()>0){
                if(isPresent()){
                    //$(filters).find("#"+selectedFilterID).remove();
                    $filters.find("#"+selectedFilterID).remove();
                }
                $(selectedFilterDataList).each(function(index){
                    var text = $(this).val();
                    text = $.trim(text.replace(/[\t\n]+/g,''));
                    if(index==0){
                        data = text;
                    }else{
                        data = data+ "|"+ text;
                    }
                });
                item = "<p class='active' id='"+selectedFilterID+"' column-order='"+selectedFilterColumn+"'>"+selectedFilterLabel+":"+data+"</p>"
                //$(filters).append(item);
                $filters.append(item);

                // Create filter object
                var thisFilterObj = {
                    'filter': selectedFilterID,
                    'val': selectedFilterLabel+":"+data,
                    'column': selectedFilterColumn,
                    'columnHeader': selectedFilterLabel
                };

                // Add filter to filters object
                var filterKey = selectedFilterID;
                var currentTableActiveFilters = {};
                if(typeof sl.components.pfTableColumnDataFiltersPopup.tableSpecificActiveFilters[$thisProductFamilyTable.data('resource')] !== 'undefined'){
                    currentTableActiveFilters = sl.components.pfTableColumnDataFiltersPopup.tableSpecificActiveFilters[$thisProductFamilyTable.data('resource')];
                    currentTableActiveFilters[filterKey] = thisFilterObj;
                } else {
                    currentTableActiveFilters[filterKey] = thisFilterObj;
                }
                //currentTableActiveFilters[filterKey] = thisFilterObj;
                //sl.components.pfTableColumnDataFiltersPopup.activeFilters[filterKey] = thisFilterObj;
                sl.components.pfTableColumnDataFiltersPopup.tableSpecificActiveFilters[$thisProductFamilyTable.data('resource')] = currentTableActiveFilters;

            }else{
                //$(filters).find("#"+selectedFilterID).remove();
                $filters.find("#"+selectedFilterID).remove();
                //delete sl.components.pfTableColumnDataFiltersPopup.activeFilters[selectedFilterID];
                if(typeof sl.components.pfTableColumnDataFiltersPopup.tableSpecificActiveFilters[$thisProductFamilyTable.data('resource')] !== 'undefined'){
                    delete sl.components.pfTableColumnDataFiltersPopup.tableSpecificActiveFilters[$thisProductFamilyTable.data('resource')][selectedFilterID];
                }
            }

            sl.components.pfTableColumnDataFiltersPopup.reloadTable($thisProductFamilyTable);


            /*Sorting Logic*/
            var columnSelected = parseInt($thisProductFamilyTable.find(".columndata-filters-container").attr("column-selected"));
            var activeSortBy = $thisProductFamilyTable.find(".columndata-filters-container .sort-by-option.active");
            //var $productFamilyTable = $('.product-family-table-with-filter');

            if(activeSortBy.length>0){
                var option = activeSortBy[0];
                var pftable = $thisProductFamilyTable.find('table');
                $(pftable).DataTable().destroy();
                var $dataTable = $(pftable).DataTable({
                    "columnDefs": [
                        { "orderable": false, "targets": "_all" }
                    ],
                    "paging": false,
                    "autoWidth": false,
                    "currentTableResourceId": $thisProductFamilyTable.data('resource')
                });
                if($(option).hasClass("asc")){
                    $dataTable.column(""+columnSelected)
                        .order("asc")
                        .draw();
                }else{
                    $dataTable.column(""+columnSelected)
                        .order("desc")
                        .draw();
                }
            }

            //Very important to close the popup after clicking on OK.
            $thisProductFamilyTable.find(".slbs2-pftable-columndata-filters-popup").hide();
        });
        var $columndata_filters_popup = $thisProductFamilyTable.find(".slbs2-pftable-columndata-filters-popup");
        //Close the popup without taking any action.
        $thisProductFamilyTable.find(".slbs2-pftable-columndata-filters-popup #cancel-button").on('click', function() {
            $columndata_filters_popup.hide();
        });

        $columndata_filters_popup.on('click', '.filter-by-title', function() {
            if($(this).hasClass("active")){
                $(this).removeClass("active");
                $columndata_filters_popup.find(".filter-by-content").hide();
            }else{
                $(this).addClass("active");
                $columndata_filters_popup.find(".filter-by-content").show();
            }

        });


    },
    "createPopup": function($sort, $thisProductFamilyTable) {
        var $theParentContainer = $thisProductFamilyTable.find('.slbs2-pftable-columndata-filters-popup');
        var $theDataContainer = $theParentContainer.find('.columndata-filters-container');

        if (!$theParentContainer.is(':hidden')) {
            $theParentContainer.hide();
        } else {
            sl.components.pfTableColumnDataFiltersPopup.positionPopup($sort, $theParentContainer, $thisProductFamilyTable);
            $theParentContainer.show();
        }
    },
    "positionPopup": function($sort, $popup, $thisProductFamilyTable) {
        var positionElement = $($sort);
        if (positionElement.length) {
            var popupOffset = positionElement.offset();
            var left = popupOffset.left;

            if (popupOffset.left + $popup.outerWidth() > $('.row').width() && Foundation.MediaQuery.atLeast('medium')) {
                left = popupOffset.left - $popup.outerWidth() + positionElement.outerWidth();
            } else if (Foundation.MediaQuery.current == "small") {
                left = '15px';
            }
            var headerNavHeight = $('.slbs2-header.slbs2-nav').height() !== null ? $('.slbs2-header.slbs2-nav').height() : 0;
            var breadcrumbHeight = $('.slbs2-breadcrumb').parent().height() !== null ? $('.slbs2-breadcrumb').parent().height() : 0;
            var top = (popupOffset.top + positionElement.outerHeight()) - (headerNavHeight + breadcrumbHeight);

            $thisProductFamilyTable.find('.loading-div').removeClass('icon-loading');
            $popup.css({
                'top': top + 10,
                'left': left,
                'z-index': 2000
            });
        }

    },
    "addColumnsValuesToPopup": function($sort, $thisProductFamilyTable) {
        var columnSetVal = [];
        var resourceId = $thisProductFamilyTable.data('resource');
        var idVal;
        var parentTh= $($sort).parents('th');
        var filterName=$(parentTh).text().trim();
        var columnOrderPresent = $(parentTh).attr("data-columnsorder");
        var columnsOrder =  parseInt(columnOrderPresent)+1;
        var $theParentContainer = $thisProductFamilyTable.find('.slbs2-pftable-columndata-filters-popup');
        var $theDataContainer = $theParentContainer.find('.columndata-filters-container');
        var ulElement = $theDataContainer.find('ul#sortable');
        $theDataContainer.attr("column-selected",columnsOrder);
        ulElement.empty();

        //columnSetVal = sl.components.pfTableColumnDataFiltersPopup.allFilters[columnOrderPresent];
        columnSetVal = sl.components.pfTableColumnDataFiltersPopup.tableSpecificAllFilters[$thisProductFamilyTable.data('resource')][columnOrderPresent];

        $thisProductFamilyTable.find('.columndata-filter').attr("data-filter-name", filterName);
        var fName = filterName.toLowerCase();
        fName = fName.replace(/[^A-Za-z0-9]/g,"");

        $thisProductFamilyTable.find('.columndata-filter').attr("data-filter-id", fName);
        $thisProductFamilyTable.find('.columndata-filter').attr("column-order", columnsOrder);
        $.each(columnSetVal, function(index, value){
            idVal = value.toLowerCase();
            idVal = $.trim(idVal.replace(/[\t\n]+/g,''));
            idVal = idVal.replace(/[^A-Za-z0-9]/g,"-")
            idVal = resourceId+"-"+fName+"-"+idVal;
            var liElement = "<li class='ui-state-default ui-sortable-handle'>";
            liElement = liElement + "<input class='form-check-input' type='checkbox' value='"+value+"' id='"+idVal+"' />";
            liElement = liElement + "<label class='form-check-label' for='"+idVal+"' >"+value+"</label>";
            liElement = liElement + "<span class='ui-icon ui-icon-arrowthick-2-n-s' />";

            $(liElement).appendTo(ulElement);
        });
        $thisProductFamilyTable.find( "#sortable" ).sortable();
        $thisProductFamilyTable.find( "#sortable" ).disableSelection();
        this.toggleColumnDataSelection($thisProductFamilyTable);


        /*Sorting Filtering option by asc order*/
        var filterOptions = $(ulElement).find("li");
        filterOptions.sort(function(a, b) {
            var compA = $(a).text().toUpperCase();
            var compB = $(b).text().toUpperCase();
            return (compA < compB) ? -1 : 1;
        });
        $.each(filterOptions, function(i, itm) {
            ulElement.append(itm);
        });


        /* Setting Sort-By option selected */
        $thisProductFamilyTable.find(".sort-by-option").each(function () {
            if($(parentTh).hasClass("sorting_asc")){
                if($(this).hasClass("asc")) {
                    $(this).addClass("active");
                }
            }else if($(parentTh).hasClass("sorting_desc")){
                if($(this).hasClass("desc")){
                    $(this).addClass("active");
                }
            }else{
                $(this).removeClass("active");
            }
        });
    },
    "toggleColumnDataSelection": function($thisProductFamilyTable) {
        var resourceId = $thisProductFamilyTable.data('resource');
        var filters = $thisProductFamilyTable.find('.columns-filters');
        var selectedFilterID = $thisProductFamilyTable.find('.columndata-filter').attr('data-filter-id');
        var valID;
        var existingFilter = $(filters).find("#"+selectedFilterID);
        if(existingFilter.length>0){
            var value = $(existingFilter).text().split(":")[1];
            var splitVal = value.split("|");
            if($(splitVal).size()>0){
                $(splitVal).each(function(index, value){
                    valID = value.toLowerCase();
                    valID = $.trim(valID.replace(/[\t\n]+/g,''));
                    valID = valID.replace(/[^A-Za-z0-9]/g,"-")
                    valID = resourceId+"-"+selectedFilterID+"-"+valID;
                    $thisProductFamilyTable.find('.columndata-filter li input#'+valID).prop( "checked", true );
                });
            }
        }

    },
    "toggleFilterSelection": function(idValue, $thisProductFamilyTable) {
        // ID selector on Items Container
        var parent = $thisProductFamilyTable.find(".columndata-filters-container");
        var listCheckItems = $(parent).find("#sortable :checkbox");
        if(idValue == 'selectAll'){
            listCheckItems.prop("checked", true);
        } else if(idValue == 'clearAll') {
            listCheckItems.prop("checked", false);
        }
    },
    "reloadTable" : function($thisProductFamilyTable){
        //var  $productFamilyTable = $('.product-family-table-with-filter');
        var pftable = $thisProductFamilyTable.find('table');
        $(pftable).DataTable().destroy();
        $(pftable).DataTable({
            "columnDefs": [
                { "orderable": false, "targets": "_all"}
            ],
            "paging": false,
            "ordering":false,
            "autoWidth": false,
            "currentTableResourceId": $thisProductFamilyTable.data('resource')
        });
        $(pftable).DataTable().draw();
        //Commenting for not showing 'Narrowed to X'
        /*var tableRowCount = $(pftable).find("tr").length;
        var filtersCount = $('.table-container .columns-filters p.active').length;
        $('.table-container .columns-filters span.count').text(tableRowCount-1);
        if(filtersCount>0){
            $('.table-container .columns-filters span.filter-text').show();
        }else{
            $('.table-container .columns-filters span.filter-text').hide();
            $(pftable).DataTable().destroy();
            $(pftable).DataTable({
                "columnDefs": [
                    { "orderable": false, "targets": "_all" }
                ],
                "paging": false,
                "ordering":false
            });
        }*/

    },
    "isTableRowActive": function(rowData, currentTableResourceId) {
        var columnDataSearch = this,
            activeFilters = columnDataSearch.tableSpecificActiveFilters[currentTableResourceId],
            filterVals = [],
            columnFilterVals =[],
            isActive = false;

        // This uses AND logic, so if any items are untrue the row will NOT show
        if (rowData) {
            // Check for filters
            if (typeof activeFilters !== 'undefined' &&  Object.keys(activeFilters).length > 0) {

                for (var key in activeFilters) {
                    var filter = activeFilters[key],
                        rowVal = rowData[filter.column];
                    if (typeof filter.val !== 'undefined' && typeof rowVal !== 'undefined') {

                        if (filter.val.match(/^(-?[0-9.]*)\-(-?[0-9.]*)$/g) !== null) {
                            var regex = new RegExp('^(-?[0-9.]*)\-(-?[0-9.]*)$', 'g');
                            var range = regex.exec(filter.val),
                                min = range[1],
                                max = range[2];

                            rowVal = parseFloat(rowVal);

                            if (min <= rowVal && rowVal <= max) {
                                filterVals.push(true);
                            } else {
                                filterVals.push(false);
                            }
                        } else if (filter.val.indexOf('|') > -1) {
                            var filterArr = filter.val.split(':')[1];
                            var filterValArr = filterArr.split('|');
                            columnFilterVals=[];
                            $(filterValArr).each(function(filterIndex){
                                if(rowVal.indexOf(",")>-1){
                                    var rowValArr = rowVal.split(",");
                                    var match = false;

                                    $(rowValArr).each(function(index){
                                        var value = rowValArr[index].ltrim().rtrim();
                                        if($(value).is("a")){
                                            value = $(value).text();
                                        }
                                        if(value==filterValArr[filterIndex]){
                                            match = true;
                                        }
                                    });
                                    if(match){
                                        columnFilterVals.push(true);
                                    } else {
                                        columnFilterVals.push(false);
                                    }
                                }else{
                                    if(rowVal.indexOf("delimited")>-1){
                                        if(rowVal.indexOf(filterValArr[filterIndex])>-1){
                                            columnFilterVals.push(true);
                                        } else {
                                            columnFilterVals.push(false);
                                        }
                                    }else if(rowVal.indexOf("bool-value")>-1){
                                        if(filterArr=="Yes"){
                                            if(rowVal.indexOf("data-yes")>-1){
                                                filterVals.push(true);
                                            } else {
                                                filterVals.push(false);
                                            }
                                        }else if(filterArr=="No"){
                                            if(rowVal.indexOf("data-no")>-1){
                                                filterVals.push(true);
                                            } else {
                                                filterVals.push(false);
                                            }
                                        }
                                    }else{
                                        if (rowVal===filterValArr[filterIndex]) {
                                            columnFilterVals.push(true);
                                        } else {
                                            columnFilterVals.push(false);
                                        }
                                    }

                                }
                            });

                        } else {
                            var filterArr = filter.val.split(':')[1];
                            if(rowVal.indexOf(",")>-1){
                                var rowValArr = rowVal.split(",");
                                var match = false;
                                $(rowValArr).each(function(index){
                                    var value = rowValArr[index].ltrim().rtrim();
                                    if($(value).is("a")){
                                        value = $(value).text();
                                    }
                                    if(value===filterArr){
                                        match = true;
                                    }
                                });
                                if(match){
                                    filterVals.push(true);
                                } else {
                                    filterVals.push(false);
                                }
                            }else{
                                if(rowVal.indexOf("delimited")>-1){
                                    if(rowVal.indexOf(filterArr)>-1){
                                        filterVals.push(true);
                                    } else {
                                        filterVals.push(false);
                                    }
                                }else if(rowVal.indexOf("bool-value")>-1){
                                    if(filterArr=="Yes"){
                                        if(rowVal.indexOf("data-yes")>-1){
                                            filterVals.push(true);
                                        } else {
                                            filterVals.push(false);
                                        }
                                    }else if(filterArr=="No"){
                                        if(rowVal.indexOf("data-no")>-1){
                                            filterVals.push(true);
                                        } else {
                                            filterVals.push(false);
                                        }
                                    }
                                }else{
                                    if (rowVal===filterArr) {
                                        filterVals.push(true);
                                    } else {
                                        filterVals.push(false);
                                    }
                                }
                            }
                        }
                    } else {
                        // If the row doesn't have the attribute it's considered false
                        filterVals.push(false);
                    }

                    if(columnFilterVals.length>0){
                        if (columnFilterVals.indexOf(true) != -1) {
                            filterVals.push(true);
                        }else{
                            filterVals.push(false);
                        }
                    }

                }
            }
        }
        if (filterVals.length == 0) {
            // No filters are applied, include everything
            isActive = true;
        } else if (filterVals.indexOf(false) == -1) {
            // Only display if all filtervals are true for this row
            isActive = true;
        }

        return isActive;
    },
    "getFilterValues":function ($sort, $thisProductFamilyTable) {
        var columnSetVal = [];
        var delimitedContent = "";
        var delimitedText = "";
        var columnsOrder =  parseInt($($sort).parents('th').attr("data-columnsorder"))+1;
        String.prototype.ltrim = function() {
            var trimmed = this.replace(/^\s+/g, '');
            return trimmed;
        };
        String.prototype.rtrim = function() {
            var trimmed = this.replace(/\s+$/g, '');
            return trimmed;
        };


        $thisProductFamilyTable.find('table tr').each(function(){
            var $thisContentElem = $(this).find("td:eq("+columnsOrder+")");
            var $thisContentHTML = $(this).find("td:eq("+columnsOrder+")").html();
            if(typeof ($thisContentHTML)!="undefined"){
                var spanDelimited = $($thisContentElem).find("span.delimited");
                var spanBoolean = $($thisContentElem).find("span.bool-value");
                if(spanDelimited.length>0){
                    $(spanDelimited).each(function(index){
                        delimitedText = $(this).text();
                        columnSetVal.push(delimitedText.ltrim().rtrim());
                    });

                }else if(spanBoolean.length>0){
                    $(spanBoolean).each(function(){
                        if($(this).hasClass("data-yes")){
                            columnSetVal.push("Yes");
                        }else{
                            columnSetVal.push("No");
                        }
                    });

                }else{
                    var colText = $(this).find("td:eq("+columnsOrder+")").text().trim();
                    if(colText!=""){
                        if(colText.indexOf(",")>-1){
                            var colTextSplit = colText.split(",");
                            $(colTextSplit).each(function(index){
                                columnSetVal.push(colTextSplit[index].ltrim().rtrim());
                            });
                        }else{
                            columnSetVal.push(colText.ltrim().rtrim());
                        }
                    }
                }
            }else{
                var colText = $(this).find("td:eq("+columnsOrder+")").text().trim();
                if(colText!=""){
                    if(colText.indexOf(",")>-1){
                        var colTextSplit = colText.split(",");
                        $(colTextSplit).each(function(index){
                            columnSetVal.push(colTextSplit[index].ltrim().rtrim());
                        });
                    }else{
                        columnSetVal.push(colText.ltrim().rtrim());
                    }
                }
            }


        });
        columnSetVal = columnSetVal.filter(function(elem, index, self) {
            return index === self.indexOf(elem);
        });
        //console.log(columnSetVal);
        return columnSetVal;
    },
    "getAllFilterValues": function ($thisProductFamilyTable) {
        var $allSort = $thisProductFamilyTable.find('span.sort');
        var allFilters = {};
        $($allSort).each(function(index){
            //console.log("arranging data..");
            //console.log(this);
            //sl.components.pfTableColumnDataFiltersPopup.allFilters[index]= sl.components.pfTableColumnDataFiltersPopup.getFilterValues($(this), $thisProductFamilyTable);
            allFilters[index]= sl.components.pfTableColumnDataFiltersPopup.getFilterValues($(this), $thisProductFamilyTable);

            //console.log( sl.components.pfTableColumnDataFiltersPopup.allFilters);
        });
        sl.components.pfTableColumnDataFiltersPopup.tableSpecificAllFilters[$thisProductFamilyTable.data('resource')] = allFilters;
        allFilters = {};
        //console.log(sl.components.pfTableColumnDataFiltersPopup.globalAllFilters);
    },
    "doSortBy": function ($sortByElem) {
        $($sortByElem).addClass("active");
        $($sortByElem).siblings().removeClass("active");
    }

}

sl = sl || {};
sl.components = sl.components || {};

sl.components.productFamilyTable = {
"init": function() {
    var productFamilyTable = this,
        $productFamilyTable = $('.product-family-table');

    $('.filter-section input.range-filter-input').each(function() {
        $(this).attr('size', $(this).attr('placeholder').length)
    })

    // Inputs bind change event
    $productFamilyTable.find('input[type=text][data-filter]').on('input', function() {
        var $thisProductFamilyTable = $(this).parents('.product-family-table');
        productFamilyTable.doClick($(this), $thisProductFamilyTable, false);
    })

    $productFamilyTable.find('input[type=checkbox][data-filter], select[data-filter]').on('change', function() {
        var $thisProductFamilyTable = $(this).parents('.product-family-table');
        productFamilyTable.doClick($(this), $thisProductFamilyTable, false);
    })

    // Buttons bing click event
    $productFamilyTable.find('button[data-filter], a[data-filter]').on('click', function(e) {
        if (Foundation.MediaQuery.atLeast('medium')) {
            e.preventDefault();
        }

        var $thisProductFamilyTable = $(this).parents('.product-family-table');
        productFamilyTable.doClick($(this), $thisProductFamilyTable, true);
    })

},
"doClick": function($thisEl, $productFamilyTable, isSecondaryFilter) {

    var productFamilyTable = this,
        $thisFilter = $thisEl,
        thisFilter = $thisFilter.data('filter');

    // "Clear all" functionality
    if (thisFilter === "") {
        $productFamilyTable.find('[data-filter]').removeClass('active').prop('checked', false).val('')
    }

    // Reset all rows
    $productFamilyTable.find('tr').removeClass('active secondary-active');

    // Toggle if filter is active
    if (productFamilyTable.isFilterActive($thisFilter)) {
        $thisFilter.addClass('active');
    } else {
        $thisFilter.removeClass('active');
    }

    // Get active filters
    var activeFilters = productFamilyTable.getActiveFilters($productFamilyTable);

    var isSecondaryFilter = $thisEl.is('.secondary-filter');

    // If there are active filters, mark the table as filtering - this makes the non-active rows gray
    if (Object.keys(activeFilters).length > 0) {
        $productFamilyTable.addClass('filtering');
    } else {
        $productFamilyTable.removeClass('filtering');
    }
    $productFamilyTable.find('tbody tr').each(function() {

        var dataAttributes = {};
        var attributes = $(this)[0].attributes;
        for (var i = 0; i < attributes.length; i++) {
            var thisAttr = attributes.item(i);
            var thisName = thisAttr.name.replace('data-', '').replace('sl-', 'sl');
            var thisVal = thisAttr.value;

            var isNumeric = function(str) {
                return !isNaN(str);
            }

            var isBoolean = function(str) {
                return (str === "true" || str === "false");
            }

            // 1. +val casts any number (int, float) from a string
            // 2. String(val) === "true" converts a string to bool

            var thisVal = (isNumeric(thisVal) ? +thisVal : isBoolean(thisVal) ? (String(thisVal).toLowerCase() === "true") : thisVal);

            dataAttributes[thisName] = thisVal;
        }

        var rowClasses = productFamilyTable.getActiveRowClasses($productFamilyTable, activeFilters, dataAttributes, isSecondaryFilter);

        $(this).addClass(rowClasses);
    })

    if ($productFamilyTable.find('.filters .secondary .active').length > 0) {
        $productFamilyTable.addClass('filtering-secondary');
    } else {
        $productFamilyTable.removeClass('filtering-secondary');
    }
    if ($productFamilyTable.find('.filters .primary .active').length > 0) {
        $productFamilyTable.addClass('filtering-primary');
    } else {
        $productFamilyTable.removeClass('filtering-primary');
    }

},
"getActiveFilters": function($productFamilyTable) {

    var activeFilters = {},
        $activeFilters = $productFamilyTable.find('[data-filter].active');

    $activeFilters.each(function() {
        var $thisFilter = $(this);

        if ($thisFilter.data('filter')) {
            var filterName = $thisFilter.attr('data-filter'),
                filterValue = true,
                filterKey = filterName.replace('sl:', 'sl');

            // Figure out value of filter depending on the input type
            if ($thisFilter.is('input[type=checkbox]') && $thisFilter.is(':checked')) {
                if ($thisFilter.val() !== 'on') {
                    filterValue = $thisFilter.val();
                }
            } else if ($thisFilter.is('input.range-filter-input')) {
                // Must use default value to allow users to keep a min or max field empty
                var defaultValue = 0,
                    defaultMin = $thisFilter.parents('.filter-fields').find('[data-min-value]').attr('data-min-value'),
                    defaultMax = $thisFilter.parents('.filter-fields').find('[data-max-value]').attr('data-max-value'),
                    otherVal = $thisFilter.parent().siblings('label').children('input').val();

                // add default values if this filter's pair is empty
                if (otherVal == '') {

                    if ($thisFilter.hasClass('range-filter-input-min')) {
                        filterValue = $thisFilter.val() + '-' + defaultMax;
                    } else if ($thisFilter.hasClass('range-filter-input-max')) {
                        filterValue = defaultMin + '-' + $thisFilter.val();
                    }

                } else {
                    if ($thisFilter.hasClass('range-filter-input-min')) {
                        filterValue = $thisFilter.val() + '-' + otherVal;
                    } else if ($thisFilter.hasClass('range-filter-input-max')) {
                        filterValue = otherVal + '-' + $thisFilter.val();
                    }

                }
            } else if ($thisFilter.is('select')) {
                // Multi select returns an array so we join it to be consistent with our other string multi values
                filterValue = $thisFilter.val().join('|');
            } else if ($thisFilter.val() !== null && $thisFilter.val() !== '') {
                filterValue = $thisFilter.val();
            }

            // If this filter already has values, add this value to the string separated by a pipe
            // Cannot apply to ranges since they are handled differently
            if (activeFilters[filterKey] && !$thisFilter.is('input.range-filter-input')) {
                activeFilters[filterKey] = activeFilters[filterKey] + '|' + filterValue;
                // Otherwise add this filter to the activeFilters object
            } else {
                activeFilters[filterKey] = filterValue;
            }
        }
    })

    return activeFilters;
},
"isFilterActive": function($thisFilter) {
    var isActive = false;
    if ($thisFilter.is('input[type=checkbox]') && $thisFilter.is(':checked')) {
        isActive = true;
    } else if ($thisFilter.is('input:not([type=checkbox]), select') && $thisFilter.val() !== null && $thisFilter.val() !== "") {
        isActive = true;
    } else if ($thisFilter.is('button, a') && !$thisFilter.hasClass('active')) {
        isActive = true;
    }
    return isActive;
},
"getActiveRowClasses": function($productFamilyTable, activeFilters, rowFilters) {
    var classes = '',
        primaryFilterValues = [],
        secondaryFilterValues = [];

    // Iterate through active filters
    for (var thisActiveFilterKey in activeFilters) {
        var isSecondaryFilter = false,
            isPrimaryFilter = false,
            isActive = false,
            thisActiveFilterValue = activeFilters[thisActiveFilterKey],
            oldFilterKey = thisActiveFilterKey.replace('sl', 'sl:');

        isSecondaryFilter = $productFamilyTable.find('[data-filter="' + oldFilterKey + '"].active').is('.secondary-filter');
        isPrimaryFilter = $productFamilyTable.find('[data-filter="' + oldFilterKey + '"].active').parents('.primary').length > 0;

        if (typeof rowFilters[thisActiveFilterKey] !== "undefined" && rowFilters[thisActiveFilterKey] !== null) {
            // String multi values are pipe separated
            if (typeof thisActiveFilterValue == "string") {
                var rowVals = rowFilters[thisActiveFilterKey].length > 1 ? rowFilters[thisActiveFilterKey].split('|') : [rowFilters[thisActiveFilterKey].toString()];

                // If this is a number range selector, check if row values are in that range
                if (thisActiveFilterValue.match(/[0-9.]+\-[0-9.]+/g) !== null) {
                    var filterVals = thisActiveFilterValue.split('-'),
                        min = filterVals[0],
                        max = filterVals[1];

                    // If ANY of the values are in the correct range, show active
                    for (var i = 0; i < rowVals.length; i++) {
                        var thisRowVal = parseFloat(rowVals[i]);
                        if (min <= thisRowVal && thisRowVal <= max) {
                            isActive = true;
                        }
                    }
                } else {
                    var filterVals = thisActiveFilterValue.split('|');
                    // Test if row val string contains any of the filter values
                    for (var i = 0; i < filterVals.length; i++) {
                        var thisFilterVal = filterVals[i];
                        if (rowVals.indexOf(thisFilterVal) > -1) {
                            isActive = true;
                        }
                    }
                }

            }

            if (rowFilters[thisActiveFilterKey].toString().indexOf(thisActiveFilterValue) > -1) {
                isActive = true;
            }

        }

        if (isSecondaryFilter) {
            secondaryFilterValues.push(isActive);
        }
        if (isPrimaryFilter) {
            primaryFilterValues.push(isActive);
        }

    }

    if (primaryFilterValues.length > 0 && primaryFilterValues.indexOf(false) == -1) {
        classes += ' active';
    }
    if (secondaryFilterValues.length > 0 && secondaryFilterValues.indexOf(true) > -1) {
        classes += ' secondary-active';
    }

    return classes;
}
}

sl = sl || {};
sl.components = sl.components || {};

sl.components.productcategorycard = {
    "init": function () {
        var productcategorycard = this,
            $productcategorycard = $('.product-category-card');

        if ($productcategorycard.length) {
            $(".product-category-card-action").on("click", function () {
                var theSpan = $(this).find('span');
                var theClass = theSpan.attr('class');
                if (theClass == "expanded"){
                    theSpan.addClass("collapsed").removeClass("expanded");
                    theSpan[0].innerHTML = "+";
                    this.previousElementSibling.classList.add("collapsed");
                    this.previousElementSibling.classList.remove("expanded");
                } else{
                    theSpan.addClass("expanded").removeClass("collapsed");
                    theSpan[0].innerHTML = "-";
                    this.previousElementSibling.classList.add("expanded");
                    this.previousElementSibling.classList.remove("collapsed");
                }
            });
        }
    }
}

sl = sl || {};
sl.components = sl.components || {};

sl.components.partnerProgram = {
	"init": function() {
		var partnerProgram = this,
			$partnerProgram = $('.partner-program');

			if ($partnerProgram.length) {
				partnerProgram.setEvents($partnerProgram);
			}
	},
	"setEvents": function($partnerProgram) {
		var partnerProgram = this;

		$partnerProgram.find('.region-dropdown').change(function() {
			$partnerProgram.find('.country-dropdown').removeAttr('id').hide();
			var idx = $(this).prop('selectedIndex');
			$partnerProgram.find('.country-dropdown').eq(idx).prop('id', 'ddlCountry').show();
		});

		$partnerProgram.find('.partner-program-search').click(function() {
			$partnerProgram.find('.partner-program-result').show();
			$partnerProgram.find('.partner-program-result .partner-program-row').hide();

			if (sl.partnerPrograms.length) {
				sl.partnerPrograms.forEach(function(partner) {
					if (partnerProgram.isPartnerMatch(partner)) {
						$('#' + partner.id).show();
					}
				});
			}

			if ($partnerProgram.find('.partner-program-result .partner-program-row:visible').length) {
				$partnerProgram.find('.partner-program-result .partner-program-no-results').hide();
			} else {
				$partnerProgram.find('.partner-program-result .partner-program-no-results').show();
			}
		});
	},
	"isPartnerMatch": function(partner) {
		var partnerProgram = this,
			continentMatchFlag = false,
			REGION_TAG_PREFIX = '/content/cq:tags/silicon-labs-regions/',
			KEY_SERVICES_TAG_PREFIX = '/content/cq:tags/partner-program-key-services/';
		var keyServices = $('#ddlKeyServices').val(),
			region = $('#ddlRegion').val(),
			country = $('#ddlCountry').val(),
			company = $('#txtCompany').val();

		if (region !== '') {
			for (var i = 0; i < partner.regionTagPaths.length; i++) {
				var regionTagPath = partner.regionTagPaths[i];
				if (regionTagPath.indexOf(REGION_TAG_PREFIX + region) > -1) {
					continentMatchFlag = true;
				}
			}
			if (!continentMatchFlag) {
				return false;
			}
		}
		if (country !== '' && !partnerProgram.isCountryMatch(partner, country)) {
			return false;
		}
		if (company !== '' && partner.companyName.toLowerCase().indexOf(company.toLowerCase()) < 0) {
			return false;
		}

		if (keyServices === null || (keyServices.length > 0 && keyServices[0] === '')) {
			return true; // keyServices unselected or all is selected
		} else {
			for (var i = 0; i < partner.keyServicePaths.length; i++) {
				var partnerService = partner.keyServicePaths[i].replace(KEY_SERVICES_TAG_PREFIX, '');
				if (keyServices.indexOf(partnerService) > -1) {
					return true;
				}
			}
			return false;
		}
	},
	"isCountryMatch": function(partner, country) {
		for (var i = 0; i < partner.regionTagPaths.length; i++) {
			var regionTagPath = partner.regionTagPaths[i];
			if (/^\/content\/cq\:tags\/silicon-labs-regions\/[\w-]+\/[\w]{2}$/.test(regionTagPath) && regionTagPath.endsWith('/' + country)) {
				return true;
			}
		}
		return false;
	}
}

sl = sl || {};
sl.components = sl.components || {};

sl.components.partGroup = {
    "init": function() {

        if ($('.part-group-container').length > 0) {
            $('.part-group-container input, .part-group-container select').on('change', function(e) {
                e.preventDefault();

                var $thisInput = $(this),
                    $thisFieldset = $thisInput.parents('fieldset'),
                    currSelections = getCurrentSelections(),
                    $form = $('#part-group-form');

                $thisFieldset.find('[value]').each(function() {
                    $(this).attr('disabled', false);
                })

                if (currSelections && window.sl.deviceMap) {

                    if (typeof window.sl.deviceMap[currSelections] !== 'undefined') {
                        // This is a valid combo

                        // TODO: Ensure that if a user goes from an errant state to a correct state it still works
                        // Re-enable everything that may have been disabled with an incorrect selection
                        $form.find('[value]').each(function() {
                            $(this).attr('disabled', false);
                        })

                        $('.find-part-group').attr('data-attr-currSelections', currSelections);
                        $('.find-part-group').removeClass('disabled');

                    } else {
                        // If nothing with this combo exists...

                        $('div[data-part-group]').html(''); //clear out key specs on L4 template
                        $('.find-part-group').removeAttr('data-attr-currSelections');
                        $('.find-part-group').removeAttr('data-part-group');
                        $('.find-part-group').addClass('disabled');

                        // First disable all inputs
                        var $otherFieldsets = $thisFieldset.siblings();
                        $otherFieldsets.addClass('error');
                        $otherFieldsets.find('[value]').each(function() {
                            $(this).attr('disabled', true);
                        })

                        // Iterate through all the correct combos
                        var deviceMap = window.sl.deviceMap;
                        for (var key in deviceMap) {
                            var deviceVals = key.split('|'),
                                masterVal = $thisInput.val(),
                                masterIndex = $thisFieldset.index();

                            // If this combo matches the master value selected by the user
                            if (deviceVals[masterIndex] == masterVal) {

                                // Iterate through the device's correct values
                                for (var i = 0; i < deviceVals.length; i++) {
                                    var thisCorrectVal = deviceVals[i];

                                    // Find the input in the corresponding fieldset and enable it
                                    $form.children('fieldset').eq(i).find('[value="' + thisCorrectVal + '"]').each(function() {
                                        $(this).attr('disabled', false);
                                    })
                                }
                            }
                        }
                    }

                    // Check if any fieldsets have errors in them, if not remove all error classes
                    $form.find('fieldset').each(function() {
                        if ($(this).find('[disabled]:selected, [disabled]:checked').length == 0) {
                            $(this).removeClass('error');
                            $(this).find('.error').removeClass('error');
                        } else {
                            $(this).addClass('error');
                        }
                    })
                }
            }),
            $('.find-part-group').on('click', function() {
                var currSelections = $('.find-part-group').attr('data-attr-currSelections');
                var attributeTitles = $('.find-part-group').attr('data-attr-titles');
                var newPartNumber = "",
                    newHref = "";
                updateL4TemplateWithPartGroupInfo(attributeTitles, currSelections);
                if (currSelections && window.sl.deviceMap) {
                    if (typeof window.sl.deviceMap[currSelections] !== 'undefined') {
                        if (window.location.pathname.match('.html$')) {
                            newPartNumber = window.sl.deviceMap[currSelections].name;
                            newHref = window.location.pathname.replace(/(.+\.)(.+)(\.html)/g, '$1' + newPartNumber + '$3' + '#specs');
                            if (window.location.pathname !== newHref) {
                                $('.loading-div').addClass('icon-loading');
                                window.location.href = newHref;
                            }
                        } else {
                            newPartNumber = window.sl.deviceMap[currSelections].name;
                            if (window.location.pathname.match('#specs$')) {
                                newHref = window.location.pathname.replace(/(.+\.)(.+)(\#specs)$/g, '$1' + newPartNumber + '$3');
                            } else {
                                newHref = window.location.pathname.replace(/(.+\.)(.+)$/g, '$1' + newPartNumber + '#specs');
                            }
                            if (window.location.pathname !== newHref) {
                                $('.loading-div').addClass('icon-loading');
                                window.location.href = newHref;
                            }
                        }
                    } else {
                        // Do nothing
                    }
                }
            })
        } else{
            $('.specs-tab-partgroup').css('display','none');
        }
    }
}

$(window).on('load', function(){

    // Need to populate the keyspecs on Load
    var attributeTitles = $('.find-part-group').attr('data-attr-titles');
    if (typeof attributeTitles != 'undefined') {
        // this is an L4 page
        var currSelections = getCurrentSelections();
        $('.find-part-group').attr('data-attr-currSelections', currSelections);
        updateL4TemplateWithPartGroupInfo(attributeTitles, currSelections);
    }

});

function updateL4TemplateWithPartGroupInfo(attrTitles, valString) {

    if (typeof attrTitles != 'undefined' && typeof valString != 'undefined') {
        var titles = attrTitles.split('|');
        var attrValues = valString.split('|');
        var dataPartGroup = '';
        for (var i = 0; i < attrValues.length; ++i) {
            var currValue = '';
            currValue = attrValues[i] + ' ' + titles[i];
            dataPartGroup += currValue;
            if (i < attrValues.length - 1) {
                dataPartGroup += ' / ';
            }
        }
        $('div[data-part-group]').html(dataPartGroup);//updates the L4 template Key Specs
    }

}

function getCurrentSelections(){

    var $form = $('#part-group-form'),
        formValues = $form.find('[name] :selected, [name]:checked'),
        currSelections= '';

    for (var i = 0; i < formValues.length; i++) {
        currSelections += formValues.eq(i).val();
        if (i < formValues.length - 1) {
            currSelections += '|';
        }
    }
    return currSelections;
}
sl = sl || {};
sl.components = sl.components || {};


sl.components.parametricSearch = {
	"activeFilters": {},
	"activeStatuses": [],
	"init": function() {
		var parametricSearch = this,
			parametricSearchSelector = '.parametric-search',
			$parametricSearch = $(parametricSearchSelector),
			$parametricSearchTable = $parametricSearch.find('table');

		// Overlay datatables search function to work with what we need
		if ($parametricSearch.length > 0) {
			$.fn.dataTableExt.afnFiltering.push(function(settings, searchData, index, rowData, counter) {
				if ($('#' + settings.sTableId).is('.parametric-search-table')) {
					if (parametricSearch.isTableRowActive(rowData)) {
						return true;
					}
					return false;
				}
			})

			$parametricSearch.each(function() {
				var $thisParametricSearch = $(this),
					thisParametricSearchId = $thisParametricSearch.attr('id');

				parametricSearch.bindEvents($thisParametricSearch);
				parametricSearch.parseSelectors($thisParametricSearch);
				parametricSearch.initStatusFilters($thisParametricSearch, window.sl.parametricSearch[thisParametricSearchId]);

				// Check for fonts being loaded before drawing the table
				if (typeof document.fonts != 'undefined') {
					document.fonts.ready.then(function() {
						if (document.fonts.status == 'loaded') {
							parametricSearch.createDataTable($parametricSearch, thisParametricSearchId);
						} else {
							// This is for Safari 10.1 since the ready event fires before the fonts are loaded ???
							document.fonts.load('bold 1rem Open Sans').then(function() {
								setTimeout(function() {
									parametricSearch.createDataTable($parametricSearch, thisParametricSearchId);
								}, 10);
							})
						}
					})
				} else {
					parametricSearch.createDataTable($parametricSearch, thisParametricSearchId);
				}

			})
		}

	},
	"createDataTable": function($parametricSearch, thisParametricSearchId) {

		var parametricSearch = this,
			// Create my own column priority plugin basically
			// Must specify which table to get it from or it will be duped
			columnsArr = parametricSearch.getColumnPriorities($parametricSearch),
			$table = $parametricSearch.find('table');

		if ($table && $table.find('tbody').length > 0) {
			var numPerPage = typeof $table.attr('data-num-per-page') !== 'undefined' ? parseInt($table.attr('data-num-per-page')) : 10;
			// Init datatables
			parametricSearch.datatable = $table.DataTable({
				"lengthChange": false,
				"info": false,
				"fixedColumns": {
					"leftColumns": 1
				},
				"scrollX": true,
				"pageLength": numPerPage,
				"columns": columnsArr,
				"data": window.sl.parametricSearch[thisParametricSearchId],
				"processing": true,
				"deferRender": true,
				"drawCallback": function() {
					$(document).trigger('sl.reinit');
				}
			});
			// Update results text count
			parametricSearch.updateResultCount($parametricSearch);
			// Show once loaded
			$parametricSearch.removeClass('loading');
		}
	},
	"initStatusFilters": function($parametricSearch, rowData, isReinit) {
		var parametricSearch = this,
			$statusFilters = $parametricSearch.find('.status-filters'),
			$thisTable = $statusFilters.closest('.table-container');

		for (var i = 0; i < rowData.length; i++) {
			var thisRow = rowData[i];
			if (typeof thisRow.status !== 'undefined') {
				var thisStatus = thisRow.status;

				var $thisStatusEl = $statusFilters.find('.template').clone().addClass('clone').removeClass('template');

				$thisStatusEl
					.text(thisStatus.abbreviation)
					.attr('title', thisStatus.displayName)
					.attr('data-filter', thisStatus.propertyValue);


				if ($statusFilters.find('[data-filter="' + thisStatus.propertyValue + '"]').length == 0) {
					$statusFilters.append($thisStatusEl);
					parametricSearch.activeStatuses.push(thisStatus.propertyValue);
				}
			}
		}

		if ($statusFilters.children('a.clone').length > 0) {
			$statusFilters.removeClass('hide');
		}
	},
	"getColumnPriorities": function($parametricSearch) {
		var columnPriorities = [];

		var $columns = $parametricSearch.find('table th');
		$columns.each(function(index) {
			var $thisCol = $(this),
				priority = $thisCol.attr('data-priority'),
				attributeName = $thisCol.attr('data-attribute-name');

			// Ensure there are no dots in property names since they will break datatables parsing the JSON correctly
			if (attributeName && attributeName.indexOf('.') > -1) {
				attributeName = attributeName.replace('.', '');
			}

			var colObj = {
				"visible": true,
				"width": 'auto',
				"data": attributeName,
				"name": attributeName,
				"className": ""
			};

			// Settings specifically for the first column
			if (index == 0) {
				colObj.width = '160px';
				colObj.data = 'product-info';
				colObj.name = 'product-info';
				colObj.className = 'product-info';
			}

			if (typeof priority !== 'undefined') {
				// If a priority is set, add it to the column filtering dropdown
				var $checkboxRow = $parametricSearch.find('.checkbox-row.template').clone()
					.removeClass('template show-all')
					.addClass('clone')
					.attr('data-col-index', $thisCol.index());
				$checkboxRow.find('label').text($thisCol.text());
				$checkboxRow.find('input').attr('id', '');


				if (priority == 0) {
					colObj.visible = false;
				} else if (priority == 1) {
					$checkboxRow.find('input').prop('checked', true);
				}

				$parametricSearch.find('.dropdown-menu').append($checkboxRow);
			}
			columnPriorities.push(colObj);
		})

		return columnPriorities;
	},
	"isTableRowActive": function(rowData) {
		var parametricSearch = this,
			activeFilters = parametricSearch.activeFilters,
			filterVals = [],
			isActive = false;

		// This uses AND logic, so if any items are untrue the row will NOT show
		if (rowData && rowData.allAttributes) {

			// Check for device status
			if (typeof rowData.status !== 'undefined') {
				if (parametricSearch.activeStatuses.indexOf(rowData.status.propertyValue) > -1) {
					filterVals.push(true);
				} else {
					filterVals.push(false);
				}
			}

			// Check for filters
			if (Object.keys(activeFilters).length > 0) {

				for (var key in activeFilters) {
					var filter = activeFilters[key],
						rowVal = rowData.allAttributes[filter.filter];

					if (typeof filter.val !== 'undefined' && typeof rowVal !== 'undefined') {

						if (filter.val.match(/^(-?[0-9.]*)\-(-?[0-9.]*)$/g) !== null) {
							var regex = new RegExp('^(-?[0-9.]*)\-(-?[0-9.]*)$', 'g');
							var range = regex.exec(filter.val),
								min = range[1],
								max = range[2];

							rowVal = parseFloat(rowVal);

							if (min <= rowVal && rowVal <= max) {
								filterVals.push(true);
							} else {
								filterVals.push(false);
							}
						} else if (filter.val.indexOf('|') > -1) {
							var filterValArr = filter.val.split('|');
							if (filterValArr.indexOf(rowVal) > -1) {
								filterVals.push(true);
							} else {
								filterVals.push(false);
							}
						} else {
							if (rowVal == filter.val) {
								filterVals.push(true);
							} else {
								filterVals.push(false);
							}
						}
					} else {
						// If the row doesn't have the attribute it's considered false
						filterVals.push(false);
					}
				}
			}
		}

		if (filterVals.length == 0) {
			// No filters are applied, include everything
			isActive = true;
		} else if (filterVals.indexOf(false) == -1) {
			// Only display if all filtervals are true for this row
			isActive = true;
		}

		return isActive;
	},
	"parseSelectors": function($parametricSearch) {
		var parametricSearch = this,
			selectors = parametricSearch.getSelectors();

		// Deactivate all filters
		parametricSearch.deactivateFilter($parametricSearch);
		if (selectors.length > 0) {
			for (var i = 0; i < selectors.length; i++) {
				var thisSelector = selectors[i].split('='),
					selectorKey = thisSelector[0],
					selectorVal = thisSelector[1],
					selectorName = selectorKey.replace('sl-', 'sl:');

				// Replace any | chars with .
				selectorVal = selectorVal.replace(/\|/g, ".");
				selectorVal = decodeURIComponent(selectorVal);
				// Multi vals are stored as semicolor separated strings
				if (selectorVal.indexOf('|') > -1) {
					selectorVal = selectorVal.split('|');
				}

				parametricSearch.activateFilter($parametricSearch, selectorName, selectorVal, true);
			}
		}
	},
    "JSONToCSVConvertor": function (JSONData, ReportTitle, ShowLabel, colNames) {
        //If JSONData is not an object then JSON.parse will parse the JSON string in an Object
        let arrData = typeof JSONData != 'object' ? JSON.parse(JSONData) : JSONData;
        let CSV = '';

        //Set Report title in first row or line
        CSV += ReportTitle + '\r\n\n';

        //This condition will generate the Label/Header
        if (ShowLabel) {

            let rowJ = "";

            //This loop will extract the user friendly column names from the array
            for (let index in colNames) {

                rowJ += colNames[index] + ',';
            }
            rowJ = rowJ.slice(0, -1);

            //append Label row with line break
            CSV += rowJ + '\r\n';
        }

        for (let i = 0; i < arrData.length; i++) {
            let rowK = "";

            //2nd loop will extract each column and convert it in string comma-separated
            for (let index in arrData[i]) {
                if (index !== 'allAttributes' && index !== 'status') {
                    rowK += '"' + arrData[i][index] + '",';
                }
            }
            rowK.slice(0, rowK.length - 1);

            //add a line break after each row
            CSV += rowK + '\r\n';
        }

        if (CSV === '') {
            alert("Invalid data");
            return;
        }

        let fileName = "ParametricSearchResults_" + new Date($.now());

        //Initialize file format you want csv or xls
        let uri = 'data:text/csv;charset=utf-8,' + escape(CSV);

        //this trick will generate a temp <a /> tag
        let link = document.createElement("a");
        link.href = uri;

        //set the visibility hidden so it will not effect on your web-layout
        link.style = "visibility:hidden";
        link.download = fileName + ".csv";

        if (navigator.msSaveBlob) { // IE 10+ and Edge
            navigator.msSaveBlob(new Blob([CSV], {type: 'text/csv;charset=utf-8;'}), fileName + ".csv");
        } else {
            //this part will append the anchor tag and remove it after automatic click for rest of the browsers
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    },
	"bindEvents": function($parametricSearch) {
		var parametricSearch = this;

		var delay = (function() {
			var timer = 0;
			return function(callback, ms) {
				clearTimeout(timer);
				timer = setTimeout(callback, ms);
			};
		})();

		$(window).on('resize', function() {
			// This is required for non-scrolling tables
			if (parametricSearch.datatable) {
				parametricSearch.datatable.columns.adjust();
			}
		})

		$parametricSearch.find('.maximize').on('click', function() {
			$('body').toggleClass('parametric-search-maximized');
			parametricSearch.datatable.columns.adjust();
		})

		// Inputs bind change event
		$parametricSearch.find('input[type=text][data-filter]').on('input', function() {
			var $thisFilter = $(this);
			delay(function() {
				var $thisParametricSearch = $thisFilter.parents('.parametric-search');
				parametricSearch.doClick($thisFilter, $thisParametricSearch);
			}, 500)
		})

		$parametricSearch.find('input[type=checkbox][data-filter], select[data-filter]').on('change', function() {
			var $thisParametricSearch = $(this).parents('.parametric-search');
			parametricSearch.doClick($(this), $thisParametricSearch);
		})

		$parametricSearch.on('click', '.label.clone[data-filter], .clear-all', function(e) {
			e.preventDefault();
			var $thisParametricSearch = $(this).parents('.parametric-search');
			parametricSearch.doClick($(this), $thisParametricSearch, true);
		})

		// STATUS FILTERING
		$parametricSearch.on('click', '.status-filters a', function(e) {
			e.preventDefault();

			var thisStatus = $(this).attr('data-filter');
			if ($(this).hasClass('active')) {
				parametricSearch.activeStatuses.splice(parametricSearch.activeStatuses.indexOf(thisStatus), 1);
				$(this).removeClass('active');
			} else {
				parametricSearch.activeStatuses.push(thisStatus);
				$(this).addClass('active');
			}

			parametricSearch.datatable.draw();
			parametricSearch.updateResultCount($parametricSearch);
		})

        //EXPORT TO EXCEL
        $parametricSearch.on('click', '#excel', function () {
        	//Get the columns from the table
            const cols = parametricSearch.datatable.columns().header();
            let colNames = [];
            for (let i = 0; cols.length > i; i++) {
                colNames.push(cols[i].innerText.trim());
            }
            //Get the Rows from the table
            const getRows = parametricSearch.datatable.rows({
                search : 'applied'
            }).data();
            let moreRows = [];
            let loc = window.location.protocol + "//" + window.location.host;

            for (let j = 0; getRows.length > j; j++) {
                let tempRow = {};
            	for(let k in getRows[j]) {
            		tempRow[k] = getRows[j][k];
				}

                if (tempRow.hasOwnProperty('product-info') && $(tempRow['product-info']).find('a').first().length > 0) {
                    let partNumber = $(tempRow['product-info']).find('a').first().text();
                    tempRow['product-info'] = partNumber;
                }
                if (tempRow.hasOwnProperty('datasheet_0') && $(tempRow['datasheet_0']).length > 0) {
                    let dataSheet = $(tempRow['datasheet_0']).attr('href');
                    let datasheetSrc = (loc + dataSheet);
                    tempRow['datasheet_0'] = datasheetSrc;
                }
                if (tempRow.hasOwnProperty('devkit_1') && $(tempRow['devkit_1']).length > 0) {
                    let deviceKit = $(tempRow['devkit_1']).attr('href');
                    let devicekitSrc = (loc + deviceKit);
                    tempRow['devkit_1'] = devicekitSrc;
                }

                moreRows.push(tempRow);
            }
            parametricSearch.JSONToCSVConvertor(moreRows, "Parametric Search Results", true, colNames);
        });
		// COLUMN FILTERING
		$parametricSearch.on('click', '.btn-toolbar .checkbox-row', function() {
			var $checkboxRow = $(this),
				$otherCheckboxRows = $checkboxRow.siblings(),
				$checkbox = $checkboxRow.children('input'),
				colIndex = $checkboxRow.attr('data-col-index');

			// Toggle the checkbox
			if ($checkbox.is(':checked')) {
				$checkbox.prop('checked', false);
			} else {
				$checkbox.prop('checked', true);
			}

			// Proceed with filtering logic
			if ($checkboxRow.is('.show-all')) {
				// Show all columns

				if ($checkbox.is(':checked')) {
					// Set all columns to visible
					parametricSearch.datatable.columns().visible(true);

					// Record previous state of dropdown checkboxes in localstorage
					var previousColumns = [];
					$otherCheckboxRows.each(function() {
						previousColumns.push($(this).find('input').is(':checked'))
					})
					localStorage.setItem('psPreviousColumns', previousColumns);

					// Set all checkboxes to checked - this is the exact same loop, do we have to do this?
					$otherCheckboxRows.each(function() {
						$(this).find('input').prop('checked', true);
					})
				} else {
					// Revert the checkboxes to their previous state stored in localStorage
					var previousColumnsString = localStorage.getItem('psPreviousColumns');
					var previousColumnsArr = previousColumnsString.split(',');

					for (var i = 0; i < previousColumnsArr.length; i++) {
						var isChecked = previousColumnsArr[i] == 'true',
							$thisCheckboxRow = $otherCheckboxRows.eq(i),
							thisColIndex = $thisCheckboxRow.attr('data-col-index');
						if (typeof thisColIndex !== 'undefined') {
							$thisCheckboxRow.find('input').prop('checked', isChecked);
							parametricSearch.datatable.column(thisColIndex).visible(isChecked, false);
						}
					}
					// Don't redraw table until the loop is finished
					parametricSearch.datatable.columns.adjust().draw(false);
				}

			} else {
				// Individual column hide/show
				if (colIndex) {

					if ($checkbox.is(':checked')) {
						parametricSearch.datatable.column(colIndex).visible(true);
					} else {
						// If any columns are hidden, uncheck show all
						$otherCheckboxRows.filter('.show-all').find('input').prop('checked', false);

						parametricSearch.datatable.column(colIndex).visible(false);
					}
				}

			}
		})

		// On back button update the page
		$(window).on('popstate', function(event) {
			parametricSearch.parseSelectors($parametricSearch);
			parametricSearch.datatable.draw();
			parametricSearch.updateResultCount($parametricSearch);
		})
	},
	"doClick": function($thisEl, $parametricSearch, deactivate) {
		var parametricSearch = this,
			filterKey = $thisEl.attr('data-filter'),
			$filter = $parametricSearch.find('.parametric-search-filter [data-filter="' + filterKey + '"]'),
			filterVal = parametricSearch.getFilterValue($filter);

		var deactivateMe = false;

		// Must handle range inputs differently since there could be an active sibling input
		if ($thisEl.is('.range-filter-input')) {
			var $sibling = $thisEl.parents().siblings('label').children('input');
			if ($thisEl.val().length === 0) {
				deactivateMe = true;
			}
		} else if ($thisEl.is('.active')) {
			deactivateMe = true;
		}

		// If the current input's fieldset contains active filters, add or update the label
		if (deactivateMe || deactivate) {
			parametricSearch.deactivateFilter($parametricSearch, $thisEl);
		} else {
			parametricSearch.activateFilter($parametricSearch, filterKey, filterVal);
		}

		// Redraw table
		parametricSearch.datatable.draw();
		parametricSearch.updateResultCount($parametricSearch);
	},
	"activateFilter": function($parametricSearch, filterKey, filterVal, replaceState) {
		var parametricSearch = this,
			$filter = $parametricSearch.find('.parametric-search-filter [data-filter="' + filterKey + '"]'),
			$filterBar = $parametricSearch.find('.filter-bar'),
			$labelList = $filterBar.children('.label-list');

		// Add active class to fieldset
		$filter.parents('fieldset').addClass('active');

		// Populate values in inputs
		$filter.each(function(index) {
			var $filterInput = $(this);

			if ($filterInput.is('.range-filter-input')) {

				var regex = new RegExp('^(-?[0-9.]*)\-(-?[0-9.]*)$', 'g');
				var range = regex.exec(filterVal),
					min = range[1],
					max = range[2];

				if ($filterInput.is('.range-filter-input-min')) {
					$filterInput.val(min);
				} else if ($filterInput.is('.range-filter-input-max')) {
					$filterInput.val(max);
				}
				$filterInput.addClass('active');
			} else if ($filterInput.is('[type="checkbox"]')) {
				if (typeof filterVal == 'object' && filterVal.indexOf($filterInput.val()) > -1) {
					$filterInput.prop('checked', true).addClass('active');
				} else if (typeof filterVal == 'string' && filterVal.split('|').indexOf($filterInput.val()) > -1) {
					$filterInput.prop('checked', true).addClass('active');
				} else if (filterVal == 'true') {
					$filterInput.prop('checked', true).addClass('active');
				}
			} else if ($filterInput.is('select')) {
				if (typeof filterVal == 'string') {
					$filterInput.val(filterVal.split('|'));
				} else {
					$filterInput.val(filterVal);
				}
				$filterInput.addClass('active');
			}

		})

		// Create filter object
		var thisFilterObj = {
			'filter': filterKey,
			'displayVal': parametricSearch.getFilterDisplayValue($filter),
			'val': parametricSearch.getFilterValue($filter),
			'title': $filter.parents('fieldset').children('legend').text().trim(),
			'attribute': filterKey.replace('sl:', 'data-sl-'),
			'selector': filterKey.replace(':', '-') + '=' + parametricSearch.getFilterValue($filter)
		};

		// Add filter to filters object
		parametricSearch.activeFilters[filterKey] = thisFilterObj;

		// Add label to filter bar
		var $label = $labelList.children('.label.template').clone().removeClass('template').addClass('clone');
		parametricSearch.updateLabel($parametricSearch, $label, filterKey);

		// Remove preexisting label for this filter
		$labelList.children('.label[data-filter="' + filterKey + '"]').remove();

		$labelList.append($label);

		// Decide if filter bar should still be visible
		if ($labelList.children('.label.clone').length > 0) {
			$filterBar.show().css('opacity', 1);
			$parametricSearch.find('a.clear-all').show();
		} else {
			$filterBar.hide().css('opacity', 0);
			$parametricSearch.find('a.clear-all').hide();
		}

		// Update selectors
		parametricSearch.updateSelectors(thisFilterObj.selector, null, replaceState);
	},
	"deactivateFilter": function($parametricSearch, $filterInput) {
		var parametricSearch = this,
			$filterBar = $parametricSearch.find('.filter-bar'),
			$labelList = $filterBar.children('.label-list');

		if ($filterInput == null || ($filterInput !== null && $filterInput.attr('data-filter') == "")) {
			// Remove all filters
			var $filterSection = $parametricSearch.find('.parametric-search-filter');

			$filterSection.find('select, input[type="text"]').val(null).removeClass('active');
			$filterSection.find('input[type="checkbox"]').prop('checked', false).removeClass('active');

			// Remove active class from fieldset
			$filterSection.find('fieldset').removeClass('active');

			// Remove label from filter bar
			$labelList.children('.label.clone').remove();

			// Remove selectors
			parametricSearch.updateSelectors('', true);

			// Remove filter from filters object
			parametricSearch.activeFilters = {};
		} else {

			var filterKey = $filterInput.attr('data-filter'),
				$filter = $parametricSearch.find('.parametric-search-filter [data-filter="' + filterKey + '"]'),
				$thisFieldset = $filterInput.parents('fieldset');

			var isLabel = false;
			if ($filterInput.is('.label')) {
				$filterInput = $filter;
				isLabel = true;
			}

			// Remove active class
			$filterInput.removeClass('active');

			// Remove values in inputs
			if ($filterInput.is('[type="text"]')) {
				$filterInput.val('');
			} else if ($filterInput.is('[type="checkbox"]')) {
				// If it's a set of checkboxes
				$filterInput.prop('checked', false)
			} else if ($filterInput.is('select')) {

				// Clicking the label should remove all vals
				if (isLabel) {
					$filterInput.val(null);
				}

				if ($filterInput.val() !== null) {
					// Add input class back because there are additional active options remaining
					$filterInput.addClass('active');
				}
			}

			var $label = $labelList.children('.label.clone[data-filter="' + filterKey + '"]');
			if ($thisFieldset.find('.active').length == 0) {
				// Remove active class from fieldset
				$thisFieldset.removeClass('active');

				// Remove label from filter bar
				$label.remove();

				// Remove selectors
				parametricSearch.updateSelectors(parametricSearch.activeFilters[filterKey].selector, true);

				// Remove filter from filters object
				delete parametricSearch.activeFilters[filterKey];
			} else {
				// This happens if this input is disabled but it has currently active sister inputs

				// Update filters object
				parametricSearch.activeFilters[filterKey].val = parametricSearch.getFilterValue($filter);
				parametricSearch.activeFilters[filterKey].displayVal = parametricSearch.getFilterDisplayValue($filter);
				parametricSearch.activeFilters[filterKey].selector = filterKey.replace(':', '-') + '=' + parametricSearch.getFilterValue($filter);

				parametricSearch.updateLabel($parametricSearch, $label, filterKey);

				parametricSearch.updateSelectors(parametricSearch.activeFilters[filterKey].selector);
			}

		}

		// Decide if filter bar should still be visible
		// TODO: this is redundant, abstract me out
		if ($labelList.children('.label.clone').length > 0) {
			$filterBar.show().css('opacity', 1);
			$parametricSearch.find('a.clear-all').show();
		} else {
			$filterBar.hide().css('opacity', 0);
			$parametricSearch.find('a.clear-all').hide();
		}
	},
	"updateLabel": function($parametricSearch, $label, filterKey) {
		var parametricSearch = this,
			sep = parametricSearch.activeFilters[filterKey].displayVal.length > 0 ? ": " : "";
		$label
			.text(parametricSearch.activeFilters[filterKey].title + sep + parametricSearch.activeFilters[filterKey].displayVal)
			.attr('data-filter', filterKey)
			.attr('data-filter-val', parametricSearch.activeFilters[filterKey].val);
	},
	"getSelectors": function() {
		var selectors = [];

		var selectorString = location.pathname.split('/ps-filter/');

		if (typeof selectorString[1] !== 'undefined' && selectorString[1].length > 0) {
			var selectorMatches = selectorString[1].split('/');
			if (selectorMatches !== null) {
				selectorMatches.forEach(function(selector) {
					selector = selector.replace('/', '');
					selectors.push(selector);
				})
			}
		}
		return selectors;
	},
	"updateSelectors": function(selectorString, remove, replaceState) {
		var parametricSearch = this,
			urlPath = location.pathname,
			removeIt = remove && remove === true,
			selector = selectorString;

		var currentSelectors = parametricSearch.getSelectors();

		// If selector is blank, empty all selectors
		if (selector == '') {
			currentSelectors = [];
		} else if (selector.indexOf('=') > -1) {
			// If it's a = selector with a dynamic value like sort= or text= handle it
			var selectorKey = selector.split('=')[0],
				selectorValue = selector.split('=')[1];

			// Check of this selector key value is already present
			for (var i = 0; i < currentSelectors.length; i++) {
				var thisSelector = currentSelectors[i],
					thisSelectorKey = thisSelector.split('=')[0],
					thisSelectorValue = thisSelector.split('=')[1];

				if (thisSelectorKey == selectorKey) {
					if (selectorValue == '' || removeIt) {
						// If the selector value is blank, remove the selector
						currentSelectors.splice(i, 1);
					} else {
						currentSelectors[i] = selector;
					}
				}
			}

			// If it's not, add it
			if (!removeIt && currentSelectors.indexOf(selector) == -1 && selectorValue !== '') {
				currentSelectors.push(selector);
			}
		}

		// Always keep selectors in alphabetical order for some cacheability
		currentSelectors.sort();

		// Create selector string and add it to the URL
		var selectorString = currentSelectors.join('/');
		if (selectorString.length > 0) {
			selectorString = '/ps-filter/' + selectorString;
		}

		// TODO: add pagination deeplink?

		if (urlPath.indexOf('/ps-filter/') > -1) {
			urlPath = urlPath.replace(/(.+?)(\/ps-filter\/)(.*)$/g, '$1' + selectorString);
		} else {
			urlPath = urlPath + selectorString;
		}

		// Push new URL to browser
		if (location.pathname !== encodeURI(urlPath)) {

			if (replaceState) {
				window.history.replaceState({
					'url': urlPath
				}, null, urlPath + location.search);
			} else {
				window.history.pushState({
					'url': urlPath
				}, null, urlPath + location.search);
			}
		}
	},
	"updateResultCount": function($parametricSearch) {
		var parametricSearch = this,
			rows = parametricSearch.datatable.rows({
				search: 'applied' // 'none',    'applied', 'removed'
			});
		$parametricSearch.find('.result-count').text(rows[0].length);
	},
	// "getActiveFilters": function($parametricSearch) {
	//     var parametricSearch = this,
	//         activeFilters = {};
	//     $parametricSearch.find('[data-filter].active').each(function() {
	//         var $thisFilter = $(this),
	//             filterKey = $thisFilter.attr('data-filter');
	//         activeFilters[filterKey] = {
	//             'filter': filterKey,
	//             'val': parametricSearch.getFilterValue($thisFilter),
	//             'displayVal': parametricSearch.getFilterDisplayValue($thisFilter),
	//             'title': $thisFilter.parents('fieldset').children('legend').text(),
	//             'attribute': filterKey.replace('sl:', 'data-sl-')
	//         };
	//     })
	//     return activeFilters;
	// },
	"containsActiveFilters": function($thisFieldset) {
		var containsActiveFilters = false;
		$thisFieldset.find('input, select').each(function() {
			if (($(this).is('[type=checkbox]') && $(this).is(':checked')) || (!$(this).is('[type=checkbox]') && $(this).val() && $(this).val().length > 0)) {
				containsActiveFilters = true;
			}
		})
		return containsActiveFilters;
	},
	"getFilterValue": function($thisFilter) {
		var parametricSearch = this;
		if ($thisFilter) {
			if ($thisFilter.is('.label')) {
				return $thisFilter.attr('data-filter-val');
			} else if ($thisFilter.is('.switch-input')) {
				var bool = $thisFilter.val() === 'on';
				return bool.toString();
				// }else if( $thisFilter.is('.range-filter-input') ){
				//     if( $thisFilter.is('.range-filter-input-min') ){
				//         return $thisFilter.val() +'-';
				//     }else{
				//         return '-'+$thisFilter.val();
				//     }
			} else {
				return parametricSearch.getFilterDisplayValue($thisFilter);
			}
		}
	},
	"getFilterDisplayValue": function($thisFilter) {
		var parametricSearch = this,
			displayVal = "";

		$thisFilter.each(function() {
			var $filterInput = $(this),
				$thisFieldset = $filterInput.parents('fieldset'),
				thisFilterVal = $filterInput.val();

			if ($thisFieldset.is('.filter-boolean')) {
				// Single checkbox
				if ($thisFilter.is(':checked')) {
					//displayVal = 'true';
				}
			} else if ($thisFieldset.is('.filter-number')) {
				// Min-max number

				var defaultValue = 0,
					defaultMin = $thisFieldset.find('[data-min-value]').attr('data-min-value'),
					defaultMax = $thisFieldset.find('[data-max-value]').attr('data-max-value'),
					otherVal = $thisFilter.parents().siblings('label').children('input').val(),
					isMin = $filterInput.is('.range-filter-input-min'),
					isMax = $filterInput.is('.range-filter-input-max');

				if (thisFilterVal.length > 0 || otherVal.length > 0) {
					if (isMin) {
						thisFilterVal = thisFilterVal.length > 0 ? thisFilterVal : defaultMin;
						otherVal = otherVal.length > 0 ? otherVal : defaultMax;
						displayVal = thisFilterVal + '-' + otherVal;
					} else if (isMax) {
						thisFilterVal = thisFilterVal.length > 0 ? thisFilterVal : defaultMax;
						otherVal = otherVal.length > 0 ? otherVal : defaultMin;
						displayVal = otherVal + '-' + thisFilterVal;
					}
				}

			} else if ($thisFieldset.is('.filter-string')) {
				// Multi-select string
				if (thisFilterVal !== null && typeof thisFilterVal === 'object') {
					// This is a multi-select dropdown
					displayVal = thisFilterVal.join('|');
				} else {
					// Checkbox set
					var arr = [];
					$thisFilter.filter(':checked').each(function() {
						var $thisCheckbox = $(this);
						arr.push($thisCheckbox.val());
					})
					displayVal = arr.join('|');
				}
			}

		})

		return displayVal;
	}
}
sl = sl || {};
sl.components = sl.components || {};


sl.components.downloadModal = {
    "init": function() {

        if (document.location.search.indexOf('download=') > -1) {

            // Parse parameters
            var paramObj = {};
            document.location.search.replace('?', '').split('&').forEach(function(el, i) {
                var thisItem = el.trim().split('=');
                paramObj[thisItem[0]] = thisItem[1];
            })

            // Get download URL
            var downloadInfo = decodeURIComponent(paramObj.download).replace(/\+/g, ' ').split('|'),
                downloadUrl = downloadInfo[0],
                downloadName = downloadInfo[1];

            var $modal = $('.download-modal').clone().addClass('clone small');
            $modal.find('.download-name').text(downloadName);

            // init Foundation for this modal
            var modal = new Foundation.Reveal($modal);
            $modal.foundation('open');


            $modal.on('closed.zf.reveal', function() {
                delete paramObj.download;
                var paramString = $.param(paramObj).length > 0 ? '?' + $.param(paramObj) : '';
                window.history.pushState(null, null, document.location.pathname + paramString + document.location.hash);
            });

            // Wait a little after the modal opens to download the file
            setTimeout(function() {
                // This is what actually downloads the file on page load
                $('body').append('<iframe class="hide" src="' + downloadUrl + '" frameborder="0"></iframe>');
            }, 600);
        }

    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.oscillatorNoise = {
    "init": function () {
        var oscillatorNoise = this,
            oscillatorNoiseSelector = '.oscillator-noise',
            $oscillatorNoise = $(oscillatorNoiseSelector);

        if ($oscillatorNoise.length > 0) {

            oscillatorNoise.setEvents($oscillatorNoise);

            $oscChangeImage = this;
            this.initalizedData = undefined;
            this.oscInitalizedData = undefined;
            var csvPathsData = this.oscInitalizedData;
            var imgPathsData = this.oscInitalizedData;
            var oscillatorData = this.oscInitalizedData;
            var defaultPart = "Si545",
                defaultOutputFormat = "lvpecl",
                defaultFrequency = "250000000";

            $.get({
                url: '/sl/oscillator-noise-document-lookup',
                success: function (data1) {
                    this.oscInitalizedData = data1;
                    $('#part, #driver, #frequency').each(function () {
                        csvPathsData = data1.csvPaths;
                        this.oscInitalizedData = data1;
                        imgPathsData = data1.imgPaths;
                        oscillatorData = data1;
                    });

                    $.get({
                        url: '/sl/oscillator-noise-lookup',
                        success: function (data) {
                            $('#part').each(function () {
                                this.initalizedData = data;
                                Object.keys(data.XO).forEach(function (partKey) {
                                    $('#part').append('<option value="' + partKey + '">' + partKey + '</option>');
                                    let partSelected = $('#part').val();
                                    Object.keys(data.XO[partKey]).forEach(function (driverKey) {
                                        if (partSelected === partKey) {
                                            $('#driver').append('<option value="' + driverKey + '">' + driverKey.toUpperCase() + '</option>');
                                            let driverSelected = $('#driver').val();
                                            if (driverSelected === driverKey) {
                                                let frequencyArr = data.XO[partKey][driverKey];
                                                for (var i = 0; i < frequencyArr.length; i++) {
                                                    $('#frequency').append('<option value="' + frequencyArr[i] + '">' + (frequencyArr[i] / 1000000) + '</option>');
                                                }
                                            }
                                        }
                                    });
                                });
                            });

                            $('#driver').each(function () {
                                this.initalizedData = data;
                            });

                            if ($("#part option[value=" + defaultPart + "]").length > 0) {
                                $('#part').val(defaultPart).trigger('change');
                            }
                            if ($("#driver option[value=" + defaultOutputFormat + "]").length > 0) {
                                $('#driver').val(defaultOutputFormat).trigger('change');
                            }
                            if ($("#frequency option[value=" + defaultFrequency+ "]").length > 0) {
                                $('#frequency').val(defaultFrequency).trigger('change');
                            }

                            oscillatorNoise.changeImage(oscillatorData);
                        }
                    })
                }
            });
        }
    },

    "setEvents": function ($oscillatorNoise) {

        $oscillatorNoise.find('#part').on('change', function (e) {
            e.preventDefault();
            let partSelected = $('#part').val();
            let localData = this.initalizedData;
            $('#driver').empty();
            Object.keys(localData.XO[partSelected]).forEach(function (driverKey) {
                $('#driver').append('<option value="' + driverKey + '">' + driverKey.toUpperCase() + '</option>');
                let driverSelected = $('#driver').val();
                if (driverSelected === driverKey) {
                    $('#frequency').empty();
                    let frequencyArr = localData.XO[partSelected][driverKey];
                    for (var i = 0; i < frequencyArr.length; i++) {
                        $('#frequency').append('<option value="' + frequencyArr[i] + '">' + (frequencyArr[i] / 1000000) + '</option>');
                    }
                }
            });
        });

        $oscillatorNoise.find('#driver').on('change', function (e) {
            e.preventDefault();
            let localData = this.initalizedData;
            let partSelected = $('#part').val();
            let driverSelected = $('#driver').val();
            Object.keys(localData.XO[partSelected]).forEach(function (driverKey) {
                if (driverSelected === driverKey) {
                    $('#frequency').empty();
                    let frequencyArr = localData.XO[partSelected][driverKey];
                    for (var i = 0; i < frequencyArr.length; i++) {
                        $('#frequency').append('<option value="' + frequencyArr[i] + '">' + (frequencyArr[i] / 1000000) + '</option>');
                    }
                }
            });
        });

        $oscillatorNoise.find('#frequency, #driver, #part').on('change', function (e) {
            e.preventDefault();
            let localData = this.oscInitalizedData;
            $oscChangeImage.changeImage(localData);
        })

    },

    "changeImage": function (oscInitalizedData) {
        let partSelected = $('#part').val().toLowerCase(),
            driverSelected = $('#driver').val(),
            frequencySelected = $('#frequency').val(),
            driverType;
        if (driverSelected.includes("in")) {
            driverType = "CMOS-IN";
        } else if (driverSelected.includes("out")) {
            driverType = "CMOS-OUT";
        } else {
            driverType = driverSelected.toUpperCase();
        }

        let imgList = oscInitalizedData.imgPaths;

        let imgUrlpartial = "/content/dam/siliconlabs/images/tools/timing/oscillator-phase-noise/xo/" + partSelected
            + "/" + driverSelected.toLowerCase() + "/" + frequencySelected + "/" + frequencySelected + "__"
            + driverType.toLowerCase();
        let imgUrl = undefined;

        for(var i = 0; i < imgList.length; i += 1) {
            if(imgList[i].indexOf(imgUrlpartial) > -1) {
                imgUrl = imgList[i];
                break;
            }
        }
        if (typeof imgUrl !== 'undefined') {
            $('#img-src').attr("src", imgUrl);
        } else{
            $('#img-src').attr("src", "");
        }

        let downloadUrlpartial = "/content/dam/siliconlabs/documents/referenced/tools/timing/oscillator-phase-noise/xo/" + partSelected
            + "/" + driverSelected.toLowerCase() + "/" + frequencySelected + "/" + frequencySelected + "__"
            + driverType.toLowerCase();
        let downloadUrl = undefined;
        let csvList = oscInitalizedData.csvPaths;

        $('#download').show();
        for(var i = 0; i < csvList.length; i += 1) {
            if(csvList[i].indexOf(downloadUrlpartial) > -1) {
                downloadUrl = csvList[i];
                break;
            }
        }
        if (typeof downloadUrl !== 'undefined') {
            $('#download-link').attr("href", downloadUrl);
        } else{
            $('#download').hide();
        }

    }

};
sl = sl || {};
sl.components = sl.components || {};

sl.components.helppopup = {
    "init": function() {
        var helppopup = this;


        $(document).on('click', 'a.help-icon', function() {
            var $thisLink = $(this),
                thisType = $thisLink.attr('data-attr'),
                thisImagePath = $thisLink.attr('data-attr-image'),
                thisMoreLink = $thisLink.attr('data-attr-more');

            // If the href is defined do default browser behavior
            if (typeof $thisLink.attr('href') == 'undefined' || $thisLink.attr('href') == "") {
                $thisLink.addClass('active');
            }

            helppopup.util.createPopup();
            helppopup.util.addTheDataToPopup(thisType, thisImagePath, thisMoreLink)

        });

        $('.slbs2-table-popup').on('click', 'a.popup-close', function() {
            $(".slbs2-table-popup").hide();
            $(".help-icon.active").removeClass('active');
        });

        $(document).mouseup(function(e) {
            var container = $(".slbs2-table-popup");
            if (container) {
                if (!container.is(e.target) // if the target of the click isn't the container...
                    &&
                    container.has(e.target).length === 0) // ... nor a descendant of the container
                {
                    container.hide();
                    $(".help-icon.active").removeClass('active');
                }
            }
        });
        $(window).on('resize', function() {
            var theParentContainer = $('.slbs2-table-popup');
            if (theParentContainer.css('display') != 'none') {
                tablePopup.util.positionPopup(theParentContainer);
            }
        });
    },
    "util": {
        "createPopup": function() {
            var theParentContainer = $('.slbs2-table-popup');
            var theDataContainer = $('.table-popup-container');
            theDataContainer.empty();

            if (!theParentContainer.is(':hidden')) {
                theParentContainer.hide();
            } else {
                sl.components.helppopup.util.positionPopup(theParentContainer);
                theParentContainer.show();
                $('.loading-div').addClass('icon-loading');
            }
        },
        "positionPopup": function($popup) {
            var positionElement = $('.help-icon.active').parent();
            if (positionElement.length) {
                var popupOffset = positionElement.offset();
                var left = popupOffset.left;


                if (popupOffset.left + $popup.outerWidth() > $('.row').width() && Foundation.MediaQuery.atLeast('medium')) {
                    left = popupOffset.left - $popup.outerWidth() + positionElement.outerWidth();
                } else if (Foundation.MediaQuery.current == "small") {
                    left = '15px';
                }

                $popup.css({
                    'top': popupOffset.top + positionElement.outerHeight(),
                    'left': left,
                    'z-index': 2000
                });
            }

        },
        "addTheDataToPopup": function(thisType, thisImagePath, thisMoreLink) {
            var theParentContainer = $('.table-popup-container');
            var tableStructure = "";
            if (thisType == "partnumber"){
                tableStructure = "<div class=\"oscillator-help-title\">A Part Number is 10 - 16 digits.</div>";
                tableStructure += "<div class=\"oscillator-help-text\">The number is defined by specifications like output format and frequency. Enter a full or partial number to see matches.</div>";
                tableStructure += "<div class=\"oscillator-help-image\"><img src=\"" + thisImagePath + "\" /></div>";
                tableStructure += "<hr>";
                tableStructure += "<div class=\"oscillator-help-more\"><a href=\"" + thisMoreLink + "\">More about Part Codes</a></div>";
            } else {
                tableStructure = "<div class=\"oscillator-help-title\">A Mark Code is a 6 digit number.</div>";
                tableStructure += "<div class=\"oscillator-help-text\">thecode is the first row of digits on Si500 and Si51X devices. Enter all 6 digits in the search field.</div>";
                tableStructure += "<div class=\"oscillator-help-image\"><img src=\"" + thisImagePath + "\" /></div>";
                tableStructure += "<hr>";
                tableStructure += "<div class=\"oscillator-help-more\"><a href=\"" + thisMoreLink + "\">More about Mark Numbers</a></div>";
            }

            theParentContainer.append(tableStructure);

            $('.loading-div').removeClass('icon-loading');
        }
    }
}

sl = sl || {};
sl.components = sl.components || {};

sl.components.oscillatorsearch = {
    "init": function() {
        var oscillatorsearch = this;

        $(document).on('click', '.oscillator-search-link', function() {
            var $thisLink = $(this),
                thisSearchLink = $thisLink.attr('data-attr-search-link');

            // If the href is defined do default browser behavior
            if (typeof $thisLink.attr('href') == 'undefined' || $thisLink.attr('href') == "") {
                //Find Search Term
                var searchTerm = $thisLink.parent().parent().find('input').val();
                //Redirect to search page
                var url = thisSearchLink + "?term=" + encodeURIComponent(searchTerm);
                window.open(url, "_self");
            }

        });
        $(document).ready(function(){
            $('.oscillator-search-input').keypress(function(e){
                if (e.which == 13){
                    $('.oscillator-search-link').click();
                }
            });
        });
    }
}

sl = sl || {};
sl.components = sl.components || {};

sl.components.marquee = {
    "init": function() {

        var mainDiv = $('.marquee');
        var subDiv = $('.slbs2-marquee');
        if (subDiv.hasClass('full-bleed')) {
            mainDiv.addClass('full-bleed');
        }
    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.loginContainer = {
"init": function() {
    var loginContainer = this,
        $loginContainer = $('.login-container');

    if ($loginContainer.length > 0) {

        var marketoListId = $loginContainer.attr('data-marketo-list-id'),
            marketoData = {
                "listId": null,
                "cookie": null,
                "source": "Website",
                "detail": "Organic"
            };

        // Get source and detail URL parameters if applicable to add to marketoData
        var paramMap = sl.utils.getURLParams();

        if (typeof paramMap !== 'undefined' && typeof paramMap['source'] !== 'undefined' && typeof paramMap['detail'] !== 'undefined') {
            marketoData.source = paramMap['source']; //URL param source=
            marketoData.detail = paramMap['detail']; //URL param detail=
            sl.utils.createCookie('_mkto_source', 'source=' + paramMap['source'] + '|detail=' + paramMap['detail'], 90);
        }

        if (sl.components.links.isLoggedIn()) {

            var cookies = sl.utils.getCookies();
            if (cookies && cookies["_mkto_trk"]) {
                marketoData.cookie = cookies["_mkto_trk"];
            }

            // Get profile cookie and parse it to create data object to pass to marketo
            var cookieObj = sl.utils.getCookies(),
                profileCookie = null;

            if ((window.sl.currentRunMode === "" || window.sl.currentRunMode === "dev") && typeof cookieObj['silabsprofiledev'] !== 'undefined') {
                profileCookie = cookieObj['silabsprofiledev'];
            } else if (window.sl.currentRunMode === "qa" && typeof cookieObj['silabsprofileqa'] !== 'undefined') {
                profileCookie = cookieObj['silabsprofileqa'];
            } else if (window.sl.currentRunMode === "stage" && typeof cookieObj['silabsprofileqa'] !== 'undefined') {
                profileCookie = cookieObj['silabsprofileqa'];
            } else if (window.sl.currentRunMode === "prod" && typeof cookieObj['silabsprofile'] !== 'undefined') {
                profileCookie = cookieObj['silabsprofile'];
            }

            if (profileCookie && typeof marketoListId !== 'undefined') {

                // Get profile cookie and create profile obj to pass to Marketo
                var profile = sl.utils.parseCookie(profileCookie);

                // Set Marketo list id and user email
                marketoData.listId = marketoListId;
                marketoData.email = profile['Email'];

                // Create personalized Marketo cookie on login using data from _mkto_source
                if (typeof cookieObj['_mkto_source'] != 'undefined') {
                    sl.utils.createCookie('_mkto_source_' + marketoData.email, decodeURIComponent(cookieObj['_mkto_source']), 90);
                    // Delete _mkto_source
                    sl.utils.deleteCookie('_mkto_source');
                }

                // Get cookies again
                cookieObj = sl.utils.getCookies();

                // Get personalized marketo cookie
                var personalizedMarketoSourceCookie = cookieObj['_mkto_source_' + marketoData.email];

                if (typeof personalizedMarketoSourceCookie != 'undefined') {
                    var parsedCookie = sl.utils.parseCookie(personalizedMarketoSourceCookie);
                    marketoData.source = parsedCookie['source'];
                    marketoData.detail = parsedCookie['detail'];
                }

                //console.log('Posting to Marketo', marketoData);

                $.post({
                    url: "/sl/analytics/list-lead",
                    data: marketoData,
                    success: function(data) {
                        //console.log("Marketo lead tracking successful")
                    }
                });
            }
        }
    }
}
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.l4tabscommunitysupport = {
    "init": function () {
        var tabscommunitysupport = this,
            $tabscommunitysupport = $('.community-support-tab-container');

        if ($tabscommunitysupport.length > 0) {
            var forumURLElement = $tabscommunitysupport.find(".forum-url");
            if (forumURLElement){
                //Find forum url
                var forumURL = $("#forumLink").val();
                //set element href of element to found forum url
                forumURLElement.attr('href',forumURL);
            }
        }
    }
}
/*******************************************************************************
 * Copyright 2018 Adobe Systems Incorporated
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/

/**
 * Element.matches()
 * https://developer.mozilla.org/enUS/docs/Web/API/Element/matches#Polyfill
 */
if (!Element.prototype.matches) {
    Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
}

// eslint-disable-next-line valid-jsdoc
/**
 * Element.closest()
 * https://developer.mozilla.org/enUS/docs/Web/API/Element/closest#Polyfill
 */
if (!Element.prototype.closest) {
    Element.prototype.closest = function(s) {
        "use strict";
        var el = this;
        if (!document.documentElement.contains(el)) {
            return null;
        }
        do {
            if (el.matches(s)) {
                return el;
            }
            el = el.parentElement || el.parentNode;
        } while (el !== null && el.nodeType === 1);
        return null;
    };
}

/*******************************************************************************
 * Copyright 2018 Adobe Systems Incorporated
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function() {
    "use strict";

    var NS = "cmp";
    var IS = "tabs";

    var keyCodes = {
        END: 35,
        HOME: 36,
        ARROW_LEFT: 37,
        ARROW_UP: 38,
        ARROW_RIGHT: 39,
        ARROW_DOWN: 40
    };

    var selectors = {
        self: "[data-" +  NS + '-is="' + IS + '"]',
        active: {
            tab: "cmp-tabs__tab--active",
            tabpanel: "cmp-tabs__tabpanel--active"
        }
    };
    $(window).resize(function() {
        var $tabList = $('.cmp-tabs__tab');
        var curActiveTabIndex = $tabList.index( $(".cmp-tabs__tab--active"));
        var newActiveTabIndex = curActiveTabIndex;
        if (Foundation.MediaQuery.current == "small" && curActiveTabIndex < 5 && curActiveTabIndex >= 0){
            newActiveTabIndex = curActiveTabIndex + 5;
        } else if (Foundation.MediaQuery.current != "small" && curActiveTabIndex >=5){
            newActiveTabIndex = curActiveTabIndex - 5;
        } else if (Foundation.MediaQuery.current != "small" && curActiveTabIndex < 0) {
            newActiveTabIndex = 0;
        }
        //remove active from cur tab index, add active to new tab index
        if (curActiveTabIndex != newActiveTabIndex){
            if (curActiveTabIndex >= 0) {
                $($tabList[curActiveTabIndex]).removeClass('cmp-tabs__tab--active');
            } else{
                var $tabPanelList = $('.cmp-tabs__tabpanel');
                $($tabPanelList[newActiveTabIndex]).addClass('cmp-tabs__tabpanel--active');
            }
            $($tabList[newActiveTabIndex]).addClass('cmp-tabs__tab--active');
        }
        var temp = 0;
    });

    /**
     * Tabs Configuration
     *
     * @typedef {Object} TabsConfig Represents a Tabs configuration
     * @property {HTMLElement} element The HTMLElement representing the Tabs
     * @property {Object} options The Tabs options
     */

    /**
     * Tabs
     *
     * @class Tabs
     * @classdesc An interactive Tabs component for navigating a list of tabs
     * @param {TabsConfig} config The Tabs configuration
     */
    function Tabs(config) {
        var that = this;

        if (config && config.element) {
            init(config);
        }

        /**
         * Initializes the Tabs
         *
         * @private
         * @param {TabsConfig} config The Tabs configuration
         */
        function init(config) {
            // prevents multiple initialization
            config.element.removeAttribute("data-" + NS + "-is");

            //START custom code to switch tabs based on URI anchor
            var anchorName = "";
            if (config.element.baseURI.lastIndexOf('#')> 0){
                anchorName = config.element.baseURI.substring(config.element.baseURI.lastIndexOf('#')+1).toUpperCase();
            }
            //END custom code to switch tabs based on URI anchor

            cacheElements(config.element);
            //that._active = getActiveIndex(that._elements["tab"]);
            that._active = getActiveIndexByAnchor(anchorName);

            if (that._elements.tabpanel) {
                //refreshActive();
                refreshActiveL4();
                bindEvents();
            }

            if (window.Granite && window.Granite.author && window.Granite.author.MessageChannel) {
                /*
                 * Editor message handling:
                 * - subscribe to "cmp.panelcontainer" message requests sent by the editor frame
                 * - check that the message data panel container type is correct and that the id (path) matches this specific Tabs component
                 * - if so, route the "navigate" operation to enact a navigation of the Tabs based on index data
                 */
                new window.Granite.author.MessageChannel("cqauthor", window).subscribeRequestMessage("cmp.panelcontainer", function(message) {
                    if (message.data && message.data.type === "cmp-tabs" && message.data.id === that._elements.self.dataset["cmpPanelcontainerId"]) {
                        if (message.data.operation === "navigate") {
                            navigate(message.data.index);
                        }
                    }
                });
            }
        }

        /**
         * Returns the index of the active tab, if no tab is active returns 0
         *
         * @param {Array} tabs Tab elements
         * @returns {Number} Index of the active tab, 0 if none is active
         */
        function getActiveIndex(tabs) {
            if (tabs) {
                for (var i = 0; i < tabs.length; i++) {
                    if (tabs[i].classList.contains(selectors.active.tab)) {
                        return i;
                    }
                }
            }
            return 0;
        }
        function getActiveIndexByAnchor(anchorName) {
            var tabIndex = 0;
            switch(anchorName){
                case 'SPECS':
                    tabIndex = 0;
                    break;
                case 'TECHDOCS' :
                    tabIndex = 1;
                    break;
                case 'SOFTWARE' :
                case 'TOOLS' :
                case 'SOFTWAREANDTOOLS' :
                    tabIndex = 2;
                    break;
                case 'QUALITYANDPACKAGING':
                    tabIndex = 3;
                    break;
                case 'COMMUNITY':
                case 'SUPPORT':
                case 'COMMUNITYANDSUPPORT' :
                    tabIndex = 4;
                    break;
            }
            return tabIndex;
        }

        /**
         * Caches the Tabs elements as defined via the {@code data-tabs-hook="ELEMENT_NAME"} markup API
         *
         * @private
         * @param {HTMLElement} wrapper The Tabs wrapper element
         */
        function cacheElements(wrapper) {
            that._elements = {};
            that._elements.self = wrapper;
            var hooks = that._elements.self.querySelectorAll("[data-" + NS + "-hook-" + IS + "]");

            for (var i = 0; i < hooks.length; i++) {
                var hook = hooks[i];
                if (hook.closest("." + NS + "-" + IS) === that._elements.self) { // only process own tab elements
                    var capitalized = IS;
                    capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
                    var key = hook.dataset[NS + "Hook" + capitalized];
                    if (that._elements[key]) {
                        if (!Array.isArray(that._elements[key])) {
                            var tmp = that._elements[key];
                            that._elements[key] = [tmp];
                        }
                        that._elements[key].push(hook);
                    } else {
                        that._elements[key] = hook;
                    }
                }
            }
        }

        /**
         * Binds Tabs event handling
         *
         * @private
         */
        function bindEvents() {
            var tabs = that._elements["tab"];
            if (tabs) {
                for (var i = 0; i < tabs.length; i++) {
                    (function(index) {
                        tabs[i].addEventListener("click", function(event) {
                            navigateAndFocusTab(index);
                        });
                        tabs[i].addEventListener("keydown", function(event) {
                            onKeyDown(event);
                        });
                    })(i);
                }
            }
        }

        /**
         * Handles tab keydown events
         *
         * @private
         * @param {Object} event The keydown event
         */
        function onKeyDown(event) {
            var index = that._active;
            var lastIndex = that._elements["tab"].length - 1;

            switch (event.keyCode) {
                case keyCodes.ARROW_LEFT:
                case keyCodes.ARROW_UP:
                    event.preventDefault();
                    if (index > 0) {
                        navigateAndFocusTab(index - 1);
                    }
                    break;
                case keyCodes.ARROW_RIGHT:
                case keyCodes.ARROW_DOWN:
                    event.preventDefault();
                    if (index < lastIndex) {
                        navigateAndFocusTab(index + 1);
                    }
                    break;
                case keyCodes.HOME:
                    event.preventDefault();
                    navigateAndFocusTab(0);
                    break;
                case keyCodes.END:
                    event.preventDefault();
                    navigateAndFocusTab(lastIndex);
                    break;
                default:
                    return;
            }
        }

        /**
         * Refreshes the tab markup based on the current {@code Tabs#_active} index
         *
         * @private
         */
        function refreshActive() {
            var tabpanels = that._elements["tabpanel"];
            var tabs = that._elements["tab"];

            if (tabpanels) {
                if (Array.isArray(tabpanels)) {
                    for (var i = 0; i < tabpanels.length; i++) {
                        if (i === parseInt(that._active)) {
                            tabpanels[i].classList.add(selectors.active.tabpanel);
                            tabpanels[i].removeAttribute("aria-hidden");
                            tabs[i].classList.add(selectors.active.tab);
                            tabs[i].setAttribute("aria-selected", true);
                            tabs[i].setAttribute("tabindex", "0");
                        } else {
                            tabpanels[i].classList.remove(selectors.active.tabpanel);
                            tabpanels[i].setAttribute("aria-hidden", true);
                            tabs[i].classList.remove(selectors.active.tab);
                            tabs[i].setAttribute("aria-selected", false);
                            tabs[i].setAttribute("tabindex", "-1");
                        }
                    }
                } else {
                    // only one tab
                    tabpanels.classList.add(selectors.active.tabpanel);
                    tabs.classList.add(selectors.active.tab);
                }
            }
        }
        function refreshActiveL4() {
            var tabpanels = that._elements["tabpanel"];
            var tabs = that._elements["tab"];
            var mobileDisplay = $(".mobile-only").css("display");
            var activeIdx = parseInt(that._active);

            if (tabpanels) {
                $('.mobile-anchor').remove();
                var $mobileStuck = $('.mobile-stuck');
                if ($mobileStuck.length > 0){
                    $.each($mobileStuck, function() {
                        $(this).removeClass('mobile-stuck');
                    });
                }
                if (mobileDisplay == "block" && activeIdx < tabpanels.length){
                    for (var i = 0; i < tabpanels.length; i++) {
                        tabpanels[i].classList.remove(selectors.active.tabpanel);
                        tabpanels[i].setAttribute("aria-hidden", true);
                        tabs[i].classList.remove(selectors.active.tab);
                        tabs[i].setAttribute("aria-selected", false);
                        tabs[i].setAttribute("tabindex", "-1");
                        tabs[i+tabpanels.length].classList.remove(selectors.active.tab);
                        tabs[i+tabpanels.length].setAttribute("aria-selected", false);
                        tabs[i+tabpanels.length].setAttribute("tabindex", "-1");
                    }
                    activeIdx = activeIdx + tabpanels.length;
                }
                if (mobileDisplay == "block" && tabs[activeIdx].classList.contains("cmp-tabs__tab--active")){
                    var tabPanelIdx = activeIdx - 5;
                    tabpanels[tabPanelIdx].classList.remove(selectors.active.tabpanel);
                    tabpanels[tabPanelIdx].setAttribute("aria-hidden", true);
                    tabs[activeIdx].classList.remove(selectors.active.tab);
                    tabs[activeIdx].setAttribute("aria-selected", false);
                    tabs[activeIdx].setAttribute("tabindex", "-1");
                } else if (Array.isArray(tabpanels)) {
                    for (var i = 0; i < tabpanels.length; i++) {
                        if (i === activeIdx || ((activeIdx >= tabpanels.length)&&(i === activeIdx-tabpanels.length))) {
                            tabpanels[i].classList.add(selectors.active.tabpanel);
                            tabpanels[i].removeAttribute("aria-hidden");
                            tabs[activeIdx].classList.add(selectors.active.tab);
                            tabs[activeIdx].setAttribute("aria-selected", true);
                            tabs[activeIdx].setAttribute("tabindex", "0");
                        } else {
                            var inactiveIdx = i+tabpanels.length;
                            tabpanels[i].classList.remove(selectors.active.tabpanel);
                            tabpanels[i].setAttribute("aria-hidden", true);
                            tabs[i].classList.remove(selectors.active.tab);
                            tabs[i].setAttribute("aria-selected", false);
                            tabs[i].setAttribute("tabindex", "-1");
                            tabs[inactiveIdx].classList.remove(selectors.active.tab);
                            tabs[inactiveIdx].setAttribute("aria-selected", false);
                            tabs[inactiveIdx].setAttribute("tabindex", "-1");
                        }
                    }
                } else {
                    // only one tab
                    tabpanels.classList.add(selectors.active.tabpanel);
                    tabs.classList.add(selectors.active.tab);
                }

                if ($('.tabs-component').length > 0) {
                    sl.components.l4tabsstickyheader.toStickOrNotToStick($('.tabs-component'));
                }
            }
        }
        /**
         * Focuses the element and prevents scrolling the element into view
         *
         * @param {HTMLElement} element Element to focus
         */
        function focusWithoutScroll(element) {
            var x = window.scrollX || window.pageXOffset;
            var y = window.scrollY || window.pageYOffset;
            element.focus();
            window.scrollTo(x, y);
        }

        /**
         * Navigates to the tab at the provided index
         *
         * @private
         * @param {Number} index The index of the tab to navigate to
         */
        function navigate(index) {
            that._active = index;
            //refreshActive();
            refreshActiveL4();
        }

        /**
         * Navigates to the item at the provided index and ensures the active tab gains focus
         *
         * @private
         * @param {Number} index The index of the item to navigate to
         */
        function navigateAndFocusTab(index) {
            navigate(index);
            focusWithoutScroll(that._elements["tab"][index]);
        }
    }

    /**
     * Reads options data from the Tabs wrapper element, defined via {@code data-cmp-*} data attributes
     *
     * @private
     * @param {HTMLElement} element The Tabs element to read options data from
     * @returns {Object} The options read from the component data attributes
     */
    function readData(element) {
        var data = element.dataset;
        var options = [];
        var capitalized = IS;
        capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
        var reserved = ["is", "hook" + capitalized];

        for (var key in data) {
            if (data.hasOwnProperty(key)) {
                var value = data[key];

                if (key.indexOf(NS) === 0) {
                    key = key.slice(NS.length);
                    key = key.charAt(0).toLowerCase() + key.substring(1);

                    if (reserved.indexOf(key) === -1) {
                        options[key] = value;
                    }
                }
            }
        }

        return options;
    }

    /**
     * Document ready handler and DOM mutation observers. Initializes Tabs components as necessary.
     *
     * @private
     */
    function onDocumentReady() {
        var elements = document.querySelectorAll(selectors.self);
        for (var i = 0; i < elements.length; i++) {
            new Tabs({ element: elements[i], options: readData(elements[i]) });
        }

        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        var body = document.querySelector("body");
        var observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                // needed for IE
                var nodesArray = [].slice.call(mutation.addedNodes);
                if (nodesArray.length > 0) {
                    nodesArray.forEach(function(addedNode) {
                        if (addedNode.querySelectorAll) {
                            var elementsArray = [].slice.call(addedNode.querySelectorAll(selectors.self));
                            elementsArray.forEach(function(element) {
                                new Tabs({ element: element, options: readData(element) });
                            });
                        }
                    });
                }
            });
        });

        observer.observe(body, {
            subtree: true,
            childList: true,
            characterData: true
        });
    }

    if (document.readyState !== "loading") {
        onDocumentReady();
    } else {
        document.addEventListener("DOMContentLoaded", onDocumentReady);
    }

}());
sl = sl || {};
sl.components = sl.components || {};

sl.components.l4tabsstickyheader = {
    "init": function () {
        var tabsstickyheader = this,
            $tabsstickyheader = $('.l4-sticky-header'),
            $productbuttons = $('.productbuttonsandlinks'),
            $tabscomponent = $('.tabs-component'),
            buyHtml = "",
            pageTitle = $('.page-title').html();

        if (pageTitle != undefined && pageTitle.length > 0){
            var $stickyheaderTitle = $tabsstickyheader.find('.l4-sticky-header-partnumber span');
            $stickyheaderTitle.html(pageTitle);
        }
        if ($productbuttons.length > 0) {
            buyHtml = $productbuttons.find('.button:first').parent().html();
        }
        if (buyHtml != undefined && buyHtml.length > 0) {
            var $buyDiv = $tabsstickyheader.find('.l4-sticky-header-buy');
            $buyDiv.html(buyHtml);
        }
        $(window).on('scroll', function() {

            $.each($tabscomponent, function() {
                tabsstickyheader.toStickOrNotToStick($(this));
            });

        });
    },
    'toStickOrNotToStick': function($el) {

        var timeToStick = function() {

            if (Foundation.MediaQuery.atLeast('large')) {
                return $(window).scrollTop() > ($el.offset().top - 150);
            } else {
                var scrollTopGreater = false;
                if ($("body").hasClass("zero_top_margin_blankpage")) {
                    scrollTopGreater = $(window).scrollTop() > $el.offset().top;
                } else {
                    scrollTopGreater = $(window).scrollTop() > $el.offset().top - $('.slbs2-header .nav-container').outerHeight();
                }

                return scrollTopGreater;
            }
        };
        var mobileTabTimeToStick = function($activeTab) {
            var scrollTopGreater = false;
            if (Foundation.MediaQuery.current == "small") {
                var $tabAnchor = $('.cmp-tabs__anchor.mobile-only.mobile-anchor');
                if ($tabAnchor.length > 0){
                    scrollTopGreater = $(window).scrollTop() > $tabAnchor.offset().top - $('.slbs2-header .nav-container').outerHeight();
                } else {
                    scrollTopGreater = $(window).scrollTop() > $activeTab.offset().top - $('.slbs2-header .nav-container').outerHeight();
                }
                if (scrollTopGreater){
                    if ($('.cmp-tabs__tablist.mobile-only').index( $(".mobile-stuck")) > -1){
                        var $nextTab = $('.cmp-tabs__tablist.mobile-only')[($('.cmp-tabs__tablist.mobile-only').index($(".mobile-stuck")) + 1)];
                        var nextTabOffset = $nextTab.offsetTop;
                        scrollTopGreater = $(window).scrollTop() < nextTabOffset - 150;
                    } else {
                        // check for next tab from active tab.
                        if ($('.cmp-tabs__tablist.mobile-only > li').index( $(".cmp-tabs__tab--active")) > -1){
                            if (($('.cmp-tabs__tablist.mobile-only > li').index( $(".cmp-tabs__tab--active")) + 1) < ($('.cmp-tabs__tablist.mobile-only > li').length)) {
                                var $nextTab = $('.cmp-tabs__tablist.mobile-only')[($('.cmp-tabs__tablist.mobile-only > li').index($(".cmp-tabs__tab--active")) + 1)];
                                if ($nextTab.length > 0) {
                                    var nextTabOffset = $nextTab.offsetTop;
                                    scrollTopGreater = $(window).scrollTop() < nextTabOffset - 150;
                                }
                            }
                        }
                    }
                }
            }
            return scrollTopGreater;
        };
        var $tabsstickyheader = $('.l4-sticky-header'),
            $tabsstickyheaderclone = $('.l4-sticky-header.clone'),
            $tabslist = $('.cmp-tabs__tablist.hide-for-mobile'),
            $activePanel = $('.cmp-tabs__tabpanel--active'),
            $activeTab = $('.cmp-tabs__tab--active');
        if (timeToStick()) {
            //stick
            if ( $tabsstickyheaderclone.length === 0) {
                var $clone;
                $clone =  $tabsstickyheader.clone().addClass('clone stuck');
                $tabsstickyheader.after($clone);
                $tabslist.addClass('stuck');
                $activePanel.addClass('stuck');
            }
        } else {
            //unstick
            $tabsstickyheader.next('.clone').remove();
            $tabslist.removeClass('stuck');
            $activePanel.removeClass('stuck');
        }
        if ($activeTab.length > 0 && mobileTabTimeToStick($activeTab)){
            var $activeTabParent = $activeTab.parent(),
                $tabAnchorExists = $('.cmp-tabs__anchor.mobile-only.mobile-anchor');
            var $tabAnchor;
            if ( $tabAnchorExists.length === 0) {
                $tabAnchor = ("<a name='tab-anchor' class='cmp-tabs__anchor mobile-only mobile-anchor'></a>");
                $activeTabParent.after($tabAnchor);
                $activeTabParent.addClass('mobile-stuck');
                $activePanel.addClass('mobile-stuck');
            }
        } else {
            var $activeTabParent = $activeTab.parent();
            if ($activeTabParent.length === 0) {
                $activeTabParent = $('.mobile-stuck');
            }
            if ($activeTabParent.hasClass('mobile-stuck')) {
                $activeTabParent.removeClass('mobile-stuck');
            }
            if ($activePanel.hasClass('mobile-stuck')) {
                $activePanel.removeClass('mobile-stuck');
            }

            $('.mobile-anchor').remove();
        }
    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.l4eolnrnd = {
    "init": function() {
        // var ribbonbox = this,
        //     $ribbonbox = $('.slbs2-ribbon-box');
        //
        //      // If no column control, then add padding
        //      $('.slbs2-ribbon-content-area').each(function() {
        //          if ($(this).find(".parsys-column").length==0){
        //              $(this).css('padding-left','15px');
        //         }
        //      });
        //     ribbonbox.checkRibbonMoreLess($ribbonbox);
    }
};
document.ready;


sl = sl || {};
sl.components = sl.components || {};

sl.components.l4dataoverrides = {
    "init": function () {
        var l4dataoverrides = this,
            $l4dataoverrides = $('.l4-data-overrides');
        var $description = $l4dataoverrides.find('.l4-description');
        var descHeight = $description.height();
        if(descHeight > 240) {
            $description.addClass('collapsed');
            $('.readmore').show();
        }

        $(window).on('resize', function() {
            var $description = $l4dataoverrides.find('.l4-description');
            if ($description.hasClass('collapsed')) {
                $description.removeClass('collapsed');
            }
            if ($description.hasClass('expanded')){
                $description.removeClass('expanded');
            }
            var descHeight = $description.height();
            if(descHeight > 240) {
                $description.addClass('collapsed');
                $('.readmore').show();
            } else {
                $('.readmore').hide();
            }
        });

        $('.l4-data-overrides .readmore a').on('click', function(e) {
            e.preventDefault();
            var descHeight = $description.height();
            if($description.hasClass('collapsed')){
                $description.removeClass('collapsed');
                $description.addClass('expanded');
                $(this).text('Read Less');
            } else if ($description.hasClass('expanded')){
                $description.removeClass('expanded');
                $description.addClass('collapsed');
                $(this).text('Read More');
            }
        });
    }
}

sl = sl || {};
sl.components = sl.components || {};


sl.components.communityKbFeed = {
    "init": function () {
        var communityFeedInstance = this;
        var _this = this;
        var $communityKbFeed = $('#kbComponent');

        if ($communityKbFeed.length) {
            var kbElement = $('#kbItems');
            var kbAllElement = $('#kbAll');

            // call out for community entries via selectors
            var communityFeedLink = $("#feedLink").val();
            var boardTarget = $("#kbLink").val();
            var viewallLink = $("#viewallLink").val();
            var viewallLinkText = $("#viewallLinkText").val();

            var itemDivs = "";
            $.ajax({
                type: "GET",
                url: communityFeedLink + "?callback=?",
                async: true,
                success: (function (data) {
                    $.each(data, function (i, item) {
                        var kbContent = "";

                        kbContent = kbContent + "<div class=\"contentDiv\">";

                        var kbLink = "<h1 class=\"kb-topic-title\"><a id=\"kbTopic_" + i + "\" name=\"kbTopic_" + i + "\" href=\"" + item.aemUrl + "\" target=_blank class=\"kb-topic-title-link \">" + item.title + "</a></h1>";
                        kbContent = kbContent + kbLink;
                        kbContent = kbContent + "<div class=\"kbAuthorDateTime\"><span class=\"kbAuthor\">" + item.author + "</span> | " + item.latestActivityDate + " | " + item.latestActivityTime + "</div>";
                        kbContent = kbContent + "<div class=\"kbItems postText\">" + item.msgText + "</div>";
                        kbContent = kbContent + "</div>";
                        kbElement.append(kbContent);

                    });
                    if (data.length > 0) {
                        var kbAllLink = "<a class=\"viewKbAllLink\" id=\"kbAllLink\" name=\"kbAllLink\" href=\"" + viewallLink + ".html\" >" + viewallLinkText + "</a>";
                        kbAllElement.append(kbAllLink);
                    } else {
                        $("#kbComponent").css({"display": "none"});
                    }
                }),
                error: (function (jqXHR, textStatus, errorThrown) {
                    console.log('getJSON request failed! ' + textStatus);
                })

            });
        }
    }
};
$(document).ready(function(){
    sl.components.communityKbFeed.init();
});
sl = sl || {};
sl.components = sl.components || {};

sl.components.kitcarousel = {
    "init": function() {
        var kitcarousel = this,
            $kitcarousel = $('.kit-carousel');

        $kitcarousel.each(function() {
            var $thiskitcarousel = $(this);
            var $kitItems = $thiskitcarousel.find(".kit-item");
            var kitsSize = $kitItems.length;
            var $kitnext = $thiskitcarousel.find(".paginate .next"),
                $kitprev = $thiskitcarousel.find(".paginate .prev"),
                $kittitlepaginate = $thiskitcarousel.find(".kit-carousel-title-section .paginate"),
                $kitslickdot = $thiskitcarousel.find(".kit-carousel-slickdot-container"),
                $slickdot = $thiskitcarousel.find(".slickdot");


            if(kitsSize==0){
                $($thiskitcarousel).hide();
            }else if(kitsSize==1){
                $kittitlepaginate.hide();
                $kitslickdot.hide();
            }

            // Paginate > click event
            $kitnext.on('click', function () {
                kitcarousel.kitScroll($thiskitcarousel,kitsSize,"next",0);
            });

            // Paginate < click event
            $kitprev.on('click', function () {
                kitcarousel.kitScroll($thiskitcarousel,kitsSize,"prev",0);
            });

            // Paginate by clicking one of the dots
            $slickdot.on('click', function () {
                var slickdotitem = parseInt($(this).attr("item-index"));
                kitcarousel.kitScroll($thiskitcarousel,kitsSize,"exact",slickdotitem);
            });
        })
    },
    'kitScroll': function($el,kitsSize, scrollDirection,idx) {
        var currentActive = $el.find('.kit-item.active');
        var currentActiveDot = $el.find('.slickdot.active');
        if (scrollDirection == "exact"){
            newItemIndex = idx;
        } else {
            var currentItemIndex = $(currentActive).attr("item-index");
            var newItemIndex = parseInt(currentItemIndex);
            if (scrollDirection == "next") {
                newItemIndex = parseInt(currentItemIndex) + 1;
            } else {
                newItemIndex = parseInt(currentItemIndex) - 1;
            }
            if (newItemIndex >= kitsSize) {
                newItemIndex = 0;
            } else if (newItemIndex < 0) {
                newItemIndex = kitsSize - 1;
            }
        }
        $(currentActive).removeClass("active").addClass("inactive");
        $(currentActiveDot).removeClass("active").addClass("inactive");
        var newElement = $el.find(".kit-item[item-index='" + newItemIndex + "']");
        $(newElement).removeClass("inactive").addClass("active");
        var newDotElement = $el.find(".slickdot[item-index='" + newItemIndex + "']");
        $(newDotElement).removeClass("inactive").addClass("active");
    }
}

sl = sl || {};
sl.components = sl.components || {};

sl.components.isolatorPowerCalculator = {
	"init": function() {
		var powerCalculator = this,
			$powerCalculator = $('.slbs2-isolator-power-calculator');

		if ($powerCalculator.length) {
			powerCalculator.setup($powerCalculator);
			powerCalculator.setEvents($powerCalculator);
		}
	},
	"setup": function($powerCalculator) {
		var powerCalculator = this;
		var maxChannels = $powerCalculator.find('#ddlTotalChannels option').length;

		// reset/remove existing channel items
		$powerCalculator.find('.channel-item-wrapper').empty();

		// construct and place the channel items for step 3
		for (var i = 0; i < maxChannels; i++) {
			var $channelItem = powerCalculator.getChannelMarkup($powerCalculator, i + 1);
			$powerCalculator.find('.forward-channel-wrapper .channel-item-wrapper').append($channelItem);
		}

		powerCalculator.resetChannels($powerCalculator);
	},
	// construct channel item markup from the hidden dummy template
	"getChannelMarkup": function($powerCalculator, channelNum) {
		var $channelItem = $powerCalculator.find('.channel-item.hidden').clone().removeClass('hidden');
		var $label = $channelItem.find('label');
		$label.text($label.text() + ' ' + channelNum);
		$label.prop('for', 'txtDataRate' + channelNum);
		$channelItem.find('input').each(function() {
			var nameRaw = $(this).prop('name');
			$(this).prop('name', nameRaw + channelNum);
			$(this).prop('id', nameRaw + channelNum);
			$(this).prop('required', true);
		});
		$channelItem.addClass('channel-item-' + channelNum);
		return $channelItem;
	},
	// takes values in step 1 and updates the rest of the form to reflect the selections
	"resetChannels": function($powerCalculator) {
		var powerCalculator = this;
		var totalChannels = $powerCalculator.find('#ddlTotalChannels').val();
		var reverseChannels = $powerCalculator.find('#ddlReverseChannels').val();
		var forwardChannels = totalChannels - reverseChannels;
		var channelNum = 0;

		// hide invalid reverse channel options
		$powerCalculator.find('#ddlReverseChannels option').hide();
		for (var i = 0; i <= totalChannels/2; i++) {
			$powerCalculator.find('#ddlReverseChannels option[value="' + i + '"]').show();
		}

		// show or hide the "forward" and "reverse" channel labels in step 3
		if (reverseChannels > 0) {
			$powerCalculator.find('.forward-channel-wrapper .power-calculator-channel-text, .reverse-channel-wrapper .power-calculator-channel-text').show();
		} else {
			$powerCalculator.find('.forward-channel-wrapper .power-calculator-channel-text, .reverse-channel-wrapper .power-calculator-channel-text').hide();
		}

		// clear channel items in step 3
		$powerCalculator.find('.channel-item-wrapper .channel-item').hide();

		// populate forward channel items in step 3
		for (var i = 0; i < forwardChannels; i++) {
			var $channelItem = $powerCalculator.find('.channel-item-' + ++channelNum);
			$powerCalculator.find('.forward-channel-wrapper .channel-item-wrapper').append($channelItem.css('display', 'flex'));
		}

		// populate reverse channel items in step 3
		for (var i = 0; i < reverseChannels; i++) {
			var $channelItem = $powerCalculator.find('.channel-item-' + ++channelNum);
			$powerCalculator.find('.reverse-channel-wrapper .channel-item-wrapper').append($channelItem.css('display', 'flex'));
		}

		// stick remaining channel items at the end of the reverse channel wrapper, but keep them hidden
		while ($powerCalculator.find('.channel-item-' + ++channelNum).length) {
			var $channelItem = $powerCalculator.find('.channel-item-' + channelNum);
			$powerCalculator.find('.reverse-channel-wrapper .channel-item-wrapper').append($channelItem);
		}
	},
	"setEvents": function($powerCalculator) {
		var powerCalculator = this;

		// when a specific part is selected, populate the rest of the form using its data
		$powerCalculator.find('#ddlPartNumber').change(function() {
			var partNumber = $powerCalculator.find('#ddlPartNumber').val();
			if (sl && sl.powerCalculator && sl.powerCalculator.devices) {
				var device;
				for (var i = 0; i < sl.powerCalculator.devices.length; i++) {
					var candidateDevice = sl.powerCalculator.devices[i];
					if (candidateDevice.partnumber === partNumber) {
						device = candidateDevice;
						break;
					}
				}
				if (device) {
					var totalChannels = 0;
					if (!isNaN(device['sl:forwardchannels'])) {
                        totalChannels += Number(device['sl:forwardchannels']);
                    } else {
                        device['sl:forwardchannels'] = 0;
					}
                    if (!isNaN(device['sl:reversechannels'])) {
                        totalChannels += Number(device['sl:reversechannels']);
                    } else {
                        device['sl:reversechannels'] = 0;
                    }
					$powerCalculator.find('#ddlTotalChannels').val(totalChannels);
					$powerCalculator.find('#ddlReverseChannels').val(device['sl:reversechannels']);
					$powerCalculator.find('#ddlOutputDefault').val(device['sl:defaultoutputstate']);
					$powerCalculator.find('#ddlIsolationRating').val(device['sl:isolationrating']);
					$powerCalculator.find('#txtVdd1').val(device['sl:inputsupplymax']);
					$powerCalculator.find('#txtVdd2').val(device['sl:outputsupplymax']);
				}
			}
			powerCalculator.resetChannels($powerCalculator);
			powerCalculator.updateImage($powerCalculator);
		});

		$powerCalculator.find('#ddlTotalChannels').change(function() {
			$powerCalculator.find('#ddlReverseChannels').val(0);
			powerCalculator.resetChannels($powerCalculator);
		});

		$powerCalculator.find('#ddlReverseChannels').change(function() {
			powerCalculator.resetChannels($powerCalculator);
		});

		$powerCalculator.find('.step-one-options select').change(function() {
			$powerCalculator.find('#ddlPartNumber').val('');
			powerCalculator.updateImage($powerCalculator);
		});

        $('input[type="text"]').on('blur' , function() {
            if ($(this).hasClass("invalid-input")){
                $(this).removeClass("invalid-input");
            }
            if (powerCalculator.hasErrors($powerCalculator,powerCalculator.constants,$(this).attr("id"))) {
                $powerCalculator.find('.power-calculator-results').hide();
            }
        });

		// reset all fields to defaults and hide results
		$powerCalculator.find('.power-calculator-reset').click(function() {
            var $inputs = $powerCalculator.find('input');
			$inputs.each(function() {
                if ($(this).hasClass("invalid-input")){
                    $(this).removeClass("invalid-input");
                }
            });
			$powerCalculator.find('#ddlPartNumber').val('');
			$powerCalculator.find('#ddlTotalChannels').val(4);
			$powerCalculator.find('#ddlReverseChannels').val(0);
			$powerCalculator.find('#ddlOutputDefault').val('Low');
			$powerCalculator.find('#ddlIsolationRating').val(5);
			$powerCalculator.find('#txtVdd1').val(3.3);
			$powerCalculator.find('#txtVdd2').val(3.3);
			$powerCalculator.find('.power-calculator-results').hide();

			powerCalculator.setup($powerCalculator);
			powerCalculator.updateImage($powerCalculator);
		});

		// calculate and display results if there are no form errors
		$powerCalculator.find('.power-calculator-get-results').click(function() {
            var $inputs = $powerCalculator.find('input');
            $inputs.each(function() {
                if ($(this).hasClass("invalid-input")){
                    $(this).removeClass("invalid-input");
                }
            });
			if (powerCalculator.hasErrors($powerCalculator,powerCalculator.constants,"")) {
				$powerCalculator.find('.power-calculator-results').hide();
			} else {
				$powerCalculator.find('.result-item-wrapper').hide().css('background-color', '');
				powerCalculator.performCalculations($powerCalculator, powerCalculator.constants.si86Family);
				$powerCalculator.find('.power-calculator-results').show();

				// alternate result rows' background colors
				$powerCalculator.find('.result-item-wrapper:visible:odd').css('background-color', '#fff');
			}
		});
	},
	// updates the isolator image based on the values in step 1
	"updateImage": function($powerCalculator) {
		var isoClass = 'iso' + $powerCalculator.find('#ddlTotalChannels').val() + $powerCalculator.find('#ddlReverseChannels').val();
		if ($powerCalculator.find('#ddlOutputDefault').val() === 'High' && isoClass === 'iso21') {
			isoClass += 'High';
		}
		$powerCalculator.find('.isolator-img').removeClass(function(index, className) {
			return (className.match(/(^|\s)iso\d\d\S*/g) || []).join(' ');
		}).addClass(isoClass);
	},
	// determines whether the calculator has any invalid values in its inputs
	"hasErrors": function($powerCalculator,constants,theInput) {
        var $inputs = $powerCalculator.find('input');
		if (theInput) {
			$inputs = $powerCalculator.find("#" + theInput);
        }

		var hasErrors = false;
		$inputs.each(function() {
			if ($(this).is(':invalid')) {
				hasErrors = true;
				$(this).addClass("invalid-input");
				$(this).focus();
				return false;
			}
			if (constants.inputs.hasOwnProperty($(this).attr("id"))){
				if (isNaN($(this).val())){
                    hasErrors = true;
                    $(this).addClass("invalid-input");
                    $(this).focus();
                    return false;
				}
				var theID = $(this).attr("id"),
					theVal = $(this).val();
				var inputRange = constants.inputs[theID];
				var inputMin = constants.inputRanges[inputRange].min,
                    inputMax = constants.inputRanges[inputRange].max,
                    inputDecimals = constants.inputRanges[inputRange].decimals;
				if (theVal < inputMin || theVal > inputMax){
                    hasErrors = true;
                    $(this).addClass("invalid-input");
                    $(this).focus();
                    return false;
				}
			}
		});
		return hasErrors;
	},
	// calculate result values and place them in the result rows
	"performCalculations": function($powerCalculator, family) {
		var partNumber = $('#ddlPartNumber').val();
		var totalChannels = $('#ddlTotalChannels').val();
		var reverseChannels = $('#ddlReverseChannels').val();
		var forwardChannels = totalChannels - reverseChannels;
		var outputDefault = $('#ddlOutputDefault').val();
		var isolationRating = $('#ddlIsolationRating').val();
		var vdd1 = $('#txtVdd1').val();
		var vdd2 = $('#txtVdd2').val();
		var maxDataRate = 0;
		var isolators = [];

		// clear existing calculations
		$powerCalculator.find('.result-cell').text('');

		// populate maxDataRate and isolators list
		if (partNumber === '') { // no part number specified, so use form fields to find maxDataRate and populate isolators
			$powerCalculator.find('.data-input:visible').each(function() {
				var dataRate = $(this).val() / 1000;
				if (dataRate > maxDataRate) {
					maxDataRate = dataRate;
				}
			});

			if (sl && sl.powerCalculator && sl.powerCalculator.devices) {
				for (var i = 0; i < sl.powerCalculator.devices.length; i++) {
					var device = sl.powerCalculator.devices[i];
					if (device['sl:forwardchannels'] == forwardChannels &&
						device['sl:reversechannels'] == reverseChannels &&
						device['sl:defaultoutputstate'] === outputDefault &&
						device['sl:isolationrating'] == isolationRating &&
						device['sl:maxdatarate'] >= maxDataRate &&
						device['sl:inputsupplymin'] <= vdd1 &&
						device['sl:inputsupplymax'] >= vdd1 &&
						device['sl:outputsupplymin'] <= vdd2 &&
						device['sl:outputsupplymax'] >= vdd2) {
							isolators.push(device);
						}
				}
			}
		} else { // part number specified, so pull it from the data
			if (sl && sl.powerCalculator && sl.powerCalculator.devices) {
				var device;
				for (var i = 0; i < sl.powerCalculator.devices.length; i++) {
					var candidateDevice = sl.powerCalculator.devices[i];
					if (candidateDevice.partnumber === partNumber) {
						device = candidateDevice;
						break;
					}
				}
				if (device) {
					maxDataRate = device['sl:maxdatarate'];
					isolators.push(device);
				}
			}
		}

		var totalCurrentVdd1 = function() {
			var ichtx = 0;
			var ichrx = 0;
			var ibias = 0.001 * (family.ibiasBase + family.ibiasTxBase + forwardChannels * family.ibiasTxCh + reverseChannels * family.ibiasRxCh);
			var i = 0;

			for (; i < forwardChannels; i++) { // process forward channels
				var dataRate = $powerCalculator.find('.data-input:eq(' + i + ')').val();
				var dutyCycle = $powerCalculator.find('.duty-input:eq(' + i + ')').val();
				ichtx += family.itx * dutyCycle * 0.01 + family.txCap * vdd1 * dataRate * 1000 / 2 + family.ichCon;
			}
			for (; i < totalChannels; i++) { // process reverse channels
				var dataRate = $powerCalculator.find('.data-input:eq(' + i + ')').val();
				var loadCapacitance = $powerCalculator.find('.load-input:eq(' + i + ')').val();
				ichrx += family.irx + (loadCapacitance * 0.000000000001 + family.rxCap) * vdd1 * dataRate * 1000 / 2;
			}

			return (ichtx + ichrx + ibias) * 1000;
		}

		var totalCurrentVdd2 = function() {
			var ichtx = 0;
			var ichrx = 0;
			var ibias;
			if (reverseChannels > 0) {
				ibias = 0.001 * (family.ibiasBase + family.ibiasTxBase + reverseChannels * family.ibiasTxCh + forwardChannels * family.ibiasRxCh);
			} else {
				ibias = 0.001 * (family.ibiasBase + forwardChannels * family.ibiasRxCh);
			}
			var i = 0;

			for (; i < forwardChannels; i++) { // process forward channels
				var dataRate = $powerCalculator.find('.data-input:eq(' + i + ')').val();
				var loadCapacitance = $powerCalculator.find('.load-input:eq(' + i + ')').val();
				ichrx += family.irx + (loadCapacitance * 0.000000000001 + family.rxCap) * vdd2 * dataRate * 1000 / 2;
			}
			for (; i < totalChannels; i++) { // process reverse channels
				var dataRate = $powerCalculator.find('.data-input:eq(' + i + ')').val();
				var dutyCycle = $powerCalculator.find('.duty-input:eq(' + i + ')').val();
				ichtx += family.itx * dutyCycle * 0.01 + family.txCap * vdd2 * dataRate * 1000 / 2 + family.ichCon;
			}

			return (ichtx + ichrx + ibias) * 1000;
		}

		// iterate over valid isolators, apply calculations, and show its result row
		for (var i = 0; i < isolators.length; i++) {
			var isolator = isolators[i];
			var $isolatorRow = $powerCalculator.find('.result-item-wrapper.' + isolator.partnumber);

			var iddPrimary = totalCurrentVdd1();
			var iddSecondary = totalCurrentVdd2();

			$isolatorRow.find('.vdd-primary').text(vdd1 + ' V');
			$isolatorRow.find('.vdd-secondary').text(vdd2 + ' V');
			$isolatorRow.find('.idd-primary').text(parseFloat(iddPrimary).toFixed(2) + ' mA');
			$isolatorRow.find('.idd-secondary').text(parseFloat(iddSecondary).toFixed(2) + ' mA');
			$isolatorRow.find('.pdd-primary').text(parseFloat(iddPrimary * vdd1).toFixed(2) + ' mW');
			$isolatorRow.find('.pdd-secondary').text(parseFloat(iddSecondary * vdd2).toFixed(2) + ' mW');

			$isolatorRow.show();
		}
	},
	"constants": {
		'si86Family': {
			'ibiasBase': 0.2,
			'ibiasTxBase': 0.2,
			'ibiasTxCh': 0.25,
			'ibiasRxCh': 0.1,
			'ichCon': 0.00005,
			'txCap': 0.0000000000001,
			'rxCap': 0.0000000000001,
			'itx': 0.001,
			'irx': 0.00055
		},
		'inputs' : {
			'txtVdd1' : 'txtVdd',
			'txtVdd2' : 'txtVdd',
            'txtDataRate1' : 'txtDataRate',
            'txtDataRate2' : 'txtDataRate',
            'txtDataRate3' : 'txtDataRate',
            'txtDataRate4' : 'txtDataRate',
            'txtDataRate5' : 'txtDataRate',
            'txtDataRate6' : 'txtDataRate',
            'txtDutyCycle1' : 'txtDutyCycle',
            'txtDutyCycle2' : 'txtDutyCycle',
            'txtDutyCycle3' : 'txtDutyCycle',
            'txtDutyCycle4' : 'txtDutyCycle',
            'txtDutyCycle5' : 'txtDutyCycle',
            'txtDutyCycle6' : 'txtDutyCycle',
			'txtLoadCapacitance1' : 'txtLoadCapacitance',
            'txtLoadCapacitance2' : 'txtLoadCapacitance',
            'txtLoadCapacitance3' : 'txtLoadCapacitance',
            'txtLoadCapacitance4' : 'txtLoadCapacitance',
            'txtLoadCapacitance5' : 'txtLoadCapacitance',
            'txtLoadCapacitance6' : 'txtLoadCapacitance',
		},
		'inputRanges' : {
            'txtVdd' : {
                'min' : 2.5,
                'max' : 5.5,
                'decimals' : 1
            },
            'txtDataRate' : {
                'min' : 0,
                'max' : 150000,
                'decimals' : 1
            },
            'txtDutyCycle' : {
                'min' : 0,
                'max' : 100,
                'decimals' : 1
            },
            'txtLoadCapacitance' : {
                'min' : 0.01,
                'max' : 1000,
                'decimals' : 2
            }
		}
	}
}

sl = sl || {};
sl.components = sl.components || {};

sl.components.tablePopup = {
"init": function() {
    var tablePopup = this;


    $(document).on('click', 'a.order-link', function() {
        var $thisLink = $(this),
            thisDevice = $thisLink.attr('data-device'),
            thisOPN = $thisLink.attr('data-opn'),
            thisGroup = $thisLink.attr('data-group'),
            thisDevicePath = $thisLink.attr('data-device-path'),
            styleType = $thisLink.attr('style-type'),
            orderType = "";

        if (typeof thisGroup == 'undefined') {
            thisGroup = "";
        }

        // If the href is defined do default browser behavior
        if (typeof $thisLink.attr('href') == 'undefined' || $thisLink.attr('href') == "") {
            $thisLink.addClass('active');
            if ($thisLink.hasClass('order-link-buy')) {
                orderType = "buy";
            } else if ($thisLink.hasClass('order-link-sample')) {
                orderType = "sample";
            } else if ($thisLink.hasClass('order-link-alternate-sample')) {
                orderType = "alternatesample";
            } else if ($thisLink.hasClass('order-link-group-buy')) {
                orderType = "groupbuy";
            } else if ($thisLink.hasClass('order-link-group-sample')) {
                orderType = "groupsample";
            } else if ($thisLink.hasClass('order-link-group-custom')) {
                orderType = "groupcustom";
            } else {
                $thisLink.removeClass('active');
            }
        }

        tablePopup.util.getTheProductData(orderType, thisDevice, thisOPN, thisGroup, thisDevicePath, styleType);

    });

    $('.slbs2-table-popup').on('click', 'a.popup-close', function() {
        $(".slbs2-table-popup").hide();
        $(".order-link.active").removeClass('active');
    });

    $(document).mouseup(function(e) {
        var container = $(".slbs2-table-popup");
        if (container) {
            if (!container.is(e.target) // if the target of the click isn't the container...
                &&
                container.has(e.target).length === 0) // ... nor a descendant of the container
            {
                container.hide();
                $(".order-link.active").removeClass('active');
            }
        }
    });
    $(window).on('resize', function() {
        var theParentContainer = $('.slbs2-table-popup');
        if (theParentContainer.css('display') != 'none') {
            tablePopup.util.positionPopup(theParentContainer);
        }
    });
},
"util": {
    "getTheProductData": function(orderType, thisDevice, thisOPN, thisGroup, thisDevicePath, styleType) {

        var domain = "https://www.silabs.com";
        if (window.sl.currentRunMode === "" || window.sl.currentRunMode === "dev") {
            domain="http://localhost:4502";
        } else if (window.sl.currentRunMode === "qa" ) {
            domain = "https://wwwqa2.silabs.com";
        } else if (window.sl.currentRunMode === "stage") {
            domain = "https://wwwqa.silabs.com";
        }

        var buySampleURL = domain + "/sl/productdata/buysample?orderType=" + orderType;
        if (orderType == "groupcustom" || orderType == "groupbuy" || orderType == "groupsample") {
            buySampleURL += "&groupName=" + thisOPN;
        } else {
            buySampleURL += "&devicePath=" + thisDevicePath;
        }
        $.ajax({
            url: buySampleURL,
            dataType: 'json',
            success: function(dataReturn) {
                var buySampleData = dataReturn;
                if (orderType == "sample") {
                    if (buySampleData.sampleShoppingCartURL != null) {
                        sl.components.tablePopup.util.redirectToSampleCart(thisOPN, buySampleData.sampleShoppingCartURL);
                    } else {
                        sl.components.tablePopup.util.showErrorMessage(orderType, buySampleData.noneFoundMessage);
                    }
                } else if (orderType == "groupcustom") {
                    if (buySampleData.buySamplePartGroup != null && buySampleData.customAvailableConfigUrls != null) {
                        var customCnt = 0;
                        var customDevice = "";
                        var customAvailableUrl = "";
                        var partGroupDeviceData = buySampleData.buySamplePartGroup.partGroupDeviceData;
                        for (var partGroupDevice in partGroupDeviceData) {
                            var partGroupAttributeList = partGroupDeviceData[partGroupDevice];
                            if (partGroupAttributeList["sl:customavailable"]) {
                                var deviceConfigType = partGroupAttributeList["sl:customavailable"];
                                if (buySampleData.customAvailableConfigUrls[deviceConfigType]) {
                                    customCnt++;
                                    customDevice = partGroupDevice;
                                    customAvailableUrl = buySampleData.customAvailableConfigUrls[deviceConfigType];
                                }
                            }
                            if (customCnt > 1)
                                break
                        }
                        if (customCnt == 1) {
                            sl.components.tablePopup.util.redirectToCustomLink(customDevice, customAvailableUrl);
                        } else {
                            sl.components.tablePopup.util.createPopup(thisDevice, thisOPN, "groupcustom", thisGroup, styleType);
                            sl.components.tablePopup.util.getDataObjects(thisDevice, thisOPN, "groupcustom", thisGroup, buySampleData, styleType);
                        }
                    } else {
                        sl.components.tablePopup.util.createPopup(thisDevice, thisOPN, orderType, thisGroup, styleType);
                        sl.components.tablePopup.util.showErrorMessage(orderType, buySampleData.noneFoundMessage);
                    }
                } else {
                    sl.components.tablePopup.util.createPopup(thisDevice, thisOPN, orderType, thisGroup, styleType);
                    if ((orderType == "alternatesample" && buySampleData.sampleShoppingCartURL != null && buySampleData.alternateSampleData != null) ||
                        (orderType == "groupbuy" && buySampleData.buySamplePartGroup != null) ||
                        (orderType == "buy" && buySampleData.buySampleOctopart != null) ||
                        (orderType == "groupsample" && buySampleData.sampleShoppingCartURL != null && buySampleData.buySamplePartGroup != null)) {
                        sl.components.tablePopup.util.getDataObjects(thisDevice, thisOPN, orderType, thisGroup, buySampleData, styleType);
                    } else {
                        sl.components.tablePopup.util.showErrorMessage(orderType, buySampleData.noneFoundMessage);

                    }
                }
            },
            error: function(data, status, req, textStatus, errorThrown) {
                sl.components.tablePopup.util.showErrorMessage(orderType, "");
            }
        });
    },
    "redirectToSampleCart": function(thisDevice, sampleShoppingCartUrl) {
        var url = sampleShoppingCartUrl.replace("[partnumber]", thisDevice);
        window.open(url, "_blank");
    },
    "redirectToCustomLink": function(customDevice, customAvailableUrl) {
        var theURL = customAvailableUrl.replace("{0}", customDevice);
        window.open(theURL, "_self");
    },
    "createPopup": function(thisDevice, thisOPN, orderType, thisGroup, styleType) {
        var theParentContainer = $('.slbs2-table-popup');
        var theDataContainer = $('.table-popup-container');
        theDataContainer.empty();
        if (theParentContainer.hasClass("modern")) {
            theParentContainer.removeClass("modern");
        }

        if (!theParentContainer.is(':hidden') && !(thisGroup)) {
            theParentContainer.hide();
        } else {
            sl.components.tablePopup.util.positionPopup(theParentContainer);
            if (styleType){
                theParentContainer.addClass(styleType);
            } else{
                if (theParentContainer.hasClass("modern")) {
                    theParentContainer.removeClass("modern");
                }
            }
            theParentContainer.show();
            $('.loading-div').addClass('icon-loading');
        }
    },
    "positionPopup": function($popup) {
        var positionElement = $('.order-link.active').parent();
        if (positionElement.length) {
            var popupOffset = positionElement.offset();
            var left = popupOffset.left;


            if (popupOffset.left + $popup.outerWidth() > $('.row').width() && Foundation.MediaQuery.atLeast('medium')) {
                left = popupOffset.left - $popup.outerWidth() + positionElement.outerWidth();
            } else if (Foundation.MediaQuery.current == "small") {
                left = '15px';
            }

            $popup.css({
                'top': popupOffset.top + positionElement.outerHeight(),
                'left': left,
                'z-index': 2000
            });

            //Specific to competitor Cross Reference
            var compRef = $('.order-link.active').closest('.competitor-reference');
            if(compRef.length > 0 && Foundation.MediaQuery.atLeast('medium')) {
                var right = ($(window).width() - (compRef.offset().left + compRef.outerWidth()) + 15);
                console.log(right);
                $popup.css({
                    'left' : 'auto',
                    'right' : right + 'px'
                });
            }
            //Specific to button on the right side of page
            if (popupOffset.left + $popup.outerWidth() > ($('.row').width() *.75) && Foundation.MediaQuery.atLeast('medium')) {
                var rightPositionElement = $('.order-link.active');
                var right = ($(window).width() - popupOffset.left - rightPositionElement.outerWidth());
                $popup.css({
                    'left' : 'auto',
                    'right' : right + 'px'
                });
            }
        }

    },
    "getDataObjects": function(thisDevice, thisOPN, orderType, thisGroup, buySampleData, styleType) {
        var dataObj = [];
        var footerStringInfo = "";
        var filterStringInfoArray = new Array();
        if (orderType == "buy") {
            var useDataFromSAP = buySampleData.useDataFromSAP;
            var theOPNList = buySampleData.buyOrderPartNumbers;
            var thePackagingExclusions = buySampleData.buySampleOctopart.octopartPackagingExclusions;
            var theValidDistis = buySampleData.buySampleOctopart.octopartValidDistiList;
            var theValidCurrencies = buySampleData.buySampleOctopart.octopartValidCurrencyList;
            var theValidCurrencySymbols = buySampleData.buySampleOctopart.octopartValidCurrencySymbolList;
            var theQuery = '&queries=%5b';
            if (useDataFromSAP) {
                for (var i = 0; i < theOPNList.length; i++) {
                    if (i > 0) {
                        theQuery += ',';
                    }
                    theQuery += '%7b%22mpn%22:%22' + theOPNList[i].title + '%22%7D';
                }
            } else {
                theQuery += '%7b%22mpn%22:%22' + thisOPN + '%22%7D';
            }
            theQuery += '%5D';
            var theURL = buySampleData.buySampleOctopart.octopartUrl + theQuery;
            $.ajax({
                url: theURL,
                dataType: 'jsonp',
                success: function(dataReturn) {
                    var theData = dataReturn.results;
                    for (var y = 0; y < theData.length; y++) {
                        var theResults = theData[y];
                        for (var i = 0; i < theResults.items.length; i++) {
                            var theOffers = theResults.items[i].offers;
                            var orderPartNumber = theResults.items[i].mpn;
                            var thePackaging = "";
                            if (useDataFromSAP) {
                                for (var x = 0; x < theOPNList.length; x++) {
                                    if (theOPNList[x].title == orderPartNumber) {
                                        thePackaging = theOPNList[x].packingmedia;
                                    }
                                }
                            }
                            for (var x = 0; x < theOffers.length; x++) {
                                var distributorName = theOffers[x].seller.name;
                                var offerPackaging = theOffers[x].packaging;
                                var includeRow = true;
                                if (!useDataFromSAP && offerPackaging != null && thePackagingExclusions.includes(offerPackaging.toLowerCase())) {
                                    includeRow = false;
                                }
                                if (theValidDistis.includes(distributorName)) {
                                    if (includeRow) {
                                        var offerQtyPrice = sl.components.tablePopup.util.getOctopartQtyPrice(theOffers[x].prices, theValidCurrencies, theValidCurrencySymbols);
                                        var packaging = offerPackaging;
                                        if (!packaging) {
                                            packaging = sl.components.tablePopup.util.formatTheString(thePackaging);
                                        }
                                        if (packaging && packaging == "Reelbox") {
                                            packaging = "Tape & Reel";
                                        }
                                        var priceTier = offerQtyPrice.qty;
                                        var pricing = offerQtyPrice.price;
                                        var quantity = theOffers[x].in_stock_quantity;
                                        var shoppingCartURL = "<a target='_blank' href='" + theOffers[x].product_url + "'>Buy</a>";
                                        var duplicateDataIndex = sl.components.tablePopup.util.getDuplicateDataIndex(dataObj, distributorName, orderPartNumber, packaging, pricing, quantity, useDataFromSAP);
                                        if (duplicateDataIndex < 0) {
                                            var theNewObj = new Array();
                                            theNewObj.distributorName = distributorName;
                                            if (useDataFromSAP) {
                                                theNewObj.orderPartNumber = orderPartNumber;
                                                theNewObj.packaging = packaging;
                                                if (filterStringInfoArray === undefined || filterStringInfoArray.length == 0 || !filterStringInfoArray.includes(packaging)) {
                                                    filterStringInfoArray.push(packaging);
                                                }
                                            }
                                            theNewObj.priceTier = priceTier;
                                            theNewObj.pricing = pricing;
                                            theNewObj.quantity = quantity;
                                            theNewObj.shoppingCartURL = shoppingCartURL;
                                            dataObj.push(theNewObj);
                                        } else if (duplicateDataIndex < dataObj.length) {
                                            dataObj[duplicateDataIndex].priceTier = priceTier;
                                            dataObj[duplicateDataIndex].pricing = pricing;
                                        }
                                    }
                                }
                            }
                        }
                    }
                    sl.components.tablePopup.util.buildTheObjects(dataObj, thisDevice, thisOPN, orderType, footerStringInfo, thisGroup, buySampleData, filterStringInfoArray, styleType);
                },
                error: function(data, status, req, textStatus, errorThrown) {
                    dataObj = [];
                    sl.components.tablePopup.util.buildTheObjects(dataObj, thisDevice, thisOPN, orderType, footerStringInfo, thisGroup, buySampleData, filterStringInfoArray, styleType);
                }
            });
        } else if (orderType == "alternatesample") {
            var popupData = buySampleData.alternateSampleData;
            var shoppingCartUrl = buySampleData.sampleShoppingCartURL;
            if (popupData != null) {

                shoppingCartUrl = shoppingCartUrl.replace("[partnumber]", popupData.recommendedDevice.deviceOpn);
            }
            var theButtonClass = "primary-indium";
            if (styleType){
                theButtonClass = styleType;
            }
            footerStringInfo = "<a class=\"button "+ theButtonClass + "\" href='" + shoppingCartUrl + "' target=\"_blank\" >Continue</a>";

            dataObj.push(['Part Number', '<a class="popup-link" href="' + popupData.requestedDevice.deviceUrl + '" target=\"_blank\" >' + popupData.requestedDevice.device + '</a>', '<a class="popup-link" href="' + popupData.recommendedDevice.deviceUrl + '" target=\"_blank\" >' + popupData.recommendedDevice.device + '</a>']);

            popupData.displayNames.forEach(function(displayName) {
                var deviceAttributesRequested = popupData.requestedDevice.deviceAttributes.find(function(deviceAttributeRequested) {
                    return deviceAttributeRequested.name == displayName.attribute;
                });
                var deviceAttributesRecommended = popupData.recommendedDevice.deviceAttributes.find(function(deviceAttributeRecommended) {
                    return deviceAttributeRecommended.name == displayName.attribute;
                });

                // Convert true/false values to Yes/No.
                if (deviceAttributesRequested.value == true) {
                    deviceAttributesRequested.value = "Yes";
                }
                if (deviceAttributesRequested.value == false) {
                    deviceAttributesRequested.value = "No";
                }
                if (deviceAttributesRecommended.value == true) {
                    deviceAttributesRecommended.value = "Yes";
                }
                if (deviceAttributesRecommended.value == false) {
                    deviceAttributesRecommended.value = "No";
                }

                dataObj.push([displayName.attributeDisplay.replace("_", " "), deviceAttributesRequested.value, deviceAttributesRecommended.value]);
            });

            sl.components.tablePopup.util.buildTheObjects(dataObj, thisDevice, thisOPN, orderType, footerStringInfo, thisGroup, buySampleData, filterStringInfoArray, styleType);
        } else if (orderType == "groupbuy" || orderType == "groupsample" || orderType == "groupcustom") {
            sl.components.tablePopup.util.buildTheObjects(dataObj, thisDevice, thisOPN, orderType, footerStringInfo, thisGroup, buySampleData, filterStringInfoArray,styleType);
        }
    },
    "getDuplicateDataIndex": function(dataObj, distributorName, orderPartNumber, packaging, pricing, quantity, useDataFromSAP) {
        var returnIndex = -1;

        for (var x = 0; x < dataObj.length; x++) {
            var theDataRow = dataObj[x];
            var checkPrice = false;
            if (useDataFromSAP && theDataRow.distributorName == distributorName && theDataRow.orderPartNumber == orderPartNumber && theDataRow.packaging == packaging) {
                checkPrice = true;
                returnIndex = 1000;
            } else if (!useDataFromSAP && theDataRow.distributorName == distributorName) {
                checkPrice = true;
                returnIndex = 1000;
            }
            if (checkPrice) {
                if (theDataRow.pricing != "See Supplier") {
                    if (pricing == "See Supplier" || parseFloat(theDataRow.pricing) > parseFloat(pricing)) {
                        returnIndex = x;
                    }
                } else {
                    if (pricing == "See Supplier" && quantity > theDataRow.in_stock_quantity) {
                        returnIndex = x;
                    }
                }
                break;
            }
        }
        return returnIndex;
    },
    "formatTheString": function(theString) {
        var theLowerString = theString.toLowerCase();
        var theReturnString = "";
        var theStringArray = theLowerString.split(' ');
        for (var x = 0; x < theStringArray.length; x++) {
            if (theReturnString) {
                theReturnString += " ";
            }
            theReturnString += theStringArray[x].charAt(0).toUpperCase() + theStringArray[x].slice(1)
        }
        return theReturnString;
    },
    "getOctopartQtyPrice": function(pricingObj, validCurrencies, validCurrencySymbols) {
        var returnObj = new Array();
        returnObj.qty = "";
        returnObj.price = "See Supplier";
        var currency = "";

        for (var k in pricingObj) {
            currency = k;
        }
        if (validCurrencies.includes(currency)) {
            var symbolIndex = validCurrencies.indexOf(currency);
            var currencyObj = pricingObj[currency];
            if (currencyObj.length > 1) {
                var theMinQty = currencyObj[0][0];
                if (theMinQty == 1) {
                    var theMaxQty = currencyObj[1][0] - 1;
                    returnObj.qty = theMinQty.toString() + " - " + theMaxQty.toString();
                    returnObj.price = validCurrencySymbols[symbolIndex] + (Math.round(currencyObj[0][1] * 100) / 100).toString();
                }
            }
        }
        return returnObj;
    },
    "buildTheObjects": function(dataObj, thisDevice, thisOPN, orderType, footerStringInfo, thisGroup, buySampleData, filterStringInfoArray, styleType) {
        var newDataObj = new Array();
        var colObject = new Array();
        var theColumnDefs = new Array();
        var headerString = "";
        var footerString = "";
        var filterString = "";
        var orderObject = new Array();
        var useDataFromSAP = buySampleData.useDataFromSAP;

        if (orderType == "buy") {

            newDataObj = [];
            for (var x = 0; x < dataObj.length; x++) {
                var theDataRow = dataObj[x];
                if (useDataFromSAP) {
                    newDataObj.push([theDataRow.distributorName, theDataRow.orderPartNumber, theDataRow.packaging, theDataRow.priceTier, theDataRow.pricing, theDataRow.quantity, theDataRow.shoppingCartURL])
                } else {
                    newDataObj.push([theDataRow.distributorName, theDataRow.priceTier, theDataRow.pricing, theDataRow.quantity, theDataRow.shoppingCartURL])

                }
            }


            colObject.push({
                sTitle: "<span>Distributor</span>"
            });
            if (useDataFromSAP) {
                colObject.push({
                    sTitle: "<span>Part Number</span>"
                });
                colObject.push({
                    sTitle: "<span>Packaging</span>"
                });
            }
            colObject.push({
                sTitle: "<span>Qty</span>"
            });
            colObject.push({
                sTitle: "<span>Price</span>"
            });
            colObject.push({
                sTitle: "<span>Stock</span>"
            });
            colObject.push({
                sTitle: "<span class='table-popup-hdr-nosort'>&nbsp;</span>",
                "orderable": false
            });

            headerString = ('<h3 class="has-mobile">Silicon Labs Authorized Distributors</h3><h3 class="mobile-display">Authorized Distributors</h3>');
            if (useDataFromSAP) {
                headerString += ('<div class="opn-title buy">Device:&nbsp;<span class="opn-text">' + thisDevice + '</span></div>');
            } else {
                headerString += ('<div class="opn-title buy">Ordering Part Number:&nbsp;<span class="opn-text">' + thisOPN + '</span></div>');
            }
            footerString = "<div class='popup-footer'><span class='popup-footer-left'><a href='https://octopart.com/parts/manufacturer--silicon+labs/' class='powered-by-octopart'>Powered by <img src='/etc.clientlibs/siliconlabs/clientlibs/clientlib-content/resources/images/icon/the-octopart-logo.png' height='40' width='50' alt='Octopart'/></a></span><span class='popup-footer-right'>";
            if (thisGroup) {
                footerString += "<a class=\"order-link order-link-group-buy\" data-group=\"" + thisGroup + "\" data-opn=\"" + thisGroup + "\">< Back</a>";
            }
            footerString += "</span></div>";

            theColumnDefs = [];

            orderObject = [
                [0, 'asc']
            ];

            if (filterStringInfoArray.length) {
                filterStringInfoArray.sort();
                filterString = "<div class='filter-string'>";
                for (var x = 0; x < filterStringInfoArray.length; x++) {
                    filterString += "<input type='checkbox' class='popup-filter-option' value='" + filterStringInfoArray[x] + "' id='" + filterStringInfoArray[x] + "' name='" + filterStringInfoArray[x] + "' checked/>";
                    filterString += "<label for='" + filterStringInfoArray[x] + "'>" + filterStringInfoArray[x] + "</label>";
                }
                filterString += "</div>";
            }

        } else if (orderType == "alternatesample") {

            newDataObj = dataObj;

            colObject.push({
                sTitle: "",
                "orderable": false
            });
            colObject.push({
                sTitle: "Requested Device",
                "orderable": false
            });
            colObject.push({
                sTitle: "Recommended Device",
                "orderable": false
            });

            headerString = '<h3>Sample</h3>';
            headerString += '<div class="opn-title">The device requested is not available for sampling. We recommend the compatible device below with the noted functional difference:</div>';

            if (footerStringInfo.length > 0) {
                footerString = "<div class='popup-footer'><span class='popup-footer-left alternatesample'></span><span class='popup-footer-right alternatesample'>" + footerStringInfo + "</span></div>";
            }
            theColumnDefs = [];
            orderObject = [];

        } else if (orderType == "groupbuy") {
            newDataObj = [];
            var partGroupDeviceData = buySampleData.buySamplePartGroup.partGroupDeviceData;
            var partGroupFilterList = buySampleData.buySamplePartGroup.partGroupFilterList;
            var hasSomethingToBuy = false;
            for (var partGroupDevice in partGroupDeviceData) {
                var dataArray = new Array();
                var partGroupAttributeList = partGroupDeviceData[partGroupDevice];
                var partGroupDeviceDisplay = partGroupDevice;
                if (partGroupAttributeList["topdevicestatusdisplay"]) {
                    partGroupDeviceDisplay += " " + partGroupAttributeList["topdevicestatusdisplay"];
                }
                dataArray.push(partGroupDeviceDisplay);
                var hasBuyAvailable = false;
                var hasOPN = false;

                for (var partGroupAttribute in partGroupFilterList) {
                    if (partGroupAttributeList[partGroupAttribute]) {
                        var partGroupAttributeValue = partGroupAttributeList[partGroupAttribute];
                        dataArray.push(partGroupAttributeValue);
                    }
                }
                if (partGroupAttributeList["sl:orderpartnumber"]) {
                    var partGroupAttributeValue = partGroupAttributeList["sl:orderpartnumber"]
                    if (partGroupAttributeValue.length > 0) {
                        hasOPN = true;
                    }
                }
                if (hasOPN && partGroupAttributeList["displayInBuyPopup"] == "true") {
                    partGroupAttributeValue = "<a class=\"order-link order-link-buy\" data-group=\"" + thisOPN + "\" data-opn=\"" + partGroupAttributeList["sl:orderpartnumber"] + "\" data-device=\"" + partGroupDevice + "\" data-device-path=\"" + partGroupAttributeList["devicePath"] + "\">Select</a>";
                    dataArray.push(partGroupAttributeValue);
                    hasSomethingToBuy = true;
                } else {
                    dataArray.push("");
                }

                if (partGroupAttributeList["sl:buyavailable"]) {
                    if (partGroupAttributeList["sl:buyavailable"] == "true") {
                        hasBuyAvailable = true;
                    }
                }
                if (hasBuyAvailable && hasOPN) {
                    newDataObj.push(dataArray);
                }
            }

            var colObject = [];
            colObject.push({
                sTitle: "<span>Part Number</span>"
            });
            var partGroupFilterList = buySampleData.buySamplePartGroup.partGroupFilterList;
            for (var partGroupAttribute in partGroupFilterList) {
                colObject.push({
                    sTitle: "<span>" + partGroupFilterList[partGroupAttribute] + "</span>"
                });
            }
            if (hasSomethingToBuy) {
                colObject.push({
                    sTitle: "<span class='table-popup-hdr-nosort'>&nbsp;</span>",
                    "orderable": false
                });
            }

            var partGroupHeader = buySampleData.buySamplePartGroup.partGroupDisplayName;

            headerString = "<h3>" + partGroupHeader + " Variations</h3>";

            theColumnDefs = [];
            orderObject = [
                [0, 'asc']
            ];

        } else if (orderType == "groupsample") {
            newDataObj = [];
            var shoppingCartUrl = buySampleData.sampleShoppingCartURL;
            var partGroupDeviceData = buySampleData.buySamplePartGroup.partGroupDeviceData;
            var partGroupFilterList = buySampleData.buySamplePartGroup.partGroupFilterList;
            for (var partGroupDevice in partGroupDeviceData) {
                var dataArray = new Array();
                var partGroupAttributeList = partGroupDeviceData[partGroupDevice];
                var partGroupDeviceDisplay = partGroupDevice;
                if (partGroupAttributeList["topdevicestatusdisplay"]) {
                    partGroupDeviceDisplay += " " + partGroupAttributeList["topdevicestatusdisplay"];
                }
                dataArray.push(partGroupDeviceDisplay);
                var theSampleLink;
                for (var partGroupAttribute in partGroupFilterList) {
                    if (partGroupAttributeList[partGroupAttribute]) {
                        var partGroupAttributeValue = partGroupAttributeList[partGroupAttribute];
                        dataArray.push(partGroupAttributeValue);
                    }
                }
                theSampleLink = "";
                if (partGroupAttributeList["sl:sampleavailable"]) {
                    var partGroupAttributeValue = partGroupAttributeList["sl:sampleavailable"];
                    if (partGroupAttributeValue == "true") {
                        if (partGroupAttributeList["sl:orderpartnumber"]) {
                            var partGroupAttributeValue = partGroupAttributeList["sl:orderpartnumber"]
                            if (partGroupAttributeValue.length > 0) {
                                var theURL = shoppingCartUrl.replace("[partnumber]", partGroupAttributeList["sl:orderpartnumber"]);
                                theSampleLink = "<a href=\"" + theURL + "\" target=\"_blank\">Sample</a>";
                            }
                        }
                    }
                }
                dataArray.push(theSampleLink);

                newDataObj.push(dataArray);
            }

            var colObject = [];
            colObject.push({
                sTitle: "<span>Part Number</span>"
            });
            var partGroupFilterList = buySampleData.buySamplePartGroup.partGroupFilterList;
            for (var partGroupAttribute in partGroupFilterList) {
                colObject.push({
                    sTitle: "<span>" + partGroupFilterList[partGroupAttribute] + "</span>"
                });
            }
            colObject.push({
                sTitle: "<span class='table-popup-hdr-nosort'>&nbsp;</span>",
                "orderable": false
            });

            headerString = "<h3>Sample</h3>";

            theColumnDefs = [];
            orderObject = [
                [0, 'asc']
            ];

        } else if (orderType == "groupcustom") {

            newDataObj = [];
            var shoppingCartUrl = buySampleData.sampleShoppingCartURL;
            var partGroupDeviceData = buySampleData.buySamplePartGroup.partGroupDeviceData;
            var partGroupFilterList = buySampleData.buySamplePartGroup.partGroupFilterList;
            for (var partGroupDevice in partGroupDeviceData) {
                var dataArray = new Array();
                dataArray.push(partGroupDevice);
                var partGroupAttributeList = partGroupDeviceData[partGroupDevice];
                var theCustomLink = "";
                for (var partGroupAttribute in partGroupFilterList) {
                    if (partGroupAttributeList[partGroupAttribute]) {
                        var partGroupAttributeValue = partGroupAttributeList[partGroupAttribute];
                        dataArray.push(partGroupAttributeValue);
                    }
                }
                if (partGroupAttributeList["sl:customavailable"]) {
                    var deviceConfigType = partGroupAttributeList["sl:customavailable"];
                    if (buySampleData.customAvailableConfigUrls[deviceConfigType]) {
                        var theURL = buySampleData.customAvailableConfigUrls[deviceConfigType].replace("{0}", partGroupDevice);
                        theCustomLink = "<a href=\"" + theURL + "\">Customize</a>";
                    }
                }
                dataArray.push(theCustomLink);
                newDataObj.push(dataArray);
            }
            var colObject = [];
            colObject.push({
                sTitle: "<span>Part Number</span>"
            });
            var partGroupFilterList = buySampleData.buySamplePartGroup.partGroupFilterList;
            for (var partGroupAttribute in partGroupFilterList) {
                colObject.push({
                    sTitle: "<span>" + partGroupFilterList[partGroupAttribute] + "</span>"
                });
            }
            colObject.push({
                sTitle: "<span class='table-popup-hdr-nosort'>&nbsp;</span>",
                "orderable": false
            });

            var partGroupHeader = buySampleData.buySamplePartGroup.partGroupDisplayName;

            headerString += "<h3>Customize</h3>";
            headerString += "<div class=\"opn-title\"><span class=\"opn-text\">" + partGroupHeader + "</span></div>";

            theColumnDefs = [];
            orderObject = [
                [0, 'asc']
            ];

        }

        sl.components.tablePopup.util.addTheDataToPopup(newDataObj, colObject, headerString, footerString, theColumnDefs, orderObject, orderType, thisDevice, thisOPN, buySampleData.noneFoundMessage, filterString, styleType);
    },
    "addTheDataToPopup": function(theData, theColumns, headerString, footerString, theColumnDefs, orderObject, orderType, thisDevice, thisOPN, noneFoundMessage, filterString, styleType) {
        var theParentContainer = $('.table-popup-container');
        var mobileTableStructure = "";
        var theBuyButtonClass = "primary-bromine";
        var theButtonClass = "primary-indium";
        if (styleType){
            theBuyButtonClass = styleType;
            theButtonClass = styleType;
        }
        if (theData.length == 0) {
            sl.components.tablePopup.util.showErrorMessage(orderType, noneFoundMessage);
        } else {
            if (headerString.length > 0) {
                theParentContainer.append(headerString);
            }
            var tableStructure = '<table class="table-popup-data-grid row-border" cellspacing="0" border="0" cellspacing="0" width="100%"></table>';

            theParentContainer.append(tableStructure);


            // using an instance of the DataTables library from http://datatables.net
            var table = $('.table-popup-data-grid').DataTable({
                //"scrollY": "300px",
                //"scrollX": true,
                //"scrollCollapse": true,
                "destroy": true, // remove previous instances of options and table from memory
                "paging": false, // removes the pagination from the displayed table
                "info": false, // removes the "there are blah records in the table" info line
                "searching": false, // removes the table search bar, though this could be a cool function to have
                "data": theData, // points the table to the data source
                "columns": theColumns,
                "columnDefs": theColumnDefs,
                "order": orderObject
            });
            if (orderType == 'buy' || orderType == 'groupbuy') {

                mobileTableStructure = '<div class="mobile-display">';

                for (var i = 0; i < theData.length; i++) {
                    mobileTableStructure += '<div class="mobile-display-outer-div ' + orderType + '">';

                    mobileTableStructure += '<div class="mobile-display-outer-div-row">';
                    mobileTableStructure += '<div class="mobile-display-outer-div-col title">';
                    if (orderType == 'buy') {
                        mobileTableStructure += 'Part No';
                    } else {
                        mobileTableStructure += 'Device';
                    }
                    mobileTableStructure += '</div>';
                    mobileTableStructure += '<div class="mobile-display-outer-div-col">' + thisOPN + '</div>';
                    mobileTableStructure += '</div>';

                    var theDistributorRow = "";
                    for (var x = 0; x < theColumns.length; x++) {
                        if (!theColumns[x].sTitle.includes("Part Number")) {
                            if (theColumns[x].sTitle.includes("Distributor")) {
                                theDistributorRow += '<div class="mobile-display-outer-div-row">';
                                theDistributorRow += '<div class="mobile-display-outer-div-col title">' + theColumns[x].sTitle + '</div>';
                                theDistributorRow += '<div class="mobile-display-outer-div-col">' + theData[i][x] + '</div>';
                                theDistributorRow += '</div>';
                            } else {
                                if (theColumns[x].sTitle.includes("Stock")) {
                                    mobileTableStructure += theDistributorRow;
                                }
                                if (theColumns[x].sTitle.includes("&nbsp;")) {
                                    mobileTableStructure += '<div class="mobile-display-outer-div-button">';
                                    mobileTableStructure += theData[i][x];
                                    mobileTableStructure += '</div>';
                                } else {
                                    mobileTableStructure += '<div class="mobile-display-outer-div-row">';
                                    mobileTableStructure += '<div class="mobile-display-outer-div-col title">' + theColumns[x].sTitle + '</div>';
                                    mobileTableStructure += '<div class="mobile-display-outer-div-col">' + theData[i][x] + '</div>';
                                    mobileTableStructure += '</div>';
                                }
                            }
                        }
                    }
                    mobileTableStructure += "</div>";
                }
                mobileTableStructure += "</div>";
            }

            if (filterString.length > 0) {
                theParentContainer.append(filterString);
                var elementList = document.getElementsByClassName("popup-filter-option");

                var popupFilterFunction = function() {
                    var $this = $(this);
                    var theName = $this.attr('name');
                    $("table.table-popup-data-grid tr").each(function() {
                        if (theName == this.children[2].textContent) {
                            if ($this.is(':checked')) {
                                $(this).removeClass('filtered');
                            } else {
                                $(this).addClass('filtered');
                            }
                        }
                    });
                    $("div.mobile-display-outer-div-col").each(function() {
                        if (theName == this.textContent) {
                            if ($this.is(':checked')) {
                                $(this.parentElement.parentElement).removeClass('filtered');
                            } else {
                                $(this.parentElement.parentElement).addClass('filtered');
                            }
                        }
                    });
                };
                if (!Array.from) {
                    Array.from = function (object) {
                        'use strict';
                        return [].slice.call(object);
                    };
                } else {
                    Array.from(elementList).forEach(function (theElement) {
                        theElement.addEventListener('click', popupFilterFunction);
                    });
                }
            }


            if (mobileTableStructure != "") {
                theParentContainer.append(mobileTableStructure);
                $('div.dataTables_wrapper').addClass('has-mobile');
                $('div.mobile-display-outer-div-button > a').addClass('button');
                if (orderType == "buy") {
                    $('div.mobile-display-outer-div-button > a').addClass(theBuyButtonClass);
                    $('div.mobile-display-outer-div-button').addClass(theBuyButtonClass);
                } else {
                    $('div.mobile-display-outer-div-button > a').addClass(theButtonClass);
                    $('div.mobile-display-outer-div-button').addClass(theButtonClass);
                }
            }


            if (footerString.length > 0) {
                theParentContainer.append(footerString);
            }

            if (orderType == "buy" || orderType == "groupsample" || orderType == "groupcustom") {
                $('.table-popup-data-grid tr').each(function() {
                    $(this).find("a:last").addClass('button').addClass(theBuyButtonClass);
                });
            } else if (orderType == "groupbuy") {
                $('.table-popup-data-grid tr').each(function() {
                    $(this).find("a:last").addClass('button').addClass(theButtonClass);
                });
            }
            $('.loading-div').removeClass('icon-loading');
        }

    },
    "showErrorMessage": function(orderType, noneFoundMessage) {
        var theParentContainer = $('.table-popup-container');
        if (noneFoundMessage) {
            theParentContainer.append(noneFoundMessage);
        } else {
            theParentContainer.append('<h3>No data was found at this time.</h3>');
        }

        $('.loading-div').removeClass('icon-loading');
    }
}
}

sl = sl || {};
sl.components = sl.components || {};

sl.components.horizontalseparator = {
    "init": function() {

        var mainDiv = $('.horizontalseparator');
        var subDiv = $('.slbs2-hr');
        if (subDiv.hasClass('full-bleed')) {
            mainDiv.addClass('full-bleed');
        }
    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.highlightsCarousel = {
    "init": function() {

        var mainDiv = $('.highlightscarousel');
        var subDiv = $('.slbs2-highlights-carousel');
        if (subDiv.hasClass('full-bleed')){
            mainDiv.addClass('full-bleed');
        }
        $('.slbs2-highlights-carousel .carousel').each(function() {
            var $highlightsCarousel = $(this),
                slidesToShow = $highlightsCarousel.attr('data-num-visible');
            var slickArrow = $highlightsCarousel.find('button').css('class','slick-arrow');

            $highlightsCarousel.on('init', function() {
                $highlightsCarousel.find('.slick-slide:not(.slick-cloned) img').lazyInterchange();
            });

            $highlightsCarousel.on('breakpoint', function() {
                checkIfCarouselIsActive();
            })

            var options = {
                "slidesToShow": 1,
                "mobileFirst": true,
                "easing": "swing",
                "responsive": [{
                    "breakpoint": 688,
                    "settings": {
                        slidesToShow: slidesToShow
                    }
                }]
            };

            // Why only on 3 slidesToShow? That makes no sense
            if (slidesToShow === "3") {
                options.responsive = [{
                    breakpoint: 900,
                    settings: {
                        slidesToShow: slidesToShow
                    }
                }, {
                    breakpoint: 688,
                    settings: {
                        slidesToShow: 2
                    }
                }]
            }

            // Checks to see if more padding needs to be added to the carousel to accomocate arrows
            var checkIfCarouselIsActive = function() {
                var currentSlidesToShow = Foundation.MediaQuery.current == 'small' ? 1 : slidesToShow;

                if (currentSlidesToShow < $highlightsCarousel.find('.slide').length) {
                    $highlightsCarousel.addClass('carousel-active');
                } else {
                    $highlightsCarousel.removeClass('carousel-active');
                }
            };

            var checkIfDarkGrayBackground = function(){
                if ($highlightsCarousel.hasClass('bg-darkgray')){
                    $highlightsCarousel.find('button').css('class', 'slick-arrow').addClass('white');
                }
            }

            checkIfCarouselIsActive();
            $highlightsCarousel.slick(options);
            checkIfDarkGrayBackground();

        });
    }
}
sl = sl || {};
sl.components = sl.components || {};
sl.components.herocarousel = {
    "init": function() {

        // Slick Hero Carousel
        $('.hero-carousel .slides').each(function() {
            var milliseconds = $(this).parent().attr('data-speed');
            var prevButton = $('.hero-carousel .arrow-prev');
            var nextButton = $('.hero-carousel .arrow-next');
            var _this = $(this);

            _this.slick({
                infinite: true,
                autoplay: true,
                autoplaySpeed: milliseconds,
                buttons: false,
                pauseOnHover: false,
                prevArrow: prevButton,
                nextArrow: nextButton
            });

            // Link off to data slide url
            $('[data-slide-url]').on('click', function() {
                document.location = $(this).attr('data-slide-url');
            });

            // Stop auto-play when a button is clicked
            nextButton.on('click', function() {
                _this.slick('slickPause');
            });
            prevButton.on('click', function() {
                _this.slick('slickPause');
            });

            _this.on('swipe', function() {
                _this.slick('slickPause');
            });


            function setArrowButtonPlacement() {
                var arrowTop;

                if (Foundation.MediaQuery.current === 'small') {
                    // Set the top value for the arrows on Small Screens
                    var imageHeight = $('.hero-carousel').find('.mobile-img').eq(0).height();
                    var contentHeight = $('.hero-carousel').height() - imageHeight;
                    arrowTop = imageHeight + contentHeight / 2 - prevButton.height() / 2;
                    prevButton.css('top', arrowTop);
                    nextButton.css('top', arrowTop);
                } else {
                    // Set the top value for the arrows
                    arrowTop = $('.hero-carousel').height() / 2 - prevButton.height() / 2;
                    prevButton.css('top', arrowTop);
                    nextButton.css('top', arrowTop);
                }
            }

            // Set Arrow Placement on load
            setArrowButtonPlacement();

            $(window).on('resize', function() {
                setArrowButtonPlacement();
            });

        });
    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.headerSearch = {
    'init': function() {
        var productsTagsEndpoint = "/content/cq:tags/silicon-labs-products.tagdetail.json";
        var productsTagsJSON = "";
        //var timingPartsDataEndpoint = "/content/dam/siliconlabs/data/timingparts.json";
        var timingPartsDataEndpoint = "https://www.silabs.com/timing-part-search-promo.json";
        var timingPartsDataJSON = "";

        // util functions
        var buildUrl = function(endpoint, query) {
            var url = location.protocol + '//' + location.host;
            url += endpoint;
            url += query;

            return url;
        };

        //Get Product JSON for Facets
        $.get(productsTagsEndpoint, function (){ }).done(function(tagsdata) {
            productsTagsJSON = tagsdata;
        });

        //Get Parts Data JSON for partial part number search
        $.get(timingPartsDataEndpoint, function (){ }).done(function(timingpartsdata) {
            timingPartsDataJSON = timingpartsdata;
        });


        var getUrlParameter = function(name, x) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');

            var results;
            if(x == null || x == '' || x.length <= 0) {
                results = regex.exec(location.search);
            }
            if( x != null && x.length > 1) {
                var proX = x.replace(new RegExp(";", "g"), '&');
                results = regex.exec(proX);
            }

            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        };
        var headerSearch = this,
            searchBars = $('.menu-search .global-search-container');
        $.each(searchBars, function() {
            var $input = $(this).find('#toptxtKeywordSearch');
            var $searchButton = $(this).find('.js-search-button');
            var $searchForm = $(this).find('#globalSearchForm');
            var searchEndpoint = $(this).attr('data-search-endpoint');
            var searchPath = "/content/siliconlabs/en/search.html"
            var query;
            var queryString = location.search;
            var q = getUrlParameter('q', queryString);
            //$input.val(decodeURIComponent(q));

            $searchButton.on('click', function(event) {
                event.preventDefault();
                var inputVal = $input.val();
                query = '';
                if (inputVal) {
                    query = '?q=' + encodeURIComponent(inputVal);
                    query = headerSearch.getSelectedFacets(query);
                    var parts = headerSearch.isPartialPartNumberSearch(inputVal, productsTagsJSON);
                    if(headerSearch.isPartNumberSearch(inputVal, productsTagsJSON)){
                        query+= ';type=promotion;'
                    }else if(headerSearch.isTimingPartMatch(inputVal, timingPartsDataJSON)){
                        query+= ';type=timing-promotion;';
                    }else if(parts.length >0){
                        query+= ';type=partial-promotion;'
                    }

                    document.location = buildUrl(searchPath, query);
                }
            });
            $input.keyup(function(e){
                if(e.keyCode == 13)
                {
                    event.preventDefault();
                    var inputVal = $input.val();
                    query = '';
                    if (inputVal) {
                        query = '?q=' + encodeURIComponent(inputVal);
                        query = headerSearch.getSelectedFacets(query);
                        var parts = headerSearch.isPartialPartNumberSearch(inputVal, productsTagsJSON);
                        if(headerSearch.isPartNumberSearch(inputVal, productsTagsJSON)){
                            query+= ';type=promotion;'
                        }else if(headerSearch.isTimingPartMatch(inputVal, timingPartsDataJSON)){
                            query+= ';type=timing-promotion;';
                        }else if(parts.length >0){
                            query+= ';type=partial-promotion;'
                        }

                        document.location = buildUrl(searchPath, query);
                    }
                }
            });
            $searchForm.on('submit', function(event) {
                event.preventDefault();
                var inputVal = $input.val();
                query = '';
                if (inputVal) {
                    query = '?q=' + encodeURIComponent(inputVal);
                    query = headerSearch.getSelectedFacets(query);
                    var parts = headerSearch.isPartialPartNumberSearch(inputVal, productsTagsJSON);
                    if(headerSearch.isPartNumberSearch(inputVal, productsTagsJSON)){
                        query+= ';type=promotion;'
                    }else if(headerSearch.isTimingPartMatch(inputVal, timingPartsDataJSON)){
                        query+= ';type=timing-promotion;';
                    }else if(parts.length >0){
                        query+= ';type=partial-promotion;'
                    }

                    document.location = buildUrl(searchPath, query);
                }
            });

            headerSearch.initAutoComplete($input, searchEndpoint);
        });
    },

    'initNoSayt': function() {
        var productsTagsEndpoint = "/content/cq:tags/silicon-labs-products.tagdetail.json";
        var productsTagsJSON = "";

        // util functions
        var buildUrl = function(endpoint, query) {
            var url = location.protocol + '//' + location.host;
            url += endpoint;
            url += query;

            return url;
        };

        //Get Product JSON for Facets
        $.get(productsTagsEndpoint, function (){ }).done(function(tagsdata) {
            productsTagsJSON = tagsdata;
        });

        var getUrlParameter = function(name, x) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');

            var results;
            if(x == null || x == '' || x.length <= 0) {
                results = regex.exec(location.search);
            }
            if( x != null && x.length > 1) {
                var proX = x.replace(new RegExp(";", "g"), '&');
                results = regex.exec(proX);
            }

            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        };
        var headerSearch = this,
            searchBars = $('.menu-search .global-search-container');
        $.each(searchBars, function() {
            var $input = $(this).find('#toptxtKeywordSearch');
            var $searchButton = $(this).find('.js-search-button');
            var $searchForm = $(this).find('#globalSearchForm');
            var searchEndpoint = $(this).attr('data-search-endpoint');
            var searchPath = "/content/siliconlabs/en/search.html"
            var query;
            var queryString = location.search;
            var q = getUrlParameter('q', queryString);
            //$input.val(decodeURIComponent(q));

            $searchButton.on('click', function(event) {
                event.preventDefault();
                var inputVal = $input.val();
                query = '';
                if (inputVal) {
                    query = '?q=' + encodeURIComponent(inputVal);
                    query = headerSearch.getSelectedFacets(query);
                    var parts = headerSearch.isPartialPartNumberSearch(inputVal, productsTagsJSON);
                    if(headerSearch.isPartNumberSearch(inputVal, productsTagsJSON)){
                        query+= ';type=promotion;'
                    }else if(parts.length >0){
                        query+= ';type=partial-promotion;'
                    }
                    document.location = buildUrl(searchPath, query);
                }
            });

            $searchForm.on('submit', function(event) {
                event.preventDefault();
                var inputVal = $input.val();
                query = '';
                if (inputVal) {
                    query = '?q=' + encodeURIComponent(inputVal);
                    query = headerSearch.getSelectedFacets(query);
                    var parts = headerSearch.isPartialPartNumberSearch(inputVal, productsTagsJSON);
                    if(headerSearch.isPartNumberSearch(inputVal, productsTagsJSON)){
                        query+= ';type=promotion;'
                    }else if(parts.length >0){
                        query+= ';type=partial-promotion;'
                    }
                    document.location = buildUrl(searchPath, query);
                }
            });

        });
    },

    'getSelectedFacets' : function(query){
        var selectedFacets = $('.sp-faceted-search .selected-filters p');
        var headerSearch = this;
        var spURL = query;
        var x1Value='',q1Value='',x2Value='',q2Value='',x3Value='',q3Value='',x4Value='',q4Value='',x5Value='',q5Value='';
        $(selectedFacets).each(function(index){
            var value= decodeURI($(this).attr('data-text'));
            var xParam = $(this).attr('data-xparam');
            var xParamValue = $(this).attr('data-xvalue');
            var qParam = $(this).attr('data-qparam');

            if(xParam=='x1'){
                if(x1Value==''){
                    //x1Value = xParam+'='+xParamValue;
                    x1Value = xParamValue;
                    q1Value = value;
                }else{
                    q1Value = q1Value+'|'+value;
                }
            }else if(xParam=='x2'){
                if(x2Value==''){
                    x2Value = xParamValue;
                    q2Value = value;
                }else{
                    q2Value = q2Value+'|'+value;
                }

            }else if(xParam=='x3'){
                if(x3Value==''){
                    x3Value = xParamValue;
                    q3Value = value;
                }else{
                    q3Value = q3Value+'|'+value;
                }

            }else if(xParam=='x4'){
                if(x4Value==''){
                    x4Value = xParamValue;
                    q4Value = value;
                }else{
                    q4Value = q4Value+'|'+value;
                }

            }else if(xParam=='x5'){
                if(x5Value==''){
                    x5Value = xParamValue;
                    q5Value = value;
                }else{
                    q5Value = q5Value+'|'+value;
                }
            }

        });

        spURL= headerSearch.changeParamByName(spURL,'page','1');
        if(x1Value){
            spURL= headerSearch.changeParamByName(decodeURIComponent(spURL),'x1',x1Value);
            spURL= headerSearch.changeParamByName(decodeURIComponent(spURL),'q1',q1Value);
        }
        if(x2Value){
            spURL= headerSearch.changeParamByName(decodeURIComponent(spURL),'x2',x2Value);
            spURL= headerSearch.changeParamByName(decodeURIComponent(spURL),'q2',q2Value);
        }
        if(x3Value){
            spURL= headerSearch.changeParamByName(decodeURIComponent(spURL),'x3',x3Value);
            spURL= headerSearch.changeParamByName(decodeURIComponent(spURL),'q3',q3Value);
        }
        if(x4Value){
            spURL= headerSearch.changeParamByName(decodeURIComponent(spURL),'x4',x4Value);
            spURL= headerSearch.changeParamByName(decodeURIComponent(spURL),'q4',q4Value);
        }
        if(x5Value){
            spURL= headerSearch.changeParamByName(decodeURIComponent(spURL),'x5',x5Value);
            spURL= headerSearch.changeParamByName(decodeURIComponent(spURL),'q5',q5Value);
        }

        /** Global Search Changes Start**/
        var tabHeader = $('.sp-faceted-search .sp-tabhActive');
        if(tabHeader.length>0){
            var textValue= $(tabHeader).attr("aria-text");
            spURL= headerSearch.changeParamByName(decodeURIComponent(spURL),'x6','searchHeader');
            spURL= headerSearch.changeParamByName(decodeURIComponent(spURL),'q6',textValue);
        }
        /** Global Search Changes End**/

        spURL= decodeURIComponent(spURL);
        spURL= spURL.replace(/&/g , ";");
        return spURL;

    },

    "isPartialPartNumberSearch" : function(query, productTagJSON){
        var stack = [], node, ii, index=0, matchedParts=[];
        if (productTagJSON){
            stack.push(productTagJSON);
            while (stack.length > 0) {
                node = stack.pop();
                if (node['jcr:title'].toLowerCase().indexOf(query.toLowerCase())>-1) {
                    if(node.children=="") {
                        matchedParts[index] = node['jcr:title'];
                        index++;
                    }else{
                        var childArr = node.children.split(",");
                        for(ii = 0; ii < childArr.length; ii += 1){
                            stack.push(node[childArr[ii]]);
                        }
                    }
                } else {
                    if(node.children!=="") {
                        var childArr = node.children.split(",");
                        for(ii = 0; ii < childArr.length; ii += 1){
                            stack.push(node[childArr[ii]]);
                        }
                    }
                }
            }
        }
        return matchedParts;
    },

    'isPartNumberSearch': function(query, productTagJSON){
        var stack = [], node, ii;
        if (productTagJSON) {
            stack.push(productTagJSON);
            while (stack.length > 0) {
                node = stack.pop();
                if (node['jcr:title'].toLowerCase() == query.toLowerCase()) {
                    if (node.children == "") {
                        return true;
                    } else {
                        return false;
                    }
                } else {
                    if (node.children !== "") {
                        var childArr = node.children.split(",");
                        for (ii = 0; ii < childArr.length; ii += 1) {
                            stack.push(node[childArr[ii]]);
                        }
                    }
                }
            }
        }
        return false;
    },

    "isTimingPartMatch" : function (query, timingJSON){
        var isMatch = false;
        var parts = timingJSON.parts;
        $(parts).each(function(index){
            if(query.toUpperCase()==parts[index]){
                isMatch = true;
                return false;
            }
        });
        return isMatch;
    },

    'changeParamByName': function(href, paramName, newVal) {

        href = href.replace(/;/g , "&");
        var queryParameters = {}, queryString = href.substring('?'),
            re = /([^&=]+)=([^&]*)/g, m;

        // Creates a map with the query string parameters
        while (m = re.exec(queryString)) {
            queryParameters[m[1]] = m[2];
        }
        // Add new parameters or update existing ones
        queryParameters[paramName] = newVal;
        // queryParameters['x2'] = 'content-type';
        // queryParameters['page'] = '1';
        return $.param(queryParameters);
    },

    'initAutoComplete': function($input, searchEndpoint) {
        var settings = {
            viewId : "sayt-view",
            minInputLength: 3,
            minInputDelay: 50,
            formSelector: '#globalSearchForm',
            submitOnSelect: true,
            minWidth: 400,
            containers: [
                {
                    requestUrl: searchEndpoint + '?do=sayt&i=1',
                    className: "",
                    id : "sayt-links-1",
                    queryParam: 'q',
                    ajaxDataType: 'script',
                    containerType: 'WSCS',
                    appendToQuery: '*',
                    highlightWords: true
                }

            ]
        };
        $input.TargetComplete(settings);
    }
};
$(document).on('ready', function() {
    /*if ( $( "#communitySearchForm" ).length ) {
        sl.components.headerSearch.initNoSayt();
        $(".slbs2-header .menu-search .global-search-container div#sayt-view>.sayt-container").css('display','none');
    } else {
        sl.components.headerSearch.init();
    }*/
    sl.components.headerSearch.init();
});
sl = sl || {};
sl.components = sl.components || {};

sl.components.links = {
    "init": function() {
        var link = this;

        // Add body class if the user is logged in
        if (link.isLoggedIn()) {
            $('body').addClass('logged-in');
            $(document).trigger('sl.reinit');
        }

        // Bind click events for DAM document links
        $(document).unbind('click.sl.documents');
        $(document).on('click.sl.documents', 'a[href^="/content/dam/siliconlabs/documents/"], a[href^="/documents/"], a[href*="/documents/"]', function(e) {
            e.preventDefault();
            var $thisLink = $(this),
                thisHref = $thisLink.attr('href'),
                thisTarget = $thisLink.attr('target'),
                relativeUrl = '/' + thisHref.replace(/^(?:\/\/|[^\/]+)*\//, ""); // Get relative path in case an absolute was matched

            // continue with the link if it doesn't start with the right path
            if (!relativeUrl.startsWith('/content/dam/siliconlabs/documents/') && !relativeUrl.startsWith('/documents/')) {
                document.location.href = thisHref;
            } else {
                thisHref = relativeUrl;
            }

            var thisFileName = thisHref.replace(/.+\/(.+)$/g, '$1'),
                thisName = $thisLink.attr('data-asset-name') ? $thisLink.attr('data-asset-name') : thisFileName,
                absolutePath = document.location.origin + thisHref,
                returnUrlRelative = thisHref,
                sep = document.location.search.indexOf('?') == 0 ? '&' : '?';

            // If it matches one of these extensions - this was the old way
            // if (thisHref.match(/\.(zip|exe|dmg|tgz|xls|xlsx|ppt)$/g).length > 0) {
            // If it's not a PDF, HTML, or image file
            if (thisHref.match(/\.(pdf|html|htm|txt|jpg|jpeg|png|gif|bmp|tiff|svg|ico)$/g) == null) {
                returnUrlRelative = document.location.pathname + sep + 'download=' + encodeURIComponent(thisHref + '|' + thisName);
            }

            // this is where the marketo API gets called.
            var marketoCookieID = link.getMrktoCookieID();
            var encodedURI = encodeURIComponent(absolutePath);
            var theURL = window.sl.ssoDomain + "/services/apexrest/restassettracking?mktocookie=" + marketoCookieID + "&URL=" + encodedURI;

            $.ajax({
                "url": theURL,
                "type": "GET",
                "dataType": "jsonp",
                "complete": function(jqxhr, textStatus) {
                    // Wait until json call is complete (regardless of success of error) before redirecting user
                    var newHref = thisHref;
                    // If it's a document in the /login directory and the user is NOT logged in, direct them to the login page
                    if (thisHref.indexOf("/login/") > -1 && !link.isLoggedIn()) {
                        sl.utils.createCookie('saml_request_path', returnUrlRelative);
                        newHref = window.sl.ssoEndpointUrl;
                    }
                    if (thisTarget && thisTarget != "_self"){
                        window.open(newHref,thisTarget);
                    } else
                        document.location.href = newHref;
                }
            })

            return false;
        })

        $('.require-login').on('click', function() {
            var returnUrl = document.location.origin + $(this).attr('href');

            if (!link.isLoggedIn()) {
                document.location.href = window.sl.ssoDomain + "/apex/ValidateUser?documentURL=" + returnUrl;
                return false;
            }
        })

    },
    "isLoggedIn": function() {
        var cookieObj = {};
        document.cookie.split(';').forEach(function(el, i) {
            var thisItem = el.trim().split(/=(.+)?/);
            cookieObj[thisItem[0]] = thisItem[1];
        })

        var isLoggedIn = false,
            origin = window.location.origin;

        // Dev
        if ((window.sl.currentRunMode === "" || window.sl.currentRunMode === "dev") && typeof cookieObj['silabsprofiledev'] !== 'undefined') {
            isLoggedIn = true;
            // QA
        } else if (window.sl.currentRunMode === "qa" && typeof cookieObj['silabsprofileqa'] !== 'undefined') {
            isLoggedIn = true;
            // Stage
        } else if (window.sl.currentRunMode === "stage" && typeof cookieObj['silabsprofileqa'] !== 'undefined') {
            isLoggedIn = true;
            // Prod
        } else if (window.sl.currentRunMode === "prod" && typeof cookieObj['silabsprofile'] !== 'undefined') {
            isLoggedIn = true;
        }

        return isLoggedIn;

    },
    "getMrktoCookieID": function() {
        var mrktoCookieID = "unknown",
            mrktoCookieString = "";

        document.cookie.split(';').forEach(function(el, i) {
            var thisItem = el.trim().split('=');
            if (thisItem[0] == "_mkto_trk") {
                mrktoCookieString = thisItem[1];
            }
        })
        if (mrktoCookieString) {
            mrktoCookieString.split('&').forEach(function(el, i) {
                var thisItem = el.trim().split(':');
                if (thisItem[0] == "token") {
                    mrktoCookieID = thisItem[1];
                }
            })
        }
        return mrktoCookieID;

    },
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.facetedSearch = {
    "init": function() {

        var facetedSearch = this,
            $facetedSearch = $('.faceted-search'),
            $querybuilder = $facetedSearch.find('.query-builder');

        if ($facetedSearch.length > 0) {

            // Create global object
            window.sl.facetedSearch = window.sl.facetedSearch ? window.sl.facetedSearch : {};

            // Get authored number of results per page, default is 20
            facetedSearch.numPerPage = 20;
            if ($querybuilder.attr('data-results-per-page')) {
                facetedSearch.numPerPage = $querybuilder.attr('data-results-per-page');
            }
            // Ensure it's not a string
            facetedSearch.numPerPage = parseInt(facetedSearch.numPerPage);

            // Set up datatable
            facetedSearch.dataTable = $facetedSearch.find('table').DataTable({
                "searching": false,
                "autoWidth": false,
                "paging": true,
                "lengthChange": false,
                "pageLength": facetedSearch.numPerPage,
                "ordering": true,
                "info": false,
                "language": {
                    "emptyTable": "No results available"
                }
            });

            // Create defaultFilters object for initial (filterless) query
            facetedSearch.defaultFilters = [];

            // Populate filters/predicates in left sidebar
            // Iterate through each authored predicate
            $facetedSearch.find('[data-filters]').each(function() {
                var $thisAccordion = $(this),
                    theseFilters = $thisAccordion.attr('data-filters').split(','),
                    options;

                for (var i = 0; i < theseFilters.length; i++) {
                    var path = theseFilters[i];
                    facetedSearch.defaultFilters.push(path);
                }

                var showAll = false;
                if ($thisAccordion.is('[data-show-all]')) {
                    showAll = true;
                }

                // Get options object
                facetedSearch.getFilterOptions($facetedSearch, theseFilters, $thisAccordion, showAll);

            });

            // Filters are populated
            $facetedSearch.on('filtersReady', function() {

                // Set click events for filters, form submission etc.
                facetedSearch.setEvents($facetedSearch);
                // Show content once filters are populated so user isn't confused
                $querybuilder.css('opacity', 1);
                $facetedSearch.removeClass('loading');

                // Actually get the results and active filters based on the URL
                facetedSearch.setUpResults($facetedSearch);
            })
        }
    },
    "util": {
        "getSelectors": function() {
            var selectorArr = [],
                selectorString = document.location.pathname.replace(/.+\/(.+?)(\.|$)/g, '').replace(/\.?html/g, '');
            selectorString = decodeURIComponent(selectorString);
            if (selectorString.length > 0) {
                selectorArr = selectorString.split('.');
            }
            return selectorArr;
        },
        "updateSelectors": function(tagPath, remove) {
            var facetedSearchUtils = this,
                urlPath = location.pathname,
                removeIt = remove && remove == true,
                selector = facetedSearchUtils.convertTagPathToSelector(tagPath);

            var currentSelectors = facetedSearchUtils.getSelectors();

            // If selector is blank, empty all selectors
            if (selector == '') {
                currentSelectors = [];
            } else if (selector.indexOf('=') > -1) {
                // If it's a = selector with a dynamic value like sort= or text= handle it
                var selectorKey = selector.split('=')[0],
                    selectorValue = selector.split('=')[1];

                // Check of this selector key value is already present
                for (var i = 0; i < currentSelectors.length; i++) {
                    var thisSelector = currentSelectors[i],
                        thisSelectorKey = thisSelector.split('=')[0],
                        thisSelectorValue = thisSelector.split('=')[1];

                    if (thisSelectorKey == selectorKey) {
                        if (selectorValue !== '') {
                            currentSelectors[i] = selector;
                        } else {
                            // If the selector value is blank, remove the selector
                            currentSelectors.splice(i, 1);
                        }
                    }
                }
                // If it's not, add it
                if (currentSelectors.indexOf(selector) == -1 && selectorValue !== '') {
                    currentSelectors.push(selector);
                }

            } else {
                // If it's a standard tag selector add or remove it
                if (removeIt || currentSelectors.indexOf(selector) > -1) {
                    var selectorIndex = currentSelectors.indexOf(selector);
                    currentSelectors.splice(selectorIndex, 1);
                } else {
                    currentSelectors.push(selector);
                }
            }

            // Always keep selectors in alphabetical order for some cacheability
            currentSelectors.sort();

            // Create selector string and add it to the URL
            var selectorString = currentSelectors.join('.');
            if (currentSelectors.length > 0) {
                selectorString = '.' + selectorString;
            }

            // On sort or tag filter (new query), remove the pagination selector
            if (selector.indexOf('sort=') == 0 || selector.indexOf('=') == -1) {
                selectorString = selectorString.replace(/\.page=(.+?)($|\.)/g, '$2');
            }

            var extension = urlPath.indexOf('.html') == urlPath.length - 5 ? '.html' : '';
            urlPath = urlPath.replace(/(.+\/)(.+?)(\.|$).*$/g, '$1$2' + selectorString + extension);

            // Push new URL to browser
            // TODO update this data to populate intead of GET on back button
            if (location.pathname !== urlPath) {
                window.history.pushState({
                    'url': urlPath
                }, null, urlPath + location.search);
            }
        },
        "getFiltersFromSelectors": function(selectorName) {
            var facetedSearchUtils = this,
                filterArr = [],
                selectorFilters = this.getSelectors();

            var parameters = decodeURIComponent(location.search).replace('?', '').replace(/\+/g, ' ').split('&');
            if (parameters.toString().length > 0) {
                selectorFilters = selectorFilters.concat(parameters);
            }

            for (var i = 0; i < selectorFilters.length; i++) {

                var thisSelector = selectorFilters[i],
                    tagPath = facetedSearchUtils.convertSelectorToTagPath(thisSelector);

                filterArr.push(tagPath);

            }
            return filterArr;
        },
        "convertTagPathToSelector": function(tagPath) {
            var selector = tagPath.replace(/(\/content\/cq\:tags\/)?(.+?)(\/|:)(.+)/g, '$2-$4');

            selector = selector.replace(/\//g, '_');

            if (selector.indexOf('content-type') == 0) {
                selector = selector.replace('content-type', 'ct');
            } else if (selector.indexOf('silicon-labs-products') == 0) {
                selector = selector.replace('silicon-labs-products', 'p');
            }

            return selector;
        },
        "convertSelectorToTagPath": function(selector) {
            var tagPath = selector.replace(/_/g, '/');

            if (tagPath.indexOf('ct-') == 0) {
                tagPath = tagPath.replace('ct-', '/content/cq:tags/content-type/');
            } else if (tagPath.indexOf('p-') == 0) {
                tagPath = tagPath.replace('p-', '/content/cq:tags/silicon-labs-products/');
            }

            return tagPath;
        }
    },
    // Sets up results and filters based on selectors/query in URL
    "setUpResults": function($facetedSearch) {
        var facetedSearch = this;
        var $querybuilder = $facetedSearch.find('.query-builder');

        // Set currentPage to be 0 by default
        facetedSearch.currentPage = 0;

        // Reset filters
        $facetedSearch.find('.fulltext-field').val('');
        $facetedSearch.find('.filter-options .active').removeClass('active');
        $facetedSearch.find('.filter-options input[type="checkbox"][data-filter]').prop('checked', false);
        $facetedSearch.find('.selected-filters p[data-filter]').remove();

        // Reset dataTable sorting
        facetedSearch.dataTable.order([0, 'asc']);

        // Toggle Clear All link based on selected filters
        if ($facetedSearch.find('.selected-filters p[data-filter]').length == 0) {
            $facetedSearch.find('.clear-all').addClass('hide');
        } else {
            $facetedSearch.find('.clear-all').removeClass('hide');
        }

        // If there are pre-selected filters, activate them
        var activeFilters = facetedSearch.util.getFiltersFromSelectors();
        activeFilters.forEach(function(thisFilter) {
            if (thisFilter.indexOf('sort=') > -1) {
                // If it's a sort filter update order
                var order = thisFilter.replace('sort=', '');
                facetedSearch.dataTable.order(order.split(','));
            } else if (thisFilter.indexOf('query=') > -1) {
                // If it's a query filter set the fulltext field value accordingly, must be done for both mobile and desktop inputs
                $facetedSearch.find('.fulltext-field').each(function() {
                    $(this).val(thisFilter.replace('query=', ''));
                });
            } else if (thisFilter.indexOf('page=') > -1) {
                // If it's a page filter
                facetedSearch.currentPage = parseInt(thisFilter.replace('page=', ''));
            } else {
                // Else trigger clicks on corresponding filters
                $('[data-filter="' + thisFilter + '"]').trigger('setUpFilter');

                // Open any parent accordions so user can see what should be clicked
                var $thisAccordion = $('[data-filter="' + thisFilter + '"]').parents('[data-accordion-menu]'),
                    $thisSubMenu = $('[data-filter="' + thisFilter + '"]').parents('[data-submenu]');
                if ($thisSubMenu.length > 0) {
                    $thisAccordion.foundation('down', $thisSubMenu);
                }
            }
        })

        // Get results
        facetedSearch.getResults($facetedSearch, function() {
            // Set to the correct page (defaults to 0 but can be updated via selector)
            facetedSearch.dataTable.page(facetedSearch.currentPage).draw('page');

            // Remove loading class once everything is done
            $querybuilder.removeClass('loading');
        });
    },
    // Get filter options for each authored predicate in the sidebar
    // Author provides a path to a tag, this retrives the tags namespace and gets all subtags for the namespace
    // Also creates the default contentTypes object to feed to the query
    "getFilterOptions": function($facetedSearch, paths, $thisAccordion, showAll) {
        var facetedSearch = this,
            options = {};

        // This object is used to track which filter options have already been populated
        facetedSearch.filterOptions = facetedSearch.filterOptions ? facetedSearch.filterOptions : {};

        // This object is used to track the authored content types to search if the user doesn't specify a content type
        facetedSearch.contentTypes = facetedSearch.contentTypes ? facetedSearch.contentTypes : [];

        // Get the relevant namespaces from the authored paths and only do GETs for those
        var getAllNamespaces = function(paths) {
            var namespacePaths = [];
            for (var i = 0; i < paths.length; i++) {
                var thisNamespacePath = paths[i];
                if (thisNamespacePath.match(/\//g).length > 3) {
                    thisNamespacePath = thisNamespacePath.replace(/(\/content\/cq\:tags\/.+?)\/.*/g, '$1');
                }
                if (namespacePaths.indexOf(thisNamespacePath) == -1) {
                    namespacePaths.push(thisNamespacePath);
                }
            }

            return namespacePaths;
        }

        var namespaces = getAllNamespaces(paths);

        for (var i = 0; i < namespaces.length; i++) {

            var namespacePath = namespaces[i];

            // Check if this namespace has already been populated before doing another GET
            // Populates all filter options for a namespace
            if (typeof facetedSearch.filterOptions[namespacePath] == 'undefined') {
                //facetedSearch.filterOptions[namespacePath] = {};

                    $.ajax({
                        type: "GET",
                        url: namespacePath + ".tagdetail.json",
                        success: function(data) {
                            facetedSearch.filterOptions[namespacePath] = data;

                            // Iterate through actual authored paths to only include those
                            for (var j = 0; j < paths.length; j++) {
                                var path = paths[j],
                                    isContentType = false;

                                // Set up contentTypes object for use by the query selectors
                                if (path.indexOf("/content/cq:tags/content-type") == 0) {
                                    isContentType = true;
                                }

                                // Only return items that are selected by the author if they are not the namespace
                                if (path == namespacePath) {
                                    options = facetedSearch.filterOptions[namespacePath];

                                    if (isContentType) {
                                        for (var subtag in data) {
                                            var tagPath = data[subtag].path;
                                            if (typeof tagPath !== 'undefined') {
                                                facetedSearch.contentTypes.push(facetedSearch.util.convertTagPathToSelector(tagPath));
                                            }
                                        }
                                    }

                                } else {
                                    if (isContentType) {
                                        facetedSearch.contentTypes.push(facetedSearch.util.convertTagPathToSelector(path));
                                    }

                                    // Iterate through tag depth in case the user doesn't select an L1 tag (e.g. /content/cq:tags/content-type/manuals/quick-start-guides)
                                    var trail = path.replace(namespacePath + '/', '').split('/'),
                                        tagName = '',
                                        tagObj = facetedSearch.filterOptions[namespacePath];
                                    for (var x = 0; x < trail.length; x++) {
                                        tagName = trail[x];
                                        if( typeof tagObj[trail[x]] !== 'undefined' ){
                                            tagObj = tagObj[trail[x]];
                                        }
                                    }
                                    options[tagName] = tagObj;
                                }
                            }

                            // Populate markup with options from returned object
                            facetedSearch.traverseFilterOptions(options, $thisAccordion.find('.nested'), 0, "", showAll);

                            // Must re-init this manually since reInit is not yet supported for accordion menu | https://github.com/zurb/foundation-sites/issues/8301
                            var accordionMenuOptions = {};
                            var newAccordion = new Foundation.AccordionMenu($thisAccordion, accordionMenuOptions);
                            $thisAccordion.attr('data-initialized', true);

                            // TODO: only show filters when all of them are loaded
                            if ($facetedSearch.find('[data-filters][data-initialized]').length === $facetedSearch.find('[data-filters]').length) {
                                $facetedSearch.trigger('filtersReady');
                            }

                        }
                    })
            }
        }

    },
    // Traverses the options object returned by getFilterOptions and creates the markup
    "traverseFilterOptions": function(option, $parent, level, tagId, showAll) {
        var facetedSearch = this,
            $currentPanel, $subPanel;

        if (option.path) tagId = option.path.replace(/\/content\/cq\:tags\/(.+?)(\/|$)/g, '$1:');

        var activeClass = '';
        if (showAll) {
            activeClass = 'is-active';
        }

        // Utility function - Returns true if an option does not have sub options
        var isLeaf = function() {
            for (var property in option) {
                if (typeof option[property] == "object" && !(option[property] instanceof Array)) {
                    return false;
                }
            }
            return true;
        }

        var $currentPanelTemplate = $('<li class="filter">' +
            '<a href="#">' +
            '<span>' + option["jcr:title"] + '</span>' +
            '</a>' +
            '<input data-filter="' + option.path + '" data-text="' + option["jcr:title"] + '" type="checkbox" value="true" />' +
            '</li>');

        // If this option has sub options
        if (!isLeaf(option)) {

            if (option["jcr:title"]) {
                // option has a title: draw title with a checkbox to check/uncheck the entire group

                // Only add item if it's NOT a namespace, it will be redundant with the title the author adds
                if (tagId.indexOf(":") < tagId.length - 1) {
                    sl.components.facetedSearch.counter++;
                    level++;
                    $currentPanel = $currentPanelTemplate;
                }

            }

            for (var sub in option) {
                if (typeof option[sub] == "object" && !(option[sub] instanceof Array)) {

                    if ($currentPanel && $currentPanel.children('ul').length == 0) {
                        $subPanel = $('<ul class="' + activeClass + ' menu vertical nested level-' + level + '"></ul>');
                        $currentPanel.append($subPanel);
                    }

                    var nextTagId = "";
                    if (tagId) {
                        if (tagId == ":") {
                            // tag root: sub are namespaces
                            nextTagId = sub + ":";
                        } else if (tagId.indexOf(":") == -1) {
                            // tagId is namespace
                            nextTagId = tagId + ":" + sub;
                        } else {
                            // tagId is tag
                            nextTagId = tagId + "/" + sub;
                        }
                    }

                    this.traverseFilterOptions(option[sub], $currentPanel ? $subPanel : $parent, level, nextTagId, showAll);
                }
            }
        } else {
            // leaf option - no subs

            var value = option["value"] ? option["value"] : "";
            if (!value && tagId) value = tagId;
            var title = option["jcr:title"] ? option["jcr:title"] : value;

            var currentOption = option['o0_' + sl.components.facetedSearch.counter];
            if (typeof currentOption !== 'undefined') {
                var suboptions = facetedSearch.getOptions([currentOption]);
                facetedSearch.traverseFilterOptions(suboptions, $parent, 0, "", showAll);
            }
            $currentPanel = $currentPanelTemplate;

            sl.components.facetedSearch.counter++;
        }

        $parent.append($currentPanel);
    },
    // Set all click events and form submission listeners
    "setEvents": function($facetedSearch) {
        var facetedSearch = this;

        // On back button update the page
        $(window).on('popstate', function(event) {
            facetedSearch.setUpResults($facetedSearch);
        })

        // Function for filter clicks
        var setFilterClicks = function(e, thisFilterEl, isLoad) {
            e.preventDefault();

            var thisFilter = $(thisFilterEl).attr('data-filter'),
                $thisFilter = $facetedSearch.find('.filter-options [data-filter="' + thisFilter + '"]');

            if (thisFilter == "") {

                $facetedSearch.find('.fulltext-field').val('');
                $facetedSearch.find('.filter-options .active').removeClass('active');
                $facetedSearch.find('.filter-options [data-filter]:checked').prop('checked', false);
                $facetedSearch.find('.selected-filters p[data-filter]').remove();
                if (!isLoad) {
                    facetedSearch.util.updateSelectors(thisFilter);
                }

                // Reset dataTable sorting
                facetedSearch.dataTable.order([0, 'asc']);
            } else {

                if ($thisFilter.hasClass('active') || $thisFilter.siblings('a').hasClass('active')) {
                    // If filter is active, remove it
                    // TODO: This must also work for active filters area?
                    $thisFilter.prop('checked', false);
                    $thisFilter.removeClass('active');
                    $thisFilter.siblings('a').removeClass('active');
                    $facetedSearch.find('.selected-filters p[data-filter="' + thisFilter + '"]').remove();
                    if (!isLoad) {
                        facetedSearch.util.updateSelectors(thisFilter, true);
                    }
                } else {
                    // If filter is inactive, add it
                    $thisFilter.prop('checked', true);
                    $thisFilter.siblings('a').addClass('active');
                    $facetedSearch.find('.selected-filters').append('<p class="active" data-filter="' + thisFilter + '">' + $thisFilter.parents('.vertical.menu').find('.primary').eq(0).text() + ': ' + $thisFilter.data('text') + '</p>');

                    if (!isLoad) {
                        facetedSearch.util.updateSelectors(thisFilter);

                        // If it's not on load, clicking on a child filter should remove all active parent filters
                        $thisFilter.parents('li').each(function() {
                            var $thisActiveParent = $(this).children('input:checked');
                            if ($thisActiveParent.length > 0 && !$thisActiveParent.is($thisFilter)) {
                                $thisActiveParent.click();
                            }
                        })
                    }

                }

            }

            // Toggle Clear All link based on selected filters
            if ($facetedSearch.find('.selected-filters p[data-filter]').length == 0) {
                $facetedSearch.find('.clear-all').addClass('hide');
            } else {
                $facetedSearch.find('.clear-all').removeClass('hide');
            }

            if (!isLoad) {
                // Timeout in case user wants to select multiple filters ?
                facetedSearch.getResults($facetedSearch);
            }
            e.stopPropagation();
            return false;
        }

        // Set clicks on accordions - this is required to prevent the accordions from openining on click
        $facetedSearch.find('a[data-filter]').on('click', function(e) {
            setFilterClicks(e, this, false);
        });
        $facetedSearch.find('input[data-filter]').on('change', function(e) {
            setFilterClicks(e, this, false);
        });
        // This is what fires to set up the filters on load if any were rememebered via selectors in teh URL
        $facetedSearch.find('[data-filter]').on('setUpFilter', function(e) {
            setFilterClicks(e, this, true);
        });

        // Set clicks via delegation on active filters
        $facetedSearch.find('.selected-filters').on('click', '[data-filter]', function(e) {
            setFilterClicks(e, this, false);
        });

        // Sorting headers must add selector
        // Unbind default sorting event here with click.dt
        $facetedSearch.find('.results th').on('click', function(e) {
            var index = $(this).index(),
                order = $(this).attr('aria-sort') == 'ascending' ? 'asc' : 'desc';

            facetedSearch.util.updateSelectors('sort=' + index + ',' + order);
            return false;
        })

        // Search field
        $facetedSearch.find('form.search-field').on('submit', function(e) {
            e.preventDefault();
            var text = $(this).find('.fulltext-field').val();
            text = text.replace(/[\/\.]/g, ' ');

            // Fulltext query uses a parameter instead of a selector
            var queryParam = 'query=' + text;
            var params = location.search.replace('?', '').length == 0 ? [] : location.search.replace('?', '').split('&');

            for (var i = 0; i < params.length; i++) {
                var thisParam = params[i];
                if (thisParam.indexOf('query=') > -1) {
                    if (text == '') {
                        params.splice(i, 1);
                    } else {
                        params[i] = queryParam;
                    }
                }
            }
            if (text !== '' && params.indexOf(queryParam) == -1) {
                // If it's a new param, add it
                params.push(queryParam);
            }

            var paramString = params.length > 1 ? params.join('&') : params.toString();

            var urlPath = location.pathname + '?' + paramString;

            // Push new URL to browser
            window.history.pushState({
                'url': urlPath
            }, null, urlPath);

            facetedSearch.getResults($facetedSearch);
            return false;
        })

        // Collapse all
        $facetedSearch.find('.collapse-all').on('click', function(e) {
            e.preventDefault();
            if (!$(this).hasClass('disabled')) {
                $facetedSearch.find('[data-accordion-menu]').each(function() {
                    var $thisMenu = $(this);
                    // Updated with this workaround since "hideAll" functionality does not update -/+ icon appropriately
                    $thisMenu.foundation('up', $thisMenu.find('[data-submenu]'));
                })
                $(this).addClass('disabled');
            }
            $(this).siblings().removeClass('disabled');
        })

        // Expand all
        $facetedSearch.find('.expand-all').on('click', function(e) {
            e.preventDefault();
            if (!$(this).hasClass('disabled')) {
                $facetedSearch.find('[data-accordion-menu]').each(function() {
                    var $thisMenu = $(this);
                    $thisMenu.foundation('down', $thisMenu.find('[data-submenu]'));
                })
                $(this).addClass('disabled');
            }
            $(this).siblings().removeClass('disabled');
        })

        // Toggle Expand/Collapse all buttons if not applicable to the current filters state
        $('[data-accordion-menu]').on('up.zf.accordionMenu', function() {
            $facetedSearch.find('.expand-all').removeClass('disabled');
        }).on('down.zf.accordionMenu', function() {
            $facetedSearch.find('.collapse-all').removeClass('disabled');
        })

        // Prevent window from popping up on accordion item click
        $('[data-accordion-menu] a').on('click', function(e) {
            e.preventDefault();
        })

        // Pagination selectors
        facetedSearch.dataTable.on('page.dt', function() {
            facetedSearch.util.updateSelectors("page=" + facetedSearch.dataTable.page());

            // Update current page number of results
            var thisPage = facetedSearch.dataTable.page.info();
            $facetedSearch.find('.page-count').text(thisPage.end - thisPage.start);

            // Must re-init links to capture secure asset links
            sl.components.links.init();
        });
    },
    // Gets the filters the user has currently selected and returns them as an array of selectors
    "getActiveFilters": function($facetedSearch) {
        var facetedSearch = this,
            activeFilters = [];

        $facetedSearch.find('.filter-options [data-filter]:checked').each(function() {
            var $thisActiveFilter = $(this),
                thisSelector = facetedSearch.util.convertTagPathToSelector($thisActiveFilter.data('filter'));
            activeFilters.push(thisSelector);
        })
        return activeFilters;
    },
    // Do AJAX call and populate data in table
    "getResults": function($facetedSearch, callback) {
        var facetedSearch = this;
        var query = [];

        var $resultTemplate = $('<tr class=""><td class="title"></td><td class="version"></td><td class="resource-type"></td></tr>');

        var $querybuilder = $facetedSearch.find('.query-builder');
        $querybuilder.addClass('loading');

        // Data to pass as parameters to servlet
        var queryData = {};

        // Text to search for
        var text = $facetedSearch.find('.fulltext-field:visible').val();
        if (text !== '') {
            queryData['fulltext'] = text;
        }

        var activeFilters = facetedSearch.getActiveFilters($facetedSearch);

        // If there are filters selected...
        if (activeFilters.length > 0) {

            if (activeFilters.toString().indexOf('ct-') > -1) {
                // If the user has selected at least one Content Type filter, use the user-defined filters
                query = activeFilters;
            } else {
                // If there is no content type selected, add all content types to the query selectors
                query = activeFilters.concat(facetedSearch.contentTypes);
            }
        } else {
            // If there are no filters selected, add all content types by default
            query = facetedSearch.contentTypes;
        }

        query = '/' + query.sort().join('/') + '.json';

        // Do request
        $.ajax({
            'url': '/sl/search/facetedsearchquery.json' + query,
            'data': queryData,
            'success': function(data) {
                var hits = data.hits;

                $facetedSearch.find('.page-count').text(facetedSearch.numPerPage > data.total ? data.total : facetedSearch.numPerPage);
                $facetedSearch.find('.result-count').text(data.total ? data.total : data.results);

                sl.components.facetedSearch.dataTable.rows().remove();

                if (hits.length > 0) {
                    for (var i = 0; i < hits.length; i++) {
                        var thisHit = hits[i],
                            $hitRow = $resultTemplate.clone().addClass('clone');

                        if (thisHit.externalPath.indexOf('/login/') > -1) {
                            $hitRow.addClass('secure');
                        }

                        $hitRow.children('.title').append('<a href="' + thisHit.externalPath + '">' + thisHit.name + '</a>');
                        $hitRow.children('.version').append(thisHit.version);
                        $hitRow.children('.resource-type').append(thisHit.contentTypeTitle);

                        sl.components.facetedSearch.dataTable.row.add($hitRow);
                    }
                }

                facetedSearch.dataTable.draw();

                // Must re-init links to capture secure asset links
                sl.components.links.init();

                $querybuilder.removeClass('loading');

                if (callback) {
                    callback();
                }
            },
            'error': function(data) {
                console.warn(data)
                $querybuilder.removeClass('loading');
            }
        })
    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.lazyLoading = {
    "init": function() {

        if (isEdit || isDesign) {
            $('img.lazy-loading').each(function() {
                $(this).width('auto');
                $(this).height('auto');
            });
        }

        $.fn.lazyInterchange = function() {
            var selectors = this.each(function() {
                if ($(this).attr('data-lazy')) {
                    $(this).attr('data-interchange', $(this).attr('data-lazy'));
                    $(this).removeAttr('data-lazy');
                    new Foundation.Interchange($(this));
                    $(this).addClass('lazy-loaded');
                    $('body,html').scroll();
                }
            });
            return selectors;
        };

        var options = {
            chainable: false,
            afterLoad: function(element) {
                $(element).lazyInterchange();
                Foundation.reInit($(element));
            }
        };

        // If the use is trying to go to an anchor on the page, load all the images to ensure the correct scroll position
        if (location.hash.length > 0 && $(location.hash).length > 0) {

            $('.lazy-loading').on('replaced.zf.interchange', function() {

                // This checks if the actual image files are done loading before triggering the scroll event
                $(this).imagesLoaded()
                    .always(function(instance) {
                        $(window).trigger('all-lazy-images-loaded');
                    })
            })

            // TODO: Fix this if possible but currently loadAll and force are not working as documented!
            options.threshold = 100000000000000000000;
        }

        var lazy = $(".lazy-loading").Lazy(options);
        // Safari bug fix for window.load not firing before document.ready so $.Lazy is not initalized in time
        var windowLoaded = false;
        $(window).on('load', function() {
            windowLoaded = true;
        })
        if (!windowLoaded) {
            var lazyNamespace = lazy.config('name');
            // Since this only runs once per page there should only be one lazy instance (hence "1")
            $(window).trigger('load.' + lazyNamespace + '-1');
        }
        // END Safari bug fix

    }
}
sl = sl || {};
sl.components = sl.components || {};


sl.components.deviceTableWithFilters = {
    "init": function(isReinit) {
        var deviceTable = this,
            deviceTablesSelector = '.device-table-with-filters, .part-grouping-table',
            $deviceTables = $(deviceTablesSelector);

        $deviceTables.each(function() {
            var $thisDeviceTable = $(this),
                $filterSection = $thisDeviceTable.find('.status-filters');

            deviceTable.setUpTables($thisDeviceTable.find('.table-responsive'));

            // Populate filters based on table content
            $thisDeviceTable.find('tr[data-status]').each(function() {
                var $thisDevice = $(this),
                    thisStatus = $thisDevice.data('status'),
                    thisStatusTitle = $thisDevice.find('.status').attr('title'),
                    thisStatusAbbr = $thisDevice.find('.status').data('abbr');

                var $thisStatusEl = $filterSection.find('.template').clone().addClass('clone').removeClass('template');

                $thisStatusEl
                    .text(thisStatusAbbr)
                    .attr('title', thisStatusTitle)
                    .attr('data-filter', thisStatus);

                if ($filterSection.find('[data-filter="' + thisStatus + '"]').length == 0) {
                    $filterSection.append($thisStatusEl);
                }

            })

            if ($filterSection.children('a.clone').length > 0) {
                $filterSection.removeClass('hide');
            }
        })

        // In case of re-initialization
        if (!isReinit) {
            $deviceTables.on('click', '.status-filters a', function(e) {
                e.preventDefault();

                var $thisFilter = $(this),
                    thisFilter = $thisFilter.data('filter'),
                    $thisTable = $thisFilter.parents(deviceTablesSelector);

                if ($thisFilter.hasClass('active')) {
                    $thisTable.find('tr[data-status="' + thisFilter + '"]').hide();
                    $thisFilter.removeClass('active');
                } else {
                    $thisTable.find('tr[data-status="' + thisFilter + '"]').show();
                    $thisFilter.addClass('active');
                }
            })
        }

        var devToShow = $('.device-table-with-filters table').attr("devices-to-show");
        var totalSize=$('.device-table-with-filters tr').length-1;
        if (typeof(devToShow) != "undefined"){
            $('.device-table-with-filters tr').each(function (index ){
                if(index>devToShow){
                    $(this).addClass("no-show");
                }
                if(index==devToShow){
                    $(this).find(".sticky-col").addClass("bott-border");
                }
            });
            if(totalSize-devToShow>0){
                $('#show-more').html("<a href=\"javascript:void(0)\" >Show "+(totalSize-devToShow)+" More</a>");
                $('.more-items').show()
                $('#show-more').click(function(){
                    $('.device-table-with-filters tr').each(function (){
                        $(this).removeClass("no-show");
                    });
                    $('.more-items').hide();
                    removeBottomBorder();

                    //Add border to last cell
                    $('.device-table-with-filters tr').last().find(".sticky-col").addClass("bott-border");
                    var $div = $(".table-responsive");
                    if ( $div.scrollLeft() == ($div.find("table").width() - $div.width())) {
                        $('.table-fade').hide();
                    }else{
                        $('.table-fade').show();
                    }
                });
            }
        }
        $('.device-table-with-filters .size').html(totalSize);

        var removeBottomBorder = function(){
            $('.device-table-with-filters tr').each(function (index ){
                if(index==devToShow){
                    $(this).find(".sticky-col").removeClass("bott-border");
                }
            });
        };

        var scrollDetect = function($div){
            /** 175px width is given part number column **/
            var scrollLen = $div.find("table").width()- $div.width();
            if ( ($div.scrollLeft() - 175) >= scrollLen) {
                $('.table-fade').hide();
            }else {
                $('.table-fade').show();
            }
        };

        scrollDetect($(".table-responsive"));
        $(".table-responsive").on("scroll", function(){
            scrollDetect($(this));
        });

        var devtable = $(".device-table-with-filters table");
        $(devtable).DataTable({
            "columnDefs": [
                { "orderable": false, "targets": "_all" }
            ],
            "paging": false,
            "ordering": false,
            "autoWidth": false
        });

        $('body').on('click', '.device-table-with-filters .columns-filters p.active', function(){
            var filterID = this.id;
            delete sl.components.deviceTableColumnDataFiltersPopup.activeFilters[filterID];
            var colOrder = $(this).attr("column-order");
            var col = $(".device-table-with-filters th[data-columnsorder="+(colOrder-1)+"]")
            if($(col).hasClass("sorting_asc")){
                $(col).removeClass("sorting_asc");
            }
            if($(col).hasClass("sorting_desc")){
                $(col).removeClass("sorting_desc");
            }
            $(this).remove();
            sl.components.deviceTableColumnDataFiltersPopup.reloadTable();

        });

        /** Moving featured row to top **/
        var $featuredRow = $(devtable).find("tr.featured");
        $($featuredRow).prependTo(".device-table-with-filters table");

    },
    "setUpTables": function($deviceTable) {
        var cols = $deviceTable.find('td:first-child, th:first-child'),
            fixedColWidth = 0;

        // Reset if the table is being re-initialized
        if (typeof $deviceTable.find('table') !== 'undefined') {
            $deviceTable.find('table').removeAttr('style');
            $deviceTable.find('td:first-child, th:first-child').removeAttr('style');
        }

        // Get max column width
        for (var i = 0; i < cols.length; i++) {
            var $thisCol = $(cols[i]),
                thisColHeight = $thisCol.height();

            // must preserve height for when it gets pos:abs
            if ($thisCol.is('th')) {
                // For some reason this is required for th alignment
                $thisCol.height(thisColHeight + 2);
            } else {
                $thisCol.height(thisColHeight + 1);
            }

            $thisCol.siblings().height(thisColHeight);

            /*if ($thisCol.outerWidth() > fixedColWidth) {
                fixedColWidth = $thisCol.outerWidth();
            }*/
        }

        //cols.width(fixedColWidth);

        // Add margin to the table so fixed column doesn't overlap with other content
        // -1 to accomodate extra border
        var newMaxColWidth = cols.outerWidth();// + 40;
        var paddingLeft = parseInt($(cols.get(1)).css('padding-left'));
        var paddingRight = parseInt($(cols.get(1)).css('padding-right'));
        newMaxColWidth = paddingLeft + newMaxColWidth + paddingRight;
        $deviceTable.find('table').css({
            "margin-left": newMaxColWidth,
            "width": "calc(100% - " + newMaxColWidth + "px)"
        })
        $deviceTable.css('visibility', 'visible');
    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.deviceTableColumnDataFiltersPopup = {
    "activeFilters": {},
    "allFilters": {},
    "init": function() {
        var columnDataFiltersPopup = this;
        var defaultTableHeadersOrder = new Map();
        var defaultTableHeaders = [];

        sl.components.deviceTableColumnDataFiltersPopup.getAllFilterValues();
        sl.components.deviceTableColumnDataFiltersPopup.bindEvents();
        sl.components.deviceTableColumnDataFiltersPopup.filterUsingQueryParams();


    },
    "filterUsingQueryParams": function () {
        if($(".devicetable-with-filter").length > 0){
            var fullURL = new URL(window.location.href);
            var queryString = new URLSearchParams(fullURL.search);
            var l2attributefilterkey = queryString.get('sl-l2attributefilterkey');
            console.debug("l2attributefilterkey--"+l2attributefilterkey);
            var l2attributefiltervalue = queryString.get('sl-l2attributefiltervalue');
            console.debug("l2attributefiltervalue--"+l2attributefiltervalue);
            var l2columnname = queryString.get('sl-l2columnname');
            console.debug("l2columnname--"+l2columnname);

            if((typeof l2attributefilterkey === 'undefined' || l2attributefilterkey == null || l2attributefilterkey === '')
                || (typeof l2attributefiltervalue === 'undefined' || l2attributefiltervalue == null || l2attributefiltervalue === '')
                || (typeof l2columnname === 'undefined' || l2columnname == null || l2columnname === '')){// Unexpected URL params do nothing. just return.
                console.log('undefined values');
                return false;
            }

            $('#show-more').click();
            var data_columnsorder, columnHeaderVal, selectedFilterID, columnNotFound = true;
            var valueExists = false;
            var deviceTable = $(".devicetable-with-filter table").DataTable();
            $(".devicetable-with-filter table th").each(function (index){
                //console.log($(this).attr('data-column-attribute-id'));
                if(typeof $(this).attr('data-column-attribute-id') !== 'undefined'
                    && $(this).attr('data-column-attribute-id') == l2attributefilterkey){
                    columnNotFound = false;
                    var tableValuesArray = deviceTable.columns(index).data().eq(0);// Reduce the 2D array into a 1D array of data
                    for(var i=0; i < tableValuesArray.length; i++ ){
                        if(tableValuesArray[i].indexOf(l2attributefiltervalue) > -1){
                            valueExists = true; return false;
                        }
                    }
                }
            });
            if(columnNotFound){// Column not found. Show message and display unfiltered tabled.
                var filters = $('.columns-filters');
                var item = "<p class='active'>"+l2columnname+" not available for filtering</p>";
                $(filters).append(item);
                return false;
            }

            if(!columnNotFound && !valueExists){// Column found but value not found. Show message and display unfiltered tabled.
                var filters = $('.columns-filters');
                var item = "<p class='active'>"+l2columnname+": "+l2attributefiltervalue+" not available for filtering</p>";
                $(filters).append(item);
                return false;
            }

            if(!columnNotFound && valueExists){ // Column and value exist in the table, proceed with filtering.
                $(".devicetable-with-filter table th").each(function (){
                    if($(this).attr('data-column-attribute-id') == l2attributefilterkey){
                        data_columnsorder = parseInt($(this).attr('data-columnsorder')) + 1;
                        selectedFilterID = columnHeaderVal = $(this).text();
                        //selectedFilterID = selectedFilterID.toLowerCase().replace(/[\(\)\/]+/g, '').replace(/ /g,'');
                        selectedFilterID = selectedFilterID.toLowerCase();
                        selectedFilterID = $.trim(selectedFilterID.replace(/[\t\n]+/g,''));
                        selectedFilterID = selectedFilterID.replace(/[^A-Za-z0-9]/g,"");
                        //console.log(selectedFilterID);
                        var filters = $('.columns-filters');
                        var item;
                        item = "<p class='active' id='"+selectedFilterID+"' column-order='"+data_columnsorder+"'>"+columnHeaderVal+": "+l2attributefiltervalue+"</p>"
                        $(filters).append(item);
                        // Create filter object
                        var thisFilterObj = {
                            'filter': selectedFilterID,
                            'val': columnHeaderVal+":"+l2attributefiltervalue,
                            'column': data_columnsorder,
                            'columnHeader': columnHeaderVal
                        };
                        sl.components.deviceTableColumnDataFiltersPopup.activeFilters[selectedFilterID] = thisFilterObj;
                        sl.components.deviceTableColumnDataFiltersPopup.reloadTable();
                        return false;
                    }
                });
            }


        }
    },
    "bindEvents" : function(){
        var $deviceTableWithFilters = $('.device-table-with-filters'),
            $devicetable_with_filter_table = $deviceTableWithFilters.find(".devicetable-with-filter table"),
            $columndataFiltersPopup = $deviceTableWithFilters.find('.devicetable-columndata-filters-popup');
        $devicetable_with_filter_table.on('click', 'span.sort', function() {
            sl.components.deviceTableColumnDataFiltersPopup.createPopup($(this));
            defaultTableHeaders = sl.components.deviceTableColumnDataFiltersPopup.addColumnsValuesToPopup($(this));
            $('#show-more').click();
        });

        $columndataFiltersPopup.on('click', 'a.popup-close', function() {
            $columndataFiltersPopup.hide();
        });

        $(document).mouseup(function(e) {
            var container = $columndataFiltersPopup;//$(".slbs2-column-filters-popup");
            if (container) {
                if (!container.is(e.target) // if the target of the click isn't the container...
                    &&
                    container.has(e.target).length === 0) // ... nor a descendant of the container
                {
                    container.hide();
                    $(".columns-link.active").removeClass('active');
                }
            }
        });

        $(window).on('resize', function() {
            var theParentContainer = $columndataFiltersPopup;//$('.slbs2-column-filters-popup');
            if (theParentContainer.css('display') != 'none') {
                sl.components.deviceTableColumnDataFiltersPopup.positionPopup(theParentContainer);
            }
        });

        //Select all/Clear all column items
        //$(".slbs2-columndata-filters-popup .sort-by-option").on('click', function() {
        $columndataFiltersPopup.find(".sort-by-option").on('click', function() {
            sl.components.deviceTableColumnDataFiltersPopup.doSortBy($(this));
        });


        //Select all/Clear all column items
        $columndataFiltersPopup.find("#selectAll, #clearAll").on('click', function() {
            sl.components.deviceTableColumnDataFiltersPopup.toggleFilterSelection(this.id);
        });

        //Search through text field
        $columndataFiltersPopup.find("#searchField").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $columndataFiltersPopup.find("#sortable li").filter(function() {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });

        //$(".slbs2-columndata-filters-popup #ok-button").on('click', function() {
        $columndataFiltersPopup.find("#ok-button").on('click', function() {
            var filters = $('.columns-filters');
            var selectedFilterID = $('.columndata-filter').attr('data-filter-id');
            var selectedFilterLabel = $('.columndata-filter').attr('data-filter-name');
            var selectedFilterColumn = $('.columndata-filter').attr('column-order');
            var isPresent = function () {
                var filter = $(filters).find("#"+selectedFilterID);
                if(filter.length!=0){
                    return true;
                }else{
                    return false;
                }
            };
            var selectedFilterDataList = $('.columndata-filter li input:checked');
            var data, item;
            if(selectedFilterDataList.size()>0){
                if(isPresent()){
                    $(filters).find("#"+selectedFilterID).remove();
                }
                $(selectedFilterDataList).each(function(index){
                    var text = $(this).val();
                    text = $.trim(text.replace(/[\t\n]+/g,''));
                    if(index==0){
                        data = text;
                    }else{
                        data = data+ "|"+ text;
                    }
                });
                item = "<p class='active' id='"+selectedFilterID+"' column-order='"+selectedFilterColumn+"'>"+selectedFilterLabel+": "+data+"</p>"
                $(filters).append(item);

                // Create filter object
                var thisFilterObj = {
                    'filter': selectedFilterID,
                    'val': selectedFilterLabel+":"+data,
                    'column': selectedFilterColumn,
                    'columnHeader': selectedFilterLabel
                };
                //console.log(thisFilterObj);
                // Add filter to filters object
                var filterKey = selectedFilterID;
                sl.components.deviceTableColumnDataFiltersPopup.activeFilters[filterKey] = thisFilterObj;

            }else{
                $(filters).find("#"+selectedFilterID).remove();
                delete sl.components.deviceTableColumnDataFiltersPopup.activeFilters[selectedFilterID];
            }

            sl.components.deviceTableColumnDataFiltersPopup.reloadTable();


            /*Sorting Logic*/
            var columnSelected = parseInt($(".columndata-filters-container").attr("column-selected"));
            var activeSortBy = $(".columndata-filters-container .sort-by-option.active");
            var $deviceTable = $('.device-table-with-filters');

            if(activeSortBy.length>0){
                var option = activeSortBy[0];
                var devtable = $deviceTable.find('table');
                $(devtable).DataTable().destroy();
                var $dataTable = $(devtable).DataTable({
                    "columnDefs": [
                        { "orderable": false, "targets": "_all" }
                    ],
                    "paging": false,
                    "autoWidth": false
                });
                if($(option).hasClass("asc")){
                    $dataTable.column(""+columnSelected)
                        .order("asc")
                        .draw();
                }else{
                    $dataTable.column(""+columnSelected)
                        .order("desc")
                        .draw();
                }
            }

            //Very important to close the popup after clicking on OK.
            //$(".slbs2-columndata-filters-popup").hide();
            $columndataFiltersPopup.hide();
        });

        //Close the popup without taking any action.
        //$(".slbs2-columndata-filters-popup #cancel-button").on('click', function() {
        $columndataFiltersPopup.find("#cancel-button").on('click', function() {
            $columndataFiltersPopup.hide();
        });
    },
    "createPopup": function($sort) {
        var theParentContainer = $('.devicetable-columndata-filters-popup');
        var theDataContainer = $('.columndata-filters-container');

        if (!theParentContainer.is(':hidden')) {
            theParentContainer.hide();
        } else {
            sl.components.deviceTableColumnDataFiltersPopup.positionPopup($sort, theParentContainer);
            theParentContainer.show();
        }
    },
    "positionPopup": function($sort, $popup) {
        var positionElement = $($sort);
        if (positionElement.length) {
            var popupOffset = positionElement.offset();
            var left = popupOffset.left;

            if (popupOffset.left + $popup.outerWidth() > $('.row').width() && Foundation.MediaQuery.atLeast('medium')) {
                left = popupOffset.left - $popup.outerWidth() + positionElement.outerWidth();
            } else if (Foundation.MediaQuery.current == "small") {
                left = '15px';
            }

            var headerNavHeight = $('.slbs2-header.slbs2-nav').height() !== null ? $('.slbs2-header.slbs2-nav').height() : 0;
            var breadcrumbHeight = $('.slbs2-breadcrumb').parent().height() !== null ? $('.slbs2-breadcrumb').parent().height() : 0;
            var top = (popupOffset.top + positionElement.outerHeight()) - (headerNavHeight + breadcrumbHeight);
            $('.loading-div').removeClass('icon-loading');
            $popup.css({
                'top': top + 10,
                'left': left,
                'z-index': 2000
            });
        }

    },
    "addColumnsValuesToPopup": function($sort) {
        var columnSetVal = [];
        var idVal;
        var parentTh= $($sort).parents('th');
        var filterName=$(parentTh).text().trim();
        var columnOrderPresent = $(parentTh).attr("data-columnsorder");
        var columnsOrder =  parseInt(columnOrderPresent)+1;
        var theParentContainer = $('devicetable-columndata-filters-popup');
        var theDataContainer = $('.columndata-filters-container');
        var ulElement = $(theDataContainer).find('ul#sortable');
        $(theDataContainer).attr("column-selected",columnsOrder);
        ulElement.empty();

        columnSetVal = sl.components.deviceTableColumnDataFiltersPopup.allFilters[columnOrderPresent];

        $('.columndata-filter').attr("data-filter-name", filterName);
        var fName = filterName.toLowerCase();
        fName = fName.replace(/[^A-Za-z0-9]/g,"");

        $('.columndata-filter').attr("data-filter-id", fName);
        $('.columndata-filter').attr("column-order", columnsOrder);
        $.each(columnSetVal, function(index, value){
            idVal = value.toLowerCase();
            idVal = $.trim(idVal.replace(/[\t\n]+/g,''));
            idVal = idVal.replace(/[^A-Za-z0-9]/g,"");
            idVal = fName+"-"+idVal;
            var liElement = "<li class='ui-state-default ui-sortable-handle'>";
            liElement = liElement + "<input class='form-check-input' type='checkbox' value='"+value+"' id='"+idVal+"' />";
            liElement = liElement + "<label class='form-check-label' for='"+idVal+"' >"+value+"</label>";
            liElement = liElement + "<span class='ui-icon ui-icon-arrowthick-2-n-s' />";

            $(liElement).appendTo(ulElement);
        });
        $( "#sortable" ).sortable();
        $( "#sortable" ).disableSelection();
        this.toggleColumnDataSelection();


        /*Sorting Filtering option by asc order*/
        var filterOptions = $(ulElement).find("li");
        filterOptions.sort(function(a, b) {
            var compA = $(a).text().toUpperCase();
            var compB = $(b).text().toUpperCase();
            return (compA < compB) ? -1 : 1;
        });
        $.each(filterOptions, function(i, itm) {
            ulElement.append(itm);
        });


        /* Setting Sort-By option selected */
        $(".sort-by-option").each(function () {

            if($(parentTh).hasClass("sorting_asc")){
                if($(this).hasClass("asc")) {
                    $(this).addClass("active");
                }
            }else if($(parentTh).hasClass("sorting_desc")){
                if($(this).hasClass("desc")){
                    $(this).addClass("active");
                }
            }else{
                $(this).removeClass("active");
            }


        });
    },
    "toggleColumnDataSelection": function() {
        var filters = $('.columns-filters');
        var selectedFilterID = $('.columndata-filter').attr('data-filter-id');
        var valID;
        var existingFilter = $(filters).find("#"+selectedFilterID);
        if(existingFilter.length>0){
            var value = $(existingFilter).text().split(":")[1];
            var splitVal = value.split("|");
            if($(splitVal).size()>0){
                $(splitVal).each(function(index, value){
                    valID = value.toLowerCase();
                    valID = $.trim(valID.replace(/[\t\n]+/g,''));
                    valID = valID.replace(/[^A-Za-z0-9]/g,"");
                    valID = selectedFilterID+"-"+valID;
                    $('.columndata-filter li input#'+valID).prop( "checked", true );
                });
            }
        }

    },
    "toggleFilterSelection": function(idValue) {
        // ID selector on Items Container
        var parent = $(".columndata-filters-container");
        var listCheckItems = $(parent).find("#sortable :checkbox");
        if(idValue == 'selectAll'){
            listCheckItems.prop("checked", true);
        } else if(idValue == 'clearAll') {
            listCheckItems.prop("checked", false);
        }
    },
    "reloadTable" : function(){
        var  $deviceTable = $('.device-table-with-filters');
        var devtable = $deviceTable.find('table');
        $(devtable).DataTable().destroy();
        $(devtable).DataTable({
            "columnDefs": [
                { "orderable": false, "targets": "_all" }
            ],
            "paging": false,
            "ordering":false,
            "autoWidth": false
        });
        $(devtable).DataTable().draw();
        //Commenting for not showing 'Narrowed to X'
        /*var tableRowCount = $(devtable).find("tr").length;
        var filtersCount = $('.device-table-with-filters .columns-filters p.active').length;
        $('.device-table-with-filters .columns-filters span.count').text(tableRowCount-1);
        if(filtersCount>0){
            $('.device-table-with-filters .columns-filters span.filter-text').show();
        }else{
            $('.device-table-with-filters .columns-filters span.filter-text').hide();
        }*/

        /** To bring the featured row to top once all the filters has been removed **/
        var filtersCount = $('.device-table-with-filters .columns-filters p.active').length;
        if(filtersCount==0){
            /** Moving featured row to top **/
            var $featuredRow = $(devtable).find("tr.featured");
            $($featuredRow).prependTo(".device-table-with-filters table");

            /** Remove all the sorting enabled **/
            var sortedTh = $(devtable).find("th.sorting_asc, th.sorting_desc");
            $(sortedTh).each(function(){
               if($(this).hasClass("sorting_asc")){
                   $(this).removeClass("sorting_asc");
               }
                if($(this).hasClass("sorting_desc")){
                    $(this).removeClass("sorting_desc");
                }
            });
        }

    },
    "isTableRowActive": function(rowData) {
        var columnDataSearch = this,
            activeFilters = this.activeFilters,
            filterVals = [],
            columnFilterVals =[],
            isActive = false;

        // This uses AND logic, so if any items are untrue the row will NOT show
        if (rowData) {

            // Check for filters
            if (Object.keys(activeFilters).length > 0) {

                for (var key in activeFilters) {
                    var filter = activeFilters[key],
                        rowVal = rowData[filter.column];

                    if (typeof filter.val !== 'undefined' && typeof rowVal !== 'undefined') {

                        if (filter.val.match(/^(-?[0-9.]*)\-(-?[0-9.]*)$/g) !== null) {
                            var regex = new RegExp('^(-?[0-9.]*)\-(-?[0-9.]*)$', 'g');
                            var range = regex.exec(filter.val),
                                min = range[1],
                                max = range[2];

                            rowVal = parseFloat(rowVal);

                            if (min <= rowVal && rowVal <= max) {
                                filterVals.push(true);
                            } else {
                                filterVals.push(false);
                            }
                        } else if (filter.val.indexOf('|') > -1) {
                            var filterArr = filter.val.split(':')[1];
                            var filterValArr = filterArr.split('|');
                            columnFilterVals=[];
                            $(filterValArr).each(function(filterIndex){
                                if(rowVal.indexOf(",")>-1){
                                    var rowValArr = rowVal.split(",");
                                    var match = false;

                                    $(rowValArr).each(function(index){
                                        var value = rowValArr[index].ltrim().rtrim();
                                        if(value===filterValArr[filterIndex]){
                                            match = true;
                                        }
                                    });
                                    if(match){
                                        columnFilterVals.push(true);
                                    } else {
                                        columnFilterVals.push(false);
                                    }
                                }else{
                                    if(rowVal.indexOf("delimited")>-1){
                                        if(rowVal.indexOf(filterValArr[filterIndex])>-1){
                                            columnFilterVals.push(true);
                                        } else {
                                            columnFilterVals.push(false);
                                        }
                                    }else if(rowVal.indexOf("bool-value")>-1){
                                        if(filterArr=="Yes"){
                                            if(rowVal.indexOf("data-yes")>-1){
                                                filterVals.push(true);
                                            } else {
                                                filterVals.push(false);
                                            }
                                        }else if(filterArr=="No"){
                                            if(rowVal.indexOf("data-no")>-1){
                                                filterVals.push(true);
                                            } else {
                                                filterVals.push(false);
                                            }
                                        }
                                    }else{
                                        if (rowVal===filterValArr[filterIndex]) {
                                            columnFilterVals.push(true);
                                        } else {
                                            columnFilterVals.push(false);
                                        }
                                    }
                                }
                            });

                        } else {
                            var filterArr = filter.val.split(':')[1];
                            if(rowVal.indexOf(",")>-1){
                                var rowValArr = rowVal.split(",");
                                var match = false;
                                $(rowValArr).each(function(index){
                                    var value = rowValArr[index].ltrim().rtrim();
                                    if(value===filterArr){
                                        match = true;
                                    }
                                });
                                if(match){
                                    filterVals.push(true);
                                } else {
                                    filterVals.push(false);
                                }
                            }else{
                                if(rowVal.indexOf("delimited")>-1){
                                    if(rowVal.indexOf(filterArr)>-1){
                                        filterVals.push(true);
                                    } else {
                                        filterVals.push(false);
                                    }
                                }else if(rowVal.indexOf("bool-value")>-1){
                                    if(filterArr=="Yes"){
                                        if(rowVal.indexOf("data-yes")>-1){
                                            filterVals.push(true);
                                        } else {
                                            filterVals.push(false);
                                        }
                                    }else if(filterArr=="No"){
                                        if(rowVal.indexOf("data-no")>-1){
                                            filterVals.push(true);
                                        } else {
                                            filterVals.push(false);
                                        }
                                    }
                                }else{
                                    if (rowVal===filterArr) {
                                        filterVals.push(true);
                                    } else {
                                        filterVals.push(false);
                                    }
                                }
                            }
                        }
                    } else {
                        // If the row doesn't have the attribute it's considered false
                        filterVals.push(false);
                    }
                    if(columnFilterVals.length>0){
                        if (columnFilterVals.indexOf(true) != -1) {
                            filterVals.push(true);
                        }else{
                            filterVals.push(false);
                        }
                    }

                }
            }
        }

        if (filterVals.length == 0) {
            // No filters are applied, include everything
            isActive = true;
        } else if (filterVals.indexOf(false) == -1) {
            // Only display if all filtervals are true for this row
            isActive = true;
        }

        return isActive;
    },
    "getFilterValues":function ($sort) {
        var columnSetVal = [];
        var delimitedContent = "";
        var delimitedText = "";
        var columnsOrder =  parseInt($($sort).parents('th').attr("data-columnsorder"))+1;
        String.prototype.ltrim = function() {
            var trimmed = this.replace(/^\s+/g, '');
            return trimmed;
        };
        String.prototype.rtrim = function() {
            var trimmed = this.replace(/\s+$/g, '');
            return trimmed;
        };


        $('.device-table-with-filters table tr').each(function(index){
            if(index>0){
                var $thisContentElem = $(this).find("td:eq("+columnsOrder+")");
                var $thisContentHTML = $(this).find("td:eq("+columnsOrder+")").html();
                if(typeof ($thisContentHTML)!="undefined"){
                    var spanDelimited = $($thisContentElem).find("span.delimited");
                    var spanBoolean = $($thisContentElem).find("span.bool-value");
                    if(spanDelimited.length>0){
                        $(spanDelimited).each(function(index){
                            delimitedText = $(this).text();
                            columnSetVal.push(delimitedText.ltrim().rtrim());
                        });

                    }else if(spanBoolean.length>0){
                        $(spanBoolean).each(function(){
                            if($(this).hasClass("data-yes")){
                                columnSetVal.push("Yes");
                            }else{
                                columnSetVal.push("No");
                            }
                        });

                    }else{
                        var colText = $(this).find("td:eq("+columnsOrder+")").text().trim();
                        if(colText!=""){
                            if(colText.indexOf(",")>-1){
                                var colTextSplit = colText.split(",");
                                $(colTextSplit).each(function(index){
                                    columnSetVal.push(colTextSplit[index].ltrim().rtrim());
                                });
                            }else{
                                columnSetVal.push(colText.ltrim().rtrim());
                            }
                        }
                    }
                }else{
                    var colText = $(this).find("td:eq("+columnsOrder+")").text().trim();
                    if(colText!=""){
                        if(colText.indexOf(",")>-1){
                            var colTextSplit = colText.split(",");
                            $(colTextSplit).each(function(index){
                                columnSetVal.push(colTextSplit[index].ltrim().rtrim());
                            });
                        }else{
                            columnSetVal.push(colText.ltrim().rtrim());
                        }
                    }
                }
            }
        });
        columnSetVal = columnSetVal.filter(function(elem, index, self) {
            return index === self.indexOf(elem);
        });

        return columnSetVal;
    },
    "getAllFilterValues": function () {
        var $allSort = $('.device-table-with-filters span.sort');
        $($allSort).each(function(index){
            sl.components.deviceTableColumnDataFiltersPopup.allFilters[index]= sl.components.deviceTableColumnDataFiltersPopup.getFilterValues($(this));
        });
    },
    "doSortBy": function ($sortByElem) {
        $($sortByElem).addClass("active");
        $($sortByElem).siblings().removeClass("active");
    }

}

sl = sl || {};
sl.components = sl.components || {};

sl.components.deviceTableColumnFiltersPopup = {
    "init": function() {
        //console.log("column filterss..");
        var columnFiltersPopup = this;
        var defaultTableHeadersOrder = new Map();
        var defaultTableHeaders = [];
        var $deviceTableWithFilters = $('.device-table-with-filters'),
            $devicetable_with_filter_table = $deviceTableWithFilters.find(".devicetable-with-filter table"),
            $columnFiltersPopup = $deviceTableWithFilters.find('.devicetable-column-filters-popup');


        //$(document).on('click', 'a.columns-link, a.columns-link-mobile', function(e) {
        $deviceTableWithFilters.on('click', 'a.columns-link, a.columns-link-mobile', function(e) {
            //Prevent page jumping.
            e.preventDefault();
            $(this).addClass('active');
            columnFiltersPopup.createPopup();
            defaultTableHeaders = columnFiltersPopup.addColumnsToPopup();
            console.debug("defaultTableHeaders:"+defaultTableHeaders);
            //currentTable = $(pftable).DataTable();
        });

        $columnFiltersPopup.on('click', 'a.popup-close', function() {
            $columnFiltersPopup.hide();
            if($(".columns-link").hasClass('active')){
                $(".columns-link").removeClass('active');
            }
            if($(".columns-link-mobile").hasClass('active')){
                $(".columns-link-mobile").removeClass('active');
            }

        });

        $(document).mouseup(function(e) {
            var container = $columnFiltersPopup;
            var modalPopup = $("#popupModal");
            if (container) {
                if (!container.is(e.target) // if the target of the click isn't the container...
                    &&
                    container.has(e.target).length === 0 // ... nor a descendant of the container
                    && (!modalPopup.is(e.target) && modalPopup.has(e.target).length === 0)) //
                {
                    container.hide();
                    $(".columns-link.active").removeClass('active');
                    $(".columns-link-mobile.active").removeClass('active');
                }
            }
        });
        $(window).on('resize', function() {
            var theParentContainer = $columnFiltersPopup;//$('.devicetable-column-filters-popup');
            if (theParentContainer.css('display') != 'none') {
                columnFiltersPopup.positionPopup(theParentContainer);
            }
        });
        //Select all/Clear all column items
        $columnFiltersPopup.find(".select-all, .clear-all").on('click', function(e) {
            //console.log("select All clicked..");
            //Prevent page jumping.
            e.preventDefault();
            columnFiltersPopup.toggleColumnSelection(this.classList);
        });

        //Search through text field
        $columnFiltersPopup.find("#searchField").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#sortable li").filter(function() {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });

        $columnFiltersPopup.find("#ok-button").on('click', function() {
            console.log("logic for reordering columns of main table..");
            var activeFiltersBkp = {};
            if($devicetable_with_filter_table.length > 0){
                activeFiltersBkp = columnFiltersPopup.removeActiveFilters(sl.components.deviceTableColumnDataFiltersPopup.activeFilters);
            }

            //Get all Sorted Tabled headers
            var sortedTableHeaders = columnFiltersPopup.getSelectedItems()['sortedColumns'];

            //get all table headers sort order
            var sortedTableHeadersOrder = columnFiltersPopup.getSelectedItems()['sortedColumnsOrder'];

            //get all unchecked columns to hide
            var uncheckedColumns = columnFiltersPopup.getSelectedItems()['unCheckedColumns'];
            //console.log("sortedTableHeaders:"+sortedTableHeaders);
            //console.log("sortedTableHeadersOrder:"+sortedTableHeadersOrder);

            //Show modal popup if no column is selected for filtering.
            if($("#sortable :checkbox").length == uncheckedColumns.length){
                $("#popupModal").modal('show');
                return false;
            }
            //Logic for Sorting table header.
            //$(".devicetable-with-filter table thead tr th:not(.sticky-col)")
            $devicetable_with_filter_table.find("thead tr th:not(.sticky-col)")
                .each(function (index, value) {
                    $(this).text(sortedTableHeaders[index]);
                    $(this).append("<span class=\"sort\"></span>");
                    $(this).show();
                });

            //Logic for Sorting table data as per new sort order.
            //var columnCount = $(".devicetable-with-filter table thead tr th").length - 1;// Excluding 1st column.
            var columnCount = $devicetable_with_filter_table.find("thead tr th").length - 1;
            var tableData = [],rowsArr = [];
            var rowsCounter = 0,columnsCounter = 0;
            //Logic for reading existing table data into 2 x 2 array.
            //$(".devicetable-with-filter table tbody tr td.deviceTableDef")
            $devicetable_with_filter_table.find("tbody tr td.deviceTableDef")
                .each(function (index) {
                    rowsArr[rowsCounter++] = [$.trim($(this).html())];
                    if((index+1) % columnCount == 0) {
                        tableData[columnsCounter++] = rowsArr;
                        rowsArr =  []; rowsCounter = 0;
                    }
                });
            console.debug("TableData");
            console.debug(tableData);
            //Shuffle the table data into new table as per new sort order.
            var newTableData = Array();
            $(tableData).each(function (index, value) {
                newTableData[index] = Array();
                for (var i = 0; i < columnCount; i++) {
                    newTableData[index][i] = value[sortedTableHeadersOrder[i]];
                }
            });
            console.debug("newTableData");
            console.debug(newTableData);


            //Refill the table data using newly sorted 2 x 2 array.
            //$(".devicetable-with-filter table tbody tr").each(function (rowIndex) {
            $devicetable_with_filter_table.find("tbody tr").each(function (rowIndex) {
                $(this).children('td.familyTableDef, td.deviceTableDef').each(function(columnIndex){
                    $(this).html(newTableData[rowIndex][columnIndex]);
                    $(this).show();

                });
            });
            //currentTable.columns([1,2]).visible(true);
            console.log("hiding....");
            //$(".devicetable-with-filter table thead tr th:not(.sticky-col)")
            $devicetable_with_filter_table.find("thead tr th:not(.sticky-col)")
                .each(function (index, value) {
                    if (Object.keys(activeFiltersBkp).length > 0) {
                        for (var key in activeFiltersBkp) {
                            var filter = activeFiltersBkp[key];
                            if(filter.columnHeader == $.trim($(this).text())){
                                filter.column = index + 1;
                                activeFiltersBkp[key] = filter;
                            }
                        }
                    }
                });
            console.debug(activeFiltersBkp);
            //console.log(currentTable.column((0)).data());
            //Logic for hiding unchecked columns
            $(uncheckedColumns).each(function (hideIndex, columnToHide){
                //Hide unchecked table headers
                //$(".devicetable-with-filter table thead tr th:not(.sticky-col)")
                $devicetable_with_filter_table.find("thead tr th:not(.sticky-col)")
                    .each(function (columnIndex) {
                        if(columnToHide == columnIndex){
                            $(this).hide();
                        }
                    });
                //Hide unchecked table cells
                //$(".devicetable-with-filter table tbody tr").each(function (rowIndex) {
                $devicetable_with_filter_table.find("tbody tr").each(function (rowIndex) {
                    $(this).children('td.familyTableDef, td.deviceTableDef').each(function(columnIndex){
                        if(columnToHide == columnIndex){
                            $(this).hide();
                        }
                    });
                });
            });

            //Reapply the filters
            if($devicetable_with_filter_table.length > 0){
                columnFiltersPopup.reapplyActiveFilters(sl.components.deviceTableColumnDataFiltersPopup.activeFilters, activeFiltersBkp);
            }
            //Very important to close the popup after clicking on OK.
            columnFiltersPopup.closePopup();
        });

        //Close the popup without taking any action.
        $columnFiltersPopup.find("#cancel-button").on('click', function() {
            //console.log("logic for closing popup..");
            columnFiltersPopup.closePopup();
        });

    },
    "reapplyActiveFilters": function (activeFilters, activeFiltersBkp) {
        if($(".devicetable-with-filter table").length > 0){
            sl.components.deviceTableColumnDataFiltersPopup.getAllFilterValues();
        }

        if (Object.keys(activeFiltersBkp).length > 0) {
            for (var key in activeFiltersBkp) {
                //console.log(key);
                var filter = activeFiltersBkp[key];
                //console.log(filter);
                activeFilters[key] = filter;
            }
            if($(".devicetable-with-filter table").length > 0){
                sl.components.deviceTableColumnDataFiltersPopup.reloadTable();
            }
        }
    },
    "removeActiveFilters": function (activeFilters) {
        var activeFiltersBkp = {};
        //Take a backup of all active filters
        if (Object.keys(activeFilters).length > 0) {
            for (var key in activeFilters) {
                console.debug(key);
                var filter = activeFilters[key];
                console.debug(filter);
                activeFiltersBkp[key] = activeFilters[key];
                delete activeFilters[key];
            }
            if($(".devicetable-with-filter table").length > 0){
                sl.components.deviceTableColumnDataFiltersPopup.reloadTable();
            }
        }
        return activeFiltersBkp;
    },
    "createPopup": function() {
        var $theParentContainer = $(".device-table-with-filters").find(".devicetable-column-filters-popup");
        var $theDataContainer = $theParentContainer.find('.column-filters-container');

        if (!$theParentContainer.is(':hidden')) {
            $theParentContainer.hide();
        } else {
            sl.components.deviceTableColumnFiltersPopup.positionPopup($theParentContainer);
            $theParentContainer.show();
        }
    },
    "positionPopup": function($popup) {
        var positionElement = $('.columns-link.active').length ? $('.columns-link.active') : $('.columns-link-mobile.active');
        if (positionElement.length) {
            var popupOffset = positionElement.offset();
            var left = popupOffset.left;

            if (popupOffset.left + $popup.outerWidth() > $('.row').width() && Foundation.MediaQuery.atLeast('medium')) {
                left = popupOffset.left - $popup.outerWidth() + positionElement.outerWidth();
            } else if (Foundation.MediaQuery.current == "small") {
                left = '15px';
            }
            var headerNavHeight = $('.slbs2-header.slbs2-nav').height() !== null ? $('.slbs2-header.slbs2-nav').height() : 0;
            var breadcrumbHeight = $('.slbs2-breadcrumb').parent().height() !== null ? $('.slbs2-breadcrumb').parent().height() : 0;
            var top = (popupOffset.top + positionElement.outerHeight()) - (headerNavHeight + breadcrumbHeight);
            $('.loading-div').removeClass('icon-loading');
            $popup.css({
                'top': top + 17,
                'left': left,
                'z-index': 2000
            });
        }

    },
    "addColumnsToPopup": function() {
        var tableHeaders = [];
        var columnsOrder = [];
        var visibleTableHeaders = [];
        $(".devicetable-with-filter table thead tr th:not(.sticky-col)").each(function () {
            console.debug($(this).attr("data-columnsorder"));
            tableHeaders.push($(this).text());
            columnsOrder.push($(this).attr("data-columnsorder"));
            if($(this).is(":visible")){
                visibleTableHeaders.push("true");
            } else {
                visibleTableHeaders.push("false");
            }
        });
        //var theParentContainer = $('.devicetable-column-filters-popup');
        var $theParentContainer = $(".device-table-with-filters").find(".devicetable-column-filters-popup");
        var $theDataContainer = $theParentContainer.find('.column-filters-container');
        var $ulElement = $theDataContainer.find('ul#sortable');
        $ulElement.empty();
        var activeFilters = {};
        if($(".devicetable-with-filter table").length > 0){
            activeFilters = sl.components.deviceTableColumnDataFiltersPopup.activeFilters;
        }

        $.each(tableHeaders, function(index, value){
            var liElement = "<li class='ui-state-default ui-sortable-handle'>";
            var checkedVal = visibleTableHeaders[index] == "true" ? 'checked' : '';
            var disableCheckbox;
            var isCheckBoxDisabled = '';
            if (Object.keys(activeFilters).length > 0) {
                for (var key in activeFilters) {
                    var filter = activeFilters[key];
                    if(filter.columnHeader == $.trim(value) && checkedVal){
                        disableCheckbox = 'disabled="true"';
                        isCheckBoxDisabled = 'disabled-label';
                    }
                }
            }

            liElement = liElement + "<input data-popup-columns-order='"+columnsOrder[index]+"' "+checkedVal+" " +
                "class='form-check-input' type='checkbox' value='"+value+"' id='"+value+"' "+disableCheckbox+"'/>";
            liElement = liElement + "<label class='form-check-label "+isCheckBoxDisabled+"' for='"+value+"' >"+value+"</label>";
            liElement = liElement + "<span class='drag-icon' />";

            $(liElement).appendTo($ulElement);
        });
        $( "#sortable" ).sortable();
        $( "#sortable" ).disableSelection();
        return tableHeaders;
    },
    "toggleColumnSelection": function(classValue) {
        // ID selector on Items Container
        var $theParentContainer = $(".device-table-with-filters").find(".devicetable-column-filters-popup");
        var listCheckItems = $theParentContainer.find("#sortable :checkbox");
        if(classValue == 'select-all'){
            listCheckItems.prop("checked", true);
        } else if(classValue == 'clear-all') {
            listCheckItems.prop("checked", false);
        }
    },
    "getSelectedItems": function(idValue) {
        var sortedColumns = [];
        var unCheckedColumns = [];
        var sortedColumnsOrder = [];
        var sortedColumnsOrder = [];
        var getAllSortedItems = {};
        var $theParentContainer = $(".device-table-with-filters").find(".devicetable-column-filters-popup");
        listCheckItems = $theParentContainer.find("#sortable :checkbox");
        listCheckItems.each(function(index) {
            sortedColumns.push($(this).val());
            sortedColumnsOrder.push($(this).attr('data-popup-columns-order'));
            if(!$(this).prop("checked")){
                unCheckedColumns.push(index);
            }
        });
        //console.log("Unchecked columns");console.log(unCheckedColumns);
        getAllSortedItems['sortedColumns'] = sortedColumns;
        getAllSortedItems['sortedColumnsOrder'] = sortedColumnsOrder;
        getAllSortedItems['unCheckedColumns'] = unCheckedColumns;
        return getAllSortedItems;
    },
    "closePopup": function() {
        $(".device-table-with-filters").find(".devicetable-column-filters-popup").hide();
        $(".columns-link").removeClass('active');
        $(".columns-link-mobile").removeClass('active');
    }
}

sl = sl || {};
sl.components = sl.components || {};


sl.components.deviceTable = {
    "init": function(isReinit) {
        var deviceTable = this,
            deviceTablesSelector = '.device-table, .part-grouping-table',
            $deviceTables = $(deviceTablesSelector);

        $deviceTables.each(function() {
            var $thisDeviceTable = $(this),
                $filterSection = $thisDeviceTable.find('.status-filters');

            deviceTable.setUpTables($thisDeviceTable.find('.table-responsive'));

            // Populate filters based on table content
            $thisDeviceTable.find('tr[data-status]').each(function() {
                var $thisDevice = $(this),
                    thisStatus = $thisDevice.data('status'),
                    thisStatusTitle = $thisDevice.find('.status').attr('title'),
                    thisStatusAbbr = $thisDevice.find('.status').data('abbr');

                var $thisStatusEl = $filterSection.find('.template').clone().addClass('clone').removeClass('template');

                $thisStatusEl
                    .text(thisStatusAbbr)
                    .attr('title', thisStatusTitle)
                    .attr('data-filter', thisStatus);

                if ($filterSection.find('[data-filter="' + thisStatus + '"]').length == 0) {
                    $filterSection.append($thisStatusEl);
                }

            })

            if ($filterSection.children('a.clone').length > 0) {
                $filterSection.removeClass('hide');
            }
        })

        // In case of re-initialization
        if (!isReinit) {
            $deviceTables.on('click', '.status-filters a', function(e) {
                e.preventDefault();

                var $thisFilter = $(this),
                    thisFilter = $thisFilter.data('filter'),
                    $thisTable = $thisFilter.parents(deviceTablesSelector);

                if ($thisFilter.hasClass('active')) {
                    $thisTable.find('tr[data-status="' + thisFilter + '"]').hide();
                    $thisFilter.removeClass('active');
                } else {
                    $thisTable.find('tr[data-status="' + thisFilter + '"]').show();
                    $thisFilter.addClass('active');
                }
            })
        }

    },
    "setUpTables": function($deviceTable) {
        var cols = $deviceTable.find('td:first-child, th:first-child'),
            fixedColWidth = 0;

        // Reset if the table is being re-initialized
        if (typeof $deviceTable.find('table') !== 'undefined') {
            $deviceTable.find('table').removeAttr('style');
            $deviceTable.find('td:first-child, th:first-child').removeAttr('style');
        }

        // Get max column width
        for (var i = 0; i < cols.length; i++) {
            var $thisCol = $(cols[i]),
                thisColHeight = $thisCol.height();

            // must preserve height for when it gets pos:abs
            if ($thisCol.is('th')) {
                // For some reason this is required for th alignment
                $thisCol.height(thisColHeight + 2);
            } else {
                $thisCol.height(thisColHeight + 1);
            }

            $thisCol.siblings().height(thisColHeight);

            if ($thisCol.outerWidth() > fixedColWidth) {
                fixedColWidth = $thisCol.outerWidth();
            }
        }

        cols.width(fixedColWidth);

        // Add margin to the table so fixed column doesn't overlap with other content
        // -1 to accomodate extra border
        var newMaxColWidth = cols.outerWidth() - 1;
        $deviceTable.find('table').css({
            "margin-left": newMaxColWidth,
            "width": "calc(100% - " + newMaxColWidth + "px)"
        })
        $deviceTable.css('visibility', 'visible');
    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.devicedocumentlist = {
    "init": function() {
        var devicedocumentlist = this,
            $devicedocumentlist = $(".device-document-list");
        //Loop for each device-document-list component(L4 pages have two components baked-in in the template).
        $devicedocumentlist.each(function() {
            var $thisdevicedocumentlist = $(this);
            if(!$thisdevicedocumentlist.data("contenttypes") || $thisdevicedocumentlist.data("contenttypes").length <= 0){
                return false;
            }
            var contentTypes = $thisdevicedocumentlist.data("contenttypes").split(',');
            console.debug(contentTypes);
            var contentTypesArray = new Array();
            var contentTypesShortArray = new Array();
            var contentTypesShortObjects = {};
            $.ajax({
                type: "GET",
                url: "/content/cq:tags/content-type.tagdetail.json",
                success: function (ctTagsData) {

                    for(var index in contentTypes){
                        var contentTypeString = contentTypes[index];
                        var contentType = contentTypes[index].substring(contentTypeString.indexOf(':')+1, contentTypeString.length);//subtring from content-type:application-notes
                        contentTypesArray.push('ct-'+contentType);//append "ct-"(required for faceted search call.
                        var tagDetail = ctTagsData[contentType];
                        contentTypesShortObjects[contentType] = tagDetail;
                        if(typeof tagDetail !== 'undefined'){
                            //if current content-type has sub-list, get them as well.
                            if(tagDetail.children !== ''){
                                if(tagDetail.children.indexOf(',') != -1){
                                    var childTags = tagDetail.children.split(',');
                                    for(var i in childTags){
                                        contentTypesArray.push('ct-'+contentType + '_' +childTags[i]);//ct-manuals_quick-start-guides
                                    }
                                } else {
                                    contentTypesArray.push('ct-'+contentType + '_' + tagDetail.children);//ct-data-sheets_data-shorts
                                }
                            }
                        }

                    }
                    console.debug("contentTypesArray");
                    console.debug(contentTypesArray);
                    console.debug("contentTypesShortObjects");
                    console.debug(contentTypesShortObjects);

                    var query = contentTypesArray;
                    var queryData = {};
                    // Text to search for
                    var devicename = $thisdevicedocumentlist.data("devicename");
                    /*if (text !== '') {
                        queryData['fulltext'] = text;
                    }*/
                    query = '/' + query.sort().join('/');
                    var productFamilyTag = $thisdevicedocumentlist.data("productfamilytag");
                    if(typeof productFamilyTag !== "undefined" && productFamilyTag !== ''){
                        //query = query + '/p-' + productFamilyTag;
                        query = query + '/p-' + productFamilyTag + "_"+devicename.toLowerCase();
                    } else {
                        if (devicename !== '') {
                            queryData['fulltext'] = devicename;
                        }
                    }
                    query =  query + '.json';

                    // Do request
                    $.ajax({
                        'url': '/sl/search/devicedocumentsearchquery.json' + query,
                        'data': queryData,
                        'success': function(resultJSON) {
                            //var hits = data.hits;//hits represents the data object

                            for(var ctkey in contentTypesShortObjects){//ctkey is content-type.
                                var ctCounts = {}, count = 0, parentCount = 0;
                                var contentType = contentTypesShortObjects[ctkey];
                                //get count of each content-type results using Array.filter function.
                               /* var count = hits.filter(function(item){
                                    if(item.contentTypeTagId === 'content-type:'+ctkey) return item;
                                }).length;*/
                               var count = resultJSON['content-type:'+ctkey].length;
                                if(contentType.children != ""){
                                    //check if current content-type has sub-list. If yes, get count of sub-list items as well
                                    var subContentTypeArr = contentTypesShortObjects[ctkey].children.split(",");
                                    var subCTCount = 0;
                                    for(var index in subContentTypeArr){
                                        var subContentTypeKey = subContentTypeArr[index];
                                        var subContentTypeObject = contentType[subContentTypeKey];
                                        /*subCTCount = hits.filter(function (item){
                                            if(item.contentTypeTagId === 'content-type:'+ctkey+"/"+subContentTypeKey) return item;
                                        }).length;*/
                                        subCTCount = resultJSON['content-type:'+ctkey+"/"+subContentTypeKey].length;
                                        subContentTypeObject.count = subCTCount;
                                        count += subCTCount;
                                    }
                                }
                                ctCounts.contentType = contentType;
                                //update object with counts variable.
                                contentTypesShortObjects[ctkey].count = count;
                            }
                            //console.log("contentTypesShortObjects");
                            //console.log(contentTypesShortObjects);

                            var $sideBar = $thisdevicedocumentlist.find(".sidebar .sidebar-filters");
                            var $sideBarUl = $sideBar.append("<ul></ul>").find("ul");

                            var $mainResults = $thisdevicedocumentlist.find(".main-results");
                            var $mainDiv = $("<div class='mainDiv'></div>").appendTo($mainResults);

                            //Loop for preparing and painting Side Bar and Main results.
                            for(var ctkey in contentTypesShortObjects){
                                var contentType = contentTypesShortObjects[ctkey];
                                var $sideBarListItem;
                                var $sideBarCountSpan;
                                var totalCount = contentType["count"];
                                var contentTypeTitle = contentType["jcr:title"];
                                if(ctkey === "product-change-notifications"){
                                    contentTypeTitle = "PCNs";
                                }
                                if(contentType["count"] > 0){
                                    $sideBarListItem = $("<li class='left-margin'><a href='#"+ctkey+"'>"+contentTypeTitle+"</a></li>").appendTo($sideBarUl);
                                    $sideBarCountSpan = $("<span class='count'> ("+totalCount+")"+"</span>").appendTo($sideBarListItem);
                                } /*else {
                                    $sideBarListItem = $("<li class='left-margin'>"+contentTypeTitle+"</li>").appendTo($sideBarUl);
                                    $sideBarCountSpan = $("<span class='count'> ("+totalCount+")"+"</span>").appendTo($sideBarListItem);
                                }*/

                                var ctResults = resultJSON['content-type:'+ctkey];
                                var headingClass = "main-content-type";
                                var headingCountClass = "content-type-count";
                                //console.debug("ctResults");
                                //console.debug(ctResults);
                                if(contentType.count > 0){
                                    //Special headings for Data Sheets and Manuals
                                    if(ctkey === "data-sheets" || ctkey === "manuals"){
                                        headingClass = "main-content-type";
                                        var $extraHeadingDiv = $("<div id='"+ctkey+"' class='"+headingClass+"'>"+contentType["jcr:title"]+"<span class='content-type-count'>"+contentType.count+"</span></div>");
                                        $extraHeadingDiv.appendTo($mainDiv);
                                        headingClass = "sub-content-type";
                                    }
                                    var $conentTypeSectionDiv = $("<div class='content-type-section'></div>");
                                    if(ctResults.length > 0){
                                        $("<div id='"+ctkey+"' class='"+headingClass+"'>"+contentType["jcr:title"]+"<span class='content-type-count'>"+contentType.count+"</span></div>").appendTo($conentTypeSectionDiv);
                                    }
                                    var backgroundColor = "light-purple-background";
                                    var $contentTypeUl = $("<ul></ul>");
                                    for(var ctIndex in ctResults){
                                        var publishDate = new Date(ctResults[ctIndex].lastModifiedDate), fomattedDate;
                                        if(publishDate){
                                            fomattedDate = publishDate.getMonth() + 1 +"/"+publishDate.getDate()+"/"+ publishDate.getFullYear();
                                        }
                                        var $ctResultListItem = $("<li class='result-line-style "+backgroundColor+"'> <a href='"+ctResults[ctIndex].externalPath+"'>"+ctResults[ctIndex].name+"</a></li>").appendTo($contentTypeUl);
                                        var versionSpan = "";
                                        if(ctResults[ctIndex].version !== null){
                                            var versionText = ctResults[ctIndex].version;
                                            if(versionText.indexOf('v') === 0){
                                                versionText = versionText.substring(1, versionText.length);
                                            }
                                            versionSpan = "<div class='result-version'> v"+versionText+"</div>"
                                        }
                                        var ctDetailsSpan = $("<div class='result-details'>" + versionSpan + "<div class='result-date'>" +
                                            fomattedDate+"</div></div>").appendTo($ctResultListItem);
                                        //Flipping list row color
                                        backgroundColor = (backgroundColor === 'white-background' ? 'light-purple-background' : 'white-background');
                                    }
                                    $contentTypeUl.appendTo($conentTypeSectionDiv);
                                    if(ctResults.length > 5){
                                        $contentTypeUl.addClass('long-list-results');
                                        var $showMoreResultsDiv = $("<div><a class='show-more-items' href='#'>Show "+(ctResults.length - 5)+" more "+contentTypeTitle+"</a></div>");
                                        $showMoreResultsDiv.on("click", function (e) {
                                            e.preventDefault();
                                            devicedocumentlist.showMoreResults(this);
                                        });
                                        $showMoreResultsDiv.appendTo($conentTypeSectionDiv);
                                    }

                                    $conentTypeSectionDiv.appendTo($mainDiv);
                                }
                                //If current content-type has sub-list?
                                if(contentType.children != ""){
                                    var subContentTypeArr = contentTypesShortObjects[ctkey].children.split(",");
                                    var subCTCount = 0;

                                    var $subListUL = $("<ul></ul>").appendTo($sideBarListItem);
                                    for(var index in subContentTypeArr){
                                        var subContentTypeKey = subContentTypeArr[index];
                                        var subContentTypeObject = contentType[subContentTypeKey];
                                        if(subContentTypeObject["count"] > 0){
                                            $subListUL.append("<li><a href='#"+subContentTypeKey+"'>"+subContentTypeObject["jcr:title"]+"</a> <span class='count'> ("+subContentTypeObject["count"]+")</span></li>");
                                            //Add only one expand symbol per list item
                                            if($sideBarListItem.find('span.fa-plus').length == 0){
                                                //remove left margin for current content-type list item to add (+) symbol.
                                                $sideBarListItem.removeClass('left-margin');
                                                var $plusIcon = $("<span class='fa fa-plus'></span>").prependTo($sideBarListItem);
                                                $plusIcon.on("click", function () {
                                                    devicedocumentlist.showHideSubListItems(this);
                                                });
                                            }

                                        } /*else {
                                            $subListUL.append("<li>"+subContentTypeObject["jcr:title"]+"<span class='count'> ("+subContentTypeObject["count"]+")</span></li>");
                                        }*/
                                        $subListUL.hide();
                                        var subCTResult = resultJSON['content-type:'+ctkey+"/"+subContentTypeKey];
                                        if(subCTResult.length > 0){
                                            headingClass = "sub-content-type";
                                            headingCountClass = "sub-content-type-count";
                                            var $headingDiv = $("<div id='"+subContentTypeKey+"' class='"+headingClass+"'>"+subContentTypeObject["jcr:title"]+"<span class='content-type-count'>"+subContentTypeObject["count"]+"</span></div>");
                                            $headingDiv.appendTo($mainDiv);
                                            var $subContentTypeUl = $("<ul></ul>");

                                            //console.log(subCTResult);
                                            backgroundColor = "light-purple-background";
                                            for(var subIndex in subCTResult){
                                                var subPublishDate = new Date(subCTResult[subIndex].lastModifiedDate), subfomattedDate;
                                                if(subPublishDate){
                                                    subfomattedDate = subPublishDate.getMonth() + 1 +"/"+subPublishDate.getDate()+"/"+ subPublishDate.getFullYear();
                                                }
                                                var $ctResultListItem = $("<li class='result-line-style "+backgroundColor+"'> <a href='"+subCTResult[subIndex].externalPath+"'>"+subCTResult[subIndex].name+"</a></li>").appendTo($subContentTypeUl);
                                                var versionSpan = "";
                                                if(subCTResult[subIndex].version !== null){
                                                    var subVersionText = subCTResult[subIndex].version;
                                                    if(subVersionText.indexOf('v') === 0){
                                                        subVersionText = subVersionText.substring(1, subVersionText.length);
                                                    }
                                                    versionSpan = "<span class='result-version'> v"+subVersionText+"</span>";
                                                }
                                                var $subCTDetailsSpan = $("<span class='result-details'>" + versionSpan +
                                                    subfomattedDate+"</span>").appendTo($ctResultListItem);
                                                //Flipping list row color
                                                backgroundColor = (backgroundColor === 'white-background' ? 'light-purple-background' : 'white-background');
                                            }
                                            $subContentTypeUl.appendTo($mainDiv);
                                        }
                                    }
                                }
                            }
                        },
                        'error': function(data) {
                            console.warn(data)
                        }
                    })
                }
            });
        });
    },
    "showHideSubListItems": function ($this) {
        var $subListUL = $($this).parent().find("ul");
        if($subListUL.is(':visible')){
            $subListUL.hide();
            $($this).removeClass('fa-minus');
            $($this).addClass('fa-plus');
        } else {
            $subListUL.show();
            $($this).removeClass('fa-plus');
            $($this).addClass('fa-minus');
        }
    },
    "showMoreResults": function ($this) {
        var $resultsUL = $($this).parent().find("ul");
        if($resultsUL.hasClass('long-list-results')){
            $resultsUL.removeClass('long-list-results');
            $($this).remove();
        } else {
            $resultsUL.addClass('long-list-results');
        }
    }
}
sl = sl || {};
sl.components = sl.components || {};


sl.components.contentList = {
    "init": function() {
        var contentLists = this,
            $contentLists = $('.content-list');

        var $resultTemplate = $('<tr class=""><td class="title"></td><td class="topic"></td><td class="last-modified"></td></tr>');
        var activeFilters = [];


        // Custom search impl for row filtering
        if ($contentLists.length > 0) {
            $.fn.dataTable.ext.search.push(
                function(settings, data, dataIndex) {

                    // This will ensure this only applies to content list tables
                    if ($(settings.nTable).parents('.content-list').length > 0) {

                        var isActive = false;
                        if (settings.oPreviousSearch.sSearch == '') {
                            isActive = true;
                        } else {
                            var topics = data[1].replace(/, /g, ',').split(',');
                            topics.forEach(function(topic, index) {
                                // if any of the topics are active (OR logic)
                                if (activeFilters.indexOf(topic) > -1) {
                                    isActive = true;
                                }
                            })
                        }
                        return isActive;
                    } else {
                        return true;
                    }
                }
            );
        }

        // Generate table and init datatables
        $contentLists.each(function() {

            var $thisContentList = $(this),
                thisContentType = $thisContentList.data('contentType');

            // Set page length, default to 20
            var numPerPage = $thisContentList.data('resultsPerPage');
            numPerPage = numPerPage && numPerPage > 0 ? numPerPage : 20;

            var defaultOrder = $thisContentList.data('ordering');

            var datatable = $thisContentList.find('table').DataTable({
                "searching": true,
                "autoWidth": false,
                "paging": true,
                "lengthChange": false,
                "pageLength": numPerPage,
                "ordering": true,
                "order": defaultOrder == 'title' ? [
                    [0, "asc"]
                ] : [
                    [2, "desc"]
                ],
                "info": false,
                "language": {
                    "emptyTable": "No results available"
                },
                "columns": [{
                        "searchable": false
                    },
                    null, {
                        "visible": false
                    }
                ]
            });

            var selector = sl.components.facetedSearch.util.convertTagPathToSelector(thisContentType);
            $.get('/sl/search/contentlistquery.json/' + selector + '.json', function(resources) {

                for (var i = 0; i < resources.length; i++) {
                    var thisResource = resources[i],
                        $hitRow = $resultTemplate.clone().addClass('clone');

                    // if( thisResource.languageCode ){
                    //  $hitRow.addClass('hide lang-' + thisResource.languageCode);
                    // }
                    $hitRow.children('.title').append('<a href="' + thisResource.path + '">' + thisResource.title + '</a>');
                    $hitRow.children('.last-modified').append(thisResource.lastModifiedDate);
                    $hitRow.attr('data-topics', thisResource.tags);
                    thisResource.tags.forEach(function(thisTag, index) {
                        var separator = index < thisResource.tags.length - 1 ? ', ' : '';
                        $hitRow.children('.topic').append('<a href="#" data-filter="' + thisTag + '">' + thisTag + '</a>' + separator);
                    })

                    datatable.row.add($hitRow);
                }

                datatable.draw();
                $thisContentList.show();
            })
        })

        // Set click events for filters
        $contentLists.on('click', '[data-filter]', function(e) {
            e.preventDefault();

            var $thisContentList = $(this).parents('.content-list'),
                thisDataTable = $thisContentList.find('table').DataTable(),
                $filters = $thisContentList.find('.filter-bar'),
                $labelList = $thisContentList.find('.label-list'),
                filter = $(this).data('filter');

            if (filter == '') {
                activeFilters = [];
                $filters.removeClass('active');
                $labelList.children().remove();
                thisDataTable.search('');
            } else {

                // Update filter bar with new filter set
                var $template = $('<span class="label" data-filter="' + filter + '">' + filter + '</span>');

                if ($labelList.children('[data-filter="' + filter + '"]').length > 0) {
                    if ($(this).is('.label')) {
                        $labelList.children('[data-filter="' + filter + '"]').remove();
                        activeFilters.splice(activeFilters.indexOf(filter), 1);
                    }
                } else {
                    $labelList.append($template);
                    activeFilters.push(filter);
                }

                if ($labelList.children().length > 0) {
                    $filters.addClass('active');
                } else {
                    $filters.removeClass('active');
                    thisDataTable.search('');
                }

                activeFilters.forEach(function(activeFilter, index) {
                    thisDataTable.search(activeFilter, false, false, false);
                })
            }

            thisDataTable.draw();

            return false;
        })

    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.contactSales = {
	"init": function() {
		var contactSales = this,
			contactSalesSelector = '.contact-sales',
			$contactSales = $(contactSalesSelector);

		if ($contactSales.length > 0) {
			contactSales.setEvents($contactSales);
			contactSales.initDeepLinking($contactSales);
			contactSales.prePopulateFormData($contactSales);

			// Get contactSales cookie passed from Contact Sales sidebar button on L4 pages
			var contactSalesCookie = sl.utils.getCookies()['contactSales'];
			var marketoData = null;

			if (typeof contactSalesCookie != 'undefined') {
				var marketoData = sl.utils.parseCookie(contactSalesCookie);

				// Populate hidden fields
				$contactSales.find('[name="hdnPartNumber"]').val(marketoData['partNumber']);
				$contactSales.find('[name="hdnProductFamily"]').val(marketoData['productFamily']);
				$contactSales.find('[name="hdnProductCategory"]').val(marketoData['productCategory']);
				$contactSales.find('[name="hdnProductLine"]').val(marketoData['productLine']);
				$contactSales.find('[name="hdnReferrerURL"]').val(marketoData['referrerUrl']);

				// Populate "Return to previous page" button
				$contactSales.find('.return-to-previous-page').attr('href', marketoData['referrerUrl']);


			}

		}
	},
	"initDeepLinking": function($contactSales) {
		var contactSales = this;

		// Deep link to view
		if (document.location.search.indexOf('view=') > -1) {
			var view = contactSales.utils.getParameter('view'),
				$tab = $contactSales.find('.tab[data-tab="' + view + '"]');
			if ($tab.length > 0 && !$tab.hasClass('active')) {
				$tab.trigger('click');
			}
		}

		// Deep link to country
		if (document.location.search.indexOf('SearchLocation=') > -1) {

			var region = contactSales.utils.getParameter('SearchLocation');

			var country = region,
				state = null;

			if (region.indexOf(',') > -1) {
				state = region.split(',')[0];
				country = region.split(',')[1];
			} else if (region == 'us' || region == 'ca') {
				// Check if it's possibly a state
				var $stateDropdownOption;
				if (region == 'us') {
					$stateDropdownOption = $contactSales.find('.state-dropdown[data-country="us"] option[value="' + region + '"]');
				} else { // region == 'ca'
					$stateDropdownOption = $contactSales.find('.state-dropdown[data-country="ca"] option[value="' + region + '"]');
				}

				if ($stateDropdownOption.length > 0) {
					state = region;
					country = $stateDropdownOption.parent().attr('data-country');
				}
			}

			// If a search location is specified, default to map
			$contactSales.find('.tab[data-tab="map"]').trigger('click');
			// Click on the correct country
			$contactSales.find('.region-item[data-country="' + country + '"]').trigger('click');

			contactSales.updateSalesLocations($contactSales, region);
		}
	},
	"updateSalesLocations": function($contactSales, regionName) {
		var contactSales = this,
			$regions = $contactSales.find('.regions'),
			$salesLocations = $regions.siblings('.sales-locations');

		if (regionName != null) {
			// Add SearchLocation= search param
			contactSales.utils.updateParameters('SearchLocation', regionName);

			var country = regionName,
				state = null,
				useState = false;

			if (regionName.indexOf(',') > -1) {
				state = regionName.split(',')[0];
				country = regionName.split(',')[1];
			} else if (regionName == 'us' || regionName == 'ca') {
				// Check if it's possibly a state
				var $stateDropdownOption;
				if (regionName == 'us') {
					$stateDropdownOption = $contactSales.find('.state-dropdown[data-country="us"] option[value="' + regionName + '"]');
				} else { // regionName == 'ca'
					$stateDropdownOption = $contactSales.find('.state-dropdown[data-country="ca"] option[value="' + regionName + '"]');
				}

				if ($stateDropdownOption.length > 0) {
					state = regionName;
					country = $stateDropdownOption.parent().attr('data-country');
				}
			}

			var $countryDropdown = $salesLocations.find('#country');
			var $stateDropdown = $salesLocations.find('.state-dropdown[data-country="' + country + '"]');
			var regionDisplayName = $countryDropdown.find('option[value="' + country + '"]').text().trim();
			var stateDisplayName = $stateDropdown.find('option[value="' + state + '"]').text().trim();

			// Update title text to contain the region
			$salesLocations.find('span.country').text((state ? stateDisplayName + ', ' : '') + regionDisplayName);

			// Set Country dropdown
			$countryDropdown.val(country);

			// Set State dropdown if applicable
			$salesLocations.find('.state-dropdown').hide();
			if ($stateDropdown.length > 0) {
				$stateDropdown.show().val(state);
				useState = true;
			}

			// Toggle table content
			// If data-region contains the country or state, show it
			var $allLocations = $salesLocations.find('tbody tr.sales-location');
			$allLocations.hide();

			var $activeLocations = $allLocations.filter(function(index, el) {
				var isActive = false,
					$thisLocation = $(el),
					thisLocationStates = $thisLocation.attr('data-state') ? $thisLocation.attr('data-state').split(',') : [],
					thisLocationCountries = $thisLocation.attr('data-country') ? $thisLocation.attr('data-country').split(',') : [];

				if (state || useState) {
					if (thisLocationStates.indexOf(state) > -1) {
						isActive = true;
					}
				} else if (country && thisLocationCountries.indexOf(country) > -1) {
					isActive = true;
				}

				return (isActive);
			})

			$activeLocations.show();

			// Show/hide salesType headers if applicable
			$salesLocations.find('tbody tr.sales-type-header').hide();
			$activeLocations.each(function() {
				var type = $(this).attr('data-type');
				$(this).siblings('.sales-type-header[data-sales-type="' + type + '"]').show();
			})

			// If there are no relevant sales locations hide the table
			if ($activeLocations.length > 0) {
				$salesLocations.find('.has-sales-locations').show();
				$salesLocations.find('.no-sales-locations').hide();
			} else {
				$salesLocations.find('.has-sales-locations').hide();
				$salesLocations.find('.no-sales-locations').show();
			}

			// Hide sales locations body content entirely if a state is required but not yet selected
			var $salesLocationsBody = $salesLocations.find('.sales-locations-body');
			if (useState) {
				if (state == null) {
					$salesLocationsBody.hide();
				} else {
					$salesLocationsBody.show();
				}
			}

			// Hide the region selector and show the sales locations!
			$regions.hide();
			$salesLocations.show();

		} else {
			contactSales.utils.updateParameters('SearchLocation', null);

			$regions.show();
			$salesLocations.hide();
		}
	},
	"setEvents": function($contactSales) {
		var contactSales = this;

        var marketoListId = $contactSales.attr('data-marketo-contact-sales-list-id');

		// Tab functionality
		$contactSales.find('.tab').on('click', function() {
			var thisTab = $(this).data('tab');
			$(this).siblings().removeClass('active');
			$(this).addClass('active');

			// Show the appropriate tab content
			$contactSales.find('.tab-content[data-tab]').removeClass('active');
			$contactSales.find('.tab-content[data-tab="' + thisTab + '"]').addClass('active');

			// Append view= param to location.search via pushstate
			contactSales.utils.updateParameters('view', thisTab);

			// If it's not the map tab, remove the location deeplink
			if (thisTab !== 'map') {
				contactSales.utils.updateParameters('SearchLocation', null);
			}
		})

		// Tab functionality
		$contactSales.find('.back-to-map').on('click', function() {
			contactSales.updateSalesLocations($contactSales);
		})

		// Toggle form content based on user-selected reason
		$contactSales.find('.region-item').on('click', function() {
			var regionName = $(this).data('country').trim();

			contactSales.updateSalesLocations($contactSales, regionName);
		})

		$contactSales.find('.region-dropdowns select').on('change', function() {
			var regionName = $(this).val().trim();

			if ($(this).is('.state-dropdown')) {
				var country = $(this).attr('data-country');
				regionName = regionName + ',' + country;
			}

			contactSales.updateSalesLocations($contactSales, regionName);
		})

		$contactSales.find('#ddlCountry').on('change', function() {
			var value = $(this).val(),
				text = $(this).find('option:selected').text();

			if (sl.contactSalesCountries) {
				var currentCountry = null;
				sl.contactSalesCountries.forEach(function(country) {
					if (country.countryName.toLowerCase() === text.toLowerCase()) {
						currentCountry = country;
						return false;
					}
				})

				var $stateDropdown = $contactSales.find('#ddlState'),
					$stateWrapper = $stateDropdown.closest('.input-wrapper');
				$stateDropdown.empty();
				$stateDropdown.removeAttr('required');
				if (currentCountry && currentCountry.states) {
					$stateWrapper.show();
					$stateDropdown.attr('required', true);
					$stateDropdown.append('<option value="">Select a state</option>');

					for (var state in currentCountry.states) {
						if (currentCountry.states.hasOwnProperty(state)) {
							$stateDropdown.append('<option value="' + currentCountry.states[state] + '">' + state + '</option>');
						}
					}
				} else {
					$stateWrapper.hide();
				}
			}

		})

		$contactSales.find('#ddlCountry, #ddlState').on('change', function() {

			var $distributorDropdown = $contactSales.find('#ddlDistributor');
			$distributorDropdown.empty();
			$distributorDropdown.parents('.conditional-field').hide();
			if (sl.contactSalesLocations.length) {
				var country = $contactSales.find('#ddlCountry option:selected').text(),
					state = $contactSales.find('#ddlState option:selected').text();

				// Special treatment to translate actual Canadian Provinces to "Eastern" or "Western" regions
				if (country == "Canada") {
					if (state == "Alberta" || state == "British Columbia" || state == "Northwest Territories" || state == "Yukon Territory" || state == "Saskatchewan" || state == "Manitoba") {
						state = "Western Canada"
					} else {
						state = "Eastern Canada"
					}
				}

				for (var i = 0; i < sl.contactSalesLocations.length; i++) {
					var thisLocation = sl.contactSalesLocations[i];
					if ((thisLocation.regions.indexOf(country) > -1 || thisLocation.regions.indexOf(state) > -1) && !$distributorDropdown.find('option[value="' + thisLocation.salesLocatorName + '"]').length) {
						$distributorDropdown.append('<option value="' + thisLocation.salesLocatorName + '">' + thisLocation.salesLocatorName + '</option>');
					}
				}

                if ($distributorDropdown.children().length) {
                    $distributorDropdown.prepend('<option value="">Choose a Distributor...</option>');
                    $distributorDropdown.append('<option value="None">None</option>');
                    console.debug("adding distri required...");
                    $distributorDropdown.prop('required',true);
                    $distributorDropdown.parents('.conditional-field').show();
                } else {
                    console.debug('required distri removed..');
                    $distributorDropdown.removeAttr('required');
                }
            }
		})

		// Toggle form content based on user-selected reason
		$contactSales.find('#contact-sales-reason').on('change', function() {
			var value = $(this).val();

			$contactSales.find('[data-reason]').hide();
			$contactSales.find('[data-reason*="' + value + '"]').show();

			if ($contactSales.find('[data-reason*="' + value + '"]').find('#hdnContactSalesReason')) {
				$contactSales.find('[data-reason*="' + value + '"]').find('#hdnContactSalesReason').val(value);
			}
		})

		$(window).on('popstate', function(event) {
			contactSales.initDeepLinking($contactSales);
		})

		// Handle form submission
		$contactSales.find('.submit-button').on('click', function() {
			var $form = $(this).parents('form'),
				$errorContainer = $form.find('.error-messages'),
				errors = [],
				$inputs = $form.find('input, select, textarea');

			$inputs.each(function() {
				var $thisInput = $(this),
					isValid = $thisInput[0].validity.valid,
					thisErrorMessage = $thisInput.attr('data-error-message');

				if (isValid) {
					$thisInput.removeClass('invalid');
				} else {
					$thisInput.addClass('invalid');
					if (errors.indexOf(thisErrorMessage) == -1) {
						errors.push(thisErrorMessage);
					}
				}
			})

			if (errors.length > 0) {
				$errorContainer.show();
				$errorContainer.find('ul').empty();
				errors.forEach(function(thisMessage) {
					$errorContainer.find('ul').append('<li>' + thisMessage + '</li>');
				})
			} else {
				$errorContainer.hide();
				$form.submit();
			}

		})

		$contactSales.find('form').on('submit', function() {
			var $form = $(this),
				dataObj = {};

			$form.find('input, select, textarea').each(function() {
				dataObj[$(this).attr('name')] = $(this).val();
			})

			var cookies = sl.utils.getCookies();
            if (cookies && cookies["_mkto_trk"]) {
                dataObj.cookie = cookies["_mkto_trk"];
            }

            if (typeof marketoListId !== 'undefined'){
                dataObj.listId = marketoListId;
            }
-
			$.post({
				url: '/sl/analytics/contact-sales-marketo-lead',
				data: dataObj,
				success: function(data) {

					// Show the form success message
					$form.hide();
					$form.siblings('.thank-you').show();

					// Remove the cookie after the form has been submitted
					sl.utils.deleteCookie('contactSales');
				}
			})

			return false;
		})
	},
	"prePopulateFormData": function($contactSales) {
		// If you are logged in, populate relevant fields with user data from Salesforce cookie

		var cookies = sl.utils.getCookies();
		if (typeof window.silabsProfileCookie !== 'undefined' && typeof cookies[window.silabsProfileCookie] !== 'undefined') {
			var profile = sl.utils.parseCookie(cookies[window.silabsProfileCookie], '|');

			for (var key in profile) {
				var val = profile[key];
				if (key == 'Country' || key == 'State') {
					val = val.toLowerCase();
				}

				$contactSales.find('form [name*="' + key + '"]').val(val).trigger('change');
			}
		}
	},
	"utils": {
		"getParameter": function(paramKey) {
			var regex = new RegExp('.+' + paramKey + '=([^&?]+).*$', 'g'),
				string = document.location.search.replace(regex, '$1');
			return decodeURIComponent(string);
		},
		"updateParameters": function(key, val) {
			var urlPath = window.location.pathname,
				currentParameters = window.location.search.replace('?', '').split('&'),
				paramsObj = {},
				newParams = [];

			// Create params obj
			currentParameters.forEach(function(thisParam) {
				var thisParamKey = thisParam.split('=')[0],
					thisParamValue = thisParam.split('=')[1];
				if (thisParamKey.length > 0)
					paramsObj[thisParamKey] = thisParamValue;
			})

			// Add update params object with new key/val pair
			if (val !== null && val !== '') {
				paramsObj[key] = val;
			} else {
				delete paramsObj[key];
			}

			// Create new param string
			var paramsArr = [];
			for (var key in paramsObj) {
				paramsArr.push(key + '=' + paramsObj[key]);
			}

			var paramString = '?' + paramsArr.join('&');
			window.history.pushState({
				'url': urlPath
			}, null, urlPath + paramString);
		},
	}
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.competitorCrossReference = {

    "dataTables": undefined,

    "init": function () {
        var competitorCrossReference = this,
            competitorCrossReferenceSelector = '.competitor-reference',
            $competitorCrossReference = $(competitorCrossReferenceSelector);

        if ($competitorCrossReference.length > 0) {

            competitorCrossReference.setEvents($competitorCrossReference);
            document.getElementById('submit').disabled = true;

            this.initalizedData = undefined;
            $jsonConverter = this.JSONToCSVConvertor;

            dataTables = $('#tblResultsRows').DataTable({
                "language": {
                    "search": "Filter Results"
                },
                columns: [
                    {className: "tdResults", data: 'Manufacturer Name'},
                    {className: "tdResults", data: 'Manufacturer Part Number'},
                    {className: "tdResults", data: 'Silicon Labs Part Number'},
                    {className: "tdResults", data: 'Compatiblity'},
                    {className: "tdResults", data: 'Description'},
                    {className: "tdResults", data: 'Documents'},
                    {className: "tdResults tdResultsMobile order", data: 'Cart'}
                ]
            });

        }

    },

    "setEvents": function ($competitorCrossReference) {
        $competitorCrossReference.find('#searchInput').on('keydown click', function () {
            var istext = $(this).val();
            document.getElementById('submit').disabled = true;
            if (istext.length > 2) {
                document.getElementById('submit').disabled = false;
            }
        })

        $competitorCrossReference.find('#part').on('click', function (e) {
            if (!$('#part input:checked').length > 0) {
                $('#error-message').show().text("You must select at least the 'Part Number' or 'Name'");
                e.preventDefault();
            }
        })

        $competitorCrossReference.find('#compatibility').on('click', function (e) {
            if (!$('#compatibility input:checked').length > 0) {
                $('#error-message').show().text("You must select at least one of the 'Compatibility' check boxes.");
                e.preventDefault();
            }
        })

        $competitorCrossReference.find('form').on('submit', function (e) {
            e.preventDefault();
            var $form = $(this),
                dataObj = {};

            $form.find('input, text, checkbox').each(function () {
                $checkbox = $form.find('checkbox');
                $(":checkbox").each(function () {
                    var ischecked = $(this).is(":checked");
                    if (ischecked) {
                        dataObj[$(this).attr('name')] = $(this).val();
                    } else dataObj[$(this).attr('name')] = false;
                })

                $text = $form.find('#searchInput');
                var istext = $(this).val();
                if (istext) {
                    dataObj[$(this).attr('name')] = $(this).val();
                }
            })

            $('#tblResultsRows tbody').empty();
            $('#totalResults').empty();
            $('#error-message').hide();

            $.get({
                data: dataObj,
                url: '/sl/sstudio/competitor-cross-reference',
                beforeSend: function () {
                    dataTables.clear();
                    $("#loader").show();
                },
                success: function (response) {
                    $('#result').val(JSON.stringify(response));
                    $('#totalResults').text(response.length + ' Matches');
                    var data = [];
                    response.forEach(function (response) {

                        var rowData = {
                            "Manufacturer Name": response.compName,
                            "Manufacturer Part Number": response.compPartNumber.toUpperCase(),
                            "Silicon Labs Part Number": response.silabPartNumber,
                            "Compatiblity": response.compatability,
                            "Description": response.description,
                            "Documents": (response.documentPath=="" ? '':'<img src="/etc.clientlibs/siliconlabs/clientlibs/clientlib-content/resources/images/ico-pdf.png">'
                                    + '<a href="' + response.documentPath + '"> Data Sheet</a>')
                                ,
                            "Cart": (response.buyAvailable ? '<a class="order order-link order-link-buy" data-device=' + response.silabPartNumber + ' data-opn= ' + response.orderedPartNumber + ' data-device-path=' + response.devicePath + '>' +
                                'Buy' + '</a>' : '')
                                + (response.buyAvailable && response.sampleAvailable ? ' | ' : '')
                                + (response.sampleAvailable ? '<a class="order order-link order-link-sample" data-device=' + response.silabPartNumber + ' data-opn= ' + response.orderedPartNumber + ' data-device-path=' + response.devicePath + '>' +
                                    'Sample' + '</a>' : '')
                        };
                        data.push(rowData);

                    });
                    dataTables.rows.add(data).draw();
                },
                complete: function () {
                    // Hide loader image
                    $("#loader").hide();
                },
                error: function (xhr) {
                    console.log(xhr);
                    $('#tblResultsRows tbody').append('Something is wrong, Contact your administrator')
                }
            })

        })

        $competitorCrossReference.find('#createExcel').on('click', function (e) {
            e.preventDefault();
            var data = $('#result').val();
            if (data === '') {
                $('#error-message').show().text("Please search for parts prior to exporting to Excel.");
                return;
            }
            $jsonConverter(data, "Competitor Cross Reference Search Results", false);
        });

        //Sorting functionality
        // var table = $('table');
        //
        // $('#mPart, #mName, #sPart, #compatibility, #description, #documents, #cart')
        //     .wrapInner('<span title="sort this column"/>')
        //     .each(function(){
        //
        //         var th = $(this),
        //             thIndex = th.index(),
        //             inverse = false;
        //
        //         th.click(function(){
        //
        //             table.find('td').filter(function(){
        //
        //                 return $(this).index() === thIndex;
        //
        //             }).sortElements(function(a, b){
        //
        //                 return $.text([a]) > $.text([b]) ?
        //                     inverse ? -1 : 1
        //                     : inverse ? 1 : -1;
        //
        //             }, function(){
        //
        //                 // parentNode is the element we want to move
        //                 return this.parentNode;
        //
        //             });
        //
        //             inverse = !inverse;
        //
        //         });
        //
        //     });

        //Reset functionality
        $competitorCrossReference.find('#clear').on('click', function () {
            $('#competitor-form')[0].reset();
            dataTables.clear().draw();
            $('#totalResults').text('0 Matches');
            $('#result').val("");
            $('#error-message').hide();
            document.getElementById('submit').disabled = true;
        })
    },

    "JSONToCSVConvertor": function (JSONData, ReportTitle, ShowLabel) {
        //If JSONData is not an object then JSON.parse will parse the JSON string in an Object
        var arrData = typeof JSONData != 'object' ? JSON.parse(JSONData) : JSONData;
        var loc = window.location.protocol + "//" + window.location.host;

        var CSV = '';
        //Set Report title in first row or line

        CSV += ReportTitle + '\r\n\n';

        //This condition will generate the Label/Header
        // if (ShowLabel) {
        //     var row = "";
        //
        //     //This loop will extract the label from 1st index of on array
        //     for (var index in arrData[0]) {
        //
        //         //Now convert each value to string and comma-seprated
        //         row += index + ',';
        //     }
        //
        //     row = row.slice(0, -1);
        //
        //     //append Label row with line break
        //     CSV += row + '\r\n';
        // }

        //manually create the headers
        CSV += "Manufacturer Part Number,Manufacturer Name,Silicon Labs Part Number,Compatiblity,Description,Documents" + '\r\n';
        //1st loop is to extract each row
        for (var i = 0; i < arrData.length; i++) {
            var row = "";

            //2nd loop will extract each column and convert it in string comma-seprated
            for (var index in arrData[i]) {
                if (index !== 'orderedPartNumber' && index !== 'devicePath' && index !== 'sampleAvailable' && index !== 'buyAvailable') {
                    if (index === 'documentPath') {
                        var choppedDocumentPath = arrData[i][index].slice(24);
                        arrData[i][index] = loc + choppedDocumentPath;
                    }
                    row += '"' + arrData[i][index] + '",';
                }

            }

            row.slice(0, row.length - 1);

            //add a line break after each row
            CSV += row + '\r\n';
        }

        if (CSV === '') {
            alert("Invalid data");
            return;
        }

        var fileName = "CompetitorCrossReferenceResults_" + new Date($.now());

        //Initialize file format you want csv or xls
        var uri = 'data:text/csv;charset=utf-8,' + escape(CSV);

        //this trick will generate a temp <a /> tag
        var link = document.createElement("a");
        link.href = uri;

        //set the visibility hidden so it will not effect on your web-layout
        link.style = "visibility:hidden";
        link.download = fileName + ".csv";

        if (navigator.msSaveBlob) { // IE 10+ and Edge
            navigator.msSaveBlob(new Blob([CSV], {type: 'text/csv;charset=utf-8;'}), fileName + ".csv");
        } else {
            //this part will append the anchor tag and remove it after automatic click for rest of the browsers except Microsoft browsers
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    }

}
/**
 * jQuery.fn.sortElements
 * --------------
 * @author James Padolsey (http://james.padolsey.com)
 * @version 0.11
 * @updated 18-MAR-2010
 * --------------
 * @param Function comparator:
 *   Exactly the same behaviour as [1,2,3].sort(comparator)
 *
 * @param Function getSortable
 *   A function that should return the element that is
 *   to be sorted. The comparator will run on the
 *   current collection, but you may want the actual
 *   resulting sort to occur on a parent or another
 *   associated element.
 *
 *   E.g. $('td').sortElements(comparator, function(){
 *      return this.parentNode;
 *   })
 *
 *   The <td>'s parent (<tr>) will be sorted instead
 *   of the <td> itself.
 */
jQuery.fn.sortElements = (function(){

    var sort = [].sort;

    return function(comparator, getSortable) {

        getSortable = getSortable || function(){return this;};

        var placements = this.map(function(){

            var sortElement = getSortable.call(this),
                parentNode = sortElement.parentNode,

                // Since the element itself will change position, we have
                // to have some way of storing it's original position in
                // the DOM. The easiest way is to have a 'flag' node:
                nextSibling = parentNode.insertBefore(
                    document.createTextNode(''),
                    sortElement.nextSibling
                );

            return function() {

                if (parentNode === this) {
                    throw new Error(
                        "You can't sort elements if any one is a descendant of another."
                    );
                }

                // Insert before flag:
                parentNode.insertBefore(this, nextSibling);
                // Remove flag:
                parentNode.removeChild(nextSibling);

            };

        });

        return sort.call(this, comparator).each(function(i){
            placements[i].call(getSortable.call(this));
        });

    };

})();
var hljs = new function() {
    function k(v) {
        return v.replace(/&/gm, "&amp;").replace(/</gm, "&lt;").replace(/>/gm, "&gt;")
    }
    function t(v) {
        return v.nodeName.toLowerCase()
    }
    function i(w, x) {
        var v = w && w.exec(x);
        return v && v.index == 0
    }
    function d(v) {
        return Array.prototype.map.call(v.childNodes, function(w) {
            if (w.nodeType == 3) {
                return b.useBR ? w.nodeValue.replace(/\n/g, "") : w.nodeValue
            }
            if (t(w) == "br") {
                return "\n"
            }
            return d(w)
        }).join("")
    }
    function r(w) {
        var v = (w.className + " " + (w.parentNode ? w.parentNode.className : "")).split(/\s+/);
        v = v.map(function(x) {
            return x.replace(/^language-/, "")
        });
        return v.filter(function(x) {
            return j(x) || x == "no-highlight"
        })[0]
    }
    function o(x, y) {
        var v = {};
        for (var w in x) {
            v[w] = x[w]
        }
        if (y) {
            for (var w in y) {
                v[w] = y[w]
            }
        }
        return v
    }
    function u(x) {
        var v = [];
        (function w(y, z) {
            for (var A = y.firstChild; A; A = A.nextSibling) {
                if (A.nodeType == 3) {
                    z += A.nodeValue.length
                } else {
                    if (t(A) == "br") {
                        z += 1
                    } else {
                        if (A.nodeType == 1) {
                            v.push({
                                event: "start",
                                offset: z,
                                node: A
                            });
                            z = w(A, z);
                            v.push({
                                event: "stop",
                                offset: z,
                                node: A
                            })
                        }
                    }
                }
            }
            return z
        })(x, 0);
        return v
    }
    function q(w, y, C) {
        var x = 0;
        var F = "";
        var z = [];
        function B() {
            if (!w.length || !y.length) {
                return w.length ? w : y
            }
            if (w[0].offset != y[0].offset) {
                return (w[0].offset < y[0].offset) ? w : y
            }
            return y[0].event == "start" ? w : y
        }
        function A(H) {
            function G(I) {
                return " " + I.nodeName + '="' + k(I.value) + '"'
            }
            F += "<" + t(H) + Array.prototype.map.call(H.attributes, G).join("") + ">"
        }
        function E(G) {
            F += "</" + t(G) + ">"
        }
        function v(G) {
            (G.event == "start" ? A : E)(G.node)
        }
        while (w.length || y.length) {
            var D = B();
            F += k(C.substr(x, D[0].offset - x));
            x = D[0].offset;
            if (D == w) {
                z.reverse().forEach(E);
                do {
                    v(D.splice(0, 1)[0]);
                    D = B()
                } while (D == w && D.length && D[0].offset == x);
                z.reverse().forEach(A)
            } else {
                if (D[0].event == "start") {
                    z.push(D[0].node)
                } else {
                    z.pop()
                }
                v(D.splice(0, 1)[0])
            }
        }
        return F + k(C.substr(x))
    }
    function m(y) {
        function v(z) {
            return (z && z.source) || z
        }
        function w(A, z) {
            return RegExp(v(A), "m" + (y.cI ? "i" : "") + (z ? "g" : ""))
        }
        function x(D, C) {
            if (D.compiled) {
                return
            }
            D.compiled = true;
            D.k = D.k || D.bK;
            if (D.k) {
                var z = {};
                function E(G, F) {
                    if (y.cI) {
                        F = F.toLowerCase()
                    }
                    F.split(" ").forEach(function(H) {
                        var I = H.split("|");
                        z[I[0]] = [G, I[1] ? Number(I[1]) : 1]
                    })
                }
                if (typeof D.k == "string") {
                    E("keyword", D.k)
                } else {
                    Object.keys(D.k).forEach(function(F) {
                        E(F, D.k[F])
                    })
                }
                D.k = z
            }
            D.lR = w(D.l || /\b[A-Za-z0-9_]+\b/, true);
            if (C) {
                if (D.bK) {
                    D.b = D.bK.split(" ").join("|")
                }
                if (!D.b) {
                    D.b = /\B|\b/
                }
                D.bR = w(D.b);
                if (!D.e && !D.eW) {
                    D.e = /\B|\b/
                }
                if (D.e) {
                    D.eR = w(D.e)
                }
                D.tE = v(D.e) || "";
                if (D.eW && C.tE) {
                    D.tE += (D.e ? "|" : "") + C.tE
                }
            }
            if (D.i) {
                D.iR = w(D.i)
            }
            if (D.r === undefined) {
                D.r = 1
            }
            if (!D.c) {
                D.c = []
            }
            var B = [];
            D.c.forEach(function(F) {
                if (F.v) {
                    F.v.forEach(function(G) {
                        B.push(o(F, G))
                    })
                } else {
                    B.push(F == "self" ? D : F)
                }
            });
            D.c = B;
            D.c.forEach(function(F) {
                x(F, D)
            });
            if (D.starts) {
                x(D.starts, C)
            }
            var A = D.c.map(function(F) {
                return F.bK ? "\\.?\\b(" + F.b + ")\\b\\.?" : F.b
            }).concat([D.tE]).concat([D.i]).map(v).filter(Boolean);
            D.t = A.length ? w(A.join("|"), true) : {
                exec: function(F) {
                    return null
                }
            };
            D.continuation = {}
        }
        x(y)
    }
    function c(S, L, J, R) {
        function v(U, V) {
            for (var T = 0; T < V.c.length; T++) {
                if (i(V.c[T].bR, U)) {
                    return V.c[T]
                }
            }
        }
        function z(U, T) {
            if (i(U.eR, T)) {
                return U
            }
            if (U.eW) {
                return z(U.parent, T)
            }
        }
        function A(T, U) {
            return !J && i(U.iR, T)
        }
        function E(V, T) {
            var U = M.cI ? T[0].toLowerCase() : T[0];
            return V.k.hasOwnProperty(U) && V.k[U]
        }
        function w(Z, X, W, V) {
            var T = V ? "" : b.classPrefix,
                U = '<span class="' + T,
                Y = W ? "" : "</span>";
            U += Z + '">';
            return U + X + Y
        }
        function N() {
            var U = k(C);
            if (!I.k) {
                return U
            }
            var T = "";
            var X = 0;
            I.lR.lastIndex = 0;
            var V = I.lR.exec(U);
            while (V) {
                T += U.substr(X, V.index - X);
                var W = E(I, V);
                if (W) {
                    H += W[1];
                    T += w(W[0], V[0])
                } else {
                    T += V[0]
                }
                X = I.lR.lastIndex;
                V = I.lR.exec(U)
            }
            return T + U.substr(X)
        }
        function F() {
            if (I.sL && !f[I.sL]) {
                return k(C)
            }
            var T = I.sL ? c(I.sL, C, true, I.continuation.top) : g(C);
            if (I.r > 0) {
                H += T.r
            }
            if (I.subLanguageMode == "continuous") {
                I.continuation.top = T.top
            }
            return w(T.language, T.value, false, true)
        }
        function Q() {
            return I.sL !== undefined ? F() : N()
        }
        function P(V, U) {
            var T = V.cN ? w(V.cN, "", true) : "";
            if (V.rB) {
                D += T;
                C = ""
            } else {
                if (V.eB) {
                    D += k(U) + T;
                    C = ""
                } else {
                    D += T;
                    C = U
                }
            }
            I = Object.create(V, {
                parent: {
                    value: I
                }
            })
        }
        function G(T, X) {
            C += T;
            if (X === undefined) {
                D += Q();
                return 0
            }
            var V = v(X, I);
            if (V) {
                D += Q();
                P(V, X);
                return V.rB ? 0 : X.length
            }
            var W = z(I, X);
            if (W) {
                var U = I;
                if (!(U.rE || U.eE)) {
                    C += X
                }
                D += Q();
                do {
                    if (I.cN) {
                        D += "</span>"
                    }
                    H += I.r;
                    I = I.parent
                } while (I != W.parent);
                if (U.eE) {
                    D += k(X)
                }
                C = "";
                if (W.starts) {
                    P(W.starts, "")
                }
                return U.rE ? 0 : X.length
            }
            if (A(X, I)) {
                throw new Error('Illegal lexeme "' + X + '" for mode "' + (I.cN || "<unnamed>") + '"')
            }
            C += X;
            return X.length || 1
        }
        var M = j(S);
        if (!M) {
            throw new Error('Unknown language: "' + S + '"')
        }
        m(M);
        var I = R || M;
        var D = "";
        for (var K = I; K != M; K = K.parent) {
            if (K.cN) {
                D = w(K.cN, D, true)
            }
        }
        var C = "";
        var H = 0;
        try {
            var B,
                y,
                x = 0;
            while (true) {
                I.t.lastIndex = x;
                B = I.t.exec(L);
                if (!B) {
                    break
                }
                y = G(L.substr(x, B.index - x), B[0]);
                x = B.index + y
            }
            G(L.substr(x));
            for (var K = I; K.parent; K = K.parent) {
                if (K.cN) {
                    D += "</span>"
                }
            }
            return {
                r: H,
                value: D,
                language: S,
                top: I
            }
        } catch (O) {
            if (O.message.indexOf("Illegal") != -1) {
                return {
                    r: 0,
                    value: k(L)
                }
            } else {
                throw O
            }
        }
    }
    function g(y, x) {
        x = x || b.languages || Object.keys(f);
        var v = {
            r: 0,
            value: k(y)
        };
        var w = v;
        x.forEach(function(z) {
            if (!j(z)) {
                return
            }
            var A = c(z, y, false);
            A.language = z;
            if (A.r > w.r) {
                w = A
            }
            if (A.r > v.r) {
                w = v;
                v = A
            }
        });
        if (w.language) {
            v.second_best = w
        }
        return v
    }
    function h(v) {
        if (b.tabReplace) {
            v = v.replace(/^((<[^>]+>|\t)+)/gm, function(w, z, y, x) {
                return z.replace(/\t/g, b.tabReplace)
            })
        }
        if (b.useBR) {
            v = v.replace(/\n/g, "<br>")
        }
        return v
    }
    function p(z) {
        var y = d(z);
        var A = r(z);
        if (A == "no-highlight") {
            return
        }
        var v = A ? c(A, y, true) : g(y);
        var w = u(z);
        if (w.length) {
            var x = document.createElementNS("http://www.w3.org/1999/xhtml", "pre");
            x.innerHTML = v.value;
            v.value = q(w, u(x), y)
        }
        v.value = h(v.value);
        z.innerHTML = v.value;
        z.className += " hljs " + (!A && v.language || "");
        z.result = {
            language: v.language,
            re: v.r
        };
    }
    var b = {
        classPrefix: "hljs-",
        tabReplace: null,
        useBR: false,
        languages: undefined
    };
    function s(v) {
        b = o(b, v)
    }
    function l() {
        if (l.called) {
            return
        }
        l.called = true;
        var v = document.querySelectorAll("pre code");
        Array.prototype.forEach.call(v, p)
    }
    function a() {
        addEventListener("DOMContentLoaded", l, false);
        addEventListener("load", l, false)
    }
    var f = {};
    var n = {};
    function e(v, x) {
        var w = f[v] = x(this);
        if (w.aliases) {
            w.aliases.forEach(function(y) {
                n[y] = v
            })
        }
    }
    function j(v) {
        return f[v] || f[n[v]]
    }
    this.highlight = c;
    this.highlightAuto = g;
    this.fixMarkup = h;
    this.highlightBlock = p;
    this.configure = s;
    this.initHighlighting = l;
    this.initHighlightingOnLoad = a;
    this.registerLanguage = e;
    this.getLanguage = j;
    this.inherit = o;
    this.IR = "[a-zA-Z][a-zA-Z0-9_]*";
    this.UIR = "[a-zA-Z_][a-zA-Z0-9_]*";
    this.NR = "\\b\\d+(\\.\\d+)?";
    this.CNR = "(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";
    this.BNR = "\\b(0b[01]+)";
    this.RSR = "!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";
    this.BE = {
        b: "\\\\[\\s\\S]",
        r: 0
    };
    this.ASM = {
        cN: "string",
        b: "'",
        e: "'",
        i: "\\n",
        c: [this.BE]
    };
    this.QSM = {
        cN: "string",
        b: '"',
        e: '"',
        i: "\\n",
        c: [this.BE]
    };
    this.CLCM = {
        cN: "comment",
        b: "//",
        e: "$"
    };
    this.CBLCLM = {
        cN: "comment",
        b: "/\\*",
        e: "\\*/"
    };
    this.HCM = {
        cN: "comment",
        b: "#",
        e: "$"
    };
    this.NM = {
        cN: "number",
        b: this.NR,
        r: 0
    };
    this.CNM = {
        cN: "number",
        b: this.CNR,
        r: 0
    };
    this.BNM = {
        cN: "number",
        b: this.BNR,
        r: 0
    };
    this.REGEXP_MODE = {
        cN: "regexp",
        b: /\//,
        e: /\/[gim]*/,
        i: /\n/,
        c: [this.BE, {
            b: /\[/,
            e: /\]/,
            r: 0,
            c: [this.BE]
        }]
    };
    this.TM = {
        cN: "title",
        b: this.IR,
        r: 0
    };
    this.UTM = {
        cN: "title",
        b: this.UIR,
        r: 0
    }
}();
hljs.registerLanguage("bash", function(b) {
    var a = {
        cN: "variable",
        v: [{
            b: /\$[\w\d#@][\w\d_]*/
        }, {
            b: /\$\{(.*?)\}/
        }]
    };
    var d = {
        cN: "string",
        b: /"/,
        e: /"/,
        c: [b.BE, a, {
            cN: "variable",
            b: /\$\(/,
            e: /\)/,
            c: [b.BE]
        }]
    };
    var c = {
        cN: "string",
        b: /'/,
        e: /'/
    };
    return {
        l: /-?[a-z\.]+/,
        k: {
            keyword: "if then else elif fi for break continue while in do done exit return set declare case esac export exec",
            literal: "true false",
            built_in: "printf echo read cd pwd pushd popd dirs let eval unset typeset readonly getopts source shopt caller type hash bind help sudo",
            operator: "-ne -eq -lt -gt -f -d -e -s -l -a"
        },
        c: [{
            cN: "shebang",
            b: /^#![^\n]+sh\s*$/,
            r: 10
        }, {
            cN: "function",
            b: /\w[\w\d_]*\s*\(\s*\)\s*\{/,
            rB: true,
            c: [b.inherit(b.TM, {
                b: /\w[\w\d_]*/
            })],
            r: 0
        }, b.HCM, b.NM, d, c, a]
    }
});
hljs.registerLanguage("cs", function(b) {
    var a = "abstract as base bool break byte case catch char checked const continue decimal default delegate do double else enum event explicit extern false finally fixed float for foreach goto if implicit in int interface internal is lock long new null object operator out override params private protected public readonly ref return sbyte sealed short sizeof stackalloc static string struct switch this throw true try typeof uint ulong unchecked unsafe ushort using virtual volatile void while async await ascending descending from get group into join let orderby partial select set value var where yield";
    return {
        k: a,
        c: [{
            cN: "comment",
            b: "///",
            e: "$",
            rB: true,
            c: [{
                cN: "xmlDocTag",
                b: "///|<!--|-->"
            }, {
                cN: "xmlDocTag",
                b: "</?",
                e: ">"
            }]
        }, b.CLCM, b.CBLCLM, {
            cN: "preprocessor",
            b: "#",
            e: "$",
            k: "if else elif endif define undef warning error line region endregion pragma checksum"
        }, {
            cN: "string",
            b: '@"',
            e: '"',
            c: [{
                b: '""'
            }]
        }, b.ASM, b.QSM, b.CNM, {
            bK: "protected public private internal",
            e: /[{;=]/,
            k: a,
            c: [{
                bK: "class namespace interface",
                starts: {
                    c: [b.TM]
                }
            }, {
                b: b.IR + "\\s*\\(",
                rB: true,
                c: [b.TM]
            }]
        }]
    }
});
hljs.registerLanguage("ruby", function(e) {
    var h = "[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?";
    var g = "and false then defined module in return redo if BEGIN retry end for true self when next until do begin unless END rescue nil else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor";
    var a = {
        cN: "yardoctag",
        b: "@[A-Za-z]+"
    };
    var i = {
        cN: "comment",
        v: [{
            b: "#",
            e: "$",
            c: [a]
        }, {
            b: "^\\=begin",
            e: "^\\=end",
            c: [a],
            r: 10
        }, {
            b: "^__END__",
            e: "\\n$"
        }]
    };
    var c = {
        cN: "subst",
        b: "#\\{",
        e: "}",
        k: g
    };
    var d = {
        cN: "string",
        c: [e.BE, c],
        v: [{
            b: /'/,
            e: /'/
        }, {
            b: /"/,
            e: /"/
        }, {
            b: "%[qw]?\\(",
            e: "\\)"
        }, {
            b: "%[qw]?\\[",
            e: "\\]"
        }, {
            b: "%[qw]?{",
            e: "}"
        }, {
            b: "%[qw]?<",
            e: ">",
            r: 10
        }, {
            b: "%[qw]?/",
            e: "/",
            r: 10
        }, {
            b: "%[qw]?%",
            e: "%",
            r: 10
        }, {
            b: "%[qw]?-",
            e: "-",
            r: 10
        }, {
            b: "%[qw]?\\|",
            e: "\\|",
            r: 10
        }, {
            b: /\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/
        }]
    };
    var b = {
        cN: "params",
        b: "\\(",
        e: "\\)",
        k: g
    };
    var f = [d, i, {
        cN: "class",
        bK: "class module",
        e: "$|;",
        i: /=/,
        c: [e.inherit(e.TM, {
            b: "[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"
        }), {
            cN: "inheritance",
            b: "<\\s*",
            c: [{
                cN: "parent",
                b: "(" + e.IR + "::)?" + e.IR
            }]
        }, i]
    }, {
        cN: "function",
        bK: "def",
        e: " |$|;",
        r: 0,
        c: [e.inherit(e.TM, {
            b: h
        }), b, i]
    }, {
        cN: "constant",
        b: "(::)?(\\b[A-Z]\\w*(::)?)+",
        r: 0
    }, {
        cN: "symbol",
        b: ":",
        c: [d, {
            b: h
        }],
        r: 0
    }, {
        cN: "symbol",
        b: e.UIR + "(\\!|\\?)?:",
        r: 0
    }, {
        cN: "number",
        b: "(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",
        r: 0
    }, {
        cN: "variable",
        b: "(\\$\\W)|((\\$|\\@\\@?)(\\w+))"
    }, {
        b: "(" + e.RSR + ")\\s*",
        c: [i, {
            cN: "regexp",
            c: [e.BE, c],
            i: /\n/,
            v: [{
                b: "/",
                e: "/[a-z]*"
            }, {
                b: "%r{",
                e: "}[a-z]*"
            }, {
                b: "%r\\(",
                e: "\\)[a-z]*"
            }, {
                b: "%r!",
                e: "![a-z]*"
            }, {
                b: "%r\\[",
                e: "\\][a-z]*"
            }]
        }],
        r: 0
    }];
    c.c = f;
    b.c = f;
    return {
        k: g,
        c: f
    }
});
hljs.registerLanguage("diff", function(a) {
    return {
        c: [{
            cN: "chunk",
            r: 10,
            v: [{
                b: /^\@\@ +\-\d+,\d+ +\+\d+,\d+ +\@\@$/
            }, {
                b: /^\*\*\* +\d+,\d+ +\*\*\*\*$/
            }, {
                b: /^\-\-\- +\d+,\d+ +\-\-\-\-$/
            }]
        }, {
            cN: "header",
            v: [{
                b: /Index: /,
                e: /$/
            }, {
                b: /=====/,
                e: /=====$/
            }, {
                b: /^\-\-\-/,
                e: /$/
            }, {
                b: /^\*{3} /,
                e: /$/
            }, {
                b: /^\+\+\+/,
                e: /$/
            }, {
                b: /\*{5}/,
                e: /\*{5}$/
            }]
        }, {
            cN: "addition",
            b: "^\\+",
            e: "$"
        }, {
            cN: "deletion",
            b: "^\\-",
            e: "$"
        }, {
            cN: "change",
            b: "^\\!",
            e: "$"
        }]
    }
});
hljs.registerLanguage("javascript", function(a) {
    return {
        aliases: ["js"],
        k: {
            keyword: "in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class",
            literal: "true false null undefined NaN Infinity",
            built_in: "eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require"
        },
        c: [{
            cN: "pi",
            b: /^\s*('|")use strict('|")/,
            r: 10
        }, a.ASM, a.QSM, a.CLCM, a.CBLCLM, a.CNM, {
            b: "(" + a.RSR + "|\\b(case|return|throw)\\b)\\s*",
            k: "return throw case",
            c: [a.CLCM, a.CBLCLM, a.REGEXP_MODE, {
                b: /</,
                e: />;/,
                r: 0,
                sL: "xml"
            }],
            r: 0
        }, {
            cN: "function",
            bK: "function",
            e: /\{/,
            c: [a.inherit(a.TM, {
                b: /[A-Za-z$_][0-9A-Za-z$_]*/
            }), {
                cN: "params",
                b: /\(/,
                e: /\)/,
                c: [a.CLCM, a.CBLCLM],
                i: /["'\(]/
            }],
            i: /\[|%/
        }, {
            b: /\$[(.]/
        }, {
            b: "\\." + a.IR,
            r: 0
        }]
    }
});
hljs.registerLanguage("xml", function(a) {
    var c = "[A-Za-z0-9\\._:-]+";
    var d = {
        b: /<\?(php)?(?!\w)/,
        e: /\?>/,
        sL: "php",
        subLanguageMode: "continuous"
    };
    var b = {
        eW: true,
        i: /</,
        r: 0,
        c: [d, {
            cN: "attribute",
            b: c,
            r: 0
        }, {
            b: "=",
            r: 0,
            c: [{
                cN: "value",
                v: [{
                    b: /"/,
                    e: /"/
                }, {
                    b: /'/,
                    e: /'/
                }, {
                    b: /[^\s\/>]+/
                }]
            }]
        }]
    };
    return {
        aliases: ["html"],
        cI: true,
        c: [{
            cN: "doctype",
            b: "<!DOCTYPE",
            e: ">",
            r: 10,
            c: [{
                b: "\\[",
                e: "\\]"
            }]
        }, {
            cN: "comment",
            b: "<!--",
            e: "-->",
            r: 10
        }, {
            cN: "cdata",
            b: "<\\!\\[CDATA\\[",
            e: "\\]\\]>",
            r: 10
        }, {
            cN: "tag",
            b: "<style(?=\\s|>|$)",
            e: ">",
            k: {
                title: "style"
            },
            c: [b],
            starts: {
                e: "</style>",
                rE: true,
                sL: "css"
            }
        }, {
            cN: "tag",
            b: "<script(?=\\s|>|$)",
            e: ">",
            k: {
                title: "script"
            },
            c: [b],
            starts: {
                e: "<\/script>",
                rE: true,
                sL: "javascript"
            }
        }, {
            b: "<%",
            e: "%>",
            sL: "vbscript"
        }, d, {
            cN: "pi",
            b: /<\?\w+/,
            e: /\?>/,
            r: 10
        }, {
            cN: "tag",
            b: "</?",
            e: "/?>",
            c: [{
                cN: "title",
                b: "[^ /><]+",
                r: 0
            }, b]
        }]
    }
});
hljs.registerLanguage("markdown", function(a) {
    return {
        c: [{
            cN: "header",
            v: [{
                b: "^#{1,6}",
                e: "$"
            }, {
                b: "^.+?\\n[=-]{2,}$"
            }]
        }, {
            b: "<",
            e: ">",
            sL: "xml",
            r: 0
        }, {
            cN: "bullet",
            b: "^([*+-]|(\\d+\\.))\\s+"
        }, {
            cN: "strong",
            b: "[*_]{2}.+?[*_]{2}"
        }, {
            cN: "emphasis",
            v: [{
                b: "\\*.+?\\*"
            }, {
                b: "_.+?_",
                r: 0
            }]
        }, {
            cN: "blockquote",
            b: "^>\\s+",
            e: "$"
        }, {
            cN: "code",
            v: [{
                b: "`.+?`"
            }, {
                b: "^( {4}|\t)",
                e: "$",
                r: 0
            }]
        }, {
            cN: "horizontal_rule",
            b: "^[-\\*]{3,}",
            e: "$"
        }, {
            b: "\\[.+?\\][\\(\\[].+?[\\)\\]]",
            rB: true,
            c: [{
                cN: "link_label",
                b: "\\[",
                e: "\\]",
                eB: true,
                rE: true,
                r: 0
            }, {
                cN: "link_url",
                b: "\\]\\(",
                e: "\\)",
                eB: true,
                eE: true
            }, {
                cN: "link_reference",
                b: "\\]\\[",
                e: "\\]",
                eB: true,
                eE: true,
            }],
            r: 10
        }, {
            b: "^\\[.+\\]:",
            e: "$",
            rB: true,
            c: [{
                cN: "link_reference",
                b: "\\[",
                e: "\\]",
                eB: true,
                eE: true
            }, {
                cN: "link_url",
                b: "\\s",
                e: "$"
            }]
        }]
    }
});
hljs.registerLanguage("css", function(a) {
    var b = "[a-zA-Z-][a-zA-Z0-9_-]*";
    var c = {
        cN: "function",
        b: b + "\\(",
        e: "\\)",
        c: ["self", a.NM, a.ASM, a.QSM]
    };
    return {
        cI: true,
        i: "[=/|']",
        c: [a.CBLCLM, {
            cN: "id",
            b: "\\#[A-Za-z0-9_-]+"
        }, {
            cN: "class",
            b: "\\.[A-Za-z0-9_-]+",
            r: 0
        }, {
            cN: "attr_selector",
            b: "\\[",
            e: "\\]",
            i: "$"
        }, {
            cN: "pseudo",
            b: ":(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\\\"\\']+"
        }, {
            cN: "at_rule",
            b: "@(font-face|page)",
            l: "[a-z-]+",
            k: "font-face page"
        }, {
            cN: "at_rule",
            b: "@",
            e: "[{;]",
            c: [{
                cN: "keyword",
                b: /\S+/
            }, {
                b: /\s/,
                eW: true,
                eE: true,
                r: 0,
                c: [c, a.ASM, a.QSM, a.NM]
            }]
        }, {
            cN: "tag",
            b: b,
            r: 0
        }, {
            cN: "rules",
            b: "{",
            e: "}",
            i: "[^\\s]",
            r: 0,
            c: [a.CBLCLM, {
                cN: "rule",
                b: "[^\\s]",
                rB: true,
                e: ";",
                eW: true,
                c: [{
                    cN: "attribute",
                    b: "[A-Z\\_\\.\\-]+",
                    e: ":",
                    eE: true,
                    i: "[^\\s]",
                    starts: {
                        cN: "value",
                        eW: true,
                        eE: true,
                        c: [c, a.NM, a.QSM, a.ASM, a.CBLCLM, {
                            cN: "hexcolor",
                            b: "#[0-9A-Fa-f]+"
                        }, {
                            cN: "important",
                            b: "!important"
                        }]
                    }
                }]
            }]
        }]
    }
});
hljs.registerLanguage("http", function(a) {
    return {
        i: "\\S",
        c: [{
            cN: "status",
            b: "^HTTP/[0-9\\.]+",
            e: "$",
            c: [{
                cN: "number",
                b: "\\b\\d{3}\\b"
            }]
        }, {
            cN: "request",
            b: "^[A-Z]+ (.*?) HTTP/[0-9\\.]+$",
            rB: true,
            e: "$",
            c: [{
                cN: "string",
                b: " ",
                e: " ",
                eB: true,
                eE: true
            }]
        }, {
            cN: "attribute",
            b: "^\\w",
            e: ": ",
            eE: true,
            i: "\\n|\\s|=",
            starts: {
                cN: "string",
                e: "$"
            }
        }, {
            b: "\\n\\n",
            starts: {
                sL: "",
                eW: true
            }
        }]
    }
});
hljs.registerLanguage("java", function(b) {
    var a = "false synchronized int abstract float private char boolean static null if const for true while long throw strictfp finally protected import native final return void enum else break transient new catch instanceof byte super volatile case assert short package default double public try this switch continue throws";
    return {
        k: a,
        i: /<\//,
        c: [{
            cN: "javadoc",
            b: "/\\*\\*",
            e: "\\*/",
            c: [{
                cN: "javadoctag",
                b: "(^|\\s)@[A-Za-z]+"
            }],
            r: 10
        }, b.CLCM, b.CBLCLM, b.ASM, b.QSM, {
            bK: "protected public private",
            e: /[{;=]/,
            k: a,
            c: [{
                cN: "class",
                bK: "class interface",
                eW: true,
                i: /[:"<>]/,
                c: [{
                    bK: "extends implements",
                    r: 10
                }, b.UTM]
            }, {
                b: b.UIR + "\\s*\\(",
                rB: true,
                c: [b.UTM]
            }]
        }, b.CNM, {
            cN: "annotation",
            b: "@[A-Za-z]+"
        }]
    }
});
hljs.registerLanguage("php", function(b) {
    var e = {
        cN: "variable",
        b: "\\$+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*"
    };
    var a = {
        cN: "preprocessor",
        b: /<\?(php)?|\?>/
    };
    var c = {
        cN: "string",
        c: [b.BE, a],
        v: [{
            b: 'b"',
            e: '"'
        }, {
            b: "b'",
            e: "'"
        }, b.inherit(b.ASM, {
            i: null
        }), b.inherit(b.QSM, {
            i: null
        })]
    };
    var d = {
        v: [b.BNM, b.CNM]
    };
    return {
        cI: true,
        k: "and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",
        c: [b.CLCM, b.HCM, {
            cN: "comment",
            b: "/\\*",
            e: "\\*/",
            c: [{
                cN: "phpdoc",
                b: "\\s@[A-Za-z]+"
            }, a]
        }, {
            cN: "comment",
            b: "__halt_compiler.+?;",
            eW: true,
            k: "__halt_compiler",
            l: b.UIR
        }, {
            cN: "string",
            b: "<<<['\"]?\\w+['\"]?$",
            e: "^\\w+;",
            c: [b.BE]
        }, a, e, {
            cN: "function",
            bK: "function",
            e: /[;{]/,
            i: "\\$|\\[|%",
            c: [b.UTM, {
                cN: "params",
                b: "\\(",
                e: "\\)",
                c: ["self", e, b.CBLCLM, c, d]
            }]
        }, {
            cN: "class",
            bK: "class interface",
            e: "{",
            i: /[:\(\$"]/,
            c: [{
                bK: "extends implements",
                r: 10
            }, b.UTM]
        }, {
            bK: "namespace",
            e: ";",
            i: /[\.']/,
            c: [b.UTM]
        }, {
            bK: "use",
            e: ";",
            c: [b.UTM]
        }, {
            b: "=>"
        }, c, d]
    }
});
hljs.registerLanguage("python", function(a) {
    var f = {
        cN: "prompt",
        b: /^(>>>|\.\.\.) /
    };
    var b = {
        cN: "string",
        c: [a.BE],
        v: [{
            b: /(u|b)?r?'''/,
            e: /'''/,
            c: [f],
            r: 10
        }, {
            b: /(u|b)?r?"""/,
            e: /"""/,
            c: [f],
            r: 10
        }, {
            b: /(u|r|ur)'/,
            e: /'/,
            r: 10
        }, {
            b: /(u|r|ur)"/,
            e: /"/,
            r: 10
        }, {
            b: /(b|br)'/,
            e: /'/,
        }, {
            b: /(b|br)"/,
            e: /"/,
        }, a.ASM, a.QSM]
    };
    var d = {
        cN: "number",
        r: 0,
        v: [{
            b: a.BNR + "[lLjJ]?"
        }, {
            b: "\\b(0o[0-7]+)[lLjJ]?"
        }, {
            b: a.CNR + "[lLjJ]?"
        }]
    };
    var e = {
        cN: "params",
        b: /\(/,
        e: /\)/,
        c: ["self", f, d, b]
    };
    var c = {
        e: /:/,
        i: /[${=;\n]/,
        c: [a.UTM, e]
    };
    return {
        k: {
            keyword: "and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda nonlocal|10 None True False",
            built_in: "Ellipsis NotImplemented"
        },
        i: /(<\/|->|\?)/,
        c: [f, d, b, a.HCM, a.inherit(c, {
            cN: "function",
            bK: "def",
            r: 10
        }), a.inherit(c, {
            cN: "class",
            bK: "class"
        }), {
            cN: "decorator",
            b: /@/,
            e: /$/
        }, {
            b: /\b(print|exec)\(/
        }]
    }
});
hljs.registerLanguage("sql", function(a) {
    return {
        cI: true,
        i: /[<>]/,
        c: [{
            cN: "operator",
            b: "\\b(begin|end|start|commit|rollback|savepoint|lock|alter|create|drop|rename|call|delete|do|handler|insert|load|replace|select|truncate|update|set|show|pragma|grant|merge)\\b(?!:)",
            e: ";",
            eW: true,
            k: {
                keyword: "all partial global month current_timestamp using go revoke smallint indicator end-exec disconnect zone with character assertion to add current_user usage input local alter match collate real then rollback get read timestamp session_user not integer bit unique day minute desc insert execute like ilike|2 level decimal drop continue isolation found where constraints domain right national some module transaction relative second connect escape close system_user for deferred section cast current sqlstate allocate intersect deallocate numeric public preserve full goto initially asc no key output collation group by union session both last language constraint column of space foreign deferrable prior connection unknown action commit view or first into float year primary cascaded except restrict set references names table outer open select size are rows from prepare distinct leading create only next inner authorization schema corresponding option declare precision immediate else timezone_minute external varying translation true case exception join hour default double scroll value cursor descriptor values dec fetch procedure delete and false int is describe char as at in varchar null trailing any absolute current_time end grant privileges when cross check write current_date pad begin temporary exec time update catalog user sql date on identity timezone_hour natural whenever interval work order cascade diagnostics nchar having left call do handler load replace truncate start lock show pragma exists number trigger if before after each row merge matched database",
                aggregate: "count sum min max avg"
            },
            c: [{
                cN: "string",
                b: "'",
                e: "'",
                c: [a.BE, {
                    b: "''"
                }]
            }, {
                cN: "string",
                b: '"',
                e: '"',
                c: [a.BE, {
                    b: '""'
                }]
            }, {
                cN: "string",
                b: "`",
                e: "`",
                c: [a.BE]
            }, a.CNM]
        }, a.CBLCLM, {
            cN: "comment",
            b: "--",
            e: "$"
        }]
    }
});
hljs.registerLanguage("ini", function(a) {
    return {
        cI: true,
        i: /\S/,
        c: [{
            cN: "comment",
            b: ";",
            e: "$"
        }, {
            cN: "title",
            b: "^\\[",
            e: "\\]"
        }, {
            cN: "setting",
            b: "^[a-z0-9\\[\\]_-]+[ \\t]*=[ \\t]*",
            e: "$",
            c: [{
                cN: "value",
                eW: true,
                k: "on off true false yes no",
                c: [a.QSM, a.NM],
                r: 0
            }]
        }]
    }
});
hljs.registerLanguage("perl", function(c) {
    var d = "getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when";
    var f = {
        cN: "subst",
        b: "[$@]\\{",
        e: "\\}",
        k: d
    };
    var g = {
        b: "->{",
        e: "}"
    };
    var a = {
        cN: "variable",
        v: [{
            b: /\$\d/
        }, {
            b: /[\$\%\@\*](\^\w\b|#\w+(\:\:\w+)*|{\w+}|\w+(\:\:\w*)*)/
        }, {
            b: /[\$\%\@\*][^\s\w{]/,
            r: 0
        }]
    };
    var e = {
        cN: "comment",
        b: "^(__END__|__DATA__)",
        e: "\\n$",
        r: 5
    };
    var h = [c.BE, f, a];
    var b = [a, c.HCM, e, {
        cN: "comment",
        b: "^\\=\\w",
        e: "\\=cut",
        eW: true
    }, g, {
        cN: "string",
        c: h,
        v: [{
            b: "q[qwxr]?\\s*\\(",
            e: "\\)",
            r: 5
        }, {
            b: "q[qwxr]?\\s*\\[",
            e: "\\]",
            r: 5
        }, {
            b: "q[qwxr]?\\s*\\{",
            e: "\\}",
            r: 5
        }, {
            b: "q[qwxr]?\\s*\\|",
            e: "\\|",
            r: 5
        }, {
            b: "q[qwxr]?\\s*\\<",
            e: "\\>",
            r: 5
        }, {
            b: "qw\\s+q",
            e: "q",
            r: 5
        }, {
            b: "'",
            e: "'",
            c: [c.BE]
        }, {
            b: '"',
            e: '"'
        }, {
            b: "`",
            e: "`",
            c: [c.BE]
        }, {
            b: "{\\w+}",
            c: [],
            r: 0
        }, {
            b: "-?\\w+\\s*\\=\\>",
            c: [],
            r: 0
        }]
    }, {
        cN: "number",
        b: "(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",
        r: 0
    }, {
        b: "(\\/\\/|" + c.RSR + "|\\b(split|return|print|reverse|grep)\\b)\\s*",
        k: "split return print reverse grep",
        r: 0,
        c: [c.HCM, e, {
            cN: "regexp",
            b: "(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",
            r: 10
        }, {
            cN: "regexp",
            b: "(m|qr)?/",
            e: "/[a-z]*",
            c: [c.BE],
            r: 0
        }]
    }, {
        cN: "sub",
        bK: "sub",
        e: "(\\s*\\(.*?\\))?[;{]",
        r: 5
    }, {
        cN: "operator",
        b: "-\\w\\b",
        r: 0
    }];
    f.c = b;
    g.c = b;
    return {
        k: d,
        c: b
    }
});
hljs.registerLanguage("objectivec", function(a) {
    var d = {
        keyword: "int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign self synchronized id nonatomic super unichar IBOutlet IBAction strong weak @private @protected @public @try @property @end @throw @catch @finally @synthesize @dynamic @selector @optional @required",
        literal: "false true FALSE TRUE nil YES NO NULL",
        built_in: "NSString NSDictionary CGRect CGPoint UIButton UILabel UITextView UIWebView MKMapView UISegmentedControl NSObject UITableViewDelegate UITableViewDataSource NSThread UIActivityIndicator UITabbar UIToolBar UIBarButtonItem UIImageView NSAutoreleasePool UITableView BOOL NSInteger CGFloat NSException NSLog NSMutableString NSMutableArray NSMutableDictionary NSURL NSIndexPath CGSize UITableViewCell UIView UIViewController UINavigationBar UINavigationController UITabBarController UIPopoverController UIPopoverControllerDelegate UIImage NSNumber UISearchBar NSFetchedResultsController NSFetchedResultsChangeType UIScrollView UIScrollViewDelegate UIEdgeInsets UIColor UIFont UIApplication NSNotFound NSNotificationCenter NSNotification UILocalNotification NSBundle NSFileManager NSTimeInterval NSDate NSCalendar NSUserDefaults UIWindow NSRange NSArray NSError NSURLRequest NSURLConnection UIInterfaceOrientation MPMoviePlayerController dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"
    };
    var c = /[a-zA-Z@][a-zA-Z0-9_]*/;
    var b = "@interface @class @protocol @implementation";
    return {
        k: d,
        l: c,
        i: "</",
        c: [a.CLCM, a.CBLCLM, a.CNM, a.QSM, {
            cN: "string",
            b: "'",
            e: "[^\\\\]'",
            i: "[^\\\\][^']"
        }, {
            cN: "preprocessor",
            b: "#import",
            e: "$",
            c: [{
                cN: "title",
                b: '"',
                e: '"'
            }, {
                cN: "title",
                b: "<",
                e: ">"
            }]
        }, {
            cN: "preprocessor",
            b: "#",
            e: "$"
        }, {
            cN: "class",
            b: "(" + b.split(" ").join("|") + ")\\b",
            e: "({|$)",
            k: b,
            l: c,
            c: [a.UTM]
        }, {
            cN: "variable",
            b: "\\." + a.UIR,
            r: 0
        }]
    }
});
hljs.registerLanguage("coffeescript", function(c) {
    var b = {
        keyword: "in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super then unless until loop of by when and or is isnt not",
        literal: "true false null undefined yes no on off",
        reserved: "case default function var void with const let enum export import native __hasProp __extends __slice __bind __indexOf",
        built_in: "npm require console print module exports global window document"
    };
    var a = "[A-Za-z$_][0-9A-Za-z$_]*";
    var f = c.inherit(c.TM, {
        b: a
    });
    var e = {
        cN: "subst",
        b: /#\{/,
        e: /}/,
        k: b
    };
    var d = [c.BNM, c.inherit(c.CNM, {
        starts: {
            e: "(\\s*/)?",
            r: 0
        }
    }), {
        cN: "string",
        v: [{
            b: /'''/,
            e: /'''/,
            c: [c.BE]
        }, {
            b: /'/,
            e: /'/,
            c: [c.BE]
        }, {
            b: /"""/,
            e: /"""/,
            c: [c.BE, e]
        }, {
            b: /"/,
            e: /"/,
            c: [c.BE, e]
        }]
    }, {
        cN: "regexp",
        v: [{
            b: "///",
            e: "///",
            c: [e, c.HCM]
        }, {
            b: "//[gim]*",
            r: 0
        }, {
            b: "/\\S(\\\\.|[^\\n])*?/[gim]*(?=\\s|\\W|$)"
        }]
    }, {
        cN: "property",
        b: "@" + a
    }, {
        b: "`",
        e: "`",
        eB: true,
        eE: true,
        sL: "javascript"
    }];
    e.c = d;
    return {
        k: b,
        c: d.concat([{
            cN: "comment",
            b: "###",
            e: "###"
        }, c.HCM, {
            cN: "function",
            b: "(" + a + "\\s*=\\s*)?(\\(.*\\))?\\s*\\B[-=]>",
            e: "[-=]>",
            rB: true,
            c: [f, {
                cN: "params",
                b: "\\(",
                rB: true,
                c: [{
                    b: /\(/,
                    e: /\)/,
                    k: b,
                    c: ["self"].concat(d)
                }]
            }]
        }, {
            cN: "class",
            bK: "class",
            e: "$",
            i: /[:="\[\]]/,
            c: [{
                bK: "extends",
                eW: true,
                i: /[:="\[\]]/,
                c: [f]
            }, f]
        }, {
            cN: "attribute",
            b: a + ":",
            e: ":",
            rB: true,
            eE: true,
            r: 0
        }])
    }
});
hljs.registerLanguage("nginx", function(c) {
    var b = {
        cN: "variable",
        v: [{
            b: /\$\d+/
        }, {
            b: /\$\{/,
            e: /}/
        }, {
            b: "[\\$\\@]" + c.UIR
        }]
    };
    var a = {
        eW: true,
        l: "[a-z/_]+",
        k: {
            built_in: "on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"
        },
        r: 0,
        i: "=>",
        c: [c.HCM, {
            cN: "string",
            c: [c.BE, b],
            v: [{
                b: /"/,
                e: /"/
            }, {
                b: /'/,
                e: /'/
            }]
        }, {
            cN: "url",
            b: "([a-z]+):/",
            e: "\\s",
            eW: true,
            eE: true
        }, {
            cN: "regexp",
            c: [c.BE, b],
            v: [{
                b: "\\s\\^",
                e: "\\s|{|;",
                rE: true
            }, {
                b: "~\\*?\\s+",
                e: "\\s|{|;",
                rE: true
            }, {
                b: "\\*(\\.[a-z\\-]+)+"
            }, {
                b: "([a-z\\-]+\\.)+\\*"
            }]
        }, {
            cN: "number",
            b: "\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"
        }, {
            cN: "number",
            b: "\\b\\d+[kKmMgGdshdwy]*\\b",
            r: 0
        }, b]
    };
    return {
        c: [c.HCM, {
            b: c.UIR + "\\s",
            e: ";|{",
            rB: true,
            c: [c.inherit(c.UTM, {
                starts: a
            })],
            r: 0
        }],
        i: "[^\\s\\}]"
    }
});
hljs.registerLanguage("json", function(a) {
    var e = {
        literal: "true false null"
    };
    var d = [a.QSM, a.CNM];
    var c = {
        cN: "value",
        e: ",",
        eW: true,
        eE: true,
        c: d,
        k: e
    };
    var b = {
        b: "{",
        e: "}",
        c: [{
            cN: "attribute",
            b: '\\s*"',
            e: '"\\s*:\\s*',
            eB: true,
            eE: true,
            c: [a.BE],
            i: "\\n",
            starts: c
        }],
        i: "\\S"
    };
    var f = {
        b: "\\[",
        e: "\\]",
        c: [a.inherit(c, {
            cN: null
        })],
        i: "\\S"
    };
    d.splice(d.length, 0, b, f);
    return {
        c: d,
        k: e,
        i: "\\S"
    }
});
hljs.registerLanguage("apache", function(a) {
    var b = {
        cN: "number",
        b: "[\\$%]\\d+"
    };
    return {
        cI: true,
        c: [a.HCM, {
            cN: "tag",
            b: "</?",
            e: ">"
        }, {
            cN: "keyword",
            b: /\w+/,
            r: 0,
            k: {
                common: "order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"
            },
            starts: {
                e: /$/,
                r: 0,
                k: {
                    literal: "on off all"
                },
                c: [{
                    cN: "sqbracket",
                    b: "\\s\\[",
                    e: "\\]$"
                }, {
                    cN: "cbracket",
                    b: "[\\$%]\\{",
                    e: "\\}",
                    c: ["self", b]
                }, b, a.QSM]
            }
        }],
        i: /\S/
    }
});
hljs.registerLanguage("cpp", function(a) {
    var b = {
        keyword: "false int float while private char catch export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const struct for static_cast|10 union namespace unsigned long throw volatile static protected bool template mutable if public friend do return goto auto void enum else break new extern using true class asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue wchar_t inline delete alignof char16_t char32_t constexpr decltype noexcept nullptr static_assert thread_local restrict _Bool complex _Complex _Imaginary",
        built_in: "std string cin cout cerr clog stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf"
    };
    return {
        aliases: ["c"],
        k: b,
        i: "</",
        c: [a.CLCM, a.CBLCLM, a.QSM, {
            cN: "string",
            b: "'\\\\?.",
            e: "'",
            i: "."
        }, {
            cN: "number",
            b: "\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"
        }, a.CNM, {
            cN: "preprocessor",
            b: "#",
            e: "$",
            c: [{
                b: "include\\s*<",
                e: ">",
                i: "\\n"
            }, a.CLCM]
        }, {
            cN: "stl_container",
            b: "\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",
            e: ">",
            k: b,
            r: 10,
            c: ["self"]
        }]
    }
});
hljs.registerLanguage("makefile", function(a) {
    var b = {
        cN: "variable",
        b: /\$\(/,
        e: /\)/,
        c: [a.BE]
    };
    return {
        c: [a.HCM, {
            b: /^\w+\s*\W*=/,
            rB: true,
            r: 0,
            starts: {
                cN: "constant",
                e: /\s*\W*=/,
                eE: true,
                starts: {
                    e: /$/,
                    r: 0,
                    c: [b],
                }
            }
        }, {
            cN: "title",
            b: /^[\w]+:\s*$/
        }, {
            cN: "phony",
            b: /^\.PHONY:/,
            e: /$/,
            k: ".PHONY",
            l: /[\.\w]+/
        }, {
            b: /^\t+/,
            e: /$/,
            c: [a.QSM, b]
        }]
    }
});


sl = sl || {};
sl.components = sl.components || {};

sl.components.bannerSearch = {
    'init': function() {
        var productsTagsEndpoint = "/content/cq:tags/silicon-labs-products.tagdetail.json";
        var productsTagsJSON = "";
        //var timingPartsDataEndpoint = "/content/dam/siliconlabs/data/timingparts.json";
        var timingPartsDataEndpoint = "https://www.silabs.com/timing-part-search-promo.json";
        var timingPartsDataJSON = "";

        // util functions
        var buildUrl = function(endpoint, query) {
            var url = location.protocol + '//' + location.host;
            url += endpoint;
            url += query;
            return url;
        }

        //Get Product JSON for Facets
        $.get(productsTagsEndpoint, function (){ }).done(function(tagsdata) {
            productsTagsJSON = tagsdata;
        });

        //Get Parts Data JSON for partial part number search
        $.get(timingPartsDataEndpoint, function (){ }).done(function(timingpartsdata) {
            timingPartsDataJSON = timingpartsdata;
        });


        var getUrlParameter = function(name, x) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');

            var results;
            if(x == null || x == '' || x.length <= 0) {
              results = regex.exec(location.search);
            }
            if( x != null && x.length > 1) {
              var proX = x.replace(new RegExp(";", "g"), '&');
              results = regex.exec(proX);
            }

            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        var bannerSearch = this,
            searchBars = $('.slbs2-banner .search-container');

        $.each(searchBars, function() {
            var $input = $(this).find('#communitySearch');
            var $searchButton = $(this).find('.community-search-button');
            var $searchForm = $(this).find('#communitySearchForm');
            var searchPath = $(this).attr('data-search-path');
            var searchEndpoint = $(this).attr('data-search-endpoint');
            var categoryFilter = $(this).attr('data-category-filter');
            var lineFilter = $(this).attr('data-line-filter');
            var ctFilter = $(this).attr('data-ct-filter');
            var wildChar = $(this).attr('data-wild-char');
            var saytFilter = $(this).attr('data-sayt-filter');
            var query;
            var queryString = location.search;
            var q = getUrlParameter('q', queryString);
            var appendToQuery = '';
            if(typeof lineFilter !== "undefined"){
                var q1 = lineFilter;
                var x1 = 'product-line';
                appendToQuery += '&x1=' + x1;
                appendToQuery += '&q1=' + q1;
            }
            if(typeof categoryFilter !== "undefined"){
                var q2 = categoryFilter;
                var x2 = 'product-category';
                appendToQuery += '&x2=' + x2;
                appendToQuery += '&q2=' + q2;
            }
            if(typeof ctFilter !== "undefined"){
                var q5 = encodeURI(ctFilter.replace(/,/g,"|"));
                var x5 = 'content-type';
                appendToQuery += '&x5=' + x5;
                appendToQuery += '&q5=' + q5;
            }

            $input.val(decodeURIComponent(q));

            $searchButton.on('click', function(event) {
                event.preventDefault();
                var inputVal = $input.val();
                query = '';
                if (inputVal) {
                    query = '?q=' + encodeURIComponent(inputVal)+appendToQuery;
                    query = bannerSearch.getSelectedFacets(query);
                    var parts = bannerSearch.isPartialPartNumberSearch(inputVal, productsTagsJSON);
                    if(bannerSearch.isPartNumberSearch(inputVal, productsTagsJSON)){
                        query+= ';type=promotion;';
                    }else if(bannerSearch.isTimingPartMatch(inputVal, timingPartsDataJSON)){
                        query+= ';type=timing-promotion;';
                    }else if(parts.length >0){
                        query+= ';type=partial-promotion;';
                    }

                    document.location = searchPath + query;
                }
            });
            $input.keyup(function(e){
                if(e.keyCode == 13)
                {
                    event.preventDefault();
                    var inputVal = $input.val();
                    query = '';
                    if (inputVal) {
                        query = '?q=' + encodeURIComponent(inputVal)+appendToQuery;
                        query = bannerSearch.getSelectedFacets(query);
                        var parts = bannerSearch.isPartialPartNumberSearch(inputVal, productsTagsJSON);
                        if(bannerSearch.isPartNumberSearch(inputVal, productsTagsJSON)){
                            query+= ';type=promotion;'
                        }else if(bannerSearch.isTimingPartMatch(inputVal, timingPartsDataJSON)){
                            query+= ';type=timing-promotion;';
                        }else if(parts.length >0){
                            query+= ';type=partial-promotion;'
                        }

                        document.location = buildUrl(searchPath, query);
                    }
                }
            });

            $searchForm.on('submit', function(event) {
                event.preventDefault();
                var inputVal = $input.val();
                query = '';
                if (inputVal) {
                    query = '?q=' + encodeURIComponent(inputVal)+appendToQuery;
                    query = bannerSearch.getSelectedFacets(query);
                    var parts = bannerSearch.isPartialPartNumberSearch(inputVal, productsTagsJSON);
                    if(bannerSearch.isPartNumberSearch(inputVal, productsTagsJSON)){
                        query+= ';type=promotion;';
                    }else if(bannerSearch.isTimingPartMatch(inputVal, timingPartsDataJSON)){
                        query+= ';type=timing-promotion;';
                    }else if(parts.length >0){
                        query+= ';type=partial-promotion;';
                    }

                    document.location = searchPath + query;
                }
            });

            bannerSearch.initAutoComplete($input, searchEndpoint, lineFilter, categoryFilter, ctFilter, wildChar, saytFilter);
        });
    },



    'getSelectedFacets' : function(query){
        var selectedFacets = $('.sp-faceted-search .selected-filters p');
        var bannerSearch = this;
        var spURL = query;
        var x1Value='',q1Value='',x2Value='',q2Value='',x3Value='',q3Value='',x4Value='',q4Value='',x5Value='',q5Value='';
        $(selectedFacets).each(function(index){
            var value= decodeURI($(this).attr('data-text'));
            var xParam = $(this).attr('data-xparam');
            var xParamValue = $(this).attr('data-xvalue');
            var qParam = $(this).attr('data-qparam');

            if(xParam=='x1'){
                if(x1Value==''){
                    //x1Value = xParam+'='+xParamValue;
                    x1Value = xParamValue;
                    q1Value = value;
                }else{
                    q1Value = q1Value+'|'+value;
                }
            }else if(xParam=='x2'){
                if(x2Value==''){
                    x2Value = xParamValue;
                    q2Value = value;
                }else{
                    q2Value = q2Value+'|'+value;
                }

            }else if(xParam=='x3'){
                if(x3Value==''){
                    x3Value = xParamValue;
                    q3Value = value;
                }else{
                    q3Value = q3Value+'|'+value;
                }

            }else if(xParam=='x4'){
                if(x4Value==''){
                    x4Value = xParamValue;
                    q4Value = value;
                }else{
                    q4Value = q4Value+'|'+value;
                }

            }else if(xParam=='x5'){
                if(x5Value==''){
                    x5Value = xParamValue;
                    q5Value = value;
                }else{
                    q5Value = q5Value+'|'+value;
                }
            }

        });

        spURL= bannerSearch.changeParamByName(spURL,'page','1');
        if(x1Value){
            spURL= bannerSearch.changeParamByName(decodeURIComponent(spURL),'x1',x1Value);
            spURL= bannerSearch.changeParamByName(decodeURIComponent(spURL),'q1',q1Value);
        }
        if(x2Value){
            spURL= bannerSearch.changeParamByName(decodeURIComponent(spURL),'x2',x2Value);
            spURL= bannerSearch.changeParamByName(decodeURIComponent(spURL),'q2',q2Value);
        }
        if(x3Value){
            spURL= bannerSearch.changeParamByName(decodeURIComponent(spURL),'x3',x3Value);
            spURL= bannerSearch.changeParamByName(decodeURIComponent(spURL),'q3',q3Value);
        }
        if(x4Value){
            spURL= bannerSearch.changeParamByName(decodeURIComponent(spURL),'x4',x4Value);
            spURL= bannerSearch.changeParamByName(decodeURIComponent(spURL),'q4',q4Value);
        }
        if(x5Value){
            spURL= bannerSearch.changeParamByName(decodeURIComponent(spURL),'x5',x5Value);
            spURL= bannerSearch.changeParamByName(decodeURIComponent(spURL),'q5',q5Value);
        }

        /** Global Search Changes Start**/
        var tabHeader = $('.sp-faceted-search .sp-tabhActive');
        if(tabHeader.length>0){
            var textValue= $(tabHeader).attr("aria-text");
            spURL= bannerSearch.changeParamByName(decodeURIComponent(spURL),'x6','searchHeader');
            spURL= bannerSearch.changeParamByName(decodeURIComponent(spURL),'q6',textValue);
        }
        /** Global Search Changes End**/


        spURL= decodeURIComponent(spURL);
        spURL= spURL.replace(/&/g , ";");
        return spURL;

    },

    'isPartNumberSearch': function(query, productTagJSON){
        var stack = [], node, ii;
        if(productTagJSON) {
            stack.push(productTagJSON);
            while (stack.length > 0) {
                node = stack.pop();
                if (node['jcr:title'].toLowerCase() == query.toLowerCase()) {
                    if (node.children == "") {
                        return true;
                    } else {
                        return false;
                    }
                } else {
                    if (node.children !== "") {
                        var childArr = node.children.split(",");
                        for (ii = 0; ii < childArr.length; ii += 1) {
                            stack.push(node[childArr[ii]]);
                        }
                    }
                }
            }
        }
        return false;
    },


    "isPartialPartNumberSearch" : function(query, productTagJSON){
        var stack = [], node, ii, index=0, matchedParts=[];
        if (productTagJSON) {
            stack.push(productTagJSON);
            while (stack.length > 0) {
                node = stack.pop();
                if (node['jcr:title'].toLowerCase().indexOf(query.toLowerCase()) > -1) {
                    if (node.children == "") {
                        matchedParts[index] = node['jcr:title'];
                        index++;
                    } else {
                        var childArr = node.children.split(",");
                        for (ii = 0; ii < childArr.length; ii += 1) {
                            stack.push(node[childArr[ii]]);
                        }
                    }
                } else {
                    if (node.children !== "") {
                        var childArr = node.children.split(",");
                        for (ii = 0; ii < childArr.length; ii += 1) {
                            stack.push(node[childArr[ii]]);
                        }
                    }
                }
            }
        }
        return matchedParts;
    },

    "isTimingPartMatch" : function (query, timingJSON){
        var isMatch = false;
        var parts = timingJSON.parts;
        $(parts).each(function(index){
            if(query.toUpperCase()==parts[index]){
                isMatch = true;
                return false;
            }
        });
        return isMatch;
    },

    'changeParamByName': function(href, paramName, newVal) {
        // var tmpRegex = new RegExp("(" + paramName + "=)[a-z]+", 'ig');
        // return href.replace(tmpRegex, '$1'+newVal);
        /*
         * queryParameters -> handles the query string parameters
         * queryString -> the query string without the fist '?' character
         * re -> the regular expression
         * m -> holds the string matching the regular expression
         */
        href = href.replace(/;/g , "&");
        var queryParameters = {}, queryString = href.substring('?'),
            re = /([^&=]+)=([^&]*)/g, m;

        // Creates a map with the query string parameters
        while (m = re.exec(queryString)) {
            queryParameters[m[1]] = m[2];
        }
        // Add new parameters or update existing ones
        queryParameters[paramName] = newVal;
        // queryParameters['x2'] = 'content-type';
        // queryParameters['page'] = '1';
        return $.param(queryParameters);
    },

    'initAutoComplete': function($input, searchEndpoint, lineFilter, categoryFilter, ctFilter, wildChar, saytFilter) {
        var productLineFilter = lineFilter;
        var productCategoryFilter = categoryFilter;
        var appendToQuery = '';
        if(wildChar=='yes'){
            appendToQuery = '*';
        }
        if(saytFilter=='community' || saytFilter=='' || typeof saytFilter=="undefined"){
            appendToQuery+=';search=community';
        }else{
            appendToQuery+=';search=global';
        }
        if (productLineFilter) {
            var q1 = productLineFilter;
            var x1 = 'product-line';
            appendToQuery += ';x1=' + x1;
            appendToQuery += ';q1=' + q1;
        }
        if (productCategoryFilter) {
            var q2 = productCategoryFilter;
            var x2 = 'product-category';
            appendToQuery += ';x2=' + x2;
            appendToQuery += ';q2=' + q2;
        }
        if(typeof ctFilter!=="undefined"){
            var q5 = encodeURI(ctFilter.replace(/,/g,"|"));
            var x5 = 'content-type';
            appendToQuery += ';x5=' + x5;
            appendToQuery += ';q5=' + q5;
        }
        appendToQuery += ';';

        var settings = {
            viewId: "banner-sayt-view",
            minInputLength: 3,
            minInputDelay: 50,
            formSelector: '#communitySearchForm',
            submitOnSelect: true,
            minWidth: 400,
            containers: [
                {
                    requestUrl: searchEndpoint + '?do=sayt&i=1',
                    className: "",
                    id: "sayt-links-2",
                    queryParam: 'q',
                    ajaxDataType: 'script',
                    containerType: 'WSCS',
                    appendToQuery: appendToQuery,
                    highlightWords: true
                }
            ]
        }

        $input.TargetComplete(settings);
    }
};

document.ready;

$(window).on('resize', function() {
    $(".slbs2-banner.low-profile .mobile-img").each(function(i, obj) {
        if ( $( this ).length ) {
            if ($( this ).css("background-image").indexOf("placeholder.png") > 0){
                $( this ).css("display","none");
            }

        }
    });
});
$(window).on('load', function(){
    $(".slbs2-banner.low-profile .mobile-img").each(function(i, obj) {
        if ( $( this ).length ) {
            if ($( this ).css("background-image").indexOf("placeholder.png") > 0){
                $( this ).css("display","none");
            }

        }
    });
});
//sl = sl || {};
sl.components = sl.components || {};

sl.components.brainshark = {
    'init': function() {
        var brainShark = this;

        $(document).on('click', 'img.brainshark-clickable', function() {
            var $thisImage = $(this),
                theVideoUrl = $thisImage.attr('data-videourl');
            window.open(theVideoUrl);
        });
    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.bootstrapCalculator = {
	"init": function() {
		var bootstrapCalculator = this,
			$bootstrapCalculator = $('.bootstrap-calculator');

			if ($bootstrapCalculator.length) {
				bootstrapCalculator.setEvents($bootstrapCalculator);
			}
	},
	"setEvents": function($bootstrapCalculator) {
		var bootstrapCalculator = this;

		$bootstrapCalculator.find('input').blur(function() {
			$(this).removeClass('highlight');
			$bootstrapCalculator.find('.bootstrap-calculator-diagram').hide();
			$bootstrapCalculator.find('.bootstrap-calculator-diagram.no-highlight').show();
			$bootstrapCalculator.find('.bootstrap-calculator-field-description').html(''); // clear description field

			// find and handle errors if any; perform calculations if not
			if (bootstrapCalculator.hasErrors($bootstrapCalculator)) {
				$bootstrapCalculator.find('.bootstrap-calculator-field-description').css('border-color', '#d91e2a');
				$bootstrapCalculator.find('input[readonly]').val('');
				bootstrapCalculator.handleErrors($bootstrapCalculator);
			} else {
				$bootstrapCalculator.find('.bootstrap-calculator-field-description').css('border-color', '');
				bootstrapCalculator.performCalculations($bootstrapCalculator);
			}
		});

		$bootstrapCalculator.find('input').focus(function() {
			// construct description and populate description field unless there are errors
			$(this).addClass('highlight');
			var desc = $(this).data('description'),
				label = $(this).prev('label').html(),
				suffix = $(this).next('.bootstrap-calculator-input-suffix').html();
			if (label.endsWith(':')) {
				label = label.substr(0, label.length - 1);
			}

			var htmlStr = label + ': ' + desc;

			if ($(this).prop('id') === 'txtVcb') {
				suffix = '%';
			}
			if (suffix) {
				htmlStr += ' (' + suffix + ')'
			}
			if (!bootstrapCalculator.hasErrors($bootstrapCalculator)) {
				$bootstrapCalculator.find('.bootstrap-calculator-field-description').html(htmlStr);
			}
		});

		// handle image swapping on input "focus"
		$bootstrapCalculator.find('.bootstrap-calculator-step-one input').focus(function() {
			$bootstrapCalculator.find('.bootstrap-calculator-diagram').hide();
			$bootstrapCalculator.find('.bootstrap-calculator-diagram.m-highlight').show();
		});

		$bootstrapCalculator.find('.bootstrap-calculator-step-two #txtVcb').focus(function() {
			$bootstrapCalculator.find('.bootstrap-calculator-diagram').hide();
			$bootstrapCalculator.find('.bootstrap-calculator-diagram.bc-highlight').show();
		});

		$bootstrapCalculator.find('.bootstrap-calculator-step-two #txtVddo').focus(function() {
			$bootstrapCalculator.find('.bootstrap-calculator-diagram').hide();
			$bootstrapCalculator.find('.bootstrap-calculator-diagram.v-highlight').show();
		});
	},
	"hasErrors": function($bootstrapCalculator) {
		// determines whether the calculator has any inavlid values in its inputs
		var $inputs = $bootstrapCalculator.find('input');
		var hasErrors = false;
		$inputs.each(function() {
			if ($(this).is(':invalid')) {
				hasErrors = true;
				return false;
			}
		});
		return hasErrors;
	},
	"handleErrors": function($bootstrapCalculator) {
		// finds any invalid inputs and constructs and puts the first one's error message in the description field
		var $inputs = $bootstrapCalculator.find('input');
		$inputs.each(function() {
			if ($(this).is(':invalid')) {
				var err = $(this).data('error-message'),
					label = $(this).prev('label').html(),
					suffix = $(this).next('.bootstrap-calculator-input-suffix').html(),
					htmlStr = '<b>' + label + ':</b> ';
				if (err) {
					htmlStr += err;
				} else {
					var min = $(this).prop('min'),
						max = $(this).prop('max');
					htmlStr += min + ' - ' + max;
				}
				if (suffix) {
					htmlStr += ' ' + suffix;
				}
				$bootstrapCalculator.find('.bootstrap-calculator-field-description').html(htmlStr);
				return false;
			}
		});
	},
	"performCalculations": function($bootstrapCalculator) {
		// calculates all values using the given formulas
		var mosfets = $('#txtMosfets').val(),
			freq = $('#txtFrequency').val(),
			qg = $('#txtQg').val(),
			dmax = $('#txtDmax').val(),
			dmin = $('#txtDmin').val(),
			iddo = $('#txtIddo').val(),
			vcb = $('#txtVcb').val(),
			vddo = $('#txtVddo').val();

		var round = function(num) {
			return parseInt((new Number(num)).toFixed(0));
		}

		var qgtl = mosfets * qg;
		var tcyc = 1/freq;
		tcyc = tcyc.toExponential(2); // use inexact values - according to Timing team
		var qcb = qgtl * 0.000000001 + dmax / 100 * tcyc * iddo * 0.001;
		qcb = qcb.toExponential(2); // use inexact values - according to Timing team
		var cbvalue = 100000000000 * qcb / (vcb * vddo);
		var imax = qcb / (dmin / 100 * tcyc) / 0.001;
		var iavg = (qg * 0.000000001 / tcyc + iddo * 0.001) / 0.001;

		$('#txtQgtl').val(qgtl);
		$('#txtTcyc').val(tcyc);
		$('#txtQcb').val(qcb);
		$('#txtCbValue').val(round(cbvalue));
		$('#txtImax').val(round(imax));
		$('#txtIavg').val(round(iavg));
	}
}

sl = sl || {};
sl.components = sl.components || {};

sl.components.baraccordionlist = {
    "init": function() {
        var baraccordionlist = this,
            $baraccordionlist = $('.slbs2-bar-accordion-list');

        if ($baraccordionlist.length) {
            baraccordionlist.checkMoreLess($baraccordionlist);
        }

    },
    "checkMoreLess": function($baraccordionlist) {
        var baraccordionlist = this;
        //Find all li instances with class fade, find parent ul, add show more li to the ul
        $("li.ba-li.line-fade").each(function() {
            $(this).parent().append("<li class='ba-li ba-show-more show-it'><a href='#' class='ba-show-more'>Show More</a></li>");
        });

        $( "a.ba-show-more" ).on( "click", function() {
            $(this).closest('.slbs2-bar-accordion-list').find(".hide-it").removeClass("hide-it").addClass("show-it");
            $(this).closest('.slbs2-bar-accordion-list').find(".ba-show-more").removeClass("show-it").addClass("hide-it");
            $("li.ba-li.line-fade").addClass("line-fade-off").removeClass("line-fade");
        });

        $( "a.ba-show-less" ).on( "click", function() {
            $(this).closest('.slbs2-bar-accordion-list').find('.show-it').removeClass("show-it").addClass("hide-it");
            $(this).closest('.slbs2-bar-accordion-list').find(".ba-show-more").removeClass("hide-it").addClass("show-it");
            $("li.ba-li.line-fade-off").addClass("line-fade").removeClass("line-fade-off");
        });
    }
}
sl = sl || {};
sl.components = sl.components || {};

sl.components.anchor = {
    "init": function() {

        if (location.hash.length > 0 && $(location.hash).length > 0) {
            // Bump it down for mobile since the sticky nav covers part of the page
            var mobileBump = Foundation.MediaQuery.atLeast('large') ? 0 : -$('.slbs2-header').outerHeight();

            // Ignore previous browser scroll position
            if ('scrollRestoration' in history) {
                history.scrollRestoration = 'manual';
            }

            // If there are lazy loaded images on the page wait for them all to load before trying to scroll
            if ($('.lazy-loading').length > 0) {

                $(window).on('all-lazy-images-loaded', function() {
                    // Trigger manual scroll to anchor
                    window.scroll(0, $(location.hash).offset().top + mobileBump);
                })

            } else {
                window.scroll(0, $(location.hash).offset().top + mobileBump);
            }

        }
    }
};
$(document).ready(function() {
    var $globalHeader = $('.slbs2-header');
    var $isTouchDevice = 'ontouchstart' in document.documentElement;
    // click events to open/close sub menus in mobile nav
    $(document).on('click', '.nav-link', function(el) {
        el.preventDefault();

        if (!Foundation.MediaQuery.atLeast('large')) {

            var $thisNavItem = $(el.currentTarget),
                $thisNav = $thisNavItem.parent();

            if ($thisNavItem.hasClass('open')) {
                $thisNavItem.removeClass('open');
                $thisNav.find('.sub-nav').css({
                    'max-height': 0
                });
            } else {
                $('.nav-link.open').removeClass('open').parent().find('.sub-nav').css({
                    'max-height': 0
                });
                $thisNavItem.addClass('open');
                $thisNav.find('.sub-nav').css({
                    'max-height': '1000px'
                });
            }
        }

    })
    // show less / show more
    if ($isTouchDevice){
        $(document).on('click', '.select-display', function (event) {
            event.stopPropagation();
            if ($( ".select-display-list" ).hasClass( "show-list" )){
                $('.select-display-list').removeClass('show-list');
            } else {
                $('.select-display-list').addClass('show-list');
            }
        });
    } else {
        $(document).on('mouseenter', '.select-group', function (event) {
            $('.select-display-list').addClass('show-list');
        }).on('mouseleave', '.select-group', function () {
            $('.select-display-list').removeClass('show-list');
        });
    }
    $(document).on('click', '.select-display-item', function(el) {
            el.stopPropagation();
            var $this = $(this);
            var theCurView = $('.select-display-btnlabel').html();
            var theNewView = $this.find('span').html();
            if (theNewView == 'Show More'){
                $(".show-more").css("display", "block");
                $(".show-less").css("display", "none");
            }else{
                $(".show-more").css("display", "none");
                $(".show-less").css("display", "block");
            }
            $(".select-display-btnlabel").html(theNewView);
            $(".select-display-option").html(theCurView);
            if ($( ".select-display-list" ).hasClass( "show-list" )){
                $('.select-display-list').removeClass('show-list');
            }
        }
    );


    // click events to open/close mobile off canvas menu
    $globalHeader.find('.menu-button').on('click', function() {
        $('body').toggleClass('show-menu');
    });
    $(document).mouseup(function(e) {
        var container = $(".select-display-list");
        if ($isTouchDevice){
            container = $(".select-display");
        }
        if (container) {
            if (!container.is(e.target) // if the target of the click isn't the container...
                &&
                container.has(e.target).length === 0) // ... nor a descendant of the container
            {
                if ($( ".select-display-list" ).hasClass( "show-list" )){
                    $('.select-display-list').removeClass('show-list');
                }
            }
        }
    });
    // init components
    sl = window.sl || {};

    sl.components.bannerSearch.init();
    sl.components.searchResults.init();


    //$('.scf-js-composer-block').click(function() {
    //    $(this).removeClass("scf-is-collapsed");
    //})

    var $backgroundContainers = $('.slbs2-backgroundcontainer');
    $backgroundContainers.each(function() {
        var totalHeight = 0;
        $(this).children().each(function(){
            totalHeight += $(this).height();
        });
        if(totalHeight == 0) {
            $(this).hide();
        }
    })
    setTimeout(function() {
        $("li[data_type='following']").hide();
    }, 1000)

    $('#screenNameInput').keyup(function(){
        $('.profile-update-btn').prop('disabled', this.value == "" ? true : false);
    })

    // latest and popular sort buttons

    $('.latest-popular').find('.btn').click(function() {

        $('.latest-popular').find('.btn').removeClass('active');

        var $this = $(this);
        if (!$this.hasClass('active')) {
            $this.addClass('active');
        }
    });


});

$(window).load(function() {
    $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
    });
});


var chinese = {};
chinese ['Account'] = '帐户';
chinese ['Messaging'] = '信息传送';
chinese ['Log Off'] = '注销';
chinese ['Register'] = '注册';
chinese['MCUs'] = 'MCU';
chinese ['Wireless'] = '无线';
chinese ['More Products'] = '更多产品';
chinese ['Development Tools'] = '开发工具';
chinese ["Expert's Corner"] = '专家专栏';
chinese ['Search silabs.com'] = 'Search silabs.com';
chinese ['Go'] = '转至';
chinese ['Support. Community. Welcome to the Red Planet'] = '支持。社区。欢迎来到 Red Planet';
chinese ['Forum'] = '论坛';
chinese ['Knowledge Base'] = '知识库';
chinese ['Technical Resources'] = '技术资源';
chinese ['Tutorial'] = '教程';
chinese ['Tutorials'] = '教程';
chinese ['Need answers? Start with these featured resources'] = '需要回答？ 从这些特色资源开始着手';
chinese ['View all'] = '查看全部';
chinese ['Need additional help? Contact Support'] = '需要额外帮助？ 联系支持部门';
chinese ['Participation Board'] = '参与委员会';
chinese ['Name'] = '姓名';
chinese ['Level'] = '级别';
chinese ['Score'] = '分数';
chinese ['Application Notes'] = '应用说明';
chinese ['Data Sheets'] = '数据表';
chinese ['Discussion Forums'] = '讨论区';
chinese ['Getting Started'] = '入门指南';
chinese ['Knowledge Base'] = '知识库';
chinese ['Manuals'] = '手册';
chinese ['Release Notes'] = '发行说明';
chinese ['Reference Designs'] = '参考设计';
chinese ['RoHS Environmental'] = 'RoHS 环保';
chinese ['Schematics'] = '原理图';
chinese ['Software'] = '软件';
chinese ['Reference Designs'] = '参考设计';
chinese ['8-bit MCU'] = '8-位 MCU';
chinese ['8-bit MCUs'] = '8-位 MCU';
chinese ['8-bit Microcontroller'] = '8-位 MCU';
chinese ['Search 8-bit MCU'] = 'Search 8-位 MCU';
chinese ['32-bit MCU'] = '32-位 MCU';
chinese ['32-bit Microcontroller'] = '32-位 MCU';
chinese ['Search 32-bit MCU'] = 'Search 32-位 MCU';
chinese ['Bluetooth'] = '蓝牙';
chinese ['Proprietary'] = '专有';
chinese ['Propreitary'] = '专有';
chinese ['Wi-Fi'] = 'Wi-Fi';
chinese ['Zigbee & Thread'] = 'ZigBee & Thread';
chinese ['Interface'] = '接口';
chinese ['Isolation'] = '隔离';
chinese ['Power'] = '电源';
chinese ['Sensors'] = '传感器';
chinese ['Timing'] = '定时';
chinese ['Micrium OS'] = 'Micrium OS';
chinese ['Simplicity Studio'] = 'Simplicity Studio';
chinese ['Thunderboard'] = 'Thunderboard';
chinese ['Zentri'] = 'Zentri';
chinese ['Zentri Cloud'] = 'Zentri Cloud';
chinese ['Ask Me Anything'] = '有问必答';
chinese ['Blog'] = '博客';
chinese ['General Interest'] = '大众兴趣';
chinese ['Projects'] = '项目';
chinese ['Profile'] = '档案';
chinese ['Activities'] = '活动';
chinese ['Badges'] = '徽章';
chinese ['Privacy'] = '隐私';
chinese ['Last login'] = '上次登录';
chinese ['Registered'] = '已注册';
chinese ['Following'] = '关注';
chinese ['Followers'] = '粉丝';
chinese ['Screen Name:'] = '显示名';
chinese ['Screen Name*'] = '显示名*';
chinese ['First Name:'] = '名字';
chinese ['First Name*'] = '名字*';
chinese ['Last Name:'] = '姓氏';
chinese ['Last Name*'] = '姓氏*';
chinese ['Email:'] = '电子邮件';
chinese ['Email*'] = '电子邮件*';
chinese ['Lanuguage:'] = '语言';
chinese ['Language:'] = '语言';
chinese ['Company:'] = '公司';
chinese ['Company*'] = '公司*';
chinese ['Country:'] = '国家';
chinese ['Country*'] = '国家*';
chinese ['Title:'] = '标题';
chinese ['Title'] = '标题';
chinese ['Address:'] = '地址';
chinese ['URL (i.e. Company, Github, Linkedin):'] = 'URL';
chinese ['URL(i.i. Company, Github, LinkedIn):'] = 'URL';
chinese ['URL (i.e. Company, Github, LinkedIn)'] = 'URL';
chinese ['LinkedIn account:'] = 'Linkedin 帐号';
chinese ['LinkedIn account'] = 'Linkedin 帐号';
chinese ['Phone number:'] = '电话号码';
chinese ['Phone number'] = '电话号码';
chinese ['Bio:'] = '个人简介';
chinese ['Bio'] = '个人简介';
chinese ['Indicates required field*'] = '表示必填字段';
chinese ['Cancel'] = '取消';
chinese ['Save changes'] = '保存更改';
chinese ['Go to Answer'] = '查看答案';
chinese ['Report Abuse'] = '举报滥用';
chinese ['Flag'] = '标志';
chinese ['Delete'] = '删除';
chinese ['Edit'] = '编辑';
chinese ['Deny'] = '拒绝';
chinese ['Cut'] = '剪切';
chinese ['Close'] = '关闭';
chinese ['Pin'] = '固定';
chinese ['Feature'] = '特色';
chinese ['Post'] = '帖子';
chinese ['Correct Answer'] = '正确答案';
chinese ['Your answer'] = '您的答案';
chinese ['Ask a New Question'] = '再提一个问题';
chinese ['Latest'] = '最新';
chinese ['Most Popular'] = '最热门';
chinese ['All questions'] = '全部问题';
chinese ['Replies'] = '回复';
chinese ['Answered'] = '已回答';
chinese ['Unanswered'] = '未回答';
chinese ['Previous'] = '上一个';
chinese ['Next'] = '下一个';
chinese ['Comment'] = '评论';
chinese ['Search xxx forum'] = '搜索 xxx 论坛';
chinese ['Search xxx knowledge base'] = '搜索 xxx 知识库';
chinese ['Tags'] = '标签';
chinese ['Archieves'] = '档案';
chinese ['Archievers'] = '档案';
chinese ['Top Authors'] = '热门作者';
chinese ['Login'] = '登录';
chinese ['Log In'] = '登录';
chinese ['Sort By'] = '排序依据';
chinese ['Attach file'] = '附加文件';
chinese ['Ask'] = '提问';
chinese ['Not a member? Sign up for a new account'] = '不是会员？ 注册新帐号';
chinese ['Forgot user name'] = '忘记用户名';
chinese ['Password'] = '密码';
chinese ['The answer is out there. Find it in here.'] = '答案就在那里。在这里查找。';
chinese ['Find training, white papers, knowledge base articles, and more'] = '查找培训、白皮书、知识库文章及其他资料';
chinese ['Trending in the community'] = '社区里的流行话题';
chinese ['Read more'] = '更多内容';
chinese ['Search by content type'] = '按内容类型搜索';
chinese ['In a hurry? Need help fast?'] = '急用？ 急需帮助？';
chinese ['Blog posts'] = '博文';
chinese ['Example Code'] = '代码示例';
chinese ['Training'] = '培训';
chinese ['Training Videos'] = '培训视频';
chinese ['Webinars'] = '网络研讨会';
chinese ['White Papers'] = '白皮书';
chinese ['Download'] = '下载';
chinese['Translate'] = '翻译';
chinese['Escalate Case'] = '升级案例';
chinese['Answer'] = '回答';
chinese['Follow'] = '跟随';
chinese['/community/blog'] = '/community/chinese-blog';
chinese['CMSIS Pack'] = 'CMSIS 支持包';
chinese['32 bit MCU SDK'] = '32 位 MCU SDK';
chinese['32-bit MCU Accessories'] = '32 位 MCU 配件';
chinese['32-bit MCU Kits'] = '32 位 MCU 套件';
chinese['32-bit MCU Production Programmer'] = '32 位 MCU 生产编程器';
chinese['32-bit MCUs'] = '32 位 MCU';
chinese['8-bit MCU Accessories'] = '8 位 MCU 配件';
chinese['8-bit MCU Kits'] = '8 位 MCU 套件';
chinese['8-bit MCU Reference Designs'] = '8 位MCU 参考设计';
chinese['8-bit MCUs'] = '8 位 MCU';
chinese['8-bit Microcontroller Studio'] = '8 位微控制器工作室';
chinese['8051 SDK'] = '8051 SDK';
chinese['Accessories'] = '配件';
chinese['Agriculture'] = '农业';
chinese['Antennas'] = '天线';
chinese['Application Notes'] = '应用说明';
chinese['Asset Tracking'] = '资产跟踪';
chinese['Audio and Infotainment'] = '音频和信息娱乐';
chinese['Audio and Radio'] = '音频和无线电';
chinese['Audio and Radio Kits'] = '音频和无线电套件';
chinese['Audio and Radio Reference Designs'] = '音频和无线电参考设计';
chinese['Automotive'] = '汽车';
chinese['Automotive Digital Radios'] = '汽车数字无线电';
chinese['Automotive Tuner Kits'] = '汽车调谐器套件';
chinese['Automotive Tuners'] = '汽车调谐器';
chinese['Beaconing'] = '信标';
chinese['Biometric Sensor Kits'] = '生物识别传感器套件';
chinese['Biometric Sensors'] = '生物识别传感器';
chinese['Blog Posts'] = '博文';
chinese['Bluegiga BGTerm Terminal Software'] = 'Bluegiga BGTerm 终端软件';
chinese['Bluegiga BLED112 Driver (Windows)'] = 'Bluegiga BLED112 驱动器 (Windows)';
chinese['Bluegiga Bluetooth Classic BlueSuite'] = 'Bluegiga 蓝牙经典 BlueSuite';
chinese['Bluegiga Bluetooth Classic SDK'] = 'Bluegiga 蓝牙经典 SDK';
chinese['Bluegiga Bluetooth Smart SDK'] = 'Bluegiga  Bluetooth Smart SDK';
chinese['Bluegiga iWRAP Bluetooth Classic SDK'] = 'Bluegiga iWRAP 蓝牙经典 SDK';
chinese['Bluegiga WF111 Android Driver'] = 'Bluegiga WF111 安卓驱动器';
chinese['Bluegiga Wi-Fi SDK'] = 'Bluegiga Wi-Fi SDK';
chinese['Bluegiga Wi-Fi WF111 Linux Driver (ARMv5)'] = 'Bluegiga Wi-Fi WF111 Linux 驱动器 (ARMv5)';
chinese['Bluegiga Wi-Fi WF111 Linux Driver (ARMv7)'] = 'Bluegiga Wi-Fi WF111 Linux 驱动器 (ARMv7)';
chinese['Bluegiga Wi-Fi WF111 Linux Driver (x86)'] = 'Bluegiga Wi-Fi WF111 Linux 驱动器 (x86)';
chinese['Bluetooth Classic'] = '蓝牙经典';
chinese['Bluetooth Classic Kits'] = '蓝牙经典套件';
chinese['Bluetooth Low Energy'] = '蓝牙低功耗';
chinese['Bluetooth Low Energy Accessories'] = '蓝牙低功耗配件';
chinese['Bluetooth Low Energy Kits'] = '蓝牙低能耗套件';
chinese['Bluetooth Low Energy Reference Designs'] = '蓝牙低功耗参考设计';
chinese['Bluetooth Low Energy SDK'] = '蓝牙低功耗 SDK';
chinese['Bluetooth SDK'] = '蓝牙 SDK';
chinese['Bluetooth SDK for Apple HomeKit'] = '蓝牙 SDK，适用于 Apple HomeKit';
chinese['Buffer Kits'] = '缓冲器套件';
chinese['Buffers'] = '缓冲器';
chinese['Capacitive Touch Controller Kits'] = '电容式触摸控制器套件';
chinese['Capacitive Touch Controllers'] = '电容式触摸控制器';
chinese['CDR and PHY ICs'] = 'CDR 和 PHY IC';
chinese['Class D Audio Driver Reference Designs'] = 'D 类音频驱动器参考设计';
chinese['Class D Audio Drivers'] = 'D 类音频驱动器';
chinese['Clock Accessories'] = '时钟配件';
chinese['Clock Kits'] = '时钟套件';
chinese['ClockBuilder'] = 'ClockBuilder';
chinese['ClockBuilder Pro'] = 'ClockBuilder Pro';
chinese['Clocks'] = '时钟';
chinese['Cold Chain'] = '冷链';
chinese['Commercial Lighting'] = '商业照明';
chinese['Communications'] = '通讯';
chinese['Community Spotlight'] = '社区聚光灯';
chinese['Compilers'] = '编译器';
chinese['Connect SDK'] = '连接 SDK';
chinese['Connected Lighting'] = '联网照明';
chinese['Cords'] = '电线';
chinese['CP210x Package'] = 'CP210x 封装';
chinese['CP2110-4 Package'] = 'CP2110-4 封装';
chinese['CP2112 Package'] = 'CP2112 封装';
chinese['CP2130 Package'] = 'CP2130 封装';
chinese['Crop Yields'] = '作物产量';
chinese['Current Sensor Kits'] = '电流传感器套件';
chinese['Current Sensors'] = '电流传感器';
chinese['Data and Voice Modem Accessories'] = '数据和语音调制解调器配件';
chinese['Data Centers'] = '数据中心';
chinese['Data Sheets'] = '数据表';
chinese['Debug Adapters'] = '调试适配器';
chinese['Development Environments'] = '开发环境';
chinese['Development Kits'] = '开发套件';
chinese['Digital Isolator Accessories'] = '数字隔离器配件';
chinese['Digital Isolator Kits'] = '数字隔离器套件';
chinese['Digital Isolator Reference Designs'] = '数字隔离器参考设计';
chinese['Digital Isolators'] = '数字隔离器';
chinese['Digital Radios'] = '数字无线电';
chinese['Digital TV and Satellite Demodulators'] = '数字电视和卫星解调器';
chinese['Direct Drivers Software'] = '直接驱动器软件';
chinese['Discussion Forums'] = '讨论区';
chinese['Driver Interface'] = '驱动器接口';
chinese['Drivers'] = '驱动器';
chinese['Education'] = '教学';
chinese['EFM32 SDK '] = 'EFM32 SDK ';
chinese['EFM8 Bootloader'] = 'EFM8 引导装载程序';
chinese['Electric Meters'] = '电表';
chinese['Embedded Modem Kits'] = '嵌入式调制解调器套件';
chinese['Embedded Modems'] = '嵌入式调制解调器';
chinese['EmberZNet SDK'] = 'EmberZNet SDK';
chinese['Energy and Power'] = '能耗和功耗';
chinese['Environmental Monitoring'] = '环境监控';
chinese['Ethernet Controllers'] = '以太网控制器';
chinese['Evaluation Kits'] = '评估套件';
chinese['EWARM'] = 'EWARM';
chinese['Example Code'] = '代码示例';
chinese['Expansion Boards'] = '扩展板';
chinese['Exx32 SDK '] = 'Exx32 SDK ';
chinese['EZLinkChat'] = 'EZLinkChat';
chinese['EZRadioPRO Register Calculator'] = 'EZRadioPRO 寄存器计算器';
chinese['EZRadioPRO Si443x Register Calculator'] = 'EZRadioPRO Si443x 寄存器计算器';
chinese['F700 Front Panel STB Evaluation Kit'] = 'F700 FrontPanel STB 评估套件';
chinese['Field Programmers'] = '现场编程器';
chinese['Fitness Wearables'] = '健身可穿戴设备';
chinese['Fixed BlueZ Bluetooth Stack GATT Tool'] = '固定 BlueZ Bluetooth 堆栈 GATT 工具';
chinese['FLASHUtil Installer'] = '闪存实用工具安装程序';
chinese['Flex SDK'] = 'Flex SDK';
chinese['FM Radios'] = 'FM 无线电';
chinese['Gas Meters'] = '燃气表';
chinese['Gateways'] = '网关';
chinese['GCC'] = 'GCC';
chinese['Gecko SDK'] = 'Gecko SDK';
chinese['Getting Started'] = '入门指南';
chinese['Healthcare and Fitness'] = '医疗保健及健身';
chinese['Healthcare Technology'] = '医疗保健技术';
chinese['Heat Allocation'] = '热量分摊';
chinese['Home Automation and Entertainment'] = '家庭自动化及娱乐';
chinese['Home Security'] = '家居安防';
chinese['Humidity Sensor Kits'] = '湿度传感器套件';
chinese['Humidity Sensors'] = '湿度传感器';
chinese['Hybrid and Electric Vehicles'] = '混合动力车辆和电动车';
chinese['IAR Device and Flashloader Files'] = 'IAR 设备和 Flashloader 文件';
chinese['IAR Embedded Workbench IDE'] = 'IAR 嵌入式工作台 IDE';
chinese['ICs'] = '集成电路';
chinese['IDE Installer'] = 'IDE 安装程序';
chinese['Industrial Automation'] = '工业自动化';
chinese['Industry Insights'] = '行业见解';
chinese['Interface'] = '接口';
chinese['Interface Kits'] = '接口套件';
chinese['Internet Infrastructure'] = '互联网基础设施';
chinese['Internet of Things'] = '物联网';
chinese['IoT Heroes'] = 'IoT 英雄';
chinese['ISA3 Utilities'] = 'ISA3 实用工具';
chinese['Isolated FET Driver Kits'] = '隔离式 FET 驱动器套件';
chinese['Isolated FET Drivers'] = '隔离式 FET 驱动器';
chinese['Isolated Gate Driver Kits'] = '隔离式栅极驱动器套件';
chinese['Isolated Gate Drivers'] = '隔离栅极驱动器';
chinese['Isolation'] = '隔离';
chinese['Isolation Accessories'] = '隔离配件';
chinese['Isolation Kits'] = '隔离套件';
chinese['Isolation Reference Designs'] = '隔离参考设计';
chinese['Jitter Calculator'] = '抖动计算器';
chinese['KeilC51'] = 'KeilC51';
chinese['Keyless Entry'] = '无钥匙进入';
chinese['Kits'] = '套件';
chinese['Knowledge Base'] = '知识库';
chinese['LCD Controller Kits'] = '液晶控制器套件';
chinese['LCD Controllers'] = '液晶控制器';
chinese['Libraries'] = '库';
chinese['Linux'] = 'Linux';
chinese['Livestock and Asset Tracking'] = '牲畜和资产跟踪';
chinese['Mac'] = 'Mac';
chinese['Magnetic Sensor Kits'] = '磁性传感器套件';
chinese['Magnetic Sensors'] = '磁性传感器';
chinese['Makers'] = '制造商';
chinese['Manuals'] = '手册';
chinese['Micrium File System'] = 'Micrium 文件系统';
chinese['Micrium Kernel'] = 'Micrium 内核';
chinese['Micrium Network'] = 'Micrium 网络';
chinese['Micrium RTOS'] = 'Micrium RTOS';
chinese['Micrium USB Device'] = 'Micrium USB 设备';
chinese['Micrium USB Host'] = 'Micrium USB 主机';
chinese['Microcontroller Accessories'] = '微控制器配件';
chinese['Microcontroller Kits'] = '微控制器套件';
chinese['Microcontroller Reference Designs'] = '微控制器参考设计';
chinese['Microcontrollers'] = '微控制器';
chinese['Modems and DAA Accessories'] = '调制解调器和 DAA 配件';
chinese['Modems and DAA Kits'] = '调制解调器和 DAA 套件';
chinese['Modems and DAAs'] = '调制解调器和 DAA（直接存取装置）';
chinese['Modules'] = '模块';
chinese['Motor Control'] = '电动机控制';
chinese['Multi-band Radios'] = '多波段无线电';
chinese['Network Communications'] = '网络通信';
chinese['News and Events'] = '新闻与活动';
chinese['Operating Systems'] = '操作系统';
chinese['Optical Sensor Kits'] = '光学传感器套件';
chinese['Optical Sensors'] = '光学传感器';
chinese['Oscillator Kits'] = '振荡器套件';
chinese['Oscillators'] = '振荡器';
chinese['Personal Healthcare'] = '个人医疗保健';
chinese['PICKit 3 Programmer Software'] = 'PICKit 3 编程器软件';
chinese['Point of Sale'] = '销售点';
chinese["Porting Considerations from 'F02x to 'F12x"] = "从 'F02x 移植到 'F12x 的注意事项";
chinese['Power'] = '电源';
chinese['Power Over Ethernet'] = '以太网供电';
chinese['Power Over Ethernet Kits'] = '以太网供电套件';
chinese['Power Over Ethernet Powered Device Kits'] = '以太网供电受电设备套件';
chinese['Power Over Ethernet Powered Devices'] = '以太网供电受电设备';
chinese['Power Over Ethernet PSE Controller Kits'] = '以太网供电 PSE 控制器套件';
chinese['Power Over Ethernet PSE Controllers'] = '以太网供电 PSE 控制器';
chinese['Power Supplies'] = '电源';
chinese['Precision Agriculture'] = '精准农业';
chinese['Precision32 Development Environment'] = 'Precision32 开发环境';
chinese['Precision32 Development Suite'] = 'Precision32 开发套件';
chinese['Precision32 Flash Programmer'] = 'Precision32 Flash 编程器';
chinese['Production Programmer'] = '生产编程器';
chinese['Programming Adapters'] = '编程适配器';
chinese['Projects'] = '项目';
chinese['Proprietary'] = '专有';
chinese['Proprietary Accessories'] = '专有配件';
chinese['Proprietary Kits'] = '专有套件';
chinese['Proprietary Reference Designs'] = '专有参考设计';
chinese['ProSLIC'] = 'ProSLIC';
chinese['Prototyping Boards'] = '原型设计板';
chinese['Radio Boards'] = '无线电板';
chinese['RAIL'] = 'RAIL';
chinese['RAIL SDK'] = 'RAIL SDK';
chinese['Range Finders'] = '测距仪';
chinese['Reference Designs'] = '参考设计';
chinese['Release Notes'] = '发行说明';
chinese['Retail'] = '零售';
chinese['Reviews'] = '评语';
chinese['RF Range Calculator'] = '射频范围计算器';
chinese['RoHS Environmental'] = 'RoHS 环保';
chinese['Schematics & Layout Files'] = '原理图&布局文件';
chinese['Sensor Kits'] = '传感器套件';
chinese['Sensor Puck'] = 'Sensor Puck';
chinese['Sensors'] = '传感器';
chinese['Servers & Storage'] = '服务器&存储器';
chinese['Set Top Box Tuners'] = '机顶盒调谐器';
chinese['Si115x Programmer’s Toolkit Development Software'] = 'Si115x 程序员套件开发软件';
chinese['Si32 Flash Utility'] = 'Si32 闪存工具';
chinese['Si4010 Burn Tools Package'] = 'Si4010 刻录工具软件包';
chinese['Si4112 Evaluation Software'] = 'Si4112 评估软件';
chinese['Si4113 Evaluation Software'] = 'Si4113 评估软件';
chinese['Si4122 Evaluation Software'] = 'Si4122 评估软件';
chinese['Si4123 Evaluation Software'] = 'Si4123 评估软件';
chinese['Si4133 Evaluation Software'] = 'Si4133 评估软件';
chinese['Si4133HF Evaluation Software'] = 'Si4133HF 评估软件';
chinese['Si4133HF1 Evaluation Software'] = 'Si4133HF1 评估软件';
chinese['Si4133HF2 Evaluation Software'] = 'Si4133HF2 评估软件';
chinese['Si4133W Evaluation Software'] = 'Si4133W 评估软件';
chinese['Si4135 Evaluation Software'] = 'Si4135 评估软件';
chinese['Si4136 Evaluation Software'] = 'Si4136 评估软件';
chinese['Si70xx Linux Driver'] = 'Si70xx Linux 驱动器';
chinese['Silicon DAAs'] = '硅 DAA';
chinese["Silicon Labs' Android Application for Blue Gecko"] = 'Silicon Labs 适用于 Blue Gecko 的 Android 应用程序';
chinese["Silicon Labs' iOS Application for Blue Gecko"] = 'Silicon Labs 适用于 Blue Gecko 的 iOS 应用程序';
chinese['Silicon Voice DAAs'] = 'Silicon 语音 DAA';
chinese['Simplicity Commander'] = 'Simplicity Commander';
chinese['Simplicity Studio'] = 'Simplicity Studio';
chinese['Smart Meters'] = '智能电表';
chinese['Smart Thermostats'] = '智能恒温器';
chinese['Software'] = '软件';
chinese['Software Development Kits'] = '软件开发套件 ';
chinese['Soil Monitoring'] = '土壤监测';
chinese['Solar Inverters'] = '太阳能逆变器';
chinese['SPI to I2C Bridges'] = 'SPI 至 I2C 桥';
chinese['Starter Kits'] = '入门套件';
chinese['Telegesis ETRX Driver'] = 'Telegesis ETRX 驱动器';
chinese['Telegesis ETRXN Factory Default Utility Software'] = 'Telegesis ETRXN 出厂设置实用工具软件';
chinese['Telegesis Terminal Software for PC'] = 'Telegesis PC 终端软件';
chinese['Televisions'] = '电视';
chinese['Temperature Sensor Kits'] = '温度传感器套件';
chinese['Temperature Sensors'] = '温度传感器';
chinese['Thread SDK'] = 'Thread SDK';
chinese['Thundeboard React'] = 'Thundeboard React';
chinese['Thunderboard Kits'] = 'Thunderboard 套件';
chinese['Thunderboard Sense'] = 'Thunderboard Sense';
chinese['Timing'] = '计时';
chinese['Timing Accessories'] = '计时配件';
chinese['Timing Kits'] = '计时套件';
chinese['Tips and Tricks'] = '提示和技巧';
chinese['Training Video'] = '培训视频';
chinese['TV and Video'] = '电视和视频';
chinese['TV and Video Accessories'] = '电视和视频配件';
chinese['TV and Video Kits'] = '电视和视频套件';
chinese['TV Tuner Accessories'] = '电视调谐器配件';
chinese['TV Tuner Kits'] = '电视调谐器套件';
chinese['TV Tuners'] = '电视调谐器';
chinese['UDP Motherboard Firmware Update Utility'] = 'UDP 主板固件更新实用工具';
chinese['USB Bridge Kits'] = 'USB 桥接套件';
chinese['USB Bridges'] = 'USB 桥接器';
chinese['USB Development Driver for Windows'] = '适用于 Windows 的 USB 开发驱动程序';
chinese['USB FM Radio Player'] = 'USB FM 无线电播放器';
chinese['USBXPress Kits'] = 'USBXPress 套件';
chinese['USBXpress SDK'] = 'USBXpress SDK';
chinese['USBXpress WinCE'] = 'USBXpress WinCE';
chinese['Utilities'] = '实用工具';
chinese['uVision Driver'] = 'uVision 驱动程序';
chinese['VCP Drivers'] = 'VCP 驱动程序';
chinese['Voice'] = '声音';
chinese['Voice Codecs'] = '语音编解码器';
chinese['Water Meters'] = '水表';
chinese['WDS Terminal Emulator'] = 'WDS 终端仿真器';
chinese['Webinars'] = '网络研讨会';
chinese['White Papers'] = '白皮书';
chinese['Wi-Fi'] = 'Wi-Fi';
chinese['Wi-Fi Accessories'] = 'Wi-Fi 配件';
chinese['Wi-Fi Kits'] = 'Wi-Fi 套件';
chinese['Wind Turbines'] = '风力涡轮机';
chinese['Windows'] = 'Windows';
chinese['Wireless'] = '无线';
chinese['Wireless Accessories'] = '无线配件';
chinese['Wireless Development Suite'] = '无线开发套件';
chinese['Wireless Infrastructure'] = '无线基础设施';
chinese['Wireless Kits'] = '无线套件';
chinese['Wireless MBus'] = 'W-Mbus';
chinese['Wireless Reference Designs'] = '无线参考设计';
chinese['Wizard Gecko Wi-Fi SDK'] = 'Wizard Gecko Wi-Fi SDK';
chinese['Zigbee and Thread'] = 'Zigbee 和 Thread';
chinese['Zigbee and Thread Accessories'] = 'Zigbee 和 Thread 配件';
chinese['Zigbee and Thread Kits'] = 'Zigbee 和 Thread 套件';
chinese['Zigbee and Thread Reference Designs'] = 'Zigbee 和 Thread 参考设计';
chinese['Zigbee SDK'] = 'Zigbee SDK';
chinese['Activities'] = '活动';
chinese['Notifications'] = '通知';
chinese['Email Subscriptions'] = '电子邮件订阅';
chinese['Unfollow All'] = '全部取消关注';
chinese['Mark as Answer'] = '标记为答案';
chinese['Sort By'] = '排序依据';
chinese['Newest'] = '最新';
chinese['Oldest'] = '最旧';
chinese['Last Updated'] = '最后更新';
chinese['Most Viewed'] = '浏览最多';
chinese['Most Followed'] = '关注最多';
chinese['Most Active'] = '最为活跃';
chinese['Most Liked'] = '点赞最多';
chinese['Following'] = '关注';
chinese['Profile'] = '档案';
chinese['Activities'] = '活动';
chinese['Badges'] = '徽章';
chinese['Followers'] = '粉丝';
chinese['The answer is out there. Find it in here.']='答案就在那里。在这里查找。';
chinese['Search']='搜索';
chinese['Microcontrollers']='微控制器';
chinese['8-bit MCU Community and Support']='8 位 MCU 社区和支持';
chinese['Search 8-bit MCU']='搜索 8 位 MCU';
chinese['8-bit MCU Forum']='8 位 MCU 论坛';
chinese['Search 8-bit Forum']='搜索 8 位论坛';
chinese['8-bit MCU Knowledge Base']='8 位 MCU 知识库 ';
chinese['Search 8-bit Knowledge Base']='搜索 8 位知识库';
chinese['32-bit MCU Community and Support']='32 位 MCU 社区和支持';
chinese['Search 32-bit MCU']='搜索 32 位 MCU';
chinese['32-bit MCU Forum']='32 位 MCU 论坛';
chinese['Search 32-bit Forum']='搜索 32 位论坛';
chinese['32-bit MCU Knowledge Base']='32 位 MCU 知识库 ';
chinese['Search 32-bit Knowledge Base']='搜索 32 位知识库';
chinese['Wireless Solutions']='无线解决方案';
chinese['Bluetooth Community and Support']='Bluetooth 社区和支持';
chinese['Search Bluetooth']='搜索 Bluetooth';
chinese['Bluetooth Wireless Forum']='Bluetooth 无线论坛';
chinese['Search Bluetooth Forum']='搜索 Bluetooth 论坛';
chinese['Bluetooth Knowledge Base']='蓝牙知识库';
chinese['Search Bluetooth Knowledge Base']='搜索蓝牙知识库';
chinese['Proprietary Community and Support']='专有产品社区和支持';
chinese['Search Proprietary']='搜索专有产品';
chinese['Proprietary Wireless Forum']='专有产品无线论坛';
chinese['Search Proprietary Forum']='搜索专有产品论坛';
chinese['Proprietary Knowledge Base']='专有产品知识库';
chinese['Search Proprietary Knowledge Base']='搜索专有产品知识库';
chinese['Wi-Fi Wireless Community and Support']='Wi-Fi 无线社区和支持';
chinese['Search Wi-Fi']='搜索 Wi-Fi';
chinese['Wi-Fi Wireless Forum']='Wi-Fi 无线论坛';
chinese['Search Wi-Fi Forum']='搜索 Wi-Fi 论坛';
chinese['Wi-Fi Knowledge Base']='Wi-Fi 知识库';
chinese['Search Wi-Fi Knowledge Base']='搜索 Wi-Fi 知识库';
chinese['Zigbee & Thread Community and Support']='Zigbee 与 Thread 社区和支持';
chinese['Search Zigbee and Thread']='搜索 Zigbee 和 Thread';
chinese['Zigbee & Thread Wireless Forum']='Zigbee 与 Thread 无线论坛';
chinese['Search Zigbee & Thread Forum']='搜索 Zigbee 与 Thread 论坛';
chinese['Zigbee & Thread Knowledge Base']='Zigbee 与 Thread 知识库';
chinese['Search Zigbee & Thread Knowledge Base']='搜索 Zigbee 与 Thread 知识库';
chinese['Interface Community and Support']='接口社区和支持';
chinese['Search Interface']='搜索接口';
chinese['Interface Forum']='接口论坛';
chinese['Search Interface Forum']='搜索接口论坛';
chinese['Interface Knowledge Base']='接口知识库';
chinese['Search Interface Knowledge Base']='搜索接口知识库';
chinese['Isolation Community and Support']='隔离产品社区和支持';
chinese['Search Isolation']='搜索隔离产品';
chinese['Isolation Forum']='隔离产品论坛';
chinese['Search Isolation Forum']='搜索隔离产品论坛';
chinese['Isolation Knowledge Base']='隔离产品知识库';
chinese['Search Isolation Knowledge Base']='搜索隔离产品知识库';
chinese['Power Community and Support']='电力产品社区和支持';
chinese['Search Power']='搜索电力产品';
chinese['Power Forum']='电力产品论坛';
chinese['Search Power Forum']='搜素电力产品论坛';
chinese['Power Knowledge Base']='电力产品知识库';
chinese['Search Power Knowledge Base']='搜素电力产品知识库';
chinese['Sensor Community and Support']='传感器社区和支持';
chinese['Search Sensors']='搜索传感器';
chinese['Sensors Forum']='传感器论坛';
chinese['Search Sensors Forum']='搜素传感器论坛';
chinese['Sensors Knowledge Base']='传感器知识库';
chinese['Search Sensors Knowledge Base']='搜素传感器知识库';
chinese['Timing Community and Support']='时序产品社区和支持';
chinese['Search Timing']='搜索时序产品';
chinese['Timing Forum']='时序产品论坛';
chinese['Search Timing Forum']='搜索时序产品论坛';
chinese['Timing Knowledge Base']='时序产品知识库';
chinese['Search Timing Knowledge Base']='搜素时序产品知识库';
chinese['Development Tools']='开发工具';
chinese['Simplicity Studio Community and Support']='Simplicity Studio 社区和支持';
chinese['Search Simplicity Studio']='搜索 Simplicity Studio';
chinese['Simplicity Studio Forum']='Simplicity Studio 论坛';
chinese['Search Simplicity Studio Forum']='搜索 Simplicity Studio 论坛';
chinese['Simplicity Studio Knowledge Base']='Simplicity Studio 知识库';
chinese['Search Simplicity Studio Knowledge Base']='搜索 Simplicity Studio 知识库';
chinese['Thunderboard Community and Support']='Thunderboard 社区和支持';
chinese['Search Thunderboard']='搜索 Thunderboard';
chinese['Thunderboard Forum']='Thunderboard 论坛';
chinese['Search Thunderboard Forum']='搜索 Thunderboard 论坛';
chinese['Thunderboard Knowledge Base']='Thunderboard 知识库';
chinese['Search Thunderboard Knowledge Base']='搜索 Thunderboard 知识库';


var japanese = {};
japanese['Account'] = 'アカウント';
japanese['Messaging'] = 'メッセージング';
japanese['Log Off'] = 'ログオフ';
japanese['Register'] = '新規登録';
japanese['MCUs'] = 'MCU';
japanese['Wireless'] = 'ワイヤレス';
japanese['More Products'] = '製品をさらに表示';
japanese['Development Tools'] = '開発ツール';
japanese["Expert's Corner"] = 'エキスパートコーナー';
japanese['search silabs.com'] = 'silabs.com を検索';
japanese['Go'] = 'Go';
japanese['Support. Community. Welcome to the Red Planet'] = 'サポート。コミュニティ。Red Planet へようこそ';
japanese['Forum'] = 'フォーラム';
japanese['Knowledge Base'] = 'ナレッジベース';
japanese['Technical Resources'] = 'テクニカル・リソース';
japanese['Tutorial'] = 'チュートリアル';
japanese['Tutorials'] = 'チュートリアル';
japanese['Need answers? Start with these featured resources'] = '回答が必要ですか？ これらの注目のリソースから開始';
japanese['View all'] = 'すべて表示';
japanese['Need additional help? Contact Support'] = 'さらにヘルプが必要ですか？ サポートへのお問い合わせ';
japanese['Participation Board'] = '参加ボード';
japanese['Name'] = '名前';
japanese['Level'] = 'レベル';
japanese['Score'] = 'スコア';
japanese['Application Notes'] = 'アプリケーション・ノート';
japanese['Data Sheets'] = 'データシート';
japanese['Discussion Forums'] = 'ディスカッションフォーラム';
japanese['Getting Started'] = 'スタート・ガイド';
japanese['Knowledge Base'] = 'ナレッジベース';
japanese['Manuals'] = 'マニュアル';
japanese['Release Notes'] = 'リリース・ノート';
japanese['Reference Designs'] = '基準設計';
japanese['RoHS Environmental'] = 'RoHS 環境';
japanese['Schematics'] = '回路図';
japanese['Software'] = 'ソフトウェア';
japanese['Reference Designs'] = '基準設計';
japanese['8-bit MCU'] = '8ビット MCU';
japanese['8-bit MCUs'] = '8ビット MCU';
japanese['8-bit Microcontroller'] = '8ビット MCU';
japanese['32-bit MCU'] = '32ビット MCU';
japanese['32-bit Microcontroller'] = '32ビット MCU';
japanese['Bluetooth'] = 'Bluetooth';
japanese['Proprietary'] = 'プロプライエタリ';
japanese['Propreitary'] = 'プロプライエタリ';
japanese['Wi-Fi'] = 'Wi-Fi';
japanese['Zigbee & Thread'] = 'ZigBee& Thread';
japanese['Interface'] = 'インターフェイス';
japanese['Isolation'] = '絶縁';
japanese['Power'] = '電力';
japanese['Sensors'] = 'センサー';
japanese['Timing'] = 'タイミング';
japanese['Micrium OS'] = 'Micrium OS';
japanese['Simplicity Studio'] = 'Simplicity Studio';
japanese['Thunderboard'] = 'Thunderboard';
japanese['Zentri'] = 'Zentri';
japanese['Zentri Cloud'] = 'Zentri Cloud';
japanese['Ask me Anything'] = 'どんなことでもお問い合わせください';
japanese['Blog'] = 'ブログ';
japanese['General Interest'] = '一般的関心';
japanese['Projects'] = 'プロジェクト';
japanese['Profile'] = 'プロファイル';
japanese['Activities'] = 'アクティビティ';
japanese['Badges'] = 'バッジ';
japanese['Privacy'] = 'プライバシー';
japanese['Last login'] = '最終ログイン';
japanese['Registered'] = '登録済み';
japanese['Following'] = 'フォローする';
japanese['Followers'] = 'フォロワー';
japanese['Screen Name:'] = 'ハンドルネーム';
japanese['Screen Name*'] = 'ハンドルネーム*';
japanese['First Name:'] = '名';
japanese['First Name*'] = '名*';
japanese['Last Name:'] = '姓';
japanese['Last Name*'] = '姓*';
japanese['Email:'] = 'E-mail';
japanese['E-mail:'] = 'E-mail';
japanese['Email'] = 'E-mail';
japanese['E-mail*'] = 'E-mail*';
japanese['Lanuguage:'] = '言語';
japanese['Language:'] = '言語';
japanese['Company:'] = '会社名';
japanese['Company*'] = '会社名*';
japanese['Country:'] = '国名';
japanese['Country*'] = '国名*';
japanese['Title:'] = 'タイトル';
japanese['Title'] = 'タイトル';
japanese['Address:'] = '住所';
japanese['URL (i.e. Company, Github, Linkedin):'] = 'URL';
japanese['URL(i.i. Company, Github, LinkedIn):'] = 'URL';
japanese['URL (i.e. Company, Github, LinkedIn)'] = 'URL';
japanese['LinkedIn account:'] = 'Linkedin アカウント';
japanese['LinkedIn account'] = 'Linkedin アカウント';
japanese['Phone number:'] = '電話番号';
japanese['Phone number'] = '電話番号';
japanese['Bio:'] = '略歴';
japanese['Bio'] = '略歴';
japanese['Indicates required field*'] = '必須フィールドを示します';
japanese['Cancel'] = 'キャンセル';
japanese['Save changes'] = '変更を保存';
japanese['Go to Answer'] = '回答に移動';
japanese['Report Abuse'] = '不正使用を報告';
japanese['Flag'] = '国旗';
japanese['Delete'] = '削除';
japanese['Edit'] = '編集';
japanese['Deny'] = '拒否';
japanese['Cut'] = '切り取り';
japanese['Close'] = 'クローズ';
japanese['Pin'] = 'ピン';
japanese['Feature'] = '特徴';
japanese['Post'] = '投稿';
japanese['Correct Answer'] = '正解';
japanese['Your answer'] = 'お客様の回答';
japanese['Ask a New Question'] = '新しい質問';
japanese['Latest'] = '最新';
japanese['Most Popular'] = '最も一般的';
japanese['All questions'] = 'すべての質問';
japanese['Replies'] = '返答';
japanese['Answered'] = '回答済';
japanese['Unanswered'] = '未回答';
japanese['Previous'] = '前へ';
japanese['Next'] = '次へ';
japanese['Comment'] = 'コメント';
japanese['Search xxx forum'] = 'xxx フォーラムを検索';
japanese['Search xxx knowledge base'] = 'xxx ナレッジベースを検索';
japanese['Tags'] = 'タグ';
japanese['Archieves'] = 'アーカイブ';
japanese['Archievers'] = 'アーカイブ';
japanese['Top Authors'] = '上位作成者';
japanese['Login'] = 'ログイン';
japanese['Log In'] = 'ログイン';
japanese['Sort By'] = '並べ替え基準';
japanese['Attach file'] = 'ファイルを添付';
japanese['Ask'] = '質問する';
japanese['Not a member? Sign up for a new account'] = 'メンバーではない場合 新しいアカウントにサインアップ';
japanese['Forgot user name'] = 'ユーザ名を忘れた場合';
japanese['Password'] = 'パスワード';
japanese['The answer is out there. Find it in here.'] = '答えは必ずあります。ここで見つけてください。';
japanese['Find training, white papers, knowledge base articles, and more'] = 'トレーニング、ホワイトペーパー、ナレッジベース記事、およびその他の資料があります';
japanese['Trending in the community'] = 'コミュニティのトレンド';
japanese['Read more'] = '続きを読む';
japanese['Search by content type'] = 'コンテンツ・タイプで検索';
japanese['In a hurry? Need help fast?'] = 'お急ぎですか? 最初にヘルプが必要ですか? ';
japanese['Blog posts'] = 'ブログへの投稿';
japanese['Example Code'] = 'コード例';
japanese['Training'] = 'トレーニング';
japanese['Training Videos'] = 'トレーニング・ビデオ';
japanese['Webinars'] = 'ウェビナー';
japanese['White Papers'] = 'ホワイトペーパー';
japanese['Download'] = 'ダウンロード';
japanese['Translate'] = '翻訳';
japanese['Escalate Case'] = 'ケースをエスカレートする';
japanese['Answer'] = '回答';
japanese['Follow'] = 'フォローする';
japanese['CMSIS Pack'] = 'CMSIS パック';
japanese['32 bit MCU SDK'] = '32ビット MCU SDK';
japanese['32-bit MCU Accessories'] = '32ビット MCU アクセサリ';
japanese['32-bit MCU Kits'] = '32ビット MCUキット';
japanese['32-bit MCU Production Programmer'] = '32ビットMCU生産プログラマ';
japanese['32-bit MCUs'] = '32ビット MCU';
japanese['8-bit MCU Accessories'] = '8ビット MCU アクセサリ';
japanese['8-bit MCU Kits'] = '8ビット MCUキット';
japanese['8-bit MCU Reference Designs'] = '8ビットMCU基準設計';
japanese['8-bit MCUs'] = '8ビット MCU';
japanese['8-bit Microcontroller Studio'] = '8ビットMicrocontroller Studio';
japanese['8051 SDK'] = '8051 SDK';
japanese['Accessories'] = '付属品';
japanese['Agriculture'] = '農業';
japanese['Antennas'] = 'アンテナ';
japanese['Application Notes'] = 'アプリケーション・ノート';
japanese['Asset Tracking'] = '資産トラッキング';
japanese['Audio and Infotainment'] = 'オーディオおよびインフォテインメント';
japanese['Audio and Radio'] = 'オーディオおよびラジオ';
japanese['Audio and Radio Kits'] = 'オーディオおよびラジオキット';
japanese['Audio and Radio Reference Designs'] = 'オーディオおよびラジオ基準設計';
japanese['Automotive'] = '車載';
japanese['Automotive Digital Radios'] = '車載デジタル・ラジオ';
japanese['Automotive Tuner Kits'] = '車載チューナキット';
japanese['Automotive Tuners'] = '車載チューナ';
japanese['Beaconing'] = 'ビーコン';
japanese['Biometric Sensor Kits'] = 'バイオメトリック・センサーキット';
japanese['Biometric Sensors'] = 'バイオメトリック・センサー';
japanese['Blog Posts'] = 'ブログへの投稿';
japanese['Bluegiga BGTerm Terminal Software'] = 'Bluegiga BGTerm 端末ソフトウエア';
japanese['Bluegiga BLED112 Driver (Windows)'] = 'Bluegiga BLED112 ドライバー (Windows)';
japanese['Bluegiga Bluetooth Classic BlueSuite'] = 'Bluegiga Bluetooth クラシック BlueSuite';
japanese['Bluegiga Bluetooth Classic SDK'] = 'Bluegiga Bluetooth クラシック SDK';
japanese['Bluegiga Bluetooth Smart SDK'] = 'Bluegiga Bluetooth スマートSDK';
japanese['Bluegiga iWRAP Bluetooth Classic SDK'] = 'Bluegiga iWRAP Bluetooth クラシックSDK';
japanese['Bluegiga WF111 Android Driver'] = 'Bluegiga WF111 Android ドライバ';
japanese['Bluegiga Wi-Fi SDK'] = 'Bluegiga Wi-Fi SDK';
japanese['Bluegiga Wi-Fi WF111 Linux Driver (ARMv5)'] = 'Bluegiga Wi-Fi WF111 Linux ドライバ(ARMv5)';
japanese['Bluegiga Wi-Fi WF111 Linux Driver (ARMv7)'] = 'Bluegiga Wi-Fi WF111 Linux ドライバ(ARMv7)';
japanese['Bluegiga Wi-Fi WF111 Linux Driver (x86)'] = 'Bluegiga Wi-Fi WF111 Linux ドライバ(x86)';
japanese['Bluetooth Classic'] = 'Bluetoothクラシック';
japanese['Bluetooth Classic Kits'] = 'Bluetooth クラシック・キット';
japanese['Bluetooth Low Energy'] = 'Bluetooth 低エネルギー';
japanese['Bluetooth Low Energy Accessories'] = 'Bluetooth 低エネルギーアクセサリー';
japanese['Bluetooth Low Energy Kits'] = 'Bluetooth 低エネルギー・キット';
japanese['Bluetooth Low Energy Reference Designs'] = 'Bluetooth 低エネルギー基準設計';
japanese['Bluetooth Low Energy SDK'] = 'Bluetooth 低エネルギー SDK';
japanese['Bluetooth SDK'] = 'Bluetooth SDK';
japanese['Bluetooth SDK for Apple HomeKit'] = 'Apple HomeKit用Bluetooth SDK';
japanese['Buffer Kits'] = 'バッファ・キット';
japanese['Buffers'] = 'バッファ';
japanese['Capacitive Touch Controller Kits'] = '容量性タッチ・コントローラキット';
japanese['Capacitive Touch Controllers'] = '静電容量式タッチ・コントローラ';
japanese['CDR and PHY ICs'] = 'CDRおよびPHY IC';
japanese['Class D Audio Driver Reference Designs'] = 'D級オーディオ・ドライバ基準設計';
japanese['Class D Audio Drivers'] = 'D級オーディオ・ドライバ';
japanese['Clock Accessories'] = 'クロックアクセサリー';
japanese['Clock Kits'] = 'クロック・キット';
japanese['ClockBuilder'] = 'ClockBuilder';
japanese['ClockBuilder Pro'] = 'ClockBuilder Pro';
japanese['Clocks'] = 'クロック';
japanese['Cold Chain'] = 'コールド・チェーン';
japanese['Commercial Lighting'] = '商業用照明';
japanese['Communications'] = '通信';
japanese['Community Spotlight'] = 'コミュニティ・スポットライト';
japanese['Compilers'] = 'コンパイラ';
japanese['Connect SDK'] = 'Connect SDK';
japanese['Connected Lighting'] = '接続機能を備えた照明';
japanese['Cords'] = 'コード';
japanese['CP210x Package'] = 'CP210x パッケージ';
japanese['CP2110-4 Package'] = 'CP2110-4 パッケージ';
japanese['CP2112 Package'] = 'CP2112 パッケージ';
japanese['CP2130 Package'] = 'CP2130 パッケージ';
japanese['Crop Yields'] = '収穫量';
japanese['Current Sensor Kits'] = '電流センサーキット';
japanese['Current Sensors'] = '電流センサー';
japanese['Data and Voice Modem Accessories'] = 'データおよびボイス・モデムアクセサリー';
japanese['Data Centers'] = 'データセンター';
japanese['Data Sheets'] = 'データシート';
japanese['Debug Adapters'] = 'デバッグ・アダプタ';
japanese['Development Environments'] = '開発環境';
japanese['Development Kits'] = '開発キット';
japanese['Digital Isolator Accessories'] = 'デジタル・アイソレーター アクセサリー';
japanese['Digital Isolator Kits'] = 'デジタル・アイソレータキット';
japanese['Digital Isolator Reference Designs'] = 'デジタル・アイソレータ基準設計';
japanese['Digital Isolators'] = 'デジタル・アイソレータ';
japanese['Digital Radios'] = 'デジタル・ラジオ';
japanese['Digital TV and Satellite Demodulators'] = 'デジタル TV と衛生デモジュレータ';
japanese['Direct Drivers Software'] = 'ダイレクト・ドライバ・ソフトウエア';
japanese['Discussion Forums'] = 'ディスカッションフォーラム';
japanese['Driver Interface'] = 'ドライバ・インターフェイス';
japanese['Drivers'] = 'ドライバ';
japanese['Education'] = '教育';
japanese['EFM32 SDK'] = 'EFM32 SDK';
japanese['EFM8 Bootloader'] = 'EFM8 ブートローダ';
japanese['Electric Meters'] = '電気メータ';
japanese['Embedded Modem Kits'] = '組み込みモデムキット';
japanese['Embedded Modems'] = '組み込みモデム';
japanese['EmberZNet SDK'] = 'EmberZNet SDK';
japanese['Energy and Power'] = 'エネルギーと電力';
japanese['Environmental Monitoring'] = '環境モニタリング';
japanese['Ethernet Controllers'] = 'イーサネット・コントローラ';
japanese['Evaluation Kits'] = '評価キット';
japanese['EWARM'] = 'EWARM';
japanese['Example Code'] = 'コード例';
japanese['Expansion Boards'] = '拡張ボード';
japanese['Exx32 SDK'] = 'Exx32 SDK';
japanese['EZLinkChat'] = 'EZLink™ チャット';
japanese['EZRadioPRO Register Calculator'] = 'EZRadioPRO 抵抗計算機';
japanese['EZRadioPRO Si443x Register Calculator'] = 'EZRadioPRO Si443x 抵抗計算機';
japanese['F700 Front Panel STB Evaluation Kit'] = 'F700_FrontPanel STB 評価キット';
japanese['Field Programmers'] = 'フィールド・プログラマ';
japanese['Fitness Wearables'] = 'フィットネス・ウェアラブル';
japanese['Fixed BlueZ Bluetooth Stack GATT Tool'] = 'BlueZ Bluetooth 固定スタック GATT ツール';
japanese['FLASHUtil Installer'] = 'フラッシュ・ユーティリティ・インストーラ';
japanese['Flex SDK'] = 'Flex SDK';
japanese['FM Radios'] = 'FM ラジオ';
japanese['Gas Meters'] = 'ガス・メータ';
japanese['Gateways'] = 'ゲートウェイ';
japanese['GCC'] = 'GCC';
japanese['Gecko SDK'] = 'Gecko SDK';
japanese['Getting Started'] = 'スタート・ガイド';
japanese['Healthcare and Fitness'] = 'ヘルスケアとフィットネス';
japanese['Healthcare Technology'] = 'ヘルスケア技術';
japanese['Heat Allocation'] = '熱配分';
japanese['Home Automation and Entertainment'] = 'ホーム・オートメーションとエンターテインメント';
japanese['Home Security'] = 'ホーム・セキュリティ';
japanese['Humidity Sensor Kits'] = '湿気センサーキット';
japanese['Humidity Sensors'] = '湿度センサー';
japanese['Hybrid and Electric Vehicles'] = 'ハイブリッド車と電気自動車';
japanese['IAR Device and Flashloader Files'] = 'IAR デバイスおよびフラッシュローダ・ファイル';
japanese['IAR Embedded Workbench IDE'] = 'IAR Embedded Workbench IDE';
japanese['ICs'] = 'IC';
japanese['IDE Installer'] = 'IDE インストーラ';
japanese['Industrial Automation'] = '工業オートメーション';
japanese['Industry Insights'] = '業界の洞察';
japanese['Interface'] = 'インターフェイス';
japanese['Interface Kits'] = 'インターフェイスキット';
japanese['Internet Infrastructure'] = 'インターフェイス・インフラストラクチャ';
japanese['Internet of Things'] = 'IoT';
japanese['IoT Heroes'] = 'IoT ヒーロー';
japanese['ISA3 Utilities'] = 'ISA3ユーティリティ';
japanese['Isolated FET Driver Kits'] = '絶縁式 FET ドライバ';
japanese['Isolated FET Drivers'] = '絶縁型 FET ドライバ';
japanese['Isolated Gate Driver Kits'] = '絶縁式ゲート・ドライバ・キット';
japanese['Isolated Gate Drivers'] = '絶縁式ゲート・ドライバ';
japanese['Isolation'] = '絶縁';
japanese['Isolation Accessories'] = 'アイソレーション・アクセサリー';
japanese['Isolation Kits'] = '絶縁キット';
japanese['Isolation Reference Designs'] = '絶縁基準設計';
japanese['Jitter Calculator'] = 'ジッター計算機';
japanese['KeilC51'] = 'KeilC51';
japanese['Keyless Entry'] = 'キーレス・エントリ';
japanese['Kits'] = 'キット';
japanese['Knowledge Base'] = 'ナレッジベース';
japanese['LCD Controller Kits'] = 'LCD コントローラキット';
japanese['LCD Controllers'] = 'LCD コントローラ';
japanese['Libraries'] = 'ライブラリ';
japanese['Linux'] = 'Linux';
japanese['Livestock and Asset Tracking'] = '家畜および資産トラッキング';
japanese['Mac'] = 'Mac';
japanese['Magnetic Sensor Kits'] = '磁気センサーキット';
japanese['Magnetic Sensors'] = '磁気センサー';
japanese['Makers'] = 'メーカー';
japanese['Manuals'] = 'マニュアル';
japanese['Micrium File System'] = 'Micrium ファイル・システム';
japanese['Micrium Kernel'] = 'Micrium カーネル';
japanese['Micrium Network'] = 'Micrium ネットワーク';
japanese['Micrium RTOS'] = 'Micrium RTOS';
japanese['Micrium USB Device'] = 'Micrium USB デバイス';
japanese['Micrium USB Host'] = 'Micrium USB ホスト';
japanese['Microcontroller Accessories'] = 'マイクロコントローラアクセサリ';
japanese['Microcontroller Kits'] = 'マイクロコントローラキット';
japanese['Microcontroller Reference Designs'] = 'マイクロコントローラ基準設計';
japanese['Microcontrollers'] = 'マイクロコントローラ';
japanese['Modems and DAA Accessories'] = 'モデムおよびDAA アクセサリ';
japanese['Modems and DAA Kits'] = 'モデムおよびDAA キット';
japanese['Modems and DAAs'] = 'モデム＆ DAA';
japanese['Modules'] = 'モジュール';
japanese['Motor Control'] = 'モータ制御';
japanese['Multi-band Radios'] = '多周波帯ラジオ';
japanese['Network Communications'] = 'ネットワーク通信';
japanese['News and Events'] = 'ニュースおよびイベント';
japanese['Operating Systems'] = 'オペレーティング・システム';
japanese['Optical Sensor Kits'] = 'オプティカル・センサーキット';
japanese['Optical Sensors'] = 'オプティカル・センサー';
japanese['Oscillator Kits'] = 'オシレータ・キット';
japanese['Oscillators'] = 'オシレータ';
japanese['Personal Healthcare'] = '個人のヘルスケア';
japanese['PICKit 3 Programmer Software'] = 'PICKit 3 プログラマ・ソフトウェア';
japanese['Point of Sale'] = '売り場';
japanese["Porting Considerations from 'F02x to 'F12x"] = "'F02xから 'F12xのポーティングに関する考慮事項";
japanese['Power'] = '電力';
japanese['Power Over Ethernet'] = 'パワー・オーバー・イーサネット';
japanese['Power Over Ethernet Kits'] = 'パワー・オーバー・イーサネットキット';
japanese['Power Over Ethernet Powered Device Kits'] = 'パワー・オーバー・イーサネット受電デバイスキット';
japanese['Power Over Ethernet Powered Devices'] = 'パワー・オーバー・イーサネット受電デバイス';
japanese['Power Over Ethernet PSE Controller Kits'] = 'パワー・オーバー・イーサネット PSE コントローラキット';
japanese['Power Over Ethernet PSE Controllers'] = 'パワー・オーバー・イーサネット PSE コントローラ';
japanese['Power Supplies'] = '電源サプライ';
japanese['Precision Agriculture'] = '高精度農業';
japanese['Precision32 Development Environment'] = 'Precision32 開発環境';
japanese['Precision32 Development Suite'] = 'Precision32 開発スイート';
japanese['Precision32 Flash Programmer'] = 'Precision32 フラッシュ・プログラマ';
japanese['Production Programmer'] = '生産プログラマ';
japanese['Programming Adapters'] = 'プログラミング・アダプタ';
japanese['Projects'] = 'プロジェクト';
japanese['Proprietary'] = '独自規格の';
japanese['Proprietary Accessories'] = '独自規格アクセサリ';
japanese['Proprietary Kits'] = '独自規格のキット';
japanese['Proprietary Reference Designs'] = '独自規格基準設計';
japanese['ProSLIC'] = 'ProSLIC';
japanese['Prototyping Boards'] = 'プロトタイピング・ボード';
japanese['Radio Boards'] = 'ラジオ基板';
japanese['RAIL'] = 'RAIL（Radio Abstraction Interface Layer';
japanese['RAIL SDK'] = 'RAIL SDK';
japanese['Range Finders'] = 'レンジ・ファインダー';
japanese['Reference Designs'] = '基準設計';
japanese['Release Notes'] = 'リリース・ノート';
japanese['Retail'] = '小売';
japanese['Reviews'] = 'レビュー';
japanese['RF Range Calculator'] = 'RF 範囲計算機';
japanese['RoHS Environmental'] = 'RoHS 環境';
japanese['Schematics & Layout Files'] = '回路図 &レイアウト・ファイル';
japanese['Sensor Kits'] = 'センサーキット';
japanese['Sensor Puck'] = 'Sensor Puck';
japanese['Sensors'] = 'センサー';
japanese['Servers & Storage'] = 'サーバ&ストレージ';
japanese['Set Top Box Tuners'] = 'セットトップ・ボックス・チューナ';
japanese['Si115x Programmer’s Toolkit Development Software'] = 'Si115x プログラマ・ツールキット開発ソフトウェア';
japanese['Si32 Flash Utility'] = 'Si32 フラッシュ・ユーティリティ';
japanese['Si4010 Burn Tools Package'] = 'Si4010バーニング・ツール・パッケージ';
japanese['Si4112 Evaluation Software'] = 'Si4112 評価ソフトウェア';
japanese['Si4113 Evaluation Software'] = 'Si4113 評価ソフトウェア';
japanese['Si4122 Evaluation Software'] = 'Si4122 評価ソフトウェア';
japanese['Si4123 Evaluation Software'] = 'Si4123 評価ソフトウェア';
japanese['Si4133 Evaluation Software'] = 'Si4133 評価ソフトウェア';
japanese['Si4133HF Evaluation Software'] = 'Si4133HF 評価ソフトウェア';
japanese['Si4133HF1 Evaluation Software'] = 'Si4133HF1 評価ソフトウェア';
japanese['Si4133HF2 Evaluation Software'] = 'Si4133HF2 評価ソフトウェア';
japanese['Si4133W Evaluation Software'] = 'Si4133W 評価ソフトウェア';
japanese['Si4135 Evaluation Software'] = 'Si4135 評価ソフトウェア';
japanese['Si4136 Evaluation Software'] = 'Si4136 評価ソフトウェア';
japanese['Si70xx Linux Driver'] = 'Si70xx Linux ドライバ';
japanese['Silicon DAAs'] = 'シリコン DAA';
japanese["Silicon Labs' Android Application for Blue Gecko"] = 'Silicon Labs の Blue Gecko 用 Android アプリケーション';
japanese["Silicon Labs' iOS Application for Blue Gecko"] = 'Silicon Labs の Blue Gecko 用 iOS アプリケーション';
japanese['Silicon Voice DAAs'] = 'シリコン音声 DAAs';
japanese['Simplicity Commander'] = 'Simplicity Commander';
japanese['Simplicity Studio'] = 'Simplicity Studio';
japanese['Smart Meters'] = 'スマート・メータ';
japanese['Smart Thermostats'] = 'スマート・サーモスタット';
japanese['Software'] = 'ソフトウェア';
japanese['Software Development Kits'] = 'ソフトウェア開発キット';
japanese['Soil Monitoring'] = '土壌監視';
japanese['Solar Inverters'] = 'ソーラー・インバータ';
japanese['SPI to I2C Bridges'] = 'SPI - I2C ブリッジ';
japanese['Starter Kits'] = 'スターター・キット';
japanese['Telegesis ETRX Driver'] = 'Telegesis ETRX ドライバ';
japanese['Telegesis ETRXN Factory Default Utility Software'] = 'Telegesis ETRXN 工場出荷時 デフォルト・ユーティリティ・ソフトウエア';
japanese['Telegesis Terminal Software for PC'] = 'PC 向け Telegesis ターミナルソフトウェア';
japanese['Televisions'] = 'テレビ';
japanese['Temperature Sensor Kits'] = '温度センサーキット';
japanese['Temperature Sensors'] = '温度センサー';
japanese['Thread SDK'] = 'Thread SDK';
japanese['Thundeboard React'] = 'Thunderboard React';
japanese['Thunderboard Kits'] = 'Thunderboardキット';
japanese['Thunderboard Sense'] = 'Thunderboard Sense';
japanese['Timing'] = 'タイミング';
japanese['Timing Accessories'] = 'タイミングアクセサリ';
japanese['Timing Kits'] = 'タイミング・キット';
japanese['Tips and Tricks'] = 'ヒントと裏技';
japanese['Training Video'] = 'トレーニング・ビデオ';
japanese['TV and Video'] = 'テレビおよびビデオ';
japanese['TV and Video Accessories'] = 'TV およびビデオアクセサリ';
japanese['TV and Video Kits'] = 'TV およびビデオキット';
japanese['TV Tuner Accessories'] = 'TV チューナーアクセサリ';
japanese['TV Tuner Kits'] = 'TV チューナーキット';
japanese['TV Tuners'] = 'TV チューナ';
japanese['UDP Motherboard Firmware Update Utility'] = 'UDP マザーボード用ファームウェアのアップデート・ユーティリティ';
japanese['USB Bridge Kits'] = 'USB ブリッジ・キット';
japanese['USB Bridges'] = 'USB ブリッジ';
japanese['USB Development Driver for Windows'] = 'Windows 用 USB 開発ドライバ';
japanese['USB FM Radio Player'] = 'USB FM ラジオ・プレイヤ';
japanese['USBXPress Kits'] = 'USBXPress キット';
japanese['USBXpress SDK'] = 'USBXpress SDK';
japanese['USBXpress WinCE'] = 'USBXpress WinCE';
japanese['Utilities'] = 'ユーティリティ';
japanese['uVision Driver'] = 'uVision ドライバ';
japanese['VCP Drivers'] = 'VCP ドライバ';
japanese['Voice'] = 'ボイス';
japanese['Voice Codecs'] = 'ボイス・コーデック';
japanese['Water Meters'] = '水道メータ';
japanese['WDS Terminal Emulator'] = 'WDS ターミナル・エミュレータ';
japanese['Webinars'] = 'ウェビナー';
japanese['White Papers'] = 'ホワイトペーパー';
japanese['Wi-Fi'] = 'Wi-Fi';
japanese['Wi-Fi Accessories'] = 'Wi-Fi アクセサリ';
japanese['Wi-Fi Kits'] = 'Wi-Fi® キット';
japanese['Wind Turbines'] = '風力タービン';
japanese['Windows'] = 'Windows';
japanese['Wireless'] = 'ワイヤレス';
japanese['Wireless Accessories'] = 'ワイヤレスの付属品';
japanese['Wireless Development Suite'] = 'ワイヤレス開発スイート';
japanese['Wireless Infrastructure'] = 'ワイヤレス・インフラストラクチャ';
japanese['Wireless Kits'] = 'ワイヤレス・キット';
japanese['Wireless MBus'] = 'ワイヤレス MBus';
japanese['Wireless Reference Designs'] = 'ワイヤレス基準設計';
japanese['Wizard Gecko Wi-Fi SDK'] = 'Wizard Gecko Wi-Fi SDK';
japanese['Zigbee and Thread'] = 'ZigBee および Thread';
japanese['Zigbee and Thread Accessories'] = 'Zigbee および Thread用アクセサリ';
japanese['Zigbee and Thread Kits'] = 'ZigBee および Thread用キット';
japanese['Zigbee and Thread Reference Designs'] = 'Zigbee および Thread の基準設計';
japanese['Zigbee SDK'] = 'ZigBee SDK';
japanese['Activities'] = 'アクティビティ';
japanese['Notifications'] = '通知';
japanese['Email Subscriptions'] = '電子メール購読';
japanese['Unfollow All'] = 'すべてのフォローを解除';
japanese['Mark as Answer'] = '回答としてマーク';
japanese['Sort By'] = '並べ替え基準';
japanese['Newest'] = '最新';
japanese['Oldest'] = '最古';
japanese['Last Updated'] = '最終更新日';
japanese['Most Viewed'] = '最多視聴回数';
japanese['Most Followed'] = '最多フォロワー数';
japanese['Most Active'] = '最もアクティブ';
japanese['Most Liked'] = '最多評価数';
japanese['Following'] = 'フォロー中';
japanese['Profile'] = 'プロファイル';
japanese['Activities'] = 'アクティビティ';
japanese['Badges'] = 'バッジ';
japanese['Followers'] = 'フォロワー';
japanese['The answer is out there. Find it in here.']='答えは必ずあります。ここで見つけてください。';
japanese['Search']='検索';
japanese['Microcontrollers']='マイクロコントローラ';
japanese['8-bit MCU Community and Support']='8-bit MCU コミュニティとサポート';
japanese['Search 8-bit MCU']='8-bit MCUを検索';
japanese['8-bit MCU Forum']='8-bit MCU フォーラム';
japanese['Search 8-bit Forum']='8-bit フォーラムを検索';
japanese['8-bit MCU Knowledge Base']='8-bit MCU ナレッジ・ベース';
japanese['Search 8-bit Knowledge Base']='8-bit ナレッジ・ベースを検索';
japanese['32-bit MCU Community and Support']='32-bit MCU コミュニティとサポート';
japanese['Search 32-bit MCU']='32-bit MCUを検索';
japanese['32-bit MCU Forum']='32-bit MCU フォーラム';
japanese['Search 32-bit Forum']='32-bit フォーラムを検索';
japanese['32-bit MCU Knowledge Base']='32-bit MCU ナレッジ・ベース';
japanese['Search 32-bit Knowledge Base']='32-bit ナレッジ・ベースを検索';
japanese['Wireless Solutions']='ワイヤレス・ソリューション';
japanese['Bluetooth Community and Support']='Bluetooth コミュニティとサポート';
japanese['Search Bluetooth']='Bluetoothを検索';
japanese['Bluetooth Wireless Forum']='Bluetooth ワイヤレス・フォーラム';
japanese['Search Bluetooth Forum']='Bluetooth フォーラムを検索';
japanese['Bluetooth Knowledge Base']='Bluetooth ナレッジ・ベース';
japanese['Search Bluetooth Knowledge Base']='Bluetooth ナレッジ・ベースを検索';
japanese['Proprietary Community and Support']='独自規格のコミュニティとサポート';
japanese['Search Proprietary']='独自規格を検索';
japanese['Proprietary Wireless Forum']='独自規格ワイヤレス・フォーラム';
japanese['Search Proprietary Forum']='独自規格フォーラムを検索';
japanese['Proprietary Knowledge Base']='独自規格ナレッジ・ベース';
japanese['Search Proprietary Knowledge Base']='独自規格ナレッジ・ベースを検索';
japanese['Wi-Fi Wireless Community and Support']='Wi-Fi ワイヤレス・コミュニティとサポート';
japanese['Search Wi-Fi']='Wi-Fiを検索';
japanese['Wi-Fi Wireless Forum']='Wi-Fi ワイヤレス・フォーラム';
japanese['Search Wi-Fi Forum']='Wi-Fi フォーラムを検索';
japanese['Wi-Fi Knowledge Base']='Wi-Fi ナレッジ・ベース';
japanese['Search Wi-Fi Knowledge Base']='Wi-Fi ナレッジ・ベースを検索';
japanese['Zigbee & Thread Community and Support']='Zigbee & Thread コミュニティとサポート';
japanese['Search Zigbee and Thread']='Zigbee と Threadを検索';
japanese['Zigbee & Thread Wireless Forum']='Zigbee および Thread ワイヤレス・フォーラム';
japanese['Search Zigbee & Thread Forum']='Zigbee および Thread フォーラムを検索';
japanese['Zigbee & Thread Knowledge Base']='Zigbee および Thread ナレッジ・ベース';
japanese['Search Zigbee & Thread Knowledge Base']='Zigbee および Thread ナレッジ・ベースを検索';
japanese['Interface Community and Support']='インターフェイス・コミュニティとサポート';
japanese['Search Interface']='インターフェイスを県s飼う';
japanese['Interface Forum']='インターフェイス・フォーラム';
japanese['Search Interface Forum']='インターフェイス・フォーラムを検索';
japanese['Interface Knowledge Base']='インターフェイス・ナレッジ・ベース';
japanese['Search Interface Knowledge Base']='インターフェイス・ナレッジ・ベースを検索';
japanese['Isolation Community and Support']='絶縁コミュニティとサポート';
japanese['Search Isolation']='絶縁を検索';
japanese['Isolation Forum']='絶縁フォーラム';
japanese['Search Isolation Forum']='絶縁フォーラムを検索';
japanese['Isolation Knowledge Base']='絶縁ナレッジ・ベース';
japanese['Search Isolation Knowledge Base']='絶縁ナレッジ・ベースを検索';
japanese['Power Community and Support']='パワーコミュニティとサポート';
japanese['Search Power']='パワーを検索';
japanese['Power Forum']='パワーフォーラム';
japanese['Search Power Forum']='パワーフォーラムを検索';
japanese['Power Knowledge Base']='パワー・ナレッジ・ベース';
japanese['Search Power Knowledge Base']='パワー・ナレッジ・ベースを検索';
japanese['Sensor Community and Support']='センサーコミュニティとサポートを検索';
japanese['Search Sensors']='センサーを検索';
japanese['Sensors Forum']='センサーフォーラム';
japanese['Search Sensors Forum']='センサーフォーラムを検索';
japanese['Sensors Knowledge Base']='センサー・ナレッジ・ベース';
japanese['Search Sensors Knowledge Base']='センサー・ナレッジ・フォーラムを検索';
japanese['Timing Community and Support']='タイミング・コミュニティとサポート';
japanese['Search Timing']='タイミングを検索';
japanese['Timing Forum']='タイミング・フォーラム';
japanese['Search Timing Forum']='タイミング・フォーラムを検索';
japanese['Timing Knowledge Base']='タイミング・ナレッジ・ベース';
japanese['Search Timing Knowledge Base']='タイミング・ナレッジ・ベースを検索';
japanese['Development Tools']='開発ツール';
japanese['Simplicity Studio Community and Support']='Simplicity Studio コミュニティとサポート';
japanese['Search Simplicity Studio']='Simplicity Studioを検索';
japanese['Simplicity Studio Forum']='Simplicity Studio フォーラム';
japanese['Search Simplicity Studio Forum']='Simplicity Studio フォーラムを検索';
japanese['Simplicity Studio Knowledge Base']='Simplicity Studio ナレッジ・ベース';
japanese['Search Simplicity Studio Knowledge Base']='Simplicity Studio ナレッジ・ベースを検索';
japanese['Thunderboard Community and Support']='Thunderboard コミュニティとサポート';
japanese['Search Thunderboard']='Thunderboardを検索';
japanese['Thunderboard Forum']='Thunderboard フォーラム';
japanese['Search Thunderboard Forum']='Thunderboard フォーラムを検索';
japanese['Thunderboard Knowledge Base']='Thunderboard ナレッジ・ベース';
japanese['Search Thunderboard Knowledge Base']='Thunderboard ナレッジ・ベースを検索';

var translator = {
    languagesToTranslate : ['zh', 'zh-HK', 'zh-CN', 'zh-TW', 'ja', 'ja-JP'],
    laungageLibraryMap : {'zh':chinese, 'zh-HK':chinese, 'zh-CN':chinese, 'zh-TW':chinese, 'ja' : japanese, 'ja-jp': japanese},
    userLanguage : navigator.language,
    queued: false,

    checkLanguage : function() {
        this.userLanguage = navigator.language;
        if (typeof(navigator.languages) != 'undefined' && navigator.languages != null && navigator.languages.length > 0) {
            //Get the preferred, not installed, language on Chrome
            this.userLanguage = navigator.languages[0];
        } else if (typeof(navigator.userLanguage) != 'undefined' && navigator.userLanguage != null) {
            //IE Support
            this.userLanguage = navigator.userLanguage;
        }
        if (this.languagesToTranslate.indexOf(this.userLanguage) != -1) {
            return true;
        }
        return false;
    },

    updatePage : function() {
    	this.queued = false;
        if (this.checkLanguage()) {
            var classes = ['nav-link', 'sub-nav-link', 'scf-forum-heading', 'btn', 'text', 'scf-qna-answered', 'scf-page-next', 'scf-page-prev', 'scf-comment-action', 'scf-group-nav-item a', 'logo-title', 'scf-blog-heading', 'main-heading', 'scf-selected-tag', 'scf-topic h3', 'breadcrumbContainer .scf-breadcrumb p', 'breadcrumb li a', 'breadcrumb li.active', 'scf-sort-item', 'scf-subscription-item', 'scf-user-profile ul.nav-tabs li a', 'menu-account-item a', 'scf-user-profile .scf-tab-content .requiredField', 'scf-profile-form-label', 'scf-user-profile .scf-user-info-right .scf-follows h3'];
            var self = this;
            $.each(classes, function(index, value) {
                try {
                    var elements = $('.'+value);
                    $.each(elements, function (index2, value2) {
                        if ($(value2).text() != "") {
                            self.translateText(value2);
                        }
                    });
                } catch (err) {
                    console.log(err);
                }
            });
            var ids = ['toptxtKeywordSearch', 'communitySearch'];
            $.each(ids, function(index, value) {
                try {
                    var elements = $('#'+value);
                    $.each(elements, function (index2, value2) {
                        if ($(value2).attr('placeholder') != "") {
                            self.translatePlaceholder(value2);
                        }
                    });
                } catch (err) {
                    console.log(err);
                }
            });
            var links = ['Blog_menuItem a'];
            $.each(links, function(index, value) {
                try {
                    var elements = $('#'+value);
                    $.each(elements, function (index2, value2) {
                        if ($(value2).attr('href') != "") {
                            self.translateHref(value2);
                        }
                    });
                } catch (err) {
                    console.log(err);
                }
            });
        }
    },

    translateText : function(el) {
		if ($(el).text() != null && $(el).text().trim() != "") {
            var checkClass = $(el)[0];
            var elOutHtml = "";
            var transText = "";
            if ($(checkClass).hasClass("generictext text parbase"))
            {
                elOutHtml = $(el)[0].outerHTML;
                var txtStrt = elOutHtml.indexOf($(el).text().trim());
                var txtEnd = txtStrt + $(el).text().trim().length;
                transText = this.lookupTextTranslation($(el).text().trim());
                var updateStr = elOutHtml.substr(0,txtStrt) + transText + elOutHtml.substr(txtEnd);
                if (transText != $(el).text().trim() && transText != "") {
                    $(el).replaceWith(updateStr);
                }
            } else {
                $(el).text(this.lookupTextTranslation($(el).text()));
            }
        }
    },

    translatePlaceholder : function(el) {
        $(el).attr('placeholder',(this.lookupTextTranslation($(el).attr('placeholder'))));
    },

    translateHref : function(el) {
        $(el).attr('href',(this.lookupTextTranslation($(el).attr('href'))));
    },

    lookupTextTranslation : function(text) {
        if (text != null && text != "" && text.trim() != "") {
            text = text.trim();
            var map = this.laungageLibraryMap[this.userLanguage];
            if (map != null) {
                var newText = map[text];
                if (newText != null &&  newText != '') {
                    return newText;
                }
            }
        }
        return text;
    },
    deferredUpdate: function() {
        if (!this.queued) {
            this.queued = true;
            if (this.checkLanguage()) {
	            setInterval("translator.updatePage();", 2000);
            }
        }
    },

};

$(document).ready(function() {
    try {
    	translator.updatePage();
		translator.deferredUpdate();
    } catch (err) {
        console.log(err);
    }
});

var linkTrack = {

	queued: false,

	getURLKey : function() {
		var fullURL = window.location.href;
		path = fullURL.substring(fullURL.lastIndexOf('/'));
		if (path.indexOf("?") != -1) {
			path = path.substring(0, path.indexOf("?"));
		}
		return path;
	},

	getURLKeyWithSize : function() {
		var fullURL = window.location.href;
		path = fullURL.substring(fullURL.lastIndexOf('/'));
		if (path.indexOf("?") != -1) {
			path = path.substring(0, path.indexOf("?"));
		}
		var replySize = $(".replysize").attr("aria-reply-size");
		if(replySize !=null && replySize !== "undefined"){
			path = path+"::"+ replySize;
		}
		return path;
	},

	shouldTrackLink : function() {
		var fullURL = window.location.href;
		var isForum = false;
		var isKB = false;
		if (fullURL.indexOf('/forum') != -1) {
			if (!(fullURL.slice(fullURL.indexOf('/forum')).length == '/forum'.length) && !(fullURL.slice(fullURL.indexOf('/forum.html')).length == '/forum.html'.length)){
				isForum = true;
			}
		} else if(fullURL.indexOf('/knowledge-base') != -1){
			if (!(fullURL.slice(fullURL.indexOf('/knowledge-base')).length == '/knowledge-base'.length) && !(fullURL.slice(fullURL.indexOf('/knowledge-base.html')).length == '/knowledge-base.html'.length)){
				isKB = true;
			}		}
		if (fullURL != null && (isForum || isKB)) {
			return true;
		}
		return false;
	},

	shouldApplyStyles : function() {
		var forumList = $('.qnaforum');
		var kbList = $('.journal');
		if ((forumList != null && typeof(forumList.length) != 'undefined' && forumList.length > 0) || (kbList != null && typeof(kbList.length) != 'undefined' && kbList.length > 0)) {
			return true;
		}
		return false;
	},

	deferredUpdateLinks : function() {
		if (!this.queued) {
			this.queued = true;
			setTimeout('linkTrack.updateLinks();', 10);
		}
	},

	updateLinks : function() {
		queued = false;
		var toDelete =[];
		var readString = linkTrack.getCookie('url-track')
		if (readString != null && readString.length > 0) {
			var readLinks = readString.split(',');
			var entries = $('div.scf-topic-listitem');
			$(entries).each(function(index, item) {
				if ($(item) != null && $(item)[0] != null && $(item)[0].dataset != null)  {
					if ($(item)[0].dataset.componentId != null) {
						var pathId = $(item)[0].dataset.componentId.substring($(item)[0].dataset.componentId.lastIndexOf('/'));
						if (readString.indexOf(pathId) > -1) {
							var itemReplyCount = $(item).find("div.bubble").text();
							$(readLinks).each(function(cookieIndex, cookieItem){
								if(cookieItem.indexOf(pathId)>-1){
									var keyValue = cookieItem.split('::');
									if(keyValue.length>1){
										var storedCookieCount = keyValue[1];
										if(storedCookieCount === itemReplyCount){
											var li = $($(item)[0]).parent();
											$(li).addClass('sl-visited');
										}
									}else{
										var li = $($(item)[0]).parent();
										$(li).addClass('sl-visited');
									}
								}
							});
						}
					}
				}
			});
		}
	},

	setCookie : function(key, value) {
		var expires = new Date();
		expires.setTime(expires.getTime() * 3);
		document.cookie = key + '=' + value + ';path=/;expires=' + expires.toUTCString();
	},

	getCookie : function(key) {
		var keyValue = document.cookie.match('(^|;) ?' + key + '=([^;]*)(;|$)');
		return keyValue ? keyValue[2] : null;
	},

	updateCookie : function() {
		var readString = linkTrack.getCookie('url-track');
		if (readString != null && readString.length > 0) {
			var readLinks = readString.split(',');
			var postURL = window.location.href;
			var pageName = postURL.substr(postURL.lastIndexOf('/'), postURL.length);
			if (pageName.indexOf("?") != -1) {
				pageName = pageName.substring(0, pageName.indexOf("?"));
			}
			var indexToUpdate= [];
			if(readString.indexOf(pageName)>-1){
				$(readLinks).each(function(index, item){
					if(item.indexOf(pageName)>-1){
						if(item.indexOf("::")>1){
							var itemPath = item.split("::")[0];
							if(itemPath===pageName){
								indexToUpdate.push(index);
							}
						}else{
							if(item===pageName){
								indexToUpdate.push(index);
							}
						}
					}
				});
			}
			if(indexToUpdate.length>0){
				readLinks.splice(indexToUpdate[0], 1);
			}
			var replyCount = $('.replysize').attr('aria-reply-size');
			var newURLStr =pageName;
			if(replyCount !==undefined){
				newURLStr = pageName+'::'+replyCount;
			}
			readLinks.push(newURLStr);
			var newCookieValue = readLinks.join();
			this.setCookie("url-track", newCookieValue);


		}
	}


};
/*
$(document).ready(function() {
	if (linkTrack.shouldTrackLink()) {
		var trackString = linkTrack.getCookie('url-track');
		if (trackString == null) {
			trackString = '';
		}
		if (trackString.length > 0) {
			trackString = trackString + ',';
		}
		if (trackString.indexOf(linkTrack.getURLKey()) == -1) {
			trackString = trackString + linkTrack.getURLKeyWithSize();
			linkTrack.setCookie('url-track', trackString);
		}else{
			linkTrack.updateCookie();
		}
	}
	if (linkTrack.shouldApplyStyles()) {
		linkTrack.updateLinks();
	}
	$('.journal').bind("DOMNodeInserted",function(){
		linkTrack.updateLinks();
	});
	$('.scf-qna').bind("DOMNodeInserted",function(){
		linkTrack.updateLinks();
	});

	$('.qnaforum').bind("DOMNodeInserted",function() {
		linkTrack.updateCookie();
	});

});
	*/
var __global_counter = {};
var WSCS={"data":null,"setHtml":function(name,data) { this.data = data},"getHtml":function() {return this.data}, "log" : function(str) { if (console && console.log) { console.log(str); } } };

(function ($, w, d) {

    //jQuery removal
    //Referenced from: http://www.gotoquiz.com/web-coding/programming/javascript/highlight-words-in-text-with-jquery/
    $.fn.highlight = function (str, className) {
        var regex = new RegExp(str, "gi");
        return this.each(function () {
            $(this).contents().filter(function() {
                return this.nodeType === 3;
            }).replaceWith(function() {
                return (this.nodeValue || "").replace(regex, function(match) {
                    return "<span class=\"" + className + "\">" + match + "</span>";
                });
            });
        });
    };

    var pluginName = "TargetComplete";

    var dataKey = "plugin_" + pluginName;

    var CacheManager = (function() {


        return {

            Cs : [],

            options : {

                id : "_global"
            },


            init : function(ids) {
                var o = this;
                $.each(ids,function(i,val) {
                    o.setCache(val);
                });
            },

            getId : function(id) {
                return (typeof id != "undefined") ? id : this.options.id;
            },

            getById : function(cid) {
                var d = null;
                var o = this;

                for (var i = 0; i < o.Cs.length; i++)
                {
                    for (var q in o.Cs[i]) {
                        if (o.Cs[i][q]&&o.Cs[i][q].c&& o.Cs[i][q].c.id == cid) {
                            d = o.Cs[i][q];

                        }

                    }

                }
                return d;
            },

            getData : function(id,query) {
                var o = this;
                id = o.getId(id);
                return (this.check(id,query)) ? o.Cs[id][query].d : null;
            },

            setCache : function(id) {
                var o = this;
                id = o.getId(id);
                o.Cs[id] = {};

            },

            add : function(id,query,ops) {

                var o = this;
                if (o.Cs.length && o.Cs[id]) {
                    o.Cs[id][query] = ops;
                    return true;
                }

                return false;

            },

            clear :  function(id,query)
            {
                var o = this;
                if (o.Cs[id] && o.Cs[id][query]) {
                    o.Cs[id][query] = {};
                }
            },

            clearAll :  function(id)
            {
                var o = this;
                if (o.Cs.length && o.Cs[id]) {
                    o.Cs[id] = {};
                }
            },

            check : function(id,query) {
                var o = this;
                return (id && o.Cs[id] && o.Cs[id][query] && typeof o.Cs[id][query].d !== "undefined");
            }





        }


    });

    var TargetPlugin = function (element, options) {
        // For Keystroke Pacing
        this.cache = new CacheManager();
        this.inputElement = element;
        this.options = {
            viewId : "sayt-view",
            formBrowserAutocomplete : false,
            formSelector : "",
            fade : false,
            preventDefault : true,
            layoutColumns : 1,
            waitToOpen: 0,
            waitToClose: 0,
            minInputLength : 2,
            minInputDelay : 50,
            disableOnSubmit : true,
            arrowKeys : true,
            submitOnSelect : true,
            submitOnEnter : true,
            createViewElement:true,
            displayCSSClose : {"display":"none"},
            displayCSSOpen : {"display":"table"},
            onOpen : null,
            onClose : null,
            onSelect : null,
            onRenderAfter : null,
            onRenderBefore : null,
            containers : [
            ]
        };

    };

    TargetPlugin.prototype = {

        init: function (options) {

            var o = this;

            o.options  = $.extend({},o.options, options);

            if (o.options.createViewElement) {
                o.inputElement.after("<div id='" + o.options.viewId + "'></div>");
            }

            o.viewElement = $("#" + o.options.viewId);
            if (o.options.fade) {
                $("#" + o.options.viewId).css("opacity","0");
            }

            if (!o.options.formBrowserAutocomplete)
            {
                $(o.getFormElement()).attr("autocomplete","off");
            }

            if (!!o.options.disableOnSubmit) {
                var frm = o.getFormElement();
                $(frm).onsubmit = function() {return false;};
            }

            o.revealDependents(o.options.containers);//turn off any dependent container on results

            o.bindEvents();


            var i = 1;
            var keys = [];


            //Assign Container Ids
            $(o.options.containers).each(function(i,obj) {

                (function(i,container,ops) {


                    container.index = i;
                    var myid = (container.id) ? "id='" + container.id + "'" : "";
                    var myclass = (container.className) ? container.className : "";
                    var me = $("#" + ops.viewId + " .sayt-container[data-sayt-container='" + container.index + "']");

                    if (!me.length) {
                        var viewElement = $("#" + ops.viewId);
                        viewElement.append("<div " + myid + " class='sayt-container sayt-container-" + container.index + " " + myclass + "' data-sayt-container='" + container.index + "'></div>");
                    } else {
                        if (container.id)
                        {
                            me.attr("id",container.id);
                        }
                        if (myclass)
                        {
                            me.addClass(myclass);
                        }
                        me.addClass("sayt-container-" + container.index);


                    }
                    keys.push(container.index);
                })(i,obj,o.options);

                o.cache.init(keys);

            });



        },

        getFormElement : function() {
            var o = this;
            var selector = o.options.formSelector||"body form:first-child";

            if (selector) {
                return $(selector);
            } else {
                return $(o.inputElement).closest("form");
            }

        },

        bindEvents : function() {

            var o = this;

            __requests = 0;

            this._now = 0;
            this._before = 0;
            this._keytimer = 0;


            var addEvent = function(object, type, callback) {
                if (object == null || typeof(object) == 'undefined') return;
                if (object.addEventListener) {
                    object.addEventListener(type, callback, false);
                } else if (object.attachEvent) {
                    object.attachEvent("on" + type, callback);
                } else {
                    object["on"+type] = callback;
                }
            };

            var el = (o.inputElement.length) ? o.inputElement[0] : null;

            addEvent(el,"keyup",function(event) {

                var query = o.getInputElementQuery();

                o._now = Date.now();
                o._before = (o._before) ? o._before : o._now;

                clearTimeout(o._keytimer);

                var key = event.keyCode + "";

                if (!key.match(/(27|33|34|38|40)/))
                {


                    $(".sayt-on").removeClass("sayt-on");


                    if (o.options.minInputDelay && ( (o._now - o._before) >= o.options.minInputDelay) )
                    {

                        if (query && query.length >= o.options.minInputLength)
                        {

                            o.request();
                            __requests++;
                        }
                        else {
                            o.close();
                        }

                    }
                    else if (!o.options.minInputDelay || o._now == o._before)
                    {

                        if (query && query.length >= o.options.minInputLength)
                        {
                            o.request();
                            __requests++;
                        }
                        else {
                            o.close();
                        }

                    }
                    else if (o.options.minInputDelay)
                    {

                        o._keytimer = setTimeout(function() {

                            if (query && query.length >= o.options.minInputLength)
                            {
                                o.request();
                                __requests++;
                            }
                            else {
                                o.close();
                            }

                            o._before = o._now;

                        },o.options.minInputDelay)


                    }
                }


            });

            addEvent(el,"blur",function(ev) {
                o.blur();
            });

            addEvent(el,"focus",function(ev) {
                o.focus();
            });

            addEvent(el,"keydown",function(event) {


                switch (event.keyCode) {

                    //Escape
                    case 27 : o.close(); break;

                    //pageUp
                    case 33 : o.scrollUp(); break;

                    //pageDown
                    case 34 :  o.scrollDown(); break;

                    //leftarrow
                    case 37 : break;

                    //uparrow
                    case 38 : o.scrollUp(); break;

                    //rightarrow
                    case 39 : break;

                    //downarrow
                    case 40 : o.scrollDown(); break;

                    //enter
                    case 13 : if (o.options.disableOnSubmit){ event.preventDefault(); }; if (o.options.submitOnEnter) { o.go();};  break;

                    default : break;

                }
            });

        },

        render : function(container,data,query) {

            var o = this;

            if (container)
            {

                if (container.containerType.match(/(autocomplete|array)/))
                {
                    o.renderArray(container,data,query);
                }
                else if (container.containerType == "WSCS" && WSCS)
                {
                    data = WSCS.getHtml();
                    var totalresults = $(data).find("[data-total-results]").attr("data-total-results");

                    if (totalresults) {
                        o.cache.add(container.index,query,{ c : container, d : data, t : totalresults });
                    }

                    o.renderHtml(container,data,query);
                }
                else if (container.containerType == "html" && container.requestUrl)
                {
                    o.renderHtml(container,data,query);
                }
                else if (container.containerType == "html" && !container.requestUrl && container.content)

                {
                    o.renderHtml(container,data,query);
                }


                //o.revealDependents(o.options.containers, data);

                o.open();
            }

        },

        revealDependents : function(containers,data) {
            var o = this;
            if (containers && containers.length)	{

                for (var i = 0; i < containers.length; i++)
                {
                    var cs = containers[i];
                    if ( cs.dependentIds) {
                        var di = cs.dependentIds;
                        di = di.split(",");
                        for (var j = 0; j < di.length; j++)
                        {
                            var strid = di[j].trim();
                            var c = (cs.id) ? o.cache.getById(cs.id) : null;
                            var total = (data&&data.length) ? data.length : 0;

                            if (parseInt(total) > 0) {
                                $("#"+strid).html(o.tokens($("#"+strid).html(), cs, total));
                                $("#"+strid).show();
                            } else {
                                //$("#"+strid).hide();
                            }


                        }

                    }
                }
            }

        },

        renderArray : function(container,data, query) {

            var o = this;
            var html = "";

            container.maxResults = container.maxResults || 3;

            var i = 0;
            var htmllist = [];
            if (data.length > 0)
            {
                html = "";
                $(data).each(function(i,val) {
                    if (o.isMatch(container, val, query ))
                    {
                        var surl = (container.searchUrl) ? container.searchUrl : "";
                        var sep = surl.match(/\?/) ? "&" : "?";

                        v = (container.attachClickLink!== false) ? "<a href='" + container.searchUrl + sep + "q=" + val + "' class='sayt-link'>" + val + "</a>" : val;
                        html += "<li class='sayt-list-element' data-sayt-value='" + val + "'>" + v + "</li>";

                    }
                    i++;
                });
                htmllist.push((html) ? "<div><ul class='sayt-list'>" + html + "</ul></div>" : "");
            }

            var mycontainer = $("#" + o.options.viewId + " .sayt-container[data-sayt-container='" + container.index + "']");
            if(mycontainer.length)
            {

                html = "";
                for (var i =0; i < htmllist.length;i++) {
                    if (container.maxResults && i < container.maxResults) {
                        html+=htmllist[i];
                    }
                }

                if (container.highlightWords) {
                    html = o.highlightHtml(html,query);
                }

                if (typeof container.onRenderBefore == "function")
                {
                    html = container.onRenderBefore(html,container,data,query,o.options);
                }

                html = o.tokens(html, container);

                //o.renderDependencies(container);


                mycontainer.html(html);


                if (typeof container.onRenderAfter == "function")
                {
                    container.onRenderAfter(container,data,query,o.options);
                }

                //Bind Click events for targets
                $("#" + o.options.viewId + ".sayt-list-element").each(function(i,obj) {

                    var func = function() {};
                    var el = null;

                    if (!$(obj).find(".sayt-link").length)
                    {

                        el = $(obj).find("a");

                        func = function(ev) {
                            o.go();
                        }


                    } else {

                        el = $(obj).find(".sayt-link");

                        func = function(ev) {
                            ev.preventDefault();
                            o.go();

                        }

                    }



                    if (el) {

                        el.bind("click",function(ev) {
                            func(ev);
                        });

                        el.bind("touchend",function(ev) {
                            func(ev);
                        });
                        el.bind("mouseover",function(ev) {
                            $(".sayt-on").removeClass("sayt-on");
                            $(obj).addClass("sayt-on");

                        });

                        el.bind("mouseout",function(ev) {
                            $(".sayt-on").removeClass("sayt-on");

                        });
                    }


                });
            }


        },

        renderHtml : function(container,html,query) {

            var o = this;


            var mycontainer = $("#" + o.options.viewId + " .sayt-container[data-sayt-container='" + container.index + "']");

            if(mycontainer.length && html)
            {
                if (container.highlightWords) {
                    html =  o.highlightHtml(html,query);
                }
                if (typeof container.onRenderBefore == "function")
                {
                    html = container.onRenderBefore(html,container,data,query,o.options);
                }
                html = o.tokens(html, container, $("#" + o.options.viewId + " #sayt-list").attr("data-total-results"));

                //o.renderDependencies(container,$("#sayt-list").attr("data-total-results"));

                mycontainer.html(html);



                if (typeof container.onRenderAfter == "function")
                {
                    container.onRenderAfter(container,data,query,o.options);
                }


                $(".sayt-list-element").each(function(i,obj) {

                    var func = function() {}

                    $(obj).bind("mouseover",function(ev) {
                        $(".sayt-on").removeClass("sayt-on");
                        $(obj).addClass("sayt-on");

                    });

                    $(obj).bind("mouseout",function(ev) {
                        $(".sayt-on").removeClass("sayt-on");

                    });


                    if (mycontainer.attachClickLink!== false) {

                        func = function() {
                            o.go();
                        }
                        el = $(obj).find(".sayt-link");

                        if (!el.length) {
                            el = $(obj).find("a");
                            el.addClass("sayt-link");
                        }

                        el.bind("click",function(ev) {
                            func(ev);
                        });

                        el.bind("touchend",function(ev) {
                            func(ev);
                        });


                    } else {

                        func = function(ev) {
                            o.go();
                        }

                        el = $(obj);

                        el.bind("click",function(ev) {
                            func(ev);
                        });

                        el.bind("touchend",function(ev) {
                            func(ev);
                        });

                    }


                });

            }

            if (typeof container.onRender == "function")
            {
                html = container.onRender(data);
            }


        },

        tokens : function(html, container, total) {
            var o = this;
            html = html.replace(/%searchQuery%/ig, o.getInputElementQuery()||"")
            html = html.replace(/%searchTotal%/ig, total||0);
            html = html.replace(/%searchUrl%/ig, container.searchUrl||"");
            return html;
        },

        focus : function() {
            var o = this;
            var query = o.getInputElementQuery();

            if (query && query.length >= o.options.minInputLength && query != o.options.emptyInputValue)
            {
                o.open();
            }


        },

        blur : function() {

            var o = this;

            if (!$(".sayt-on").length)
            {
                o.close();
            }

        },

        request : function() {

            var o = this;
            var i = 1;
            $(o.options.containers).each(function(i,obj) {
                (function(i,container) {
                    //var container = this;
                    if (!container.index) { container.index = i };
                    var query = o.getInputElementQuery();

                    if (container.containerType == "autocomplete") {
                        container.ajaxDataType = "jsonp";
                        container.queryParam="query";
                    } else if (container.containerType == "array") {
                        o.cache.add(container.index,query,{ c : container, d : container.content, t : container.content.length||0 });
                    }

                    var ajaxsettings = {

                        dataType : container.ajaxDataType,
                        url : o.getRequestURL(container),
                        success : function(data) {

                            if (__global_counter[container.index] == requestcounter[container.index])//make sure it's the latest request
                            {
                                var totalresults = (data&& data.length)? data.length : 0;
                                o.cache.add(container.index,query,{ c : container, d : data, t : totalresults });
                                o.render(container,data,query);

                            }

                        }
                    }

                    if (o.cache.check(container.index,query)) {
                        o.render(container,o.cache.getData(container.index,query),query);
                    }

                    else if (ajaxsettings.url)
                    {
                        if (!__global_counter[container.index]) { __global_counter[container.index] = 0 }
                        var requestcounter = [];
                        if (!requestcounter[container.index]) { requestcounter[container.index] = -1 }
                        __global_counter[container.index]++;
                        requestcounter[container.index] = __global_counter[container.index];
                        $.ajax(ajaxsettings);
                    }
                    else if (container.content)//static
                    {
                        o.cache.add(container.index,query,{ c : container, d : container.content, t : null });
                        o.render(container,container.content,query);

                    }


                })(i,obj);

            });
        },

        getInputElementQuery : function() {

            return this.inputElement.val();

        },

        getRequestURL : function(container) {

            var req = "";

            var term = this.getInputElementQuery();

            if (container.containerType == "autocomplete")
            {
                req = this.getAutocompleteRequest(container);
            }
            else
            {
                req = container.requestUrl;
            }

            var t = (container.prependToQuery) ? container.prependToQuery + term : term;
            t = (container.appendToQuery) ?  t + container.appendToQuery : t;

            if (req)
            {
                var sep = (container.queryParamSeparator) ? container.queryParamSeparator : (req.match(/\?/)) ? "&" : "?";
                //sep = (sep == "&" && req.match(/\?\w/)) ? "&" : "";

                req = (container.queryParam) ? req + sep + container.queryParam + "=" + t : req;
            }

            return req;

        },

        getAutocompleteRequest : function(container)
        {
            var o = this;
            var protocol = (d.location.protocol == "https:" ? "https:" : "http:");
            var postfix = (container.stage ? "stage/" : "/");
            var acct = (typeof container.account != "undefined") ? container.account.split("") : [];
            var spid = "";
            var j = 0;
            for (var i = 0; i < acct.length ; i++)
            {
                if (i >= 2)
                {
                    j++;
                    if (j == 2)
                    {
                        j = 0;
                        spid += (i != (acct.length - 1)) ? acct[i] + "/" : acct[i];
                    }
                    else
                    {
                        spid += acct[i];
                    }
                }
                else
                {
                    spid += acct[i];
                }

            }

            var count = (container.maxResults) ? "max_results=" + container.maxResults : "";
            var req = protocol + "//content.atomz.com/autocomplete/" + spid + postfix + "?" + count;

            return req;

        },

        isMatch : function(container,content,term) {

            var matcher = null;
            var matchcase = (container.queryCaseSensitive) ? "" : "i";
            if (container.matchType && container.matchType == "start")
            {
                matcher = new RegExp( "^" + term, matchcase );
            }
            else {
                matcher = new RegExp( term, matchcase );
            }

            return (matcher && matcher.test(content));

        },

        highlightHtml : function(html,term) {

            var o = this;
            var terms = term.split(/\s/);
            terms = (terms.length) ?  terms : [];
            if (!terms.length) { terms.push(term); }



            if (terms.length)
            {

                var elem = $(html);

                $(terms).each(function(i,val) {

                    if (val.match(/\w/))
                    {

                        elem.find(".sayt-list-element").each(function(){

                            var els = $(this).find("*");

                            if (els.length)
                            {
                                $(els).highlight(val,"sayt-match");
                            }
                            else
                            {
                                $(this).highlight(val,"sayt-match");

                            }

                        });

                    }

                });

                return (elem.html()) ? elem.html() : "";


            }

            return html;

        },

        open : function() {

            var o = this;

            var eventOpenBefore = (typeof o.options.onOpenBefore === "function") ? o.options.onOpenBefore : function(opts) {};
            var eventOpenAfter = (typeof o.options.onOpenAfter === "function") ? o.options.onOpenAfer : function(opts) {};

            if (o.options.fade)
            {
                eventOpenBefore(o.options);
                o.viewElement.animate({ "opacity":"1"},o.options.waitToOpen);
                eventOpenAfter(o.options);
            }
            else if (!o.options.fade && o.options.waitToOpen)
            {
                if (o.options.displayCSSOpen) {
                    func = function() { eventOpenBefore(o.options);o.viewElement.css(o.options.displayCSSOpen); eventOpenAfter(o.options); }
                } else {
                    func = function() { eventOpenBefore(o.options); o.viewElement.show(); eventOpenAfter(o.options);  }
                }

                setTimeout(func, o.options.waitToOpen);
            }
            else
            {

                if (o.options.displayCSSOpen) {
                    func = function() { eventOpenBefore(o.options); o.viewElement.css(o.options.displayCSSOpen); eventOpenAfter(o.options);  }
                } else {
                    func = function() { eventOpenBefore(o.options);o.viewElement.show(); eventOpenAfter(o.options);  }
                }

                func();


            }



        },

        close : function() {

            var o = this;
            var func = function() {};

            var eventCloseBefore = (typeof o.options.onCloseBefore === "function") ? o.options.onCloseBefore : function(opts) {};
            var eventCloseAfter = (typeof o.options.onCloseAfter === "function") ? o.options.onCloseAfer : function(opts) {};


            if (o.options.fade)
            {
                eventCloseBefore(o.options);
                o.viewElement.animate({ "opacity":"0"},o.options.waitToClose);
                eventCloseAfter(o.options);
            }
            else if (!this.options.fade && o.options.waitToClose)
            {
                if (o.options.displayCSSClose) {
                    func = function() { eventCloseBefore(o.options);o.viewElement.css(o.options.displayCSSClose); eventCloseAfter(o.options); }
                } else {
                    func = function() { eventCloseBefore(o.options);o.viewElement.hide(); eventCloseAfter(o.options); }
                }

                setTimeout(func, o.options.waitToClose);
            }
            else
            {

                if (o.options.displayCSSClose) {
                    func = function() { eventCloseBefore(o.options); o.viewElement.css(o.options.displayCSSClose); eventCloseAfter(o.options); }
                } else {
                    func = function() { eventCloseBefore(o.options); o.viewElement.hide(); eventCloseAfter(o.options); }
                }

                func();
            }

        },

        setActiveSelectionElement : function(down) {

            var o = this;
            var index = 0;
            var size = 0;
            var i = 0;
            $(".sayt-list-element").each(function() {


                var elem = this;
                var even = (i % 2 == 0) ? true : false;
                var rowclass = "sayt-even";
                if (!even) {
                    rowclass = "sayt-odd";
                }

                $(elem).removeClass("sayt-odd");
                $(elem).removeClass("sayt-even");
                $(elem).attr("data-sayt-index",i);
                $(elem).addClass(rowclass);

                i++;

            });

            size = i;
            var sindex = $(".sayt-on").attr("data-sayt-index");
            var lindex = -1;
            if (sindex) {
                sindex = parseInt(sindex);
                lindex = sindex;
            } else {
                sindex = -1;
            }

            if (!!down) {
                sindex = ((sindex + 1)  < size )  ?  sindex + 1 : 0;
            } else {
                sindex = ( (sindex-1) >= 0) ? sindex - 1 : size - 1;
            }


            $(".sayt-list-element[data-sayt-index='" + lindex + "']").removeClass("sayt-on");
            $(".sayt-list-element[data-sayt-index='" + sindex + "']").addClass("sayt-on");


        },

        scrollUp : function() {

            var o = this;

            if (this.options.arrowKeys)
            {
                this.setActiveSelectionElement(false);
            }

            this.open();

        },

        scrollDown : function() {

            var o = this;

            if (this.options.arrowKeys)
            {
                this.setActiveSelectionElement(true);
            }

            this.open();

        },

        go : function() {

            var o = this;

            var frm = o.getFormElement();

            var size = $(".sayt-on").find(".sayt-link").length;

            if (size)
            {

                var href = $(".sayt-on").find(".sayt-link").attr("href");

                if (o.options.submitOnSelect)
                {

                    if (typeof o.options.onSelect === "function") {

                        o.options.onSelect(o.options,frm,newval,"");

                    }

                    if (href) w.location.href = href;
                }
            }
            else if ($(".sayt-on").length)
            {
                var newval = $(".sayt-on").attr("data-sayt-value");

                if (newval) {
                    o.inputElement.val(newval);

                }

                if (o.options.submitOnSelect)
                {
                    var href = $(".sayt-on").find(".sayt-link").attr("href");
                    if (typeof o.options.onSelect === "function") {
                        o.options.onSelect(o.options,frm,newval,"");
                    }
                    if (href) w.location.href = href;
                }


            }



        }

    };

    $.fn[pluginName] = function (options) {

        var plugin = this.data(dataKey);

        if (plugin instanceof TargetPlugin) {
            if (typeof options != 'undefined') {
                plugin.init(element,options);
            }
        } else {
            var plugin = new TargetPlugin(this, options);
            plugin.init(options);
            this.data(dataKey, plugin);
        }

        return plugin;
    };

})($, window, document);
